/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain";
exports.ids = ["vendor-chunks/@langchain"];
exports.modules = {

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX: () => (/* reexport safe */ _max_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   NIL: () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   parse: () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   stringify: () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   v1: () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   v1ToV6: () => (/* reexport safe */ _v1ToV6_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   v3: () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   v4: () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   v5: () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   v6: () => (/* reexport safe */ _v6_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   v6ToV1: () => (/* reexport safe */ _v6ToV1_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   v7: () => (/* reexport safe */ _v7_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   version: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _max_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./max.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/max.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nil.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/nil.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./v1.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v1ToV6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./v1ToV6.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1ToV6.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./v3.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./v4.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./v5.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v5.js\");\n/* harmony import */ var _v6_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./v6.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6.js\");\n/* harmony import */ var _v6ToV1_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./v6ToV1.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6ToV1.js\");\n/* harmony import */ var _v7_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./v7.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v7.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./version.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/version.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDO0FBQ0E7QUFDSTtBQUNRO0FBQ2Q7QUFDUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ1E7QUFDUjtBQUNZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9pbmRleC5qcz84MTI1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgTUFYIH0gZnJvbSAnLi9tYXguanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBOSUwgfSBmcm9tICcuL25pbC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHBhcnNlIH0gZnJvbSAnLi9wYXJzZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjFUb1Y2IH0gZnJvbSAnLi92MVRvVjYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2MyB9IGZyb20gJy4vdjMuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NCB9IGZyb20gJy4vdjQuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NSB9IGZyb20gJy4vdjUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NiB9IGZyb20gJy4vdjYuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2NlRvVjEgfSBmcm9tICcuL3Y2VG9WMS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY3IH0gZnJvbSAnLi92Ny5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZhbGlkYXRlIH0gZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24uanMnOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/max.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/max.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('ffffffff-ffff-ffff-ffff-ffffffffffff');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tYXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWF4LmpzP2Q3YTIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgJ2ZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZic7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/max.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/md5.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/md5.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('md5').update(bytes).digest();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tZDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsU0FBUyw2REFBaUI7QUFDMUI7QUFDQSxpRUFBZSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9tZDUuanM/OGRkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ25vZGU6Y3J5cHRvJztcbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcywgJ3V0ZjgnKTtcbiAgfVxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5leHBvcnQgZGVmYXVsdCBtZDU7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/md5.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/native.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/native.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: (node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID)\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9uYXRpdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBQ2pDLGlFQUFlO0FBQ2YsY0FBYywrREFBaUI7QUFDL0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzP2JiNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdub2RlOmNyeXB0byc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSUQ6IGNyeXB0by5yYW5kb21VVUlEXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/native.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/nil.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/nil.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9uaWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzPzA5YjEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/nil.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js\");\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Parse ########-....-....-....-............\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff;\n\n  // Parse ........-####-....-....-............\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Parse ........-....-####-....-............\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Parse ........-....-....-####-............\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9wYXJzZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUNyQztBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanM/NDRiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG4gIGxldCB2O1xuICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmO1xuXG4gIC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjtcblxuICAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmO1xuXG4gIC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7XG5cbiAgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/regex.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/regex.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYyxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxHQUFHLDhFQUE4RSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanM/YTliNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLThdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMHxmZmZmZmZmZi1mZmZmLWZmZmYtZmZmZi1mZmZmZmZmZmZmZmYpJC9pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9ybmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlDO0FBQ2pDLHVDQUF1QztBQUN2QztBQUNlO0FBQ2Y7QUFDQSxJQUFJLGlFQUFxQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcm5nLmpzPzYyZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdub2RlOmNyeXB0byc7XG5jb25zdCBybmRzOFBvb2wgPSBuZXcgVWludDhBcnJheSgyNTYpOyAvLyAjIG9mIHJhbmRvbSB2YWx1ZXMgdG8gcHJlLWFsbG9jYXRlXG5sZXQgcG9vbFB0ciA9IHJuZHM4UG9vbC5sZW5ndGg7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmIChwb29sUHRyID4gcm5kczhQb29sLmxlbmd0aCAtIDE2KSB7XG4gICAgY3J5cHRvLnJhbmRvbUZpbGxTeW5jKHJuZHM4UG9vbCk7XG4gICAgcG9vbFB0ciA9IDA7XG4gIH1cbiAgcmV0dXJuIHJuZHM4UG9vbC5zbGljZShwb29sUHRyLCBwb29sUHRyICs9IDE2KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/sha1.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/sha1.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('sha1').update(bytes).digest();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zaGExLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFNBQVMsNkRBQWlCO0FBQzFCO0FBQ0EsaUVBQWUsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcz83YThmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnbm9kZTpjcnlwdG8nO1xuZnVuY3Rpb24gc2hhMShieXRlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcywgJ3V0ZjgnKTtcbiAgfVxuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoYnl0ZXMpLmRpZ2VzdCgpO1xufVxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/sha1.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFNBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3N0cmluZ2lmeS5qcz85MDdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5jb25zdCBieXRlVG9IZXggPSBbXTtcbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICAvL1xuICAvLyBOb3RlIHRvIGZ1dHVyZS1zZWxmOiBObywgeW91IGNhbid0IHJlbW92ZSB0aGUgYHRvTG93ZXJDYXNlKClgIGNhbGwuXG4gIC8vIFJFRjogaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNjc3I2lzc3VlY29tbWVudC0xNzU3MzUxMzUxXG4gIHJldHVybiAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIGNvbnN0IHV1aWQgPSB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQpO1xuICAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG4gIHJldHVybiB1dWlkO1xufVxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\nlet _clockseq;\n\n// Previous uuid creation time\nlet _lastMSecs = 0;\nlet _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node;\n  let clockseq = options.clockseq;\n\n  // v1 only: Use cached `node` and `clockseq` values\n  if (!options._v6) {\n    if (!node) {\n      node = _nodeId;\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq;\n    }\n  }\n\n  // Handle cases where we need entropy.  We do this lazily to minimize issues\n  // related to insufficient system entropy.  See #189\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    // Randomize node\n    if (node == null) {\n      node = [seedBytes[0], seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n\n      // v1 only: cache node value for reuse\n      if (!_nodeId && !options._v6) {\n        // per RFC4122 4.5: Set MAC multicast bit (v1 only)\n        node[0] |= 0x01; // Set multicast bit\n\n        _nodeId = node;\n      }\n    }\n\n    // Randomize clockseq\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n      if (_clockseq === undefined && !options._v6) {\n        _clockseq = clockseq;\n      }\n    }\n  }\n\n  // v1 & v6 timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so time is\n  // handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(b);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFDc0I7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0NBQUc7O0FBRTNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWU7QUFDL0I7QUFDQSxpRUFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MS5qcz8xM2U0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbmxldCBfbm9kZUlkO1xubGV0IF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5sZXQgX2xhc3RNU2VjcyA9IDA7XG5sZXQgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBsZXQgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgY29uc3QgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGV0IG5vZGUgPSBvcHRpb25zLm5vZGU7XG4gIGxldCBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXE7XG5cbiAgLy8gdjEgb25seTogVXNlIGNhY2hlZCBgbm9kZWAgYW5kIGBjbG9ja3NlcWAgdmFsdWVzXG4gIGlmICghb3B0aW9ucy5fdjYpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIG5vZGUgPSBfbm9kZUlkO1xuICAgIH1cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXE7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHdlIG5lZWQgZW50cm9weS4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3Vlc1xuICAvLyByZWxhdGVkIHRvIGluc3VmZmljaWVudCBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIGNvbnN0IHNlZWRCeXRlcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgICAvLyBSYW5kb21pemUgbm9kZVxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIG5vZGUgPSBbc2VlZEJ5dGVzWzBdLCBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XV07XG5cbiAgICAgIC8vIHYxIG9ubHk6IGNhY2hlIG5vZGUgdmFsdWUgZm9yIHJldXNlXG4gICAgICBpZiAoIV9ub2RlSWQgJiYgIW9wdGlvbnMuX3Y2KSB7XG4gICAgICAgIC8vIHBlciBSRkM0MTIyIDQuNTogU2V0IE1BQyBtdWx0aWNhc3QgYml0ICh2MSBvbmx5KVxuICAgICAgICBub2RlWzBdIHw9IDB4MDE7IC8vIFNldCBtdWx0aWNhc3QgYml0XG5cbiAgICAgICAgX25vZGVJZCA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmFuZG9taXplIGNsb2Nrc2VxXG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgICBpZiAoX2Nsb2Nrc2VxID09PSB1bmRlZmluZWQgJiYgIW9wdGlvbnMuX3Y2KSB7XG4gICAgICAgIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHYxICYgdjYgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvIHRpbWUgaXNcbiAgLy8gaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICBsZXQgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIGxldCBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIGNvbnN0IGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgY29uc3QgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgY29uc3QgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICBmb3IgKGxldCBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuICByZXR1cm4gYnVmIHx8IHVuc2FmZVN0cmluZ2lmeShiKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHYxOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1ToV6.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1ToV6.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v1ToV6)\n/* harmony export */ });\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * Convert a v1 UUID to a v6 UUID\n *\n * @param {string|Uint8Array} uuid - The v1 UUID to convert to v6\n * @returns {string|Uint8Array} The v6 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nfunction v1ToV6(uuid) {\n  const v1Bytes = typeof uuid === 'string' ? (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid) : uuid;\n  const v6Bytes = _v1ToV6(v1Bytes);\n  return typeof uuid === 'string' ? (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(v6Bytes) : v6Bytes;\n}\n\n// Do the field transformation needed for v1 -> v6\nfunction _v1ToV6(v1Bytes, randomize = false) {\n  return Uint8Array.of((v1Bytes[6] & 0x0f) << 4 | v1Bytes[7] >> 4 & 0x0f, (v1Bytes[7] & 0x0f) << 4 | (v1Bytes[4] & 0xf0) >> 4, (v1Bytes[4] & 0x0f) << 4 | (v1Bytes[5] & 0xf0) >> 4, (v1Bytes[5] & 0x0f) << 4 | (v1Bytes[0] & 0xf0) >> 4, (v1Bytes[0] & 0x0f) << 4 | (v1Bytes[1] & 0xf0) >> 4, (v1Bytes[1] & 0x0f) << 4 | (v1Bytes[2] & 0xf0) >> 4, 0x60 | v1Bytes[2] & 0x0f, v1Bytes[3], v1Bytes[8], v1Bytes[9], v1Bytes[10], v1Bytes[11], v1Bytes[12], v1Bytes[13], v1Bytes[14], v1Bytes[15]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MVRvVjYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBQ2tCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixhQUFhLG1CQUFtQjtBQUNoQztBQUNBO0FBQ2U7QUFDZiw2Q0FBNkMscURBQUs7QUFDbEQ7QUFDQSxvQ0FBb0MsOERBQWU7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YxVG9WNi5qcz9iMDUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGEgdjEgVVVJRCB0byBhIHY2IFVVSURcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xVaW50OEFycmF5fSB1dWlkIC0gVGhlIHYxIFVVSUQgdG8gY29udmVydCB0byB2NlxuICogQHJldHVybnMge3N0cmluZ3xVaW50OEFycmF5fSBUaGUgdjYgVVVJRCBhcyB0aGUgc2FtZSB0eXBlIGFzIHRoZSBgdXVpZGAgYXJnXG4gKiAoc3RyaW5nIG9yIFVpbnQ4QXJyYXkpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHYxVG9WNih1dWlkKSB7XG4gIGNvbnN0IHYxQnl0ZXMgPSB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgPyBwYXJzZSh1dWlkKSA6IHV1aWQ7XG4gIGNvbnN0IHY2Qnl0ZXMgPSBfdjFUb1Y2KHYxQnl0ZXMpO1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnID8gdW5zYWZlU3RyaW5naWZ5KHY2Qnl0ZXMpIDogdjZCeXRlcztcbn1cblxuLy8gRG8gdGhlIGZpZWxkIHRyYW5zZm9ybWF0aW9uIG5lZWRlZCBmb3IgdjEgLT4gdjZcbmZ1bmN0aW9uIF92MVRvVjYodjFCeXRlcywgcmFuZG9taXplID0gZmFsc2UpIHtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkub2YoKHYxQnl0ZXNbNl0gJiAweDBmKSA8PCA0IHwgdjFCeXRlc1s3XSA+PiA0ICYgMHgwZiwgKHYxQnl0ZXNbN10gJiAweDBmKSA8PCA0IHwgKHYxQnl0ZXNbNF0gJiAweGYwKSA+PiA0LCAodjFCeXRlc1s0XSAmIDB4MGYpIDw8IDQgfCAodjFCeXRlc1s1XSAmIDB4ZjApID4+IDQsICh2MUJ5dGVzWzVdICYgMHgwZikgPDwgNCB8ICh2MUJ5dGVzWzBdICYgMHhmMCkgPj4gNCwgKHYxQnl0ZXNbMF0gJiAweDBmKSA8PCA0IHwgKHYxQnl0ZXNbMV0gJiAweGYwKSA+PiA0LCAodjFCeXRlc1sxXSAmIDB4MGYpIDw8IDQgfCAodjFCeXRlc1syXSAmIDB4ZjApID4+IDQsIDB4NjAgfCB2MUJ5dGVzWzJdICYgMHgwZiwgdjFCeXRlc1szXSwgdjFCeXRlc1s4XSwgdjFCeXRlc1s5XSwgdjFCeXRlc1sxMF0sIHYxQnl0ZXNbMTFdLCB2MUJ5dGVzWzEyXSwgdjFCeXRlc1sxM10sIHYxQnl0ZXNbMTRdLCB2MUJ5dGVzWzE1XSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1ToV6.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v3.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v3.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/md5.js\");\n\n\nconst v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92My5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFDQTtBQUMzQixXQUFXLG1EQUFHLGFBQWEsK0NBQUc7QUFDOUIsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanM/YzBlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xuY29uc3QgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v3.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v35.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v35.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* binding */ v35)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js\");\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n  return bytes;\n}\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    }\n\n    // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n    if (buf) {\n      offset = offset || 0;\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n      return buf;\n    }\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(bytes);\n  }\n\n  // Function#name is not settable on some platforms (#270)\n  try {\n    generateUUID.name = name;\n  } catch (err) {}\n\n  // For CommonJS default export support\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MzUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUQ7QUFDbEI7QUFDL0I7QUFDQSwyQ0FBMkM7O0FBRTNDO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhEQUFlO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjM1LmpzP2ZmNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIGNvbnN0IGJ5dGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0IGNvbnN0IEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGNvbnN0IFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdjM1KG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIHZhciBfbmFtZXNwYWNlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGlmICgoKF9uYW1lc3BhY2UgPSBuYW1lc3BhY2UpID09PSBudWxsIHx8IF9uYW1lc3BhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9uYW1lc3BhY2UubGVuZ3RoKSAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVTdHJpbmdpZnkoYnl0ZXMpO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lO1xuICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v35.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v4.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v4.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ047QUFDc0I7QUFDakQ7QUFDQSxNQUFNLDZEQUFpQjtBQUN2QixXQUFXLDZEQUFpQjtBQUM1QjtBQUNBO0FBQ0EsaURBQWlELCtDQUFHOztBQUVwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUFlO0FBQ3hCO0FBQ0EsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanM/ZWQxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9XG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5leHBvcnQgZGVmYXVsdCB2NDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v5.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v5.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/sha1.js\");\n\n\nconst v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFDRTtBQUM3QixXQUFXLG1EQUFHLGFBQWEsZ0RBQUk7QUFDL0IsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanM/MTljOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG5jb25zdCB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v5.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v6)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v1ToV6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v1ToV6.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v1ToV6.js\");\n\n\n\n\n/**\n *\n * @param {object} options\n * @param {Uint8Array=} buf\n * @param {number=} offset\n * @returns\n */\nfunction v6(options = {}, buf, offset = 0) {\n  // v6 is v1 with different field layout, so we start with a v1 UUID, albeit\n  // with slightly different behavior around how the clock_seq and node fields\n  // are randomized, which is why we call v1 with _v6: true.\n  let bytes = (0,_v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ...options,\n    _v6: true\n  }, new Uint8Array(16));\n\n  // Reorder the fields to v6 layout.\n  bytes = (0,_v1ToV6_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n\n  // Return as a byte array if requested\n  if (buf) {\n    for (let i = 0; i < 16; i++) {\n      buf[offset + i] = bytes[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(bytes);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlEO0FBQ3hCO0FBQ1E7O0FBRWpDO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ2Usd0JBQXdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0RBQUU7QUFDaEI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxVQUFVLHNEQUFNOztBQUVoQjtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUFlO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92Ni5qcz9jNmJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCB2MSBmcm9tICcuL3YxLmpzJztcbmltcG9ydCB2MVRvVjYgZnJvbSAnLi92MVRvVjYuanMnO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtVaW50OEFycmF5PX0gYnVmXG4gKiBAcGFyYW0ge251bWJlcj19IG9mZnNldFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdjYob3B0aW9ucyA9IHt9LCBidWYsIG9mZnNldCA9IDApIHtcbiAgLy8gdjYgaXMgdjEgd2l0aCBkaWZmZXJlbnQgZmllbGQgbGF5b3V0LCBzbyB3ZSBzdGFydCB3aXRoIGEgdjEgVVVJRCwgYWxiZWl0XG4gIC8vIHdpdGggc2xpZ2h0bHkgZGlmZmVyZW50IGJlaGF2aW9yIGFyb3VuZCBob3cgdGhlIGNsb2NrX3NlcSBhbmQgbm9kZSBmaWVsZHNcbiAgLy8gYXJlIHJhbmRvbWl6ZWQsIHdoaWNoIGlzIHdoeSB3ZSBjYWxsIHYxIHdpdGggX3Y2OiB0cnVlLlxuICBsZXQgYnl0ZXMgPSB2MSh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBfdjY6IHRydWVcbiAgfSwgbmV3IFVpbnQ4QXJyYXkoMTYpKTtcblxuICAvLyBSZW9yZGVyIHRoZSBmaWVsZHMgdG8gdjYgbGF5b3V0LlxuICBieXRlcyA9IHYxVG9WNihieXRlcyk7XG5cbiAgLy8gUmV0dXJuIGFzIGEgYnl0ZSBhcnJheSBpZiByZXF1ZXN0ZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShieXRlcyk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6ToV1.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6ToV1.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v6ToV1)\n/* harmony export */ });\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * Convert a v6 UUID to a v1 UUID\n *\n * @param {string|Uint8Array} uuid - The v6 UUID to convert to v6\n * @returns {string|Uint8Array} The v1 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nfunction v6ToV1(uuid) {\n  const v6Bytes = typeof uuid === 'string' ? (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid) : uuid;\n  const v1Bytes = _v6ToV1(v6Bytes);\n  return typeof uuid === 'string' ? (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(v1Bytes) : v1Bytes;\n}\n\n// Do the field transformation needed for v6 -> v1\nfunction _v6ToV1(v6Bytes) {\n  return Uint8Array.of((v6Bytes[3] & 0x0f) << 4 | v6Bytes[4] >> 4 & 0x0f, (v6Bytes[4] & 0x0f) << 4 | (v6Bytes[5] & 0xf0) >> 4, (v6Bytes[5] & 0x0f) << 4 | v6Bytes[6] & 0x0f, v6Bytes[7], (v6Bytes[1] & 0x0f) << 4 | (v6Bytes[2] & 0xf0) >> 4, (v6Bytes[2] & 0x0f) << 4 | (v6Bytes[3] & 0xf0) >> 4, 0x10 | (v6Bytes[0] & 0xf0) >> 4, (v6Bytes[0] & 0x0f) << 4 | (v6Bytes[1] & 0xf0) >> 4, v6Bytes[8], v6Bytes[9], v6Bytes[10], v6Bytes[11], v6Bytes[12], v6Bytes[13], v6Bytes[14], v6Bytes[15]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NlRvVjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBQ2tCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixhQUFhLG1CQUFtQjtBQUNoQztBQUNBO0FBQ2U7QUFDZiw2Q0FBNkMscURBQUs7QUFDbEQ7QUFDQSxvQ0FBb0MsOERBQWU7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y2VG9WMS5qcz9lZGRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGEgdjYgVVVJRCB0byBhIHYxIFVVSURcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xVaW50OEFycmF5fSB1dWlkIC0gVGhlIHY2IFVVSUQgdG8gY29udmVydCB0byB2NlxuICogQHJldHVybnMge3N0cmluZ3xVaW50OEFycmF5fSBUaGUgdjEgVVVJRCBhcyB0aGUgc2FtZSB0eXBlIGFzIHRoZSBgdXVpZGAgYXJnXG4gKiAoc3RyaW5nIG9yIFVpbnQ4QXJyYXkpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHY2VG9WMSh1dWlkKSB7XG4gIGNvbnN0IHY2Qnl0ZXMgPSB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgPyBwYXJzZSh1dWlkKSA6IHV1aWQ7XG4gIGNvbnN0IHYxQnl0ZXMgPSBfdjZUb1YxKHY2Qnl0ZXMpO1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnID8gdW5zYWZlU3RyaW5naWZ5KHYxQnl0ZXMpIDogdjFCeXRlcztcbn1cblxuLy8gRG8gdGhlIGZpZWxkIHRyYW5zZm9ybWF0aW9uIG5lZWRlZCBmb3IgdjYgLT4gdjFcbmZ1bmN0aW9uIF92NlRvVjEodjZCeXRlcykge1xuICByZXR1cm4gVWludDhBcnJheS5vZigodjZCeXRlc1szXSAmIDB4MGYpIDw8IDQgfCB2NkJ5dGVzWzRdID4+IDQgJiAweDBmLCAodjZCeXRlc1s0XSAmIDB4MGYpIDw8IDQgfCAodjZCeXRlc1s1XSAmIDB4ZjApID4+IDQsICh2NkJ5dGVzWzVdICYgMHgwZikgPDwgNCB8IHY2Qnl0ZXNbNl0gJiAweDBmLCB2NkJ5dGVzWzddLCAodjZCeXRlc1sxXSAmIDB4MGYpIDw8IDQgfCAodjZCeXRlc1syXSAmIDB4ZjApID4+IDQsICh2NkJ5dGVzWzJdICYgMHgwZikgPDwgNCB8ICh2NkJ5dGVzWzNdICYgMHhmMCkgPj4gNCwgMHgxMCB8ICh2NkJ5dGVzWzBdICYgMHhmMCkgPj4gNCwgKHY2Qnl0ZXNbMF0gJiAweDBmKSA8PCA0IHwgKHY2Qnl0ZXNbMV0gJiAweGYwKSA+PiA0LCB2NkJ5dGVzWzhdLCB2NkJ5dGVzWzldLCB2NkJ5dGVzWzEwXSwgdjZCeXRlc1sxMV0sIHY2Qnl0ZXNbMTJdLCB2NkJ5dGVzWzEzXSwgdjZCeXRlc1sxNF0sIHY2Qnl0ZXNbMTVdKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v6ToV1.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v7.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v7.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * UUID V7 - Unix Epoch time-based UUID\n *\n * The IETF has published RFC9562, introducing 3 new UUID versions (6,7,8). This\n * implementation of V7 is based on the accepted, though not yet approved,\n * revisions.\n *\n * RFC 9562:https://www.rfc-editor.org/rfc/rfc9562.html Universally Unique\n * IDentifiers (UUIDs)\n\n *\n * Sample V7 value:\n * https://www.rfc-editor.org/rfc/rfc9562.html#name-example-of-a-uuidv7-value\n *\n * Monotonic Bit Layout: RFC rfc9562.6.2 Method 1, Dedicated Counter Bits ref:\n *     https://www.rfc-editor.org/rfc/rfc9562.html#section-6.2-5.1\n *\n *   0                   1                   2                   3 0 1 2 3 4 5 6\n *   7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                          unix_ts_ms                           |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |          unix_ts_ms           |  ver  |        seq_hi         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |var|               seq_low               |        rand         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                             rand                              |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *\n * seq is a 31 bit serialized counter; comprised of 12 bit seq_hi and 19 bit\n * seq_low, and randomly initialized upon timestamp change. 31 bit counter size\n * was selected as any bitwise operations in node are done as _signed_ 32 bit\n * ints. we exclude the sign bit.\n */\n\nlet _seqLow = null;\nlet _seqHigh = null;\nlet _msecs = 0;\nfunction v7(options, buf, offset) {\n  options = options || {};\n\n  // initialize buffer and pointer\n  let i = buf && offset || 0;\n  const b = buf || new Uint8Array(16);\n\n  // rnds is Uint8Array(16) filled with random bytes\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  // milliseconds since unix epoch, 1970-01-01 00:00\n  const msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // seq is user provided 31 bit counter\n  let seq = options.seq !== undefined ? options.seq : null;\n\n  // initialize local seq high/low parts\n  let seqHigh = _seqHigh;\n  let seqLow = _seqLow;\n\n  // check if clock has advanced and user has not provided msecs\n  if (msecs > _msecs && options.msecs === undefined) {\n    _msecs = msecs;\n\n    // unless user provided seq, reset seq parts\n    if (seq !== null) {\n      seqHigh = null;\n      seqLow = null;\n    }\n  }\n\n  // if we have a user provided seq\n  if (seq !== null) {\n    // trim provided seq to 31 bits of value, avoiding overflow\n    if (seq > 0x7fffffff) {\n      seq = 0x7fffffff;\n    }\n\n    // split provided seq into high/low parts\n    seqHigh = seq >>> 19 & 0xfff;\n    seqLow = seq & 0x7ffff;\n  }\n\n  // randomly initialize seq\n  if (seqHigh === null || seqLow === null) {\n    seqHigh = rnds[6] & 0x7f;\n    seqHigh = seqHigh << 8 | rnds[7];\n    seqLow = rnds[8] & 0x3f; // pad for var\n    seqLow = seqLow << 8 | rnds[9];\n    seqLow = seqLow << 5 | rnds[10] >>> 3;\n  }\n\n  // increment seq if within msecs window\n  if (msecs + 10000 > _msecs && seq === null) {\n    if (++seqLow > 0x7ffff) {\n      seqLow = 0;\n      if (++seqHigh > 0xfff) {\n        seqHigh = 0;\n\n        // increment internal _msecs. this allows us to continue incrementing\n        // while staying monotonic. Note, once we hit 10k milliseconds beyond system\n        // clock, we will reset breaking monotonicity (after (2^31)*10000 generations)\n        _msecs++;\n      }\n    }\n  } else {\n    // resetting; we have advanced more than\n    // 10k milliseconds beyond system clock\n    _msecs = msecs;\n  }\n  _seqHigh = seqHigh;\n  _seqLow = seqLow;\n\n  // [bytes 0-5] 48 bits of local timestamp\n  b[i++] = _msecs / 0x10000000000 & 0xff;\n  b[i++] = _msecs / 0x100000000 & 0xff;\n  b[i++] = _msecs / 0x1000000 & 0xff;\n  b[i++] = _msecs / 0x10000 & 0xff;\n  b[i++] = _msecs / 0x100 & 0xff;\n  b[i++] = _msecs & 0xff;\n\n  // [byte 6] - set 4 bits of version (7) with first 4 bits seq_hi\n  b[i++] = seqHigh >>> 4 & 0x0f | 0x70;\n\n  // [byte 7] remaining 8 bits of seq_hi\n  b[i++] = seqHigh & 0xff;\n\n  // [byte 8] - variant (2 bits), first 6 bits seq_low\n  b[i++] = seqLow >>> 13 & 0x3f | 0x80;\n\n  // [byte 9] 8 bits seq_low\n  b[i++] = seqLow >>> 5 & 0xff;\n\n  // [byte 10] remaining 5 bits seq_low, 3 bits random\n  b[i++] = seqLow << 3 & 0xff | rnds[10] & 0x07;\n\n  // [bytes 11-15] always random\n  b[i++] = rnds[11];\n  b[i++] = rnds[12];\n  b[i++] = rnds[13];\n  b[i++] = rnds[14];\n  b[i++] = rnds[15];\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(b);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v7);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92Ny5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFDc0I7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRCwrQ0FBRzs7QUFFcEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFlO0FBQy9CO0FBQ0EsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjcuanM/ODMyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuLyoqXG4gKiBVVUlEIFY3IC0gVW5peCBFcG9jaCB0aW1lLWJhc2VkIFVVSURcbiAqXG4gKiBUaGUgSUVURiBoYXMgcHVibGlzaGVkIFJGQzk1NjIsIGludHJvZHVjaW5nIDMgbmV3IFVVSUQgdmVyc2lvbnMgKDYsNyw4KS4gVGhpc1xuICogaW1wbGVtZW50YXRpb24gb2YgVjcgaXMgYmFzZWQgb24gdGhlIGFjY2VwdGVkLCB0aG91Z2ggbm90IHlldCBhcHByb3ZlZCxcbiAqIHJldmlzaW9ucy5cbiAqXG4gKiBSRkMgOTU2MjpodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTU2Mi5odG1sIFVuaXZlcnNhbGx5IFVuaXF1ZVxuICogSURlbnRpZmllcnMgKFVVSURzKVxuXG4gKlxuICogU2FtcGxlIFY3IHZhbHVlOlxuICogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzk1NjIuaHRtbCNuYW1lLWV4YW1wbGUtb2YtYS11dWlkdjctdmFsdWVcbiAqXG4gKiBNb25vdG9uaWMgQml0IExheW91dDogUkZDIHJmYzk1NjIuNi4yIE1ldGhvZCAxLCBEZWRpY2F0ZWQgQ291bnRlciBCaXRzIHJlZjpcbiAqICAgICBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTU2Mi5odG1sI3NlY3Rpb24tNi4yLTUuMVxuICpcbiAqICAgMCAgICAgICAgICAgICAgICAgICAxICAgICAgICAgICAgICAgICAgIDIgICAgICAgICAgICAgICAgICAgMyAwIDEgMiAzIDQgNSA2XG4gKiAgIDcgOCA5IDAgMSAyIDMgNCA1IDYgNyA4IDkgMCAxIDIgMyA0IDUgNiA3IDggOSAwIDFcbiAqICArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXhfdHNfbXMgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcbiAqICB8ICAgICAgICAgIHVuaXhfdHNfbXMgICAgICAgICAgIHwgIHZlciAgfCAgICAgICAgc2VxX2hpICAgICAgICAgfFxuICogICstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rXG4gKiAgfHZhcnwgICAgICAgICAgICAgICBzZXFfbG93ICAgICAgICAgICAgICAgfCAgICAgICAgcmFuZCAgICAgICAgIHxcbiAqICArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xuICogIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcbiAqXG4gKiBzZXEgaXMgYSAzMSBiaXQgc2VyaWFsaXplZCBjb3VudGVyOyBjb21wcmlzZWQgb2YgMTIgYml0IHNlcV9oaSBhbmQgMTkgYml0XG4gKiBzZXFfbG93LCBhbmQgcmFuZG9tbHkgaW5pdGlhbGl6ZWQgdXBvbiB0aW1lc3RhbXAgY2hhbmdlLiAzMSBiaXQgY291bnRlciBzaXplXG4gKiB3YXMgc2VsZWN0ZWQgYXMgYW55IGJpdHdpc2Ugb3BlcmF0aW9ucyBpbiBub2RlIGFyZSBkb25lIGFzIF9zaWduZWRfIDMyIGJpdFxuICogaW50cy4gd2UgZXhjbHVkZSB0aGUgc2lnbiBiaXQuXG4gKi9cblxubGV0IF9zZXFMb3cgPSBudWxsO1xubGV0IF9zZXFIaWdoID0gbnVsbDtcbmxldCBfbXNlY3MgPSAwO1xuZnVuY3Rpb24gdjcob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gaW5pdGlhbGl6ZSBidWZmZXIgYW5kIHBvaW50ZXJcbiAgbGV0IGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIGNvbnN0IGIgPSBidWYgfHwgbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gIC8vIHJuZHMgaXMgVWludDhBcnJheSgxNikgZmlsbGVkIHdpdGggcmFuZG9tIGJ5dGVzXG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIG1pbGxpc2Vjb25kcyBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwXG4gIGNvbnN0IG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IERhdGUubm93KCk7XG5cbiAgLy8gc2VxIGlzIHVzZXIgcHJvdmlkZWQgMzEgYml0IGNvdW50ZXJcbiAgbGV0IHNlcSA9IG9wdGlvbnMuc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNlcSA6IG51bGw7XG5cbiAgLy8gaW5pdGlhbGl6ZSBsb2NhbCBzZXEgaGlnaC9sb3cgcGFydHNcbiAgbGV0IHNlcUhpZ2ggPSBfc2VxSGlnaDtcbiAgbGV0IHNlcUxvdyA9IF9zZXFMb3c7XG5cbiAgLy8gY2hlY2sgaWYgY2xvY2sgaGFzIGFkdmFuY2VkIGFuZCB1c2VyIGhhcyBub3QgcHJvdmlkZWQgbXNlY3NcbiAgaWYgKG1zZWNzID4gX21zZWNzICYmIG9wdGlvbnMubXNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIF9tc2VjcyA9IG1zZWNzO1xuXG4gICAgLy8gdW5sZXNzIHVzZXIgcHJvdmlkZWQgc2VxLCByZXNldCBzZXEgcGFydHNcbiAgICBpZiAoc2VxICE9PSBudWxsKSB7XG4gICAgICBzZXFIaWdoID0gbnVsbDtcbiAgICAgIHNlcUxvdyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgd2UgaGF2ZSBhIHVzZXIgcHJvdmlkZWQgc2VxXG4gIGlmIChzZXEgIT09IG51bGwpIHtcbiAgICAvLyB0cmltIHByb3ZpZGVkIHNlcSB0byAzMSBiaXRzIG9mIHZhbHVlLCBhdm9pZGluZyBvdmVyZmxvd1xuICAgIGlmIChzZXEgPiAweDdmZmZmZmZmKSB7XG4gICAgICBzZXEgPSAweDdmZmZmZmZmO1xuICAgIH1cblxuICAgIC8vIHNwbGl0IHByb3ZpZGVkIHNlcSBpbnRvIGhpZ2gvbG93IHBhcnRzXG4gICAgc2VxSGlnaCA9IHNlcSA+Pj4gMTkgJiAweGZmZjtcbiAgICBzZXFMb3cgPSBzZXEgJiAweDdmZmZmO1xuICB9XG5cbiAgLy8gcmFuZG9tbHkgaW5pdGlhbGl6ZSBzZXFcbiAgaWYgKHNlcUhpZ2ggPT09IG51bGwgfHwgc2VxTG93ID09PSBudWxsKSB7XG4gICAgc2VxSGlnaCA9IHJuZHNbNl0gJiAweDdmO1xuICAgIHNlcUhpZ2ggPSBzZXFIaWdoIDw8IDggfCBybmRzWzddO1xuICAgIHNlcUxvdyA9IHJuZHNbOF0gJiAweDNmOyAvLyBwYWQgZm9yIHZhclxuICAgIHNlcUxvdyA9IHNlcUxvdyA8PCA4IHwgcm5kc1s5XTtcbiAgICBzZXFMb3cgPSBzZXFMb3cgPDwgNSB8IHJuZHNbMTBdID4+PiAzO1xuICB9XG5cbiAgLy8gaW5jcmVtZW50IHNlcSBpZiB3aXRoaW4gbXNlY3Mgd2luZG93XG4gIGlmIChtc2VjcyArIDEwMDAwID4gX21zZWNzICYmIHNlcSA9PT0gbnVsbCkge1xuICAgIGlmICgrK3NlcUxvdyA+IDB4N2ZmZmYpIHtcbiAgICAgIHNlcUxvdyA9IDA7XG4gICAgICBpZiAoKytzZXFIaWdoID4gMHhmZmYpIHtcbiAgICAgICAgc2VxSGlnaCA9IDA7XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IGludGVybmFsIF9tc2Vjcy4gdGhpcyBhbGxvd3MgdXMgdG8gY29udGludWUgaW5jcmVtZW50aW5nXG4gICAgICAgIC8vIHdoaWxlIHN0YXlpbmcgbW9ub3RvbmljLiBOb3RlLCBvbmNlIHdlIGhpdCAxMGsgbWlsbGlzZWNvbmRzIGJleW9uZCBzeXN0ZW1cbiAgICAgICAgLy8gY2xvY2ssIHdlIHdpbGwgcmVzZXQgYnJlYWtpbmcgbW9ub3RvbmljaXR5IChhZnRlciAoMl4zMSkqMTAwMDAgZ2VuZXJhdGlvbnMpXG4gICAgICAgIF9tc2VjcysrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyByZXNldHRpbmc7IHdlIGhhdmUgYWR2YW5jZWQgbW9yZSB0aGFuXG4gICAgLy8gMTBrIG1pbGxpc2Vjb25kcyBiZXlvbmQgc3lzdGVtIGNsb2NrXG4gICAgX21zZWNzID0gbXNlY3M7XG4gIH1cbiAgX3NlcUhpZ2ggPSBzZXFIaWdoO1xuICBfc2VxTG93ID0gc2VxTG93O1xuXG4gIC8vIFtieXRlcyAwLTVdIDQ4IGJpdHMgb2YgbG9jYWwgdGltZXN0YW1wXG4gIGJbaSsrXSA9IF9tc2VjcyAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBiW2krK10gPSBfbXNlY3MgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGJbaSsrXSA9IF9tc2VjcyAvIDB4MTAwMDAwMCAmIDB4ZmY7XG4gIGJbaSsrXSA9IF9tc2VjcyAvIDB4MTAwMDAgJiAweGZmO1xuICBiW2krK10gPSBfbXNlY3MgLyAweDEwMCAmIDB4ZmY7XG4gIGJbaSsrXSA9IF9tc2VjcyAmIDB4ZmY7XG5cbiAgLy8gW2J5dGUgNl0gLSBzZXQgNCBiaXRzIG9mIHZlcnNpb24gKDcpIHdpdGggZmlyc3QgNCBiaXRzIHNlcV9oaVxuICBiW2krK10gPSBzZXFIaWdoID4+PiA0ICYgMHgwZiB8IDB4NzA7XG5cbiAgLy8gW2J5dGUgN10gcmVtYWluaW5nIDggYml0cyBvZiBzZXFfaGlcbiAgYltpKytdID0gc2VxSGlnaCAmIDB4ZmY7XG5cbiAgLy8gW2J5dGUgOF0gLSB2YXJpYW50ICgyIGJpdHMpLCBmaXJzdCA2IGJpdHMgc2VxX2xvd1xuICBiW2krK10gPSBzZXFMb3cgPj4+IDEzICYgMHgzZiB8IDB4ODA7XG5cbiAgLy8gW2J5dGUgOV0gOCBiaXRzIHNlcV9sb3dcbiAgYltpKytdID0gc2VxTG93ID4+PiA1ICYgMHhmZjtcblxuICAvLyBbYnl0ZSAxMF0gcmVtYWluaW5nIDUgYml0cyBzZXFfbG93LCAzIGJpdHMgcmFuZG9tXG4gIGJbaSsrXSA9IHNlcUxvdyA8PCAzICYgMHhmZiB8IHJuZHNbMTBdICYgMHgwNztcblxuICAvLyBbYnl0ZXMgMTEtMTVdIGFsd2F5cyByYW5kb21cbiAgYltpKytdID0gcm5kc1sxMV07XG4gIGJbaSsrXSA9IHJuZHNbMTJdO1xuICBiW2krK10gPSBybmRzWzEzXTtcbiAgYltpKytdID0gcm5kc1sxNF07XG4gIGJbaSsrXSA9IHJuZHNbMTVdO1xuICByZXR1cm4gYnVmIHx8IHVuc2FmZVN0cmluZ2lmeShiKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHY3OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/v7.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92YWxpZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQjtBQUMvQjtBQUNBLHFDQUFxQyxzREFBVTtBQUMvQztBQUNBLGlFQUFlLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3ZhbGlkYXRlLmpzPzBlYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/version.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/version.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/validate.js\");\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  return parseInt(uuid.slice(14, 15), 16);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92ZXJzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0EsT0FBTyx3REFBUTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcz9jZGQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmZ1bmN0aW9uIHZlcnNpb24odXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuICByZXR1cm4gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTUpLCAxNik7XG59XG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/version.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("//#region rolldown:runtime\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n\tfor (var name in all) __defProp(target, name, {\n\t\tget: all[name],\n\t\tenumerable: true\n\t});\n};\nvar __copyProps = (to, from, except, desc) => {\n\tif (from && typeof from === \"object\" || typeof from === \"function\") for (var keys = __getOwnPropNames(from), i = 0, n = keys.length, key; i < n; i++) {\n\t\tkey = keys[i];\n\t\tif (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n\t\t\tget: ((k) => from[k]).bind(null, key),\n\t\t\tenumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n\t\t});\n\t}\n\treturn to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n\tvalue: mod,\n\tenumerable: true\n}) : target, mod));\n\n//#endregion\n\nexports.__export = __export;\nexports.__toESM = __toESM;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSwySUFBMkksT0FBTztBQUNsSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUEsZ0JBQWdCO0FBQ2hCLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzP2Q0ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHJvbGxkb3duOnJ1bnRpbWVcbnZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcblx0Zm9yICh2YXIgbmFtZSBpbiBhbGwpIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHtcblx0XHRnZXQ6IGFsbFtuYW1lXSxcblx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG5cdGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGtleXMgPSBfX2dldE93blByb3BOYW1lcyhmcm9tKSwgaSA9IDAsIG4gPSBrZXlzLmxlbmd0aCwga2V5OyBpIDwgbjsgaSsrKSB7XG5cdFx0a2V5ID0ga2V5c1tpXTtcblx0XHRpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KSBfX2RlZlByb3AodG8sIGtleSwge1xuXHRcdFx0Z2V0OiAoKGspID0+IGZyb21ba10pLmJpbmQobnVsbCwga2V5KSxcblx0XHRcdGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlXG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIHRvO1xufTtcbnZhciBfX3RvRVNNID0gKG1vZCwgaXNOb2RlTW9kZSwgdGFyZ2V0KSA9PiAodGFyZ2V0ID0gbW9kICE9IG51bGwgPyBfX2NyZWF0ZShfX2dldFByb3RvT2YobW9kKSkgOiB7fSwgX19jb3B5UHJvcHMoaXNOb2RlTW9kZSB8fCAhbW9kIHx8ICFtb2QuX19lc01vZHVsZSA/IF9fZGVmUHJvcCh0YXJnZXQsIFwiZGVmYXVsdFwiLCB7XG5cdHZhbHVlOiBtb2QsXG5cdGVudW1lcmFibGU6IHRydWVcbn0pIDogdGFyZ2V0LCBtb2QpKTtcblxuLy8jZW5kcmVnaW9uXG5cbmV4cG9ydHMuX19leHBvcnQgPSBfX2V4cG9ydDtcbmV4cG9ydHMuX190b0VTTSA9IF9fdG9FU007Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/caches/index.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/caches/index.cjs ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils = __webpack_require__(/*! ../messages/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\");\nconst require_hash = __webpack_require__(/*! ../utils/js-sha256/hash.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/js-sha256/hash.cjs\");\n__webpack_require__(/*! ../utils/hash.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/hash.cjs\");\n\n//#region src/caches/index.ts\nvar caches_exports = {};\nrequire_rolldown_runtime.__export(caches_exports, {\n\tBaseCache: () => BaseCache,\n\tInMemoryCache: () => InMemoryCache,\n\tdefaultHashKeyEncoder: () => defaultHashKeyEncoder,\n\tdeserializeStoredGeneration: () => deserializeStoredGeneration,\n\tserializeGeneration: () => serializeGeneration\n});\nconst defaultHashKeyEncoder = (...strings) => require_hash.sha256(strings.join(\"_\"));\nfunction deserializeStoredGeneration(storedGeneration) {\n\tif (storedGeneration.message !== void 0) return {\n\t\ttext: storedGeneration.text,\n\t\tmessage: require_utils.mapStoredMessageToChatMessage(storedGeneration.message)\n\t};\n\telse return { text: storedGeneration.text };\n}\nfunction serializeGeneration(generation) {\n\tconst serializedValue = { text: generation.text };\n\tif (generation.message !== void 0) serializedValue.message = generation.message.toDict();\n\treturn serializedValue;\n}\n/**\n* Base class for all caches. All caches should extend this class.\n*/\nvar BaseCache = class {\n\tkeyEncoder = defaultHashKeyEncoder;\n\t/**\n\t* Sets a custom key encoder function for the cache.\n\t* This function should take a prompt and an LLM key and return a string\n\t* that will be used as the cache key.\n\t* @param keyEncoderFn The custom key encoder function.\n\t*/\n\tmakeDefaultKeyEncoder(keyEncoderFn) {\n\t\tthis.keyEncoder = keyEncoderFn;\n\t}\n};\nconst GLOBAL_MAP = /* @__PURE__ */ new Map();\n/**\n* A cache for storing LLM generations that stores data in memory.\n*/\nvar InMemoryCache = class InMemoryCache extends BaseCache {\n\tcache;\n\tconstructor(map) {\n\t\tsuper();\n\t\tthis.cache = map ?? /* @__PURE__ */ new Map();\n\t}\n\t/**\n\t* Retrieves data from the cache using a prompt and an LLM key. If the\n\t* data is not found, it returns null.\n\t* @param prompt The prompt used to find the data.\n\t* @param llmKey The LLM key used to find the data.\n\t* @returns The data corresponding to the prompt and LLM key, or null if not found.\n\t*/\n\tlookup(prompt, llmKey) {\n\t\treturn Promise.resolve(this.cache.get(this.keyEncoder(prompt, llmKey)) ?? null);\n\t}\n\t/**\n\t* Updates the cache with new data using a prompt and an LLM key.\n\t* @param prompt The prompt used to store the data.\n\t* @param llmKey The LLM key used to store the data.\n\t* @param value The data to be stored.\n\t*/\n\tasync update(prompt, llmKey, value) {\n\t\tthis.cache.set(this.keyEncoder(prompt, llmKey), value);\n\t}\n\t/**\n\t* Returns a global instance of InMemoryCache using a predefined global\n\t* map as the initial cache.\n\t* @returns A global instance of InMemoryCache.\n\t*/\n\tstatic global() {\n\t\treturn new InMemoryCache(GLOBAL_MAP);\n\t}\n};\n\n//#endregion\nexports.BaseCache = BaseCache;\nexports.InMemoryCache = InMemoryCache;\nObject.defineProperty(exports, \"caches_exports\", ({\n  enumerable: true,\n  get: function () {\n    return caches_exports;\n  }\n}));\nexports.defaultHashKeyEncoder = defaultHashKeyEncoder;\nexports.deserializeStoredGeneration = deserializeStoredGeneration;\nexports.serializeGeneration = serializeGeneration;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWNoZXMvaW5kZXguY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSxzQkFBc0IsbUJBQU8sQ0FBQyxzR0FBdUI7QUFDckQscUJBQXFCLG1CQUFPLENBQUMsa0hBQTZCO0FBQzFELG1CQUFPLENBQUMsOEZBQW1COztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakIscUJBQXFCO0FBQ3JCLGtEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDZCQUE2QjtBQUM3QixtQ0FBbUM7QUFDbkMsMkJBQTJCO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWNoZXMvaW5kZXguY2pzPzY4NzAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuLi9tZXNzYWdlcy91dGlscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfaGFzaCA9IHJlcXVpcmUoJy4uL3V0aWxzL2pzLXNoYTI1Ni9oYXNoLmNqcycpO1xucmVxdWlyZSgnLi4vdXRpbHMvaGFzaC5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9jYWNoZXMvaW5kZXgudHNcbnZhciBjYWNoZXNfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGNhY2hlc19leHBvcnRzLCB7XG5cdEJhc2VDYWNoZTogKCkgPT4gQmFzZUNhY2hlLFxuXHRJbk1lbW9yeUNhY2hlOiAoKSA9PiBJbk1lbW9yeUNhY2hlLFxuXHRkZWZhdWx0SGFzaEtleUVuY29kZXI6ICgpID0+IGRlZmF1bHRIYXNoS2V5RW5jb2Rlcixcblx0ZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uOiAoKSA9PiBkZXNlcmlhbGl6ZVN0b3JlZEdlbmVyYXRpb24sXG5cdHNlcmlhbGl6ZUdlbmVyYXRpb246ICgpID0+IHNlcmlhbGl6ZUdlbmVyYXRpb25cbn0pO1xuY29uc3QgZGVmYXVsdEhhc2hLZXlFbmNvZGVyID0gKC4uLnN0cmluZ3MpID0+IHJlcXVpcmVfaGFzaC5zaGEyNTYoc3RyaW5ncy5qb2luKFwiX1wiKSk7XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVN0b3JlZEdlbmVyYXRpb24oc3RvcmVkR2VuZXJhdGlvbikge1xuXHRpZiAoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlICE9PSB2b2lkIDApIHJldHVybiB7XG5cdFx0dGV4dDogc3RvcmVkR2VuZXJhdGlvbi50ZXh0LFxuXHRcdG1lc3NhZ2U6IHJlcXVpcmVfdXRpbHMubWFwU3RvcmVkTWVzc2FnZVRvQ2hhdE1lc3NhZ2Uoc3RvcmVkR2VuZXJhdGlvbi5tZXNzYWdlKVxuXHR9O1xuXHRlbHNlIHJldHVybiB7IHRleHQ6IHN0b3JlZEdlbmVyYXRpb24udGV4dCB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplR2VuZXJhdGlvbihnZW5lcmF0aW9uKSB7XG5cdGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZSA9IHsgdGV4dDogZ2VuZXJhdGlvbi50ZXh0IH07XG5cdGlmIChnZW5lcmF0aW9uLm1lc3NhZ2UgIT09IHZvaWQgMCkgc2VyaWFsaXplZFZhbHVlLm1lc3NhZ2UgPSBnZW5lcmF0aW9uLm1lc3NhZ2UudG9EaWN0KCk7XG5cdHJldHVybiBzZXJpYWxpemVkVmFsdWU7XG59XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgYWxsIGNhY2hlcy4gQWxsIGNhY2hlcyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MuXG4qL1xudmFyIEJhc2VDYWNoZSA9IGNsYXNzIHtcblx0a2V5RW5jb2RlciA9IGRlZmF1bHRIYXNoS2V5RW5jb2Rlcjtcblx0LyoqXG5cdCogU2V0cyBhIGN1c3RvbSBrZXkgZW5jb2RlciBmdW5jdGlvbiBmb3IgdGhlIGNhY2hlLlxuXHQqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHRha2UgYSBwcm9tcHQgYW5kIGFuIExMTSBrZXkgYW5kIHJldHVybiBhIHN0cmluZ1xuXHQqIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBrZXkuXG5cdCogQHBhcmFtIGtleUVuY29kZXJGbiBUaGUgY3VzdG9tIGtleSBlbmNvZGVyIGZ1bmN0aW9uLlxuXHQqL1xuXHRtYWtlRGVmYXVsdEtleUVuY29kZXIoa2V5RW5jb2RlckZuKSB7XG5cdFx0dGhpcy5rZXlFbmNvZGVyID0ga2V5RW5jb2RlckZuO1xuXHR9XG59O1xuY29uc3QgR0xPQkFMX01BUCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4vKipcbiogQSBjYWNoZSBmb3Igc3RvcmluZyBMTE0gZ2VuZXJhdGlvbnMgdGhhdCBzdG9yZXMgZGF0YSBpbiBtZW1vcnkuXG4qL1xudmFyIEluTWVtb3J5Q2FjaGUgPSBjbGFzcyBJbk1lbW9yeUNhY2hlIGV4dGVuZHMgQmFzZUNhY2hlIHtcblx0Y2FjaGU7XG5cdGNvbnN0cnVjdG9yKG1hcCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jYWNoZSA9IG1hcCA/PyAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHJpZXZlcyBkYXRhIGZyb20gdGhlIGNhY2hlIHVzaW5nIGEgcHJvbXB0IGFuZCBhbiBMTE0ga2V5LiBJZiB0aGVcblx0KiBkYXRhIGlzIG5vdCBmb3VuZCwgaXQgcmV0dXJucyBudWxsLlxuXHQqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB1c2VkIHRvIGZpbmQgdGhlIGRhdGEuXG5cdCogQHBhcmFtIGxsbUtleSBUaGUgTExNIGtleSB1c2VkIHRvIGZpbmQgdGhlIGRhdGEuXG5cdCogQHJldHVybnMgVGhlIGRhdGEgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbXB0IGFuZCBMTE0ga2V5LCBvciBudWxsIGlmIG5vdCBmb3VuZC5cblx0Ki9cblx0bG9va3VwKHByb21wdCwgbGxtS2V5KSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhY2hlLmdldCh0aGlzLmtleUVuY29kZXIocHJvbXB0LCBsbG1LZXkpKSA/PyBudWxsKTtcblx0fVxuXHQvKipcblx0KiBVcGRhdGVzIHRoZSBjYWNoZSB3aXRoIG5ldyBkYXRhIHVzaW5nIGEgcHJvbXB0IGFuZCBhbiBMTE0ga2V5LlxuXHQqIEBwYXJhbSBwcm9tcHQgVGhlIHByb21wdCB1c2VkIHRvIHN0b3JlIHRoZSBkYXRhLlxuXHQqIEBwYXJhbSBsbG1LZXkgVGhlIExMTSBrZXkgdXNlZCB0byBzdG9yZSB0aGUgZGF0YS5cblx0KiBAcGFyYW0gdmFsdWUgVGhlIGRhdGEgdG8gYmUgc3RvcmVkLlxuXHQqL1xuXHRhc3luYyB1cGRhdGUocHJvbXB0LCBsbG1LZXksIHZhbHVlKSB7XG5cdFx0dGhpcy5jYWNoZS5zZXQodGhpcy5rZXlFbmNvZGVyKHByb21wdCwgbGxtS2V5KSwgdmFsdWUpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBnbG9iYWwgaW5zdGFuY2Ugb2YgSW5NZW1vcnlDYWNoZSB1c2luZyBhIHByZWRlZmluZWQgZ2xvYmFsXG5cdCogbWFwIGFzIHRoZSBpbml0aWFsIGNhY2hlLlxuXHQqIEByZXR1cm5zIEEgZ2xvYmFsIGluc3RhbmNlIG9mIEluTWVtb3J5Q2FjaGUuXG5cdCovXG5cdHN0YXRpYyBnbG9iYWwoKSB7XG5cdFx0cmV0dXJuIG5ldyBJbk1lbW9yeUNhY2hlKEdMT0JBTF9NQVApO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQmFzZUNhY2hlID0gQmFzZUNhY2hlO1xuZXhwb3J0cy5Jbk1lbW9yeUNhY2hlID0gSW5NZW1vcnlDYWNoZTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FjaGVzX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWNoZXNfZXhwb3J0cztcbiAgfVxufSk7XG5leHBvcnRzLmRlZmF1bHRIYXNoS2V5RW5jb2RlciA9IGRlZmF1bHRIYXNoS2V5RW5jb2RlcjtcbmV4cG9ydHMuZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uID0gZGVzZXJpYWxpemVTdG9yZWRHZW5lcmF0aW9uO1xuZXhwb3J0cy5zZXJpYWxpemVHZW5lcmF0aW9uID0gc2VyaWFsaXplR2VuZXJhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/caches/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/callbacks/base.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/callbacks/base.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_load_serializable = __webpack_require__(/*! ../load/serializable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs\");\nconst require_utils_env = __webpack_require__(/*! ../utils/env.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\");\nconst uuid = require_rolldown_runtime.__toESM(__webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js\"));\n\n//#region src/callbacks/base.ts\nvar base_exports = {};\nrequire_rolldown_runtime.__export(base_exports, {\n\tBaseCallbackHandler: () => BaseCallbackHandler,\n\tcallbackHandlerPrefersStreaming: () => callbackHandlerPrefersStreaming,\n\tisBaseCallbackHandler: () => isBaseCallbackHandler\n});\n/**\n* Abstract class that provides a set of optional methods that can be\n* overridden in derived classes to handle various events during the\n* execution of a LangChain application.\n*/\nvar BaseCallbackHandlerMethodsClass = class {};\nfunction callbackHandlerPrefersStreaming(x) {\n\treturn \"lc_prefer_streaming\" in x && x.lc_prefer_streaming;\n}\n/**\n* Abstract base class for creating callback handlers in the LangChain\n* framework. It provides a set of optional methods that can be overridden\n* in derived classes to handle various events during the execution of a\n* LangChain application.\n*/\nvar BaseCallbackHandler = class extends BaseCallbackHandlerMethodsClass {\n\tlc_serializable = false;\n\tget lc_namespace() {\n\t\treturn [\n\t\t\t\"langchain_core\",\n\t\t\t\"callbacks\",\n\t\t\tthis.name\n\t\t];\n\t}\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, require_load_serializable.get_lc_unique_name(this.constructor)];\n\t}\n\tlc_kwargs;\n\tignoreLLM = false;\n\tignoreChain = false;\n\tignoreAgent = false;\n\tignoreRetriever = false;\n\tignoreCustomEvent = false;\n\traiseError = false;\n\tawaitHandlers = require_utils_env.getEnvironmentVariable(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\";\n\tconstructor(input) {\n\t\tsuper();\n\t\tthis.lc_kwargs = input || {};\n\t\tif (input) {\n\t\t\tthis.ignoreLLM = input.ignoreLLM ?? this.ignoreLLM;\n\t\t\tthis.ignoreChain = input.ignoreChain ?? this.ignoreChain;\n\t\t\tthis.ignoreAgent = input.ignoreAgent ?? this.ignoreAgent;\n\t\t\tthis.ignoreRetriever = input.ignoreRetriever ?? this.ignoreRetriever;\n\t\t\tthis.ignoreCustomEvent = input.ignoreCustomEvent ?? this.ignoreCustomEvent;\n\t\t\tthis.raiseError = input.raiseError ?? this.raiseError;\n\t\t\tthis.awaitHandlers = this.raiseError || (input._awaitHandler ?? this.awaitHandlers);\n\t\t}\n\t}\n\tcopy() {\n\t\treturn new this.constructor(this);\n\t}\n\ttoJSON() {\n\t\treturn require_load_serializable.Serializable.prototype.toJSON.call(this);\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn require_load_serializable.Serializable.prototype.toJSONNotImplemented.call(this);\n\t}\n\tstatic fromMethods(methods) {\n\t\tclass Handler extends BaseCallbackHandler {\n\t\t\tname = uuid.v7();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, methods);\n\t\t\t}\n\t\t}\n\t\treturn new Handler();\n\t}\n};\nconst isBaseCallbackHandler = (x) => {\n\tconst callbackHandler = x;\n\treturn callbackHandler !== void 0 && typeof callbackHandler.copy === \"function\" && typeof callbackHandler.name === \"string\" && typeof callbackHandler.awaitHandlers === \"boolean\";\n};\n\n//#endregion\nexports.BaseCallbackHandler = BaseCallbackHandler;\nObject.defineProperty(exports, \"base_exports\", ({\n  enumerable: true,\n  get: function () {\n    return base_exports;\n  }\n}));\nexports.callbackHandlerPrefersStreaming = callbackHandlerPrefersStreaming;\nexports.isBaseCallbackHandler = isBaseCallbackHandler;\n//# sourceMappingURL=base.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvYmFzZS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLGtDQUFrQyxtQkFBTyxDQUFDLDRHQUEwQjtBQUNwRSwwQkFBMEIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDcEQsOENBQThDLG1CQUFPLENBQUMsc0dBQU07O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0IsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsdUNBQXVDO0FBQ3ZDLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvY2FsbGJhY2tzL2Jhc2UuY2pzPzFhNDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfbG9hZF9zZXJpYWxpemFibGUgPSByZXF1aXJlKCcuLi9sb2FkL3NlcmlhbGl6YWJsZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHNfZW52ID0gcmVxdWlyZSgnLi4vdXRpbHMvZW52LmNqcycpO1xuY29uc3QgdXVpZCA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJ1dWlkXCIpKTtcblxuLy8jcmVnaW9uIHNyYy9jYWxsYmFja3MvYmFzZS50c1xudmFyIGJhc2VfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGJhc2VfZXhwb3J0cywge1xuXHRCYXNlQ2FsbGJhY2tIYW5kbGVyOiAoKSA9PiBCYXNlQ2FsbGJhY2tIYW5kbGVyLFxuXHRjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nOiAoKSA9PiBjYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nLFxuXHRpc0Jhc2VDYWxsYmFja0hhbmRsZXI6ICgpID0+IGlzQmFzZUNhbGxiYWNrSGFuZGxlclxufSk7XG4vKipcbiogQWJzdHJhY3QgY2xhc3MgdGhhdCBwcm92aWRlcyBhIHNldCBvZiBvcHRpb25hbCBtZXRob2RzIHRoYXQgY2FuIGJlXG4qIG92ZXJyaWRkZW4gaW4gZGVyaXZlZCBjbGFzc2VzIHRvIGhhbmRsZSB2YXJpb3VzIGV2ZW50cyBkdXJpbmcgdGhlXG4qIGV4ZWN1dGlvbiBvZiBhIExhbmdDaGFpbiBhcHBsaWNhdGlvbi5cbiovXG52YXIgQmFzZUNhbGxiYWNrSGFuZGxlck1ldGhvZHNDbGFzcyA9IGNsYXNzIHt9O1xuZnVuY3Rpb24gY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZyh4KSB7XG5cdHJldHVybiBcImxjX3ByZWZlcl9zdHJlYW1pbmdcIiBpbiB4ICYmIHgubGNfcHJlZmVyX3N0cmVhbWluZztcbn1cbi8qKlxuKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBjcmVhdGluZyBjYWxsYmFjayBoYW5kbGVycyBpbiB0aGUgTGFuZ0NoYWluXG4qIGZyYW1ld29yay4gSXQgcHJvdmlkZXMgYSBzZXQgb2Ygb3B0aW9uYWwgbWV0aG9kcyB0aGF0IGNhbiBiZSBvdmVycmlkZGVuXG4qIGluIGRlcml2ZWQgY2xhc3NlcyB0byBoYW5kbGUgdmFyaW91cyBldmVudHMgZHVyaW5nIHRoZSBleGVjdXRpb24gb2YgYVxuKiBMYW5nQ2hhaW4gYXBwbGljYXRpb24uXG4qL1xudmFyIEJhc2VDYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIEJhc2VDYWxsYmFja0hhbmRsZXJNZXRob2RzQ2xhc3Mge1xuXHRsY19zZXJpYWxpemFibGUgPSBmYWxzZTtcblx0Z2V0IGxjX25hbWVzcGFjZSgpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0XCJsYW5nY2hhaW5fY29yZVwiLFxuXHRcdFx0XCJjYWxsYmFja3NcIixcblx0XHRcdHRoaXMubmFtZVxuXHRcdF07XG5cdH1cblx0Z2V0IGxjX3NlY3JldHMoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0Z2V0IGxjX3NlcmlhbGl6YWJsZV9rZXlzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0LyoqXG5cdCogVGhlIG5hbWUgb2YgdGhlIHNlcmlhbGl6YWJsZS4gT3ZlcnJpZGUgdG8gcHJvdmlkZSBhbiBhbGlhcyBvclxuXHQqIHRvIHByZXNlcnZlIHRoZSBzZXJpYWxpemVkIG1vZHVsZSBuYW1lIGluIG1pbmlmaWVkIGVudmlyb25tZW50cy5cblx0KlxuXHQqIEltcGxlbWVudGVkIGFzIGEgc3RhdGljIG1ldGhvZCB0byBzdXBwb3J0IGxvYWRpbmcgbG9naWMuXG5cdCovXG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cblx0LyoqXG5cdCogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cblx0Ki9cblx0Z2V0IGxjX2lkKCkge1xuXHRcdHJldHVybiBbLi4udGhpcy5sY19uYW1lc3BhY2UsIHJlcXVpcmVfbG9hZF9zZXJpYWxpemFibGUuZ2V0X2xjX3VuaXF1ZV9uYW1lKHRoaXMuY29uc3RydWN0b3IpXTtcblx0fVxuXHRsY19rd2FyZ3M7XG5cdGlnbm9yZUxMTSA9IGZhbHNlO1xuXHRpZ25vcmVDaGFpbiA9IGZhbHNlO1xuXHRpZ25vcmVBZ2VudCA9IGZhbHNlO1xuXHRpZ25vcmVSZXRyaWV2ZXIgPSBmYWxzZTtcblx0aWdub3JlQ3VzdG9tRXZlbnQgPSBmYWxzZTtcblx0cmFpc2VFcnJvciA9IGZhbHNlO1xuXHRhd2FpdEhhbmRsZXJzID0gcmVxdWlyZV91dGlsc19lbnYuZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShcIkxBTkdDSEFJTl9DQUxMQkFDS1NfQkFDS0dST1VORFwiKSA9PT0gXCJmYWxzZVwiO1xuXHRjb25zdHJ1Y3RvcihpbnB1dCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5sY19rd2FyZ3MgPSBpbnB1dCB8fCB7fTtcblx0XHRpZiAoaW5wdXQpIHtcblx0XHRcdHRoaXMuaWdub3JlTExNID0gaW5wdXQuaWdub3JlTExNID8/IHRoaXMuaWdub3JlTExNO1xuXHRcdFx0dGhpcy5pZ25vcmVDaGFpbiA9IGlucHV0Lmlnbm9yZUNoYWluID8/IHRoaXMuaWdub3JlQ2hhaW47XG5cdFx0XHR0aGlzLmlnbm9yZUFnZW50ID0gaW5wdXQuaWdub3JlQWdlbnQgPz8gdGhpcy5pZ25vcmVBZ2VudDtcblx0XHRcdHRoaXMuaWdub3JlUmV0cmlldmVyID0gaW5wdXQuaWdub3JlUmV0cmlldmVyID8/IHRoaXMuaWdub3JlUmV0cmlldmVyO1xuXHRcdFx0dGhpcy5pZ25vcmVDdXN0b21FdmVudCA9IGlucHV0Lmlnbm9yZUN1c3RvbUV2ZW50ID8/IHRoaXMuaWdub3JlQ3VzdG9tRXZlbnQ7XG5cdFx0XHR0aGlzLnJhaXNlRXJyb3IgPSBpbnB1dC5yYWlzZUVycm9yID8/IHRoaXMucmFpc2VFcnJvcjtcblx0XHRcdHRoaXMuYXdhaXRIYW5kbGVycyA9IHRoaXMucmFpc2VFcnJvciB8fCAoaW5wdXQuX2F3YWl0SGFuZGxlciA/PyB0aGlzLmF3YWl0SGFuZGxlcnMpO1xuXHRcdH1cblx0fVxuXHRjb3B5KCkge1xuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcblx0fVxuXHR0b0pTT04oKSB7XG5cdFx0cmV0dXJuIHJlcXVpcmVfbG9hZF9zZXJpYWxpemFibGUuU2VyaWFsaXphYmxlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtcblx0fVxuXHR0b0pTT05Ob3RJbXBsZW1lbnRlZCgpIHtcblx0XHRyZXR1cm4gcmVxdWlyZV9sb2FkX3NlcmlhbGl6YWJsZS5TZXJpYWxpemFibGUucHJvdG90eXBlLnRvSlNPTk5vdEltcGxlbWVudGVkLmNhbGwodGhpcyk7XG5cdH1cblx0c3RhdGljIGZyb21NZXRob2RzKG1ldGhvZHMpIHtcblx0XHRjbGFzcyBIYW5kbGVyIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlciB7XG5cdFx0XHRuYW1lID0gdXVpZC52NygpO1xuXHRcdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRcdHN1cGVyKCk7XG5cdFx0XHRcdE9iamVjdC5hc3NpZ24odGhpcywgbWV0aG9kcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgSGFuZGxlcigpO1xuXHR9XG59O1xuY29uc3QgaXNCYXNlQ2FsbGJhY2tIYW5kbGVyID0gKHgpID0+IHtcblx0Y29uc3QgY2FsbGJhY2tIYW5kbGVyID0geDtcblx0cmV0dXJuIGNhbGxiYWNrSGFuZGxlciAhPT0gdm9pZCAwICYmIHR5cGVvZiBjYWxsYmFja0hhbmRsZXIuY29weSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBjYWxsYmFja0hhbmRsZXIubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgY2FsbGJhY2tIYW5kbGVyLmF3YWl0SGFuZGxlcnMgPT09IFwiYm9vbGVhblwiO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkJhc2VDYWxsYmFja0hhbmRsZXIgPSBCYXNlQ2FsbGJhY2tIYW5kbGVyO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdiYXNlX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBiYXNlX2V4cG9ydHM7XG4gIH1cbn0pO1xuZXhwb3J0cy5jYWxsYmFja0hhbmRsZXJQcmVmZXJzU3RyZWFtaW5nID0gY2FsbGJhY2tIYW5kbGVyUHJlZmVyc1N0cmVhbWluZztcbmV4cG9ydHMuaXNCYXNlQ2FsbGJhY2tIYW5kbGVyID0gaXNCYXNlQ2FsbGJhY2tIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/callbacks/base.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/callbacks/manager.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/callbacks/manager.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils = __webpack_require__(/*! ../messages/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\");\nconst require_utils_env = __webpack_require__(/*! ../utils/env.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\");\nconst require_callbacks_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/base.cjs\");\nconst require_tracers_base = __webpack_require__(/*! ../tracers/base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\nconst require_tracers_console = __webpack_require__(/*! ../tracers/console.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/console.cjs\");\nconst require_tracers_tracer_langchain = __webpack_require__(/*! ../tracers/tracer_langchain.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/tracer_langchain.cjs\");\nconst require_callbacks = __webpack_require__(/*! ../singletons/callbacks.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/callbacks.cjs\");\n__webpack_require__(/*! ./promises.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/promises.cjs\");\nconst require_callbacks$1 = __webpack_require__(/*! ../utils/callbacks.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/callbacks.cjs\");\nconst require_context = __webpack_require__(/*! ../singletons/async_local_storage/context.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/context.cjs\");\nconst uuid = require_rolldown_runtime.__toESM(__webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js\"));\n\n//#region src/callbacks/manager.ts\nvar manager_exports = {};\nrequire_rolldown_runtime.__export(manager_exports, {\n\tBaseCallbackManager: () => BaseCallbackManager,\n\tBaseRunManager: () => BaseRunManager,\n\tCallbackManager: () => CallbackManager,\n\tCallbackManagerForChainRun: () => CallbackManagerForChainRun,\n\tCallbackManagerForLLMRun: () => CallbackManagerForLLMRun,\n\tCallbackManagerForRetrieverRun: () => CallbackManagerForRetrieverRun,\n\tCallbackManagerForToolRun: () => CallbackManagerForToolRun,\n\tensureHandler: () => ensureHandler,\n\tparseCallbackConfigArg: () => parseCallbackConfigArg\n});\nfunction parseCallbackConfigArg(arg) {\n\tif (!arg) return {};\n\telse if (Array.isArray(arg) || \"name\" in arg) return { callbacks: arg };\n\telse return arg;\n}\n/**\n* Manage callbacks from different components of LangChain.\n*/\nvar BaseCallbackManager = class {\n\tsetHandler(handler) {\n\t\treturn this.setHandlers([handler]);\n\t}\n};\n/**\n* Base class for run manager in LangChain.\n*/\nvar BaseRunManager = class {\n\tconstructor(runId, handlers, inheritableHandlers, tags, inheritableTags, metadata, inheritableMetadata, _parentRunId) {\n\t\tthis.runId = runId;\n\t\tthis.handlers = handlers;\n\t\tthis.inheritableHandlers = inheritableHandlers;\n\t\tthis.tags = tags;\n\t\tthis.inheritableTags = inheritableTags;\n\t\tthis.metadata = metadata;\n\t\tthis.inheritableMetadata = inheritableMetadata;\n\t\tthis._parentRunId = _parentRunId;\n\t}\n\tget parentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleText(text) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleText?.(text, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleText: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleCustomEvent(eventName, data, _runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\ttry {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, this.runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* Manages callbacks for retriever runs.\n*/\nvar CallbackManagerForRetrieverRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleRetrieverEnd(documents) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverEnd?.(documents, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetriever`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleRetrieverError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreRetriever) try {\n\t\t\t\tawait handler.handleRetrieverError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (error) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverError: ${error}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForLLMRun = class extends BaseRunManager {\n\tasync handleLLMNewToken(token, idx, _runId, _parentRunId, _tags, fields) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMNewToken?.(token, idx ?? {\n\t\t\t\t\tprompt: 0,\n\t\t\t\t\tcompletion: 0\n\t\t\t\t}, this.runId, this._parentRunId, this.tags, fields);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMNewToken: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMError(err, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMError?.(err, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleLLMEnd(output, _runId, _parentRunId, _tags, extraParams) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreLLM) try {\n\t\t\t\tawait handler.handleLLMEnd?.(output, this.runId, this._parentRunId, this.tags, extraParams);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForChainRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleChainError(err, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainError?.(err, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleChainEnd(output, _runId, _parentRunId, _tags, kwargs) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreChain) try {\n\t\t\t\tawait handler.handleChainEnd?.(output, this.runId, this._parentRunId, this.tags, kwargs);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentAction(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentAction?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentAction: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleAgentEnd(action) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleAgentEnd?.(action, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleAgentEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\nvar CallbackManagerForToolRun = class extends BaseRunManager {\n\tgetChild(tag) {\n\t\tconst manager = new CallbackManager(this.runId);\n\t\tmanager.setHandlers(this.inheritableHandlers);\n\t\tmanager.addTags(this.inheritableTags);\n\t\tmanager.addMetadata(this.inheritableMetadata);\n\t\tif (tag) manager.addTags([tag], false);\n\t\treturn manager;\n\t}\n\tasync handleToolError(err) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolError?.(err, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err$1) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolError: ${err$1}`);\n\t\t\t\tif (handler.raiseError) throw err$1;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\tasync handleToolEnd(output) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreAgent) try {\n\t\t\t\tawait handler.handleToolEnd?.(output, this.runId, this._parentRunId, this.tags);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolEnd: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n};\n/**\n* @example\n* ```typescript\n* const prompt = PromptTemplate.fromTemplate(\"What is the answer to {question}?\");\n*\n* // Example of using LLMChain with OpenAI and a simple prompt\n* const chain = new LLMChain({\n*   llm: new ChatOpenAI({ model: \"gpt-4o-mini\", temperature: 0.9 }),\n*   prompt,\n* });\n*\n* // Running the chain with a single question\n* const result = await chain.call({\n*   question: \"What is the airspeed velocity of an unladen swallow?\",\n* });\n* console.log(\"The answer is:\", result);\n* ```\n*/\nvar CallbackManager = class CallbackManager extends BaseCallbackManager {\n\thandlers = [];\n\tinheritableHandlers = [];\n\ttags = [];\n\tinheritableTags = [];\n\tmetadata = {};\n\tinheritableMetadata = {};\n\tname = \"callback_manager\";\n\t_parentRunId;\n\tconstructor(parentRunId, options) {\n\t\tsuper();\n\t\tthis.handlers = options?.handlers ?? this.handlers;\n\t\tthis.inheritableHandlers = options?.inheritableHandlers ?? this.inheritableHandlers;\n\t\tthis.tags = options?.tags ?? this.tags;\n\t\tthis.inheritableTags = options?.inheritableTags ?? this.inheritableTags;\n\t\tthis.metadata = options?.metadata ?? this.metadata;\n\t\tthis.inheritableMetadata = options?.inheritableMetadata ?? this.inheritableMetadata;\n\t\tthis._parentRunId = parentRunId;\n\t}\n\t/**\n\t* Gets the parent run ID, if any.\n\t*\n\t* @returns The parent run ID.\n\t*/\n\tgetParentRunId() {\n\t\treturn this._parentRunId;\n\t}\n\tasync handleLLMStart(llm, prompts, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(prompts.map(async (prompt, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0, uuid.v7)();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif (require_tracers_base.isBaseTracer(handler)) handler._createRunForLLMStart(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn require_callbacks.consumeCallback(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [prompt], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChatModelStart(llm, messages, runId = void 0, _parentRunId = void 0, extraParams = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\treturn Promise.all(messages.map(async (messageGroup, idx) => {\n\t\t\tconst runId_ = idx === 0 && runId ? runId : (0, uuid.v7)();\n\t\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\t\tif (handler.ignoreLLM) return;\n\t\t\t\tif (require_tracers_base.isBaseTracer(handler)) handler._createRunForChatModelStart(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\treturn require_callbacks.consumeCallback(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (handler.handleChatModelStart) await handler.handleChatModelStart?.(llm, [messageGroup], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\telse if (handler.handleLLMStart) {\n\t\t\t\t\t\t\tconst messageString = require_utils.getBufferString(messageGroup);\n\t\t\t\t\t\t\tawait handler.handleLLMStart?.(llm, [messageString], runId_, this._parentRunId, extraParams, this.tags, this.metadata, runName);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleLLMStart: ${err}`);\n\t\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t\t}\n\t\t\t\t}, handler.awaitHandlers);\n\t\t\t}));\n\t\t\treturn new CallbackManagerForLLMRun(runId_, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t\t}));\n\t}\n\tasync handleChainStart(chain, inputs, runId = (0, uuid.v7)(), runType = void 0, _tags = void 0, _metadata = void 0, runName = void 0, _parentRunId = void 0, extra = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreChain) return;\n\t\t\tif (require_tracers_base.isBaseTracer(handler)) handler._createRunForChainStart(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName, extra);\n\t\t\treturn require_callbacks.consumeCallback(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleChainStart?.(chain, inputs, runId, this._parentRunId, this.tags, this.metadata, runType, runName, extra);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleChainStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForChainRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleToolStart(tool, input, runId = (0, uuid.v7)(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreAgent) return;\n\t\t\tif (require_tracers_base.isBaseTracer(handler)) handler._createRunForToolStart(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn require_callbacks.consumeCallback(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleToolStart?.(tool, input, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleToolStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForToolRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId = (0, uuid.v7)(), _parentRunId = void 0, _tags = void 0, _metadata = void 0, runName = void 0) {\n\t\tawait Promise.all(this.handlers.map((handler) => {\n\t\t\tif (handler.ignoreRetriever) return;\n\t\t\tif (require_tracers_base.isBaseTracer(handler)) handler._createRunForRetrieverStart(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\treturn require_callbacks.consumeCallback(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait handler.handleRetrieverStart?.(retriever, query, runId, this._parentRunId, this.tags, this.metadata, runName);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleRetrieverStart: ${err}`);\n\t\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t\t}\n\t\t\t}, handler.awaitHandlers);\n\t\t}));\n\t\treturn new CallbackManagerForRetrieverRun(runId, this.handlers, this.inheritableHandlers, this.tags, this.inheritableTags, this.metadata, this.inheritableMetadata, this._parentRunId);\n\t}\n\tasync handleCustomEvent(eventName, data, runId, _tags, _metadata) {\n\t\tawait Promise.all(this.handlers.map((handler) => require_callbacks.consumeCallback(async () => {\n\t\t\tif (!handler.ignoreCustomEvent) try {\n\t\t\t\tawait handler.handleCustomEvent?.(eventName, data, runId, this.tags, this.metadata);\n\t\t\t} catch (err) {\n\t\t\t\tconst logFunction = handler.raiseError ? console.error : console.warn;\n\t\t\t\tlogFunction(`Error in handler ${handler.constructor.name}, handleCustomEvent: ${err}`);\n\t\t\t\tif (handler.raiseError) throw err;\n\t\t\t}\n\t\t}, handler.awaitHandlers)));\n\t}\n\taddHandler(handler, inherit = true) {\n\t\tthis.handlers.push(handler);\n\t\tif (inherit) this.inheritableHandlers.push(handler);\n\t}\n\tremoveHandler(handler) {\n\t\tthis.handlers = this.handlers.filter((_handler) => _handler !== handler);\n\t\tthis.inheritableHandlers = this.inheritableHandlers.filter((_handler) => _handler !== handler);\n\t}\n\tsetHandlers(handlers, inherit = true) {\n\t\tthis.handlers = [];\n\t\tthis.inheritableHandlers = [];\n\t\tfor (const handler of handlers) this.addHandler(handler, inherit);\n\t}\n\taddTags(tags, inherit = true) {\n\t\tthis.removeTags(tags);\n\t\tthis.tags.push(...tags);\n\t\tif (inherit) this.inheritableTags.push(...tags);\n\t}\n\tremoveTags(tags) {\n\t\tthis.tags = this.tags.filter((tag) => !tags.includes(tag));\n\t\tthis.inheritableTags = this.inheritableTags.filter((tag) => !tags.includes(tag));\n\t}\n\taddMetadata(metadata, inherit = true) {\n\t\tthis.metadata = {\n\t\t\t...this.metadata,\n\t\t\t...metadata\n\t\t};\n\t\tif (inherit) this.inheritableMetadata = {\n\t\t\t...this.inheritableMetadata,\n\t\t\t...metadata\n\t\t};\n\t}\n\tremoveMetadata(metadata) {\n\t\tfor (const key of Object.keys(metadata)) {\n\t\t\tdelete this.metadata[key];\n\t\t\tdelete this.inheritableMetadata[key];\n\t\t}\n\t}\n\tcopy(additionalHandlers = [], inherit = true) {\n\t\tconst manager = new CallbackManager(this._parentRunId);\n\t\tfor (const handler of this.handlers) {\n\t\t\tconst inheritable = this.inheritableHandlers.includes(handler);\n\t\t\tmanager.addHandler(handler, inheritable);\n\t\t}\n\t\tfor (const tag of this.tags) {\n\t\t\tconst inheritable = this.inheritableTags.includes(tag);\n\t\t\tmanager.addTags([tag], inheritable);\n\t\t}\n\t\tfor (const key of Object.keys(this.metadata)) {\n\t\t\tconst inheritable = Object.keys(this.inheritableMetadata).includes(key);\n\t\t\tmanager.addMetadata({ [key]: this.metadata[key] }, inheritable);\n\t\t}\n\t\tfor (const handler of additionalHandlers) {\n\t\t\tif (manager.handlers.filter((h) => h.name === \"console_callback_handler\").some((h) => h.name === handler.name)) continue;\n\t\t\tmanager.addHandler(handler, inherit);\n\t\t}\n\t\treturn manager;\n\t}\n\tstatic fromHandlers(handlers) {\n\t\tclass Handler extends require_callbacks_base.BaseCallbackHandler {\n\t\t\tname = (0, uuid.v7)();\n\t\t\tconstructor() {\n\t\t\t\tsuper();\n\t\t\t\tObject.assign(this, handlers);\n\t\t\t}\n\t\t}\n\t\tconst manager = new this();\n\t\tmanager.addHandler(new Handler());\n\t\treturn manager;\n\t}\n\tstatic configure(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\treturn this._configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options);\n\t}\n\tstatic _configureSync(inheritableHandlers, localHandlers, inheritableTags, localTags, inheritableMetadata, localMetadata, options) {\n\t\tlet callbackManager;\n\t\tif (inheritableHandlers || localHandlers) {\n\t\t\tif (Array.isArray(inheritableHandlers) || !inheritableHandlers) {\n\t\t\t\tcallbackManager = new CallbackManager();\n\t\t\t\tcallbackManager.setHandlers(inheritableHandlers?.map(ensureHandler) ?? [], true);\n\t\t\t} else callbackManager = inheritableHandlers;\n\t\t\tcallbackManager = callbackManager.copy(Array.isArray(localHandlers) ? localHandlers.map(ensureHandler) : localHandlers?.handlers, false);\n\t\t}\n\t\tconst verboseEnabled = require_utils_env.getEnvironmentVariable(\"LANGCHAIN_VERBOSE\") === \"true\" || options?.verbose;\n\t\tconst tracingV2Enabled = require_tracers_tracer_langchain.LangChainTracer.getTraceableRunTree()?.tracingEnabled || require_callbacks$1.isTracingEnabled();\n\t\tconst tracingEnabled = tracingV2Enabled || (require_utils_env.getEnvironmentVariable(\"LANGCHAIN_TRACING\") ?? false);\n\t\tif (verboseEnabled || tracingEnabled) {\n\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\tif (verboseEnabled && !callbackManager.handlers.some((handler) => handler.name === require_tracers_console.ConsoleCallbackHandler.prototype.name)) {\n\t\t\t\tconst consoleHandler = new require_tracers_console.ConsoleCallbackHandler();\n\t\t\t\tcallbackManager.addHandler(consoleHandler, true);\n\t\t\t}\n\t\t\tif (tracingEnabled && !callbackManager.handlers.some((handler) => handler.name === \"langchain_tracer\")) {\n\t\t\t\tif (tracingV2Enabled) {\n\t\t\t\t\tconst tracerV2 = new require_tracers_tracer_langchain.LangChainTracer();\n\t\t\t\t\tcallbackManager.addHandler(tracerV2, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (tracingV2Enabled) {\n\t\t\t\tconst implicitRunTree = require_tracers_tracer_langchain.LangChainTracer.getTraceableRunTree();\n\t\t\t\tif (implicitRunTree && callbackManager._parentRunId === void 0) {\n\t\t\t\t\tcallbackManager._parentRunId = implicitRunTree.id;\n\t\t\t\t\tconst tracerV2 = callbackManager.handlers.find((handler) => handler.name === \"langchain_tracer\");\n\t\t\t\t\ttracerV2?.updateFromRunTree(implicitRunTree);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const { contextVar, inheritable = true, handlerClass, envVar } of require_context._getConfigureHooks()) {\n\t\t\tconst createIfNotInContext = envVar && require_utils_env.getEnvironmentVariable(envVar) === \"true\" && handlerClass;\n\t\t\tlet handler;\n\t\t\tconst contextVarValue = contextVar !== void 0 ? require_context.getContextVariable(contextVar) : void 0;\n\t\t\tif (contextVarValue && require_callbacks_base.isBaseCallbackHandler(contextVarValue)) handler = contextVarValue;\n\t\t\telse if (createIfNotInContext) handler = new handlerClass({});\n\t\t\tif (handler !== void 0) {\n\t\t\t\tif (!callbackManager) callbackManager = new CallbackManager();\n\t\t\t\tif (!callbackManager.handlers.some((h) => h.name === handler.name)) callbackManager.addHandler(handler, inheritable);\n\t\t\t}\n\t\t}\n\t\tif (inheritableTags || localTags) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addTags(inheritableTags ?? []);\n\t\t\t\tcallbackManager.addTags(localTags ?? [], false);\n\t\t\t}\n\t\t}\n\t\tif (inheritableMetadata || localMetadata) {\n\t\t\tif (callbackManager) {\n\t\t\t\tcallbackManager.addMetadata(inheritableMetadata ?? {});\n\t\t\t\tcallbackManager.addMetadata(localMetadata ?? {}, false);\n\t\t\t}\n\t\t}\n\t\treturn callbackManager;\n\t}\n};\nfunction ensureHandler(handler) {\n\tif (\"name\" in handler) return handler;\n\treturn require_callbacks_base.BaseCallbackHandler.fromMethods(handler);\n}\n\n//#endregion\nexports.BaseCallbackManager = BaseCallbackManager;\nexports.BaseRunManager = BaseRunManager;\nexports.CallbackManager = CallbackManager;\nexports.CallbackManagerForChainRun = CallbackManagerForChainRun;\nexports.CallbackManagerForLLMRun = CallbackManagerForLLMRun;\nexports.CallbackManagerForRetrieverRun = CallbackManagerForRetrieverRun;\nexports.CallbackManagerForToolRun = CallbackManagerForToolRun;\nexports.ensureHandler = ensureHandler;\nObject.defineProperty(exports, \"manager_exports\", ({\n  enumerable: true,\n  get: function () {\n    return manager_exports;\n  }\n}));\nexports.parseCallbackConfigArg = parseCallbackConfigArg;\n//# sourceMappingURL=manager.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvbWFuYWdlci5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLHNCQUFzQixtQkFBTyxDQUFDLHNHQUF1QjtBQUNyRCwwQkFBMEIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDcEQsK0JBQStCLG1CQUFPLENBQUMsMkZBQVk7QUFDbkQsNkJBQTZCLG1CQUFPLENBQUMsa0dBQXFCO0FBQzFELGdDQUFnQyxtQkFBTyxDQUFDLHdHQUF3QjtBQUNoRSx5Q0FBeUMsbUJBQU8sQ0FBQywwSEFBaUM7QUFDbEYsMEJBQTBCLG1CQUFPLENBQUMsa0hBQTZCO0FBQy9ELG1CQUFPLENBQUMsbUdBQWdCO0FBQ3hCLDRCQUE0QixtQkFBTyxDQUFDLHdHQUF3QjtBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyxzSkFBK0M7QUFDL0UsOENBQThDLG1CQUFPLENBQUMsc0dBQU07O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixnQkFBZ0IsSUFBSTtBQUNqRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLHVCQUF1QixJQUFJO0FBQ3hGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QjtBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLDBCQUEwQixNQUFNO0FBQzdGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsdUJBQXVCLElBQUk7QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixvQkFBb0IsTUFBTTtBQUN2RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLGtCQUFrQixJQUFJO0FBQ25GO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixzQkFBc0IsTUFBTTtBQUN6RjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQ0FBb0MseUJBQXlCLG9CQUFvQixJQUFJO0FBQ3JGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsdUJBQXVCLElBQUk7QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixvQkFBb0IsSUFBSTtBQUNyRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIscUJBQXFCLE1BQU07QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0NBQW9DLHlCQUF5QixtQkFBbUIsSUFBSTtBQUNwRjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsU0FBUztBQUM5RTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0NBQXdDO0FBQ2xFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHNDQUFzQyx5QkFBeUIsb0JBQW9CLElBQUk7QUFDdkY7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHNDQUFzQyx5QkFBeUIsb0JBQW9CLElBQUk7QUFDdkY7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHFDQUFxQyx5QkFBeUIsc0JBQXNCLElBQUk7QUFDeEY7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EscUNBQXFDLHlCQUF5QixxQkFBcUIsSUFBSTtBQUN2RjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxxQ0FBcUMseUJBQXlCLDBCQUEwQixJQUFJO0FBQzVGO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG9DQUFvQyx5QkFBeUIsdUJBQXVCLElBQUk7QUFDeEY7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUF1RDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RCxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCLHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUNoQyxzQ0FBc0M7QUFDdEMsaUNBQWlDO0FBQ2pDLHFCQUFxQjtBQUNyQixtREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiw4QkFBOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2NhbGxiYWNrcy9tYW5hZ2VyLmNqcz9kNTZlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzID0gcmVxdWlyZSgnLi4vbWVzc2FnZXMvdXRpbHMuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzX2VudiA9IHJlcXVpcmUoJy4uL3V0aWxzL2Vudi5janMnKTtcbmNvbnN0IHJlcXVpcmVfY2FsbGJhY2tzX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UuY2pzJyk7XG5jb25zdCByZXF1aXJlX3RyYWNlcnNfYmFzZSA9IHJlcXVpcmUoJy4uL3RyYWNlcnMvYmFzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdHJhY2Vyc19jb25zb2xlID0gcmVxdWlyZSgnLi4vdHJhY2Vycy9jb25zb2xlLmNqcycpO1xuY29uc3QgcmVxdWlyZV90cmFjZXJzX3RyYWNlcl9sYW5nY2hhaW4gPSByZXF1aXJlKCcuLi90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uY2pzJyk7XG5jb25zdCByZXF1aXJlX2NhbGxiYWNrcyA9IHJlcXVpcmUoJy4uL3NpbmdsZXRvbnMvY2FsbGJhY2tzLmNqcycpO1xucmVxdWlyZSgnLi9wcm9taXNlcy5janMnKTtcbmNvbnN0IHJlcXVpcmVfY2FsbGJhY2tzJDEgPSByZXF1aXJlKCcuLi91dGlscy9jYWxsYmFja3MuY2pzJyk7XG5jb25zdCByZXF1aXJlX2NvbnRleHQgPSByZXF1aXJlKCcuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC5janMnKTtcbmNvbnN0IHV1aWQgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwidXVpZFwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvY2FsbGJhY2tzL21hbmFnZXIudHNcbnZhciBtYW5hZ2VyX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChtYW5hZ2VyX2V4cG9ydHMsIHtcblx0QmFzZUNhbGxiYWNrTWFuYWdlcjogKCkgPT4gQmFzZUNhbGxiYWNrTWFuYWdlcixcblx0QmFzZVJ1bk1hbmFnZXI6ICgpID0+IEJhc2VSdW5NYW5hZ2VyLFxuXHRDYWxsYmFja01hbmFnZXI6ICgpID0+IENhbGxiYWNrTWFuYWdlcixcblx0Q2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW46ICgpID0+IENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuLFxuXHRDYWxsYmFja01hbmFnZXJGb3JMTE1SdW46ICgpID0+IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bixcblx0Q2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuOiAoKSA9PiBDYWxsYmFja01hbmFnZXJGb3JSZXRyaWV2ZXJSdW4sXG5cdENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW46ICgpID0+IENhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4sXG5cdGVuc3VyZUhhbmRsZXI6ICgpID0+IGVuc3VyZUhhbmRsZXIsXG5cdHBhcnNlQ2FsbGJhY2tDb25maWdBcmc6ICgpID0+IHBhcnNlQ2FsbGJhY2tDb25maWdBcmdcbn0pO1xuZnVuY3Rpb24gcGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhhcmcpIHtcblx0aWYgKCFhcmcpIHJldHVybiB7fTtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpIHx8IFwibmFtZVwiIGluIGFyZykgcmV0dXJuIHsgY2FsbGJhY2tzOiBhcmcgfTtcblx0ZWxzZSByZXR1cm4gYXJnO1xufVxuLyoqXG4qIE1hbmFnZSBjYWxsYmFja3MgZnJvbSBkaWZmZXJlbnQgY29tcG9uZW50cyBvZiBMYW5nQ2hhaW4uXG4qL1xudmFyIEJhc2VDYWxsYmFja01hbmFnZXIgPSBjbGFzcyB7XG5cdHNldEhhbmRsZXIoaGFuZGxlcikge1xuXHRcdHJldHVybiB0aGlzLnNldEhhbmRsZXJzKFtoYW5kbGVyXSk7XG5cdH1cbn07XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgcnVuIG1hbmFnZXIgaW4gTGFuZ0NoYWluLlxuKi9cbnZhciBCYXNlUnVuTWFuYWdlciA9IGNsYXNzIHtcblx0Y29uc3RydWN0b3IocnVuSWQsIGhhbmRsZXJzLCBpbmhlcml0YWJsZUhhbmRsZXJzLCB0YWdzLCBpbmhlcml0YWJsZVRhZ3MsIG1ldGFkYXRhLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBfcGFyZW50UnVuSWQpIHtcblx0XHR0aGlzLnJ1bklkID0gcnVuSWQ7XG5cdFx0dGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycyA9IGluaGVyaXRhYmxlSGFuZGxlcnM7XG5cdFx0dGhpcy50YWdzID0gdGFncztcblx0XHR0aGlzLmluaGVyaXRhYmxlVGFncyA9IGluaGVyaXRhYmxlVGFncztcblx0XHR0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0dGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhID0gaW5oZXJpdGFibGVNZXRhZGF0YTtcblx0XHR0aGlzLl9wYXJlbnRSdW5JZCA9IF9wYXJlbnRSdW5JZDtcblx0fVxuXHRnZXQgcGFyZW50UnVuSWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3BhcmVudFJ1bklkO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRleHQodGV4dCkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVUZXh0Py4odGV4dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVRleHQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgZGF0YSwgX3J1bklkLCBfdGFncywgX21ldGFkYXRhKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUN1c3RvbUV2ZW50Py4oZXZlbnROYW1lLCBkYXRhLCB0aGlzLnJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDdXN0b21FdmVudDogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cbn07XG4vKipcbiogTWFuYWdlcyBjYWxsYmFja3MgZm9yIHJldHJpZXZlciBydW5zLlxuKi9cbnZhciBDYWxsYmFja01hbmFnZXJGb3JSZXRyaWV2ZXJSdW4gPSBjbGFzcyBleHRlbmRzIEJhc2VSdW5NYW5hZ2VyIHtcblx0Z2V0Q2hpbGQodGFnKSB7XG5cdFx0Y29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5ydW5JZCk7XG5cdFx0bWFuYWdlci5zZXRIYW5kbGVycyh0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMpO1xuXHRcdG1hbmFnZXIuYWRkVGFncyh0aGlzLmluaGVyaXRhYmxlVGFncyk7XG5cdFx0bWFuYWdlci5hZGRNZXRhZGF0YSh0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEpO1xuXHRcdGlmICh0YWcpIG1hbmFnZXIuYWRkVGFncyhbdGFnXSwgZmFsc2UpO1xuXHRcdHJldHVybiBtYW5hZ2VyO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlckVuZChkb2N1bWVudHMpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVSZXRyaWV2ZXIpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyRW5kPy4oZG9jdW1lbnRzLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlUmV0cmlldmVyYCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyRXJyb3IoZXJyKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlUmV0cmlldmVyKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVJldHJpZXZlckVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVSZXRyaWV2ZXJFcnJvcjogJHtlcnJvcn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxufTtcbnZhciBDYWxsYmFja01hbmFnZXJGb3JMTE1SdW4gPSBjbGFzcyBleHRlbmRzIEJhc2VSdW5NYW5hZ2VyIHtcblx0YXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBmaWVsZHMpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVMTE0pIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlTExNTmV3VG9rZW4/Lih0b2tlbiwgaWR4ID8/IHtcblx0XHRcdFx0XHRwcm9tcHQ6IDAsXG5cdFx0XHRcdFx0Y29tcGxldGlvbjogMFxuXHRcdFx0XHR9LCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBmaWVsZHMpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1OZXdUb2tlbjogJHtlcnJ9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9LCBoYW5kbGVyLmF3YWl0SGFuZGxlcnMpKSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNRXJyb3IoZXJyLCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGV4dHJhUGFyYW1zKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTUVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBleHRyYVBhcmFtcyk7XG5cdFx0XHR9IGNhdGNoIChlcnIkMSkge1xuXHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNRXJyb3I6ICR7ZXJyJDF9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVyciQxO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVMTE1FbmQob3V0cHV0LCBfcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGV4dHJhUGFyYW1zKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlTExNKSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTUVuZD8uKG91dHB1dCwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgZXh0cmFQYXJhbXMpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVMTE1FbmQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKSkpO1xuXHR9XG59O1xudmFyIENhbGxiYWNrTWFuYWdlckZvckNoYWluUnVuID0gY2xhc3MgZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG5cdGdldENoaWxkKHRhZykge1xuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuXHRcdG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcblx0XHRtYW5hZ2VyLmFkZFRhZ3ModGhpcy5pbmhlcml0YWJsZVRhZ3MpO1xuXHRcdG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcblx0XHRpZiAodGFnKSBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGFpbkVycm9yKGVyciwgX3J1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVDaGFpbikgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVDaGFpbkVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCBrd2FyZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyJDEpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUNoYWluRXJyb3I6ICR7ZXJyJDF9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVyciQxO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDaGFpbkVuZChvdXRwdXQsIF9ydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywga3dhcmdzKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQ2hhaW4pIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlQ2hhaW5FbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIGt3YXJncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUNoYWluRW5kOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVBZ2VudEFjdGlvbihhY3Rpb24pIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVBZ2VudEFjdGlvbj8uKGFjdGlvbiwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUFnZW50QWN0aW9uOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVBZ2VudEVuZChhY3Rpb24pIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVBZ2VudCkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVBZ2VudEVuZD8uKGFjdGlvbiwgdGhpcy5ydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUFnZW50RW5kOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxufTtcbnZhciBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuID0gY2xhc3MgZXh0ZW5kcyBCYXNlUnVuTWFuYWdlciB7XG5cdGdldENoaWxkKHRhZykge1xuXHRcdGNvbnN0IG1hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKHRoaXMucnVuSWQpO1xuXHRcdG1hbmFnZXIuc2V0SGFuZGxlcnModGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzKTtcblx0XHRtYW5hZ2VyLmFkZFRhZ3ModGhpcy5pbmhlcml0YWJsZVRhZ3MpO1xuXHRcdG1hbmFnZXIuYWRkTWV0YWRhdGEodGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhKTtcblx0XHRpZiAodGFnKSBtYW5hZ2VyLmFkZFRhZ3MoW3RhZ10sIGZhbHNlKTtcblx0XHRyZXR1cm4gbWFuYWdlcjtcblx0fVxuXHRhc3luYyBoYW5kbGVUb29sRXJyb3IoZXJyKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRpZiAoIWhhbmRsZXIuaWdub3JlQWdlbnQpIHRyeSB7XG5cdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlVG9vbEVycm9yPy4oZXJyLCB0aGlzLnJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzKTtcblx0XHRcdH0gY2F0Y2ggKGVyciQxKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sRXJyb3I6ICR7ZXJyJDF9YCk7XG5cdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVyciQxO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhc3luYyBoYW5kbGVUb29sRW5kKG91dHB1dCkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFoYW5kbGVyLmlnbm9yZUFnZW50KSB0cnkge1xuXHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZVRvb2xFbmQ/LihvdXRwdXQsIHRoaXMucnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sRW5kOiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxufTtcbi8qKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHByb21wdCA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIldoYXQgaXMgdGhlIGFuc3dlciB0byB7cXVlc3Rpb259P1wiKTtcbipcbiogLy8gRXhhbXBsZSBvZiB1c2luZyBMTE1DaGFpbiB3aXRoIE9wZW5BSSBhbmQgYSBzaW1wbGUgcHJvbXB0XG4qIGNvbnN0IGNoYWluID0gbmV3IExMTUNoYWluKHtcbiogICBsbG06IG5ldyBDaGF0T3BlbkFJKHsgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIiwgdGVtcGVyYXR1cmU6IDAuOSB9KSxcbiogICBwcm9tcHQsXG4qIH0pO1xuKlxuKiAvLyBSdW5uaW5nIHRoZSBjaGFpbiB3aXRoIGEgc2luZ2xlIHF1ZXN0aW9uXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmNhbGwoe1xuKiAgIHF1ZXN0aW9uOiBcIldoYXQgaXMgdGhlIGFpcnNwZWVkIHZlbG9jaXR5IG9mIGFuIHVubGFkZW4gc3dhbGxvdz9cIixcbiogfSk7XG4qIGNvbnNvbGUubG9nKFwiVGhlIGFuc3dlciBpczpcIiwgcmVzdWx0KTtcbiogYGBgXG4qL1xudmFyIENhbGxiYWNrTWFuYWdlciA9IGNsYXNzIENhbGxiYWNrTWFuYWdlciBleHRlbmRzIEJhc2VDYWxsYmFja01hbmFnZXIge1xuXHRoYW5kbGVycyA9IFtdO1xuXHRpbmhlcml0YWJsZUhhbmRsZXJzID0gW107XG5cdHRhZ3MgPSBbXTtcblx0aW5oZXJpdGFibGVUYWdzID0gW107XG5cdG1ldGFkYXRhID0ge307XG5cdGluaGVyaXRhYmxlTWV0YWRhdGEgPSB7fTtcblx0bmFtZSA9IFwiY2FsbGJhY2tfbWFuYWdlclwiO1xuXHRfcGFyZW50UnVuSWQ7XG5cdGNvbnN0cnVjdG9yKHBhcmVudFJ1bklkLCBvcHRpb25zKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmhhbmRsZXJzID0gb3B0aW9ucz8uaGFuZGxlcnMgPz8gdGhpcy5oYW5kbGVycztcblx0XHR0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMgPSBvcHRpb25zPy5pbmhlcml0YWJsZUhhbmRsZXJzID8/IHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycztcblx0XHR0aGlzLnRhZ3MgPSBvcHRpb25zPy50YWdzID8/IHRoaXMudGFncztcblx0XHR0aGlzLmluaGVyaXRhYmxlVGFncyA9IG9wdGlvbnM/LmluaGVyaXRhYmxlVGFncyA/PyB0aGlzLmluaGVyaXRhYmxlVGFncztcblx0XHR0aGlzLm1ldGFkYXRhID0gb3B0aW9ucz8ubWV0YWRhdGEgPz8gdGhpcy5tZXRhZGF0YTtcblx0XHR0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEgPSBvcHRpb25zPy5pbmhlcml0YWJsZU1ldGFkYXRhID8/IHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YTtcblx0XHR0aGlzLl9wYXJlbnRSdW5JZCA9IHBhcmVudFJ1bklkO1xuXHR9XG5cdC8qKlxuXHQqIEdldHMgdGhlIHBhcmVudCBydW4gSUQsIGlmIGFueS5cblx0KlxuXHQqIEByZXR1cm5zIFRoZSBwYXJlbnQgcnVuIElELlxuXHQqL1xuXHRnZXRQYXJlbnRSdW5JZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcGFyZW50UnVuSWQ7XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCA9IHZvaWQgMCwgX3BhcmVudFJ1bklkID0gdm9pZCAwLCBleHRyYVBhcmFtcyA9IHZvaWQgMCwgX3RhZ3MgPSB2b2lkIDAsIF9tZXRhZGF0YSA9IHZvaWQgMCwgcnVuTmFtZSA9IHZvaWQgMCkge1xuXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9tcHRzLm1hcChhc3luYyAocHJvbXB0LCBpZHgpID0+IHtcblx0XHRcdGNvbnN0IHJ1bklkXyA9IGlkeCA9PT0gMCAmJiBydW5JZCA/IHJ1bklkIDogKDAsIHV1aWQudjcpKCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVMTE0pIHJldHVybjtcblx0XHRcdFx0aWYgKHJlcXVpcmVfdHJhY2Vyc19iYXNlLmlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yTExNU3RhcnQobGxtLCBbcHJvbXB0XSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdHJldHVybiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUxMTVN0YXJ0Py4obGxtLCBbcHJvbXB0XSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUxMTVN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0XHR9KSk7XG5cdFx0XHRyZXR1cm4gbmV3IENhbGxiYWNrTWFuYWdlckZvckxMTVJ1bihydW5JZF8sIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdFx0fSkpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkID0gdm9pZCAwLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIGV4dHJhUGFyYW1zID0gdm9pZCAwLCBfdGFncyA9IHZvaWQgMCwgX21ldGFkYXRhID0gdm9pZCAwLCBydW5OYW1lID0gdm9pZCAwKSB7XG5cdFx0cmV0dXJuIFByb21pc2UuYWxsKG1lc3NhZ2VzLm1hcChhc3luYyAobWVzc2FnZUdyb3VwLCBpZHgpID0+IHtcblx0XHRcdGNvbnN0IHJ1bklkXyA9IGlkeCA9PT0gMCAmJiBydW5JZCA/IHJ1bklkIDogKDAsIHV1aWQudjcpKCk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVMTE0pIHJldHVybjtcblx0XHRcdFx0aWYgKHJlcXVpcmVfdHJhY2Vyc19iYXNlLmlzQmFzZVRyYWNlcihoYW5kbGVyKSkgaGFuZGxlci5fY3JlYXRlUnVuRm9yQ2hhdE1vZGVsU3RhcnQobGxtLCBbbWVzc2FnZUdyb3VwXSwgcnVuSWRfLCB0aGlzLl9wYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdHJldHVybiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFuZGxlci5oYW5kbGVDaGF0TW9kZWxTdGFydCkgYXdhaXQgaGFuZGxlci5oYW5kbGVDaGF0TW9kZWxTdGFydD8uKGxsbSwgW21lc3NhZ2VHcm91cF0sIHJ1bklkXywgdGhpcy5fcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoaGFuZGxlci5oYW5kbGVMTE1TdGFydCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBtZXNzYWdlU3RyaW5nID0gcmVxdWlyZV91dGlscy5nZXRCdWZmZXJTdHJpbmcobWVzc2FnZUdyb3VwKTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVMTE1TdGFydD8uKGxsbSwgW21lc3NhZ2VTdHJpbmddLCBydW5JZF8sIHRoaXMuX3BhcmVudFJ1bklkLCBleHRyYVBhcmFtcywgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0XHRcdGxvZ0Z1bmN0aW9uKGBFcnJvciBpbiBoYW5kbGVyICR7aGFuZGxlci5jb25zdHJ1Y3Rvci5uYW1lfSwgaGFuZGxlTExNU3RhcnQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKTtcblx0XHRcdH0pKTtcblx0XHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuKHJ1bklkXywgdGhpcy5oYW5kbGVycywgdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLCB0aGlzLnRhZ3MsIHRoaXMuaW5oZXJpdGFibGVUYWdzLCB0aGlzLm1ldGFkYXRhLCB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsIHRoaXMuX3BhcmVudFJ1bklkKTtcblx0XHR9KSk7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCA9ICgwLCB1dWlkLnY3KSgpLCBydW5UeXBlID0gdm9pZCAwLCBfdGFncyA9IHZvaWQgMCwgX21ldGFkYXRhID0gdm9pZCAwLCBydW5OYW1lID0gdm9pZCAwLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIGV4dHJhID0gdm9pZCAwKSB7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5oYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdGlmIChoYW5kbGVyLmlnbm9yZUNoYWluKSByZXR1cm47XG5cdFx0XHRpZiAocmVxdWlyZV90cmFjZXJzX2Jhc2UuaXNCYXNlVHJhY2VyKGhhbmRsZXIpKSBoYW5kbGVyLl9jcmVhdGVSdW5Gb3JDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5UeXBlLCBydW5OYW1lLCBleHRyYSk7XG5cdFx0XHRyZXR1cm4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBoYW5kbGVyLmhhbmRsZUNoYWluU3RhcnQ/LihjaGFpbiwgaW5wdXRzLCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuVHlwZSwgcnVuTmFtZSwgZXh0cmEpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVDaGFpblN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4ocnVuSWQsIHRoaXMuaGFuZGxlcnMsIHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycywgdGhpcy50YWdzLCB0aGlzLmluaGVyaXRhYmxlVGFncywgdGhpcy5tZXRhZGF0YSwgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhLCB0aGlzLl9wYXJlbnRSdW5JZCk7XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCA9ICgwLCB1dWlkLnY3KSgpLCBfcGFyZW50UnVuSWQgPSB2b2lkIDAsIF90YWdzID0gdm9pZCAwLCBfbWV0YWRhdGEgPSB2b2lkIDAsIHJ1bk5hbWUgPSB2b2lkIDApIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4ge1xuXHRcdFx0aWYgKGhhbmRsZXIuaWdub3JlQWdlbnQpIHJldHVybjtcblx0XHRcdGlmIChyZXF1aXJlX3RyYWNlcnNfYmFzZS5pc0Jhc2VUcmFjZXIoaGFuZGxlcikpIGhhbmRsZXIuX2NyZWF0ZVJ1bkZvclRvb2xTdGFydCh0b29sLCBpbnB1dCwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0cmV0dXJuIHJlcXVpcmVfY2FsbGJhY2tzLmNvbnN1bWVDYWxsYmFjayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVUb29sU3RhcnQ/Lih0b29sLCBpbnB1dCwgcnVuSWQsIHRoaXMuX3BhcmVudFJ1bklkLCB0aGlzLnRhZ3MsIHRoaXMubWV0YWRhdGEsIHJ1bk5hbWUpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRjb25zdCBsb2dGdW5jdGlvbiA9IGhhbmRsZXIucmFpc2VFcnJvciA/IGNvbnNvbGUuZXJyb3IgOiBjb25zb2xlLndhcm47XG5cdFx0XHRcdFx0bG9nRnVuY3Rpb24oYEVycm9yIGluIGhhbmRsZXIgJHtoYW5kbGVyLmNvbnN0cnVjdG9yLm5hbWV9LCBoYW5kbGVUb29sU3RhcnQ6ICR7ZXJyfWApO1xuXHRcdFx0XHRcdGlmIChoYW5kbGVyLnJhaXNlRXJyb3IpIHRocm93IGVycjtcblx0XHRcdFx0fVxuXHRcdFx0fSwgaGFuZGxlci5hd2FpdEhhbmRsZXJzKTtcblx0XHR9KSk7XG5cdFx0cmV0dXJuIG5ldyBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlclN0YXJ0KHJldHJpZXZlciwgcXVlcnksIHJ1bklkID0gKDAsIHV1aWQudjcpKCksIF9wYXJlbnRSdW5JZCA9IHZvaWQgMCwgX3RhZ3MgPSB2b2lkIDAsIF9tZXRhZGF0YSA9IHZvaWQgMCwgcnVuTmFtZSA9IHZvaWQgMCkge1xuXHRcdGF3YWl0IFByb21pc2UuYWxsKHRoaXMuaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRpZiAoaGFuZGxlci5pZ25vcmVSZXRyaWV2ZXIpIHJldHVybjtcblx0XHRcdGlmIChyZXF1aXJlX3RyYWNlcnNfYmFzZS5pc0Jhc2VUcmFjZXIoaGFuZGxlcikpIGhhbmRsZXIuX2NyZWF0ZVJ1bkZvclJldHJpZXZlclN0YXJ0KHJldHJpZXZlciwgcXVlcnksIHJ1bklkLCB0aGlzLl9wYXJlbnRSdW5JZCwgdGhpcy50YWdzLCB0aGlzLm1ldGFkYXRhLCBydW5OYW1lKTtcblx0XHRcdHJldHVybiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF3YWl0IGhhbmRsZXIuaGFuZGxlUmV0cmlldmVyU3RhcnQ/LihyZXRyaWV2ZXIsIHF1ZXJ5LCBydW5JZCwgdGhpcy5fcGFyZW50UnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSwgcnVuTmFtZSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnN0IGxvZ0Z1bmN0aW9uID0gaGFuZGxlci5yYWlzZUVycm9yID8gY29uc29sZS5lcnJvciA6IGNvbnNvbGUud2Fybjtcblx0XHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZVJldHJpZXZlclN0YXJ0OiAke2Vycn1gKTtcblx0XHRcdFx0XHRpZiAoaGFuZGxlci5yYWlzZUVycm9yKSB0aHJvdyBlcnI7XG5cdFx0XHRcdH1cblx0XHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycyk7XG5cdFx0fSkpO1xuXHRcdHJldHVybiBuZXcgQ2FsbGJhY2tNYW5hZ2VyRm9yUmV0cmlldmVyUnVuKHJ1bklkLCB0aGlzLmhhbmRsZXJzLCB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMsIHRoaXMudGFncywgdGhpcy5pbmhlcml0YWJsZVRhZ3MsIHRoaXMubWV0YWRhdGEsIHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSwgdGhpcy5fcGFyZW50UnVuSWQpO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgZGF0YSwgcnVuSWQsIF90YWdzLCBfbWV0YWRhdGEpIHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmhhbmRsZXJzLm1hcCgoaGFuZGxlcikgPT4gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghaGFuZGxlci5pZ25vcmVDdXN0b21FdmVudCkgdHJ5IHtcblx0XHRcdFx0YXdhaXQgaGFuZGxlci5oYW5kbGVDdXN0b21FdmVudD8uKGV2ZW50TmFtZSwgZGF0YSwgcnVuSWQsIHRoaXMudGFncywgdGhpcy5tZXRhZGF0YSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc3QgbG9nRnVuY3Rpb24gPSBoYW5kbGVyLnJhaXNlRXJyb3IgPyBjb25zb2xlLmVycm9yIDogY29uc29sZS53YXJuO1xuXHRcdFx0XHRsb2dGdW5jdGlvbihgRXJyb3IgaW4gaGFuZGxlciAke2hhbmRsZXIuY29uc3RydWN0b3IubmFtZX0sIGhhbmRsZUN1c3RvbUV2ZW50OiAke2Vycn1gKTtcblx0XHRcdFx0aWYgKGhhbmRsZXIucmFpc2VFcnJvcikgdGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH0sIGhhbmRsZXIuYXdhaXRIYW5kbGVycykpKTtcblx0fVxuXHRhZGRIYW5kbGVyKGhhbmRsZXIsIGluaGVyaXQgPSB0cnVlKSB7XG5cdFx0dGhpcy5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuXHRcdGlmIChpbmhlcml0KSB0aGlzLmluaGVyaXRhYmxlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0fVxuXHRyZW1vdmVIYW5kbGVyKGhhbmRsZXIpIHtcblx0XHR0aGlzLmhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5maWx0ZXIoKF9oYW5kbGVyKSA9PiBfaGFuZGxlciAhPT0gaGFuZGxlcik7XG5cdFx0dGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzID0gdGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzLmZpbHRlcigoX2hhbmRsZXIpID0+IF9oYW5kbGVyICE9PSBoYW5kbGVyKTtcblx0fVxuXHRzZXRIYW5kbGVycyhoYW5kbGVycywgaW5oZXJpdCA9IHRydWUpIHtcblx0XHR0aGlzLmhhbmRsZXJzID0gW107XG5cdFx0dGhpcy5pbmhlcml0YWJsZUhhbmRsZXJzID0gW107XG5cdFx0Zm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB0aGlzLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG5cdH1cblx0YWRkVGFncyh0YWdzLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdHRoaXMucmVtb3ZlVGFncyh0YWdzKTtcblx0XHR0aGlzLnRhZ3MucHVzaCguLi50YWdzKTtcblx0XHRpZiAoaW5oZXJpdCkgdGhpcy5pbmhlcml0YWJsZVRhZ3MucHVzaCguLi50YWdzKTtcblx0fVxuXHRyZW1vdmVUYWdzKHRhZ3MpIHtcblx0XHR0aGlzLnRhZ3MgPSB0aGlzLnRhZ3MuZmlsdGVyKCh0YWcpID0+ICF0YWdzLmluY2x1ZGVzKHRhZykpO1xuXHRcdHRoaXMuaW5oZXJpdGFibGVUYWdzID0gdGhpcy5pbmhlcml0YWJsZVRhZ3MuZmlsdGVyKCh0YWcpID0+ICF0YWdzLmluY2x1ZGVzKHRhZykpO1xuXHR9XG5cdGFkZE1ldGFkYXRhKG1ldGFkYXRhLCBpbmhlcml0ID0gdHJ1ZSkge1xuXHRcdHRoaXMubWV0YWRhdGEgPSB7XG5cdFx0XHQuLi50aGlzLm1ldGFkYXRhLFxuXHRcdFx0Li4ubWV0YWRhdGFcblx0XHR9O1xuXHRcdGlmIChpbmhlcml0KSB0aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEgPSB7XG5cdFx0XHQuLi50aGlzLmluaGVyaXRhYmxlTWV0YWRhdGEsXG5cdFx0XHQuLi5tZXRhZGF0YVxuXHRcdH07XG5cdH1cblx0cmVtb3ZlTWV0YWRhdGEobWV0YWRhdGEpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhtZXRhZGF0YSkpIHtcblx0XHRcdGRlbGV0ZSB0aGlzLm1ldGFkYXRhW2tleV07XG5cdFx0XHRkZWxldGUgdGhpcy5pbmhlcml0YWJsZU1ldGFkYXRhW2tleV07XG5cdFx0fVxuXHR9XG5cdGNvcHkoYWRkaXRpb25hbEhhbmRsZXJzID0gW10sIGluaGVyaXQgPSB0cnVlKSB7XG5cdFx0Y29uc3QgbWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIodGhpcy5fcGFyZW50UnVuSWQpO1xuXHRcdGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmhhbmRsZXJzKSB7XG5cdFx0XHRjb25zdCBpbmhlcml0YWJsZSA9IHRoaXMuaW5oZXJpdGFibGVIYW5kbGVycy5pbmNsdWRlcyhoYW5kbGVyKTtcblx0XHRcdG1hbmFnZXIuYWRkSGFuZGxlcihoYW5kbGVyLCBpbmhlcml0YWJsZSk7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgdGFnIG9mIHRoaXMudGFncykge1xuXHRcdFx0Y29uc3QgaW5oZXJpdGFibGUgPSB0aGlzLmluaGVyaXRhYmxlVGFncy5pbmNsdWRlcyh0YWcpO1xuXHRcdFx0bWFuYWdlci5hZGRUYWdzKFt0YWddLCBpbmhlcml0YWJsZSk7XG5cdFx0fVxuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubWV0YWRhdGEpKSB7XG5cdFx0XHRjb25zdCBpbmhlcml0YWJsZSA9IE9iamVjdC5rZXlzKHRoaXMuaW5oZXJpdGFibGVNZXRhZGF0YSkuaW5jbHVkZXMoa2V5KTtcblx0XHRcdG1hbmFnZXIuYWRkTWV0YWRhdGEoeyBba2V5XTogdGhpcy5tZXRhZGF0YVtrZXldIH0sIGluaGVyaXRhYmxlKTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCBoYW5kbGVyIG9mIGFkZGl0aW9uYWxIYW5kbGVycykge1xuXHRcdFx0aWYgKG1hbmFnZXIuaGFuZGxlcnMuZmlsdGVyKChoKSA9PiBoLm5hbWUgPT09IFwiY29uc29sZV9jYWxsYmFja19oYW5kbGVyXCIpLnNvbWUoKGgpID0+IGgubmFtZSA9PT0gaGFuZGxlci5uYW1lKSkgY29udGludWU7XG5cdFx0XHRtYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdCk7XG5cdFx0fVxuXHRcdHJldHVybiBtYW5hZ2VyO1xuXHR9XG5cdHN0YXRpYyBmcm9tSGFuZGxlcnMoaGFuZGxlcnMpIHtcblx0XHRjbGFzcyBIYW5kbGVyIGV4dGVuZHMgcmVxdWlyZV9jYWxsYmFja3NfYmFzZS5CYXNlQ2FsbGJhY2tIYW5kbGVyIHtcblx0XHRcdG5hbWUgPSAoMCwgdXVpZC52NykoKTtcblx0XHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0XHRzdXBlcigpO1xuXHRcdFx0XHRPYmplY3QuYXNzaWduKHRoaXMsIGhhbmRsZXJzKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgbWFuYWdlciA9IG5ldyB0aGlzKCk7XG5cdFx0bWFuYWdlci5hZGRIYW5kbGVyKG5ldyBIYW5kbGVyKCkpO1xuXHRcdHJldHVybiBtYW5hZ2VyO1xuXHR9XG5cdHN0YXRpYyBjb25maWd1cmUoaW5oZXJpdGFibGVIYW5kbGVycywgbG9jYWxIYW5kbGVycywgaW5oZXJpdGFibGVUYWdzLCBsb2NhbFRhZ3MsIGluaGVyaXRhYmxlTWV0YWRhdGEsIGxvY2FsTWV0YWRhdGEsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY29uZmlndXJlU3luYyhpbmhlcml0YWJsZUhhbmRsZXJzLCBsb2NhbEhhbmRsZXJzLCBpbmhlcml0YWJsZVRhZ3MsIGxvY2FsVGFncywgaW5oZXJpdGFibGVNZXRhZGF0YSwgbG9jYWxNZXRhZGF0YSwgb3B0aW9ucyk7XG5cdH1cblx0c3RhdGljIF9jb25maWd1cmVTeW5jKGluaGVyaXRhYmxlSGFuZGxlcnMsIGxvY2FsSGFuZGxlcnMsIGluaGVyaXRhYmxlVGFncywgbG9jYWxUYWdzLCBpbmhlcml0YWJsZU1ldGFkYXRhLCBsb2NhbE1ldGFkYXRhLCBvcHRpb25zKSB7XG5cdFx0bGV0IGNhbGxiYWNrTWFuYWdlcjtcblx0XHRpZiAoaW5oZXJpdGFibGVIYW5kbGVycyB8fCBsb2NhbEhhbmRsZXJzKSB7XG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShpbmhlcml0YWJsZUhhbmRsZXJzKSB8fCAhaW5oZXJpdGFibGVIYW5kbGVycykge1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKCk7XG5cdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5zZXRIYW5kbGVycyhpbmhlcml0YWJsZUhhbmRsZXJzPy5tYXAoZW5zdXJlSGFuZGxlcikgPz8gW10sIHRydWUpO1xuXHRcdFx0fSBlbHNlIGNhbGxiYWNrTWFuYWdlciA9IGluaGVyaXRhYmxlSGFuZGxlcnM7XG5cdFx0XHRjYWxsYmFja01hbmFnZXIgPSBjYWxsYmFja01hbmFnZXIuY29weShBcnJheS5pc0FycmF5KGxvY2FsSGFuZGxlcnMpID8gbG9jYWxIYW5kbGVycy5tYXAoZW5zdXJlSGFuZGxlcikgOiBsb2NhbEhhbmRsZXJzPy5oYW5kbGVycywgZmFsc2UpO1xuXHRcdH1cblx0XHRjb25zdCB2ZXJib3NlRW5hYmxlZCA9IHJlcXVpcmVfdXRpbHNfZW52LmdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fVkVSQk9TRVwiKSA9PT0gXCJ0cnVlXCIgfHwgb3B0aW9ucz8udmVyYm9zZTtcblx0XHRjb25zdCB0cmFjaW5nVjJFbmFibGVkID0gcmVxdWlyZV90cmFjZXJzX3RyYWNlcl9sYW5nY2hhaW4uTGFuZ0NoYWluVHJhY2VyLmdldFRyYWNlYWJsZVJ1blRyZWUoKT8udHJhY2luZ0VuYWJsZWQgfHwgcmVxdWlyZV9jYWxsYmFja3MkMS5pc1RyYWNpbmdFbmFibGVkKCk7XG5cdFx0Y29uc3QgdHJhY2luZ0VuYWJsZWQgPSB0cmFjaW5nVjJFbmFibGVkIHx8IChyZXF1aXJlX3V0aWxzX2Vudi5nZXRFbnZpcm9ubWVudFZhcmlhYmxlKFwiTEFOR0NIQUlOX1RSQUNJTkdcIikgPz8gZmFsc2UpO1xuXHRcdGlmICh2ZXJib3NlRW5hYmxlZCB8fCB0cmFjaW5nRW5hYmxlZCkge1xuXHRcdFx0aWYgKCFjYWxsYmFja01hbmFnZXIpIGNhbGxiYWNrTWFuYWdlciA9IG5ldyBDYWxsYmFja01hbmFnZXIoKTtcblx0XHRcdGlmICh2ZXJib3NlRW5hYmxlZCAmJiAhY2FsbGJhY2tNYW5hZ2VyLmhhbmRsZXJzLnNvbWUoKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gcmVxdWlyZV90cmFjZXJzX2NvbnNvbGUuQ29uc29sZUNhbGxiYWNrSGFuZGxlci5wcm90b3R5cGUubmFtZSkpIHtcblx0XHRcdFx0Y29uc3QgY29uc29sZUhhbmRsZXIgPSBuZXcgcmVxdWlyZV90cmFjZXJzX2NvbnNvbGUuQ29uc29sZUNhbGxiYWNrSGFuZGxlcigpO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkSGFuZGxlcihjb25zb2xlSGFuZGxlciwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHJhY2luZ0VuYWJsZWQgJiYgIWNhbGxiYWNrTWFuYWdlci5oYW5kbGVycy5zb21lKChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IFwibGFuZ2NoYWluX3RyYWNlclwiKSkge1xuXHRcdFx0XHRpZiAodHJhY2luZ1YyRW5hYmxlZCkge1xuXHRcdFx0XHRcdGNvbnN0IHRyYWNlclYyID0gbmV3IHJlcXVpcmVfdHJhY2Vyc190cmFjZXJfbGFuZ2NoYWluLkxhbmdDaGFpblRyYWNlcigpO1xuXHRcdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5hZGRIYW5kbGVyKHRyYWNlclYyLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRyYWNpbmdWMkVuYWJsZWQpIHtcblx0XHRcdFx0Y29uc3QgaW1wbGljaXRSdW5UcmVlID0gcmVxdWlyZV90cmFjZXJzX3RyYWNlcl9sYW5nY2hhaW4uTGFuZ0NoYWluVHJhY2VyLmdldFRyYWNlYWJsZVJ1blRyZWUoKTtcblx0XHRcdFx0aWYgKGltcGxpY2l0UnVuVHJlZSAmJiBjYWxsYmFja01hbmFnZXIuX3BhcmVudFJ1bklkID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRjYWxsYmFja01hbmFnZXIuX3BhcmVudFJ1bklkID0gaW1wbGljaXRSdW5UcmVlLmlkO1xuXHRcdFx0XHRcdGNvbnN0IHRyYWNlclYyID0gY2FsbGJhY2tNYW5hZ2VyLmhhbmRsZXJzLmZpbmQoKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gXCJsYW5nY2hhaW5fdHJhY2VyXCIpO1xuXHRcdFx0XHRcdHRyYWNlclYyPy51cGRhdGVGcm9tUnVuVHJlZShpbXBsaWNpdFJ1blRyZWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgeyBjb250ZXh0VmFyLCBpbmhlcml0YWJsZSA9IHRydWUsIGhhbmRsZXJDbGFzcywgZW52VmFyIH0gb2YgcmVxdWlyZV9jb250ZXh0Ll9nZXRDb25maWd1cmVIb29rcygpKSB7XG5cdFx0XHRjb25zdCBjcmVhdGVJZk5vdEluQ29udGV4dCA9IGVudlZhciAmJiByZXF1aXJlX3V0aWxzX2Vudi5nZXRFbnZpcm9ubWVudFZhcmlhYmxlKGVudlZhcikgPT09IFwidHJ1ZVwiICYmIGhhbmRsZXJDbGFzcztcblx0XHRcdGxldCBoYW5kbGVyO1xuXHRcdFx0Y29uc3QgY29udGV4dFZhclZhbHVlID0gY29udGV4dFZhciAhPT0gdm9pZCAwID8gcmVxdWlyZV9jb250ZXh0LmdldENvbnRleHRWYXJpYWJsZShjb250ZXh0VmFyKSA6IHZvaWQgMDtcblx0XHRcdGlmIChjb250ZXh0VmFyVmFsdWUgJiYgcmVxdWlyZV9jYWxsYmFja3NfYmFzZS5pc0Jhc2VDYWxsYmFja0hhbmRsZXIoY29udGV4dFZhclZhbHVlKSkgaGFuZGxlciA9IGNvbnRleHRWYXJWYWx1ZTtcblx0XHRcdGVsc2UgaWYgKGNyZWF0ZUlmTm90SW5Db250ZXh0KSBoYW5kbGVyID0gbmV3IGhhbmRsZXJDbGFzcyh7fSk7XG5cdFx0XHRpZiAoaGFuZGxlciAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGlmICghY2FsbGJhY2tNYW5hZ2VyKSBjYWxsYmFja01hbmFnZXIgPSBuZXcgQ2FsbGJhY2tNYW5hZ2VyKCk7XG5cdFx0XHRcdGlmICghY2FsbGJhY2tNYW5hZ2VyLmhhbmRsZXJzLnNvbWUoKGgpID0+IGgubmFtZSA9PT0gaGFuZGxlci5uYW1lKSkgY2FsbGJhY2tNYW5hZ2VyLmFkZEhhbmRsZXIoaGFuZGxlciwgaW5oZXJpdGFibGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoaW5oZXJpdGFibGVUYWdzIHx8IGxvY2FsVGFncykge1xuXHRcdFx0aWYgKGNhbGxiYWNrTWFuYWdlcikge1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkVGFncyhpbmhlcml0YWJsZVRhZ3MgPz8gW10pO1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkVGFncyhsb2NhbFRhZ3MgPz8gW10sIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGluaGVyaXRhYmxlTWV0YWRhdGEgfHwgbG9jYWxNZXRhZGF0YSkge1xuXHRcdFx0aWYgKGNhbGxiYWNrTWFuYWdlcikge1xuXHRcdFx0XHRjYWxsYmFja01hbmFnZXIuYWRkTWV0YWRhdGEoaW5oZXJpdGFibGVNZXRhZGF0YSA/PyB7fSk7XG5cdFx0XHRcdGNhbGxiYWNrTWFuYWdlci5hZGRNZXRhZGF0YShsb2NhbE1ldGFkYXRhID8/IHt9LCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWxsYmFja01hbmFnZXI7XG5cdH1cbn07XG5mdW5jdGlvbiBlbnN1cmVIYW5kbGVyKGhhbmRsZXIpIHtcblx0aWYgKFwibmFtZVwiIGluIGhhbmRsZXIpIHJldHVybiBoYW5kbGVyO1xuXHRyZXR1cm4gcmVxdWlyZV9jYWxsYmFja3NfYmFzZS5CYXNlQ2FsbGJhY2tIYW5kbGVyLmZyb21NZXRob2RzKGhhbmRsZXIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQmFzZUNhbGxiYWNrTWFuYWdlciA9IEJhc2VDYWxsYmFja01hbmFnZXI7XG5leHBvcnRzLkJhc2VSdW5NYW5hZ2VyID0gQmFzZVJ1bk1hbmFnZXI7XG5leHBvcnRzLkNhbGxiYWNrTWFuYWdlciA9IENhbGxiYWNrTWFuYWdlcjtcbmV4cG9ydHMuQ2FsbGJhY2tNYW5hZ2VyRm9yQ2hhaW5SdW4gPSBDYWxsYmFja01hbmFnZXJGb3JDaGFpblJ1bjtcbmV4cG9ydHMuQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuID0gQ2FsbGJhY2tNYW5hZ2VyRm9yTExNUnVuO1xuZXhwb3J0cy5DYWxsYmFja01hbmFnZXJGb3JSZXRyaWV2ZXJSdW4gPSBDYWxsYmFja01hbmFnZXJGb3JSZXRyaWV2ZXJSdW47XG5leHBvcnRzLkNhbGxiYWNrTWFuYWdlckZvclRvb2xSdW4gPSBDYWxsYmFja01hbmFnZXJGb3JUb29sUnVuO1xuZXhwb3J0cy5lbnN1cmVIYW5kbGVyID0gZW5zdXJlSGFuZGxlcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbWFuYWdlcl9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbWFuYWdlcl9leHBvcnRzO1xuICB9XG59KTtcbmV4cG9ydHMucGFyc2VDYWxsYmFja0NvbmZpZ0FyZyA9IHBhcnNlQ2FsbGJhY2tDb25maWdBcmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYW5hZ2VyLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/callbacks/manager.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/callbacks/promises.cjs":
/*!******************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/callbacks/promises.cjs ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_callbacks = __webpack_require__(/*! ../singletons/callbacks.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/callbacks.cjs\");\n\n//#region src/callbacks/promises.ts\nvar promises_exports = {};\nrequire_rolldown_runtime.__export(promises_exports, {\n\tawaitAllCallbacks: () => require_callbacks.awaitAllCallbacks,\n\tconsumeCallback: () => require_callbacks.consumeCallback\n});\n\n//#endregion\nexports.awaitAllCallbacks = require_callbacks.awaitAllCallbacks;\nexports.consumeCallback = require_callbacks.consumeCallback;\nObject.defineProperty(exports, \"promises_exports\", ({\n  enumerable: true,\n  get: function () {\n    return promises_exports;\n  }\n}));\n//# sourceMappingURL=promises.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9jYWxsYmFja3MvcHJvbWlzZXMuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSwwQkFBMEIsbUJBQU8sQ0FBQyxrSEFBNkI7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EseUJBQXlCO0FBQ3pCLHVCQUF1QjtBQUN2QixvREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvY2FsbGJhY2tzL3Byb21pc2VzLmNqcz9lMWNhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2NhbGxiYWNrcyA9IHJlcXVpcmUoJy4uL3NpbmdsZXRvbnMvY2FsbGJhY2tzLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL2NhbGxiYWNrcy9wcm9taXNlcy50c1xudmFyIHByb21pc2VzX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChwcm9taXNlc19leHBvcnRzLCB7XG5cdGF3YWl0QWxsQ2FsbGJhY2tzOiAoKSA9PiByZXF1aXJlX2NhbGxiYWNrcy5hd2FpdEFsbENhbGxiYWNrcyxcblx0Y29uc3VtZUNhbGxiYWNrOiAoKSA9PiByZXF1aXJlX2NhbGxiYWNrcy5jb25zdW1lQ2FsbGJhY2tcbn0pO1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuYXdhaXRBbGxDYWxsYmFja3MgPSByZXF1aXJlX2NhbGxiYWNrcy5hd2FpdEFsbENhbGxiYWNrcztcbmV4cG9ydHMuY29uc3VtZUNhbGxiYWNrID0gcmVxdWlyZV9jYWxsYmFja3MuY29uc3VtZUNhbGxiYWNrO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdwcm9taXNlc19leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvbWlzZXNfZXhwb3J0cztcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlcy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/callbacks/promises.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/errors/index.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/errors/index.cjs ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/errors/index.ts\nfunction addLangChainErrorFields(error, lc_error_code) {\n\terror.lc_error_code = lc_error_code;\n\terror.message = `${error.message}\\n\\nTroubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${lc_error_code}/\\n`;\n\treturn error;\n}\n\n//#endregion\nexports.addLangChainErrorFields = addLangChainErrorFields;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lcnJvcnMvaW5kZXguY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYyxzRkFBc0YsY0FBYztBQUN0STtBQUNBOztBQUVBO0FBQ0EsK0JBQStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9lcnJvcnMvaW5kZXguY2pzPzBkN2IiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyNyZWdpb24gc3JjL2Vycm9ycy9pbmRleC50c1xuZnVuY3Rpb24gYWRkTGFuZ0NoYWluRXJyb3JGaWVsZHMoZXJyb3IsIGxjX2Vycm9yX2NvZGUpIHtcblx0ZXJyb3IubGNfZXJyb3JfY29kZSA9IGxjX2Vycm9yX2NvZGU7XG5cdGVycm9yLm1lc3NhZ2UgPSBgJHtlcnJvci5tZXNzYWdlfVxcblxcblRyb3VibGVzaG9vdGluZyBVUkw6IGh0dHBzOi8vZG9jcy5sYW5nY2hhaW4uY29tL29zcy9qYXZhc2NyaXB0L2xhbmdjaGFpbi9lcnJvcnMvJHtsY19lcnJvcl9jb2RlfS9cXG5gO1xuXHRyZXR1cm4gZXJyb3I7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5hZGRMYW5nQ2hhaW5FcnJvckZpZWxkcyA9IGFkZExhbmdDaGFpbkVycm9yRmllbGRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/errors/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/language_models/base.cjs":
/*!********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/language_models/base.cjs ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils = __webpack_require__(/*! ../messages/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\");\nconst require_utils_async_caller = __webpack_require__(/*! ../utils/async_caller.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/async_caller.cjs\");\nconst require_base = __webpack_require__(/*! ../runnables/base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/base.cjs\");\nconst require_prompt_values = __webpack_require__(/*! ../prompt_values.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/prompt_values.cjs\");\nconst require_caches_index = __webpack_require__(/*! ../caches/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/caches/index.cjs\");\nconst require_utils_tiktoken = __webpack_require__(/*! ../utils/tiktoken.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/tiktoken.cjs\");\n\n//#region src/language_models/base.ts\nvar base_exports = {};\nrequire_rolldown_runtime.__export(base_exports, {\n\tBaseLangChain: () => BaseLangChain,\n\tBaseLanguageModel: () => BaseLanguageModel,\n\tcalculateMaxTokens: () => calculateMaxTokens,\n\tgetEmbeddingContextSize: () => getEmbeddingContextSize,\n\tgetModelContextSize: () => getModelContextSize,\n\tgetModelNameForTiktoken: () => getModelNameForTiktoken,\n\tisOpenAITool: () => isOpenAITool\n});\nconst getModelNameForTiktoken = (modelName) => {\n\tif (modelName.startsWith(\"gpt-5\")) return \"gpt-5\";\n\tif (modelName.startsWith(\"gpt-3.5-turbo-16k\")) return \"gpt-3.5-turbo-16k\";\n\tif (modelName.startsWith(\"gpt-3.5-turbo-\")) return \"gpt-3.5-turbo\";\n\tif (modelName.startsWith(\"gpt-4-32k\")) return \"gpt-4-32k\";\n\tif (modelName.startsWith(\"gpt-4-\")) return \"gpt-4\";\n\tif (modelName.startsWith(\"gpt-4o\")) return \"gpt-4o\";\n\treturn modelName;\n};\nconst getEmbeddingContextSize = (modelName) => {\n\tswitch (modelName) {\n\t\tcase \"text-embedding-ada-002\": return 8191;\n\t\tdefault: return 2046;\n\t}\n};\n/**\n* Get the context window size (max input tokens) for a given model.\n*\n* Context window sizes are sourced from official model documentation:\n* - OpenAI: https://platform.openai.com/docs/models\n* - Anthropic: https://docs.anthropic.com/claude/docs/models-overview\n* - Google: https://ai.google.dev/gemini/docs/models/gemini\n*\n* @param modelName - The name of the model\n* @returns The context window size in tokens\n*/\nconst getModelContextSize = (modelName) => {\n\tconst normalizedName = getModelNameForTiktoken(modelName);\n\tswitch (normalizedName) {\n\t\tcase \"gpt-5\":\n\t\tcase \"gpt-5-turbo\":\n\t\tcase \"gpt-5-turbo-preview\": return 4e5;\n\t\tcase \"gpt-4o\":\n\t\tcase \"gpt-4o-mini\":\n\t\tcase \"gpt-4o-2024-05-13\":\n\t\tcase \"gpt-4o-2024-08-06\": return 128e3;\n\t\tcase \"gpt-4-turbo\":\n\t\tcase \"gpt-4-turbo-preview\":\n\t\tcase \"gpt-4-turbo-2024-04-09\":\n\t\tcase \"gpt-4-0125-preview\":\n\t\tcase \"gpt-4-1106-preview\": return 128e3;\n\t\tcase \"gpt-4-32k\":\n\t\tcase \"gpt-4-32k-0314\":\n\t\tcase \"gpt-4-32k-0613\": return 32768;\n\t\tcase \"gpt-4\":\n\t\tcase \"gpt-4-0314\":\n\t\tcase \"gpt-4-0613\": return 8192;\n\t\tcase \"gpt-3.5-turbo-16k\":\n\t\tcase \"gpt-3.5-turbo-16k-0613\": return 16384;\n\t\tcase \"gpt-3.5-turbo\":\n\t\tcase \"gpt-3.5-turbo-0301\":\n\t\tcase \"gpt-3.5-turbo-0613\":\n\t\tcase \"gpt-3.5-turbo-1106\":\n\t\tcase \"gpt-3.5-turbo-0125\": return 4096;\n\t\tcase \"text-davinci-003\":\n\t\tcase \"text-davinci-002\": return 4097;\n\t\tcase \"text-davinci-001\": return 2049;\n\t\tcase \"text-curie-001\":\n\t\tcase \"text-babbage-001\":\n\t\tcase \"text-ada-001\": return 2048;\n\t\tcase \"code-davinci-002\":\n\t\tcase \"code-davinci-001\": return 8e3;\n\t\tcase \"code-cushman-001\": return 2048;\n\t\tcase \"claude-3-5-sonnet-20241022\":\n\t\tcase \"claude-3-5-sonnet-20240620\":\n\t\tcase \"claude-3-opus-20240229\":\n\t\tcase \"claude-3-sonnet-20240229\":\n\t\tcase \"claude-3-haiku-20240307\":\n\t\tcase \"claude-2.1\": return 2e5;\n\t\tcase \"claude-2.0\":\n\t\tcase \"claude-instant-1.2\": return 1e5;\n\t\tcase \"gemini-1.5-pro\":\n\t\tcase \"gemini-1.5-pro-latest\":\n\t\tcase \"gemini-1.5-flash\":\n\t\tcase \"gemini-1.5-flash-latest\": return 1e6;\n\t\tcase \"gemini-pro\":\n\t\tcase \"gemini-pro-vision\": return 32768;\n\t\tdefault: return 4097;\n\t}\n};\n/**\n* Whether or not the input matches the OpenAI tool definition.\n* @param {unknown} tool The input to check.\n* @returns {boolean} Whether the input is an OpenAI tool definition.\n*/\nfunction isOpenAITool(tool) {\n\tif (typeof tool !== \"object\" || !tool) return false;\n\tif (\"type\" in tool && tool.type === \"function\" && \"function\" in tool && typeof tool.function === \"object\" && tool.function && \"name\" in tool.function && \"parameters\" in tool.function) return true;\n\treturn false;\n}\nconst calculateMaxTokens = async ({ prompt, modelName }) => {\n\tlet numTokens;\n\ttry {\n\t\tnumTokens = (await require_utils_tiktoken.encodingForModel(getModelNameForTiktoken(modelName))).encode(prompt).length;\n\t} catch {\n\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\");\n\t\tnumTokens = Math.ceil(prompt.length / 4);\n\t}\n\tconst maxTokens = getModelContextSize(modelName);\n\treturn maxTokens - numTokens;\n};\nconst getVerbosity = () => false;\n/**\n* Base class for language models, chains, tools.\n*/\nvar BaseLangChain = class extends require_base.Runnable {\n\t/**\n\t* Whether to print out response text.\n\t*/\n\tverbose;\n\tcallbacks;\n\ttags;\n\tmetadata;\n\tget lc_attributes() {\n\t\treturn {\n\t\t\tcallbacks: void 0,\n\t\t\tverbose: void 0\n\t\t};\n\t}\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.verbose = params.verbose ?? getVerbosity();\n\t\tthis.callbacks = params.callbacks;\n\t\tthis.tags = params.tags ?? [];\n\t\tthis.metadata = params.metadata ?? {};\n\t}\n};\n/**\n* Base class for language models.\n*/\nvar BaseLanguageModel = class extends BaseLangChain {\n\t/**\n\t* Keys that the language model accepts as call options.\n\t*/\n\tget callKeys() {\n\t\treturn [\n\t\t\t\"stop\",\n\t\t\t\"timeout\",\n\t\t\t\"signal\",\n\t\t\t\"tags\",\n\t\t\t\"metadata\",\n\t\t\t\"callbacks\"\n\t\t];\n\t}\n\t/**\n\t* The async caller should be used by subclasses to make any async calls,\n\t* which will thus benefit from the concurrency and retry logic.\n\t*/\n\tcaller;\n\tcache;\n\tconstructor({ callbacks, callbackManager,...params }) {\n\t\tconst { cache,...rest } = params;\n\t\tsuper({\n\t\t\tcallbacks: callbacks ?? callbackManager,\n\t\t\t...rest\n\t\t});\n\t\tif (typeof cache === \"object\") this.cache = cache;\n\t\telse if (cache) this.cache = require_caches_index.InMemoryCache.global();\n\t\telse this.cache = void 0;\n\t\tthis.caller = new require_utils_async_caller.AsyncCaller(params ?? {});\n\t}\n\t_encoding;\n\t/**\n\t* Get the number of tokens in the content.\n\t* @param content The content to get the number of tokens for.\n\t* @returns The number of tokens in the content.\n\t*/\n\tasync getNumTokens(content) {\n\t\tlet textContent;\n\t\tif (typeof content === \"string\") textContent = content;\n\t\telse\n /**\n\t\t* Content is an array of ContentBlock\n\t\t*\n\t\t* ToDo(@christian-bromann): This is a temporary fix to get the number of tokens for the content.\n\t\t* We need to find a better way to do this.\n\t\t* @see https://github.com/langchain-ai/langchainjs/pull/8341#pullrequestreview-2933713116\n\t\t*/\n\t\ttextContent = content.map((item) => {\n\t\t\tif (typeof item === \"string\") return item;\n\t\t\tif (item.type === \"text\" && \"text\" in item) return item.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t\tlet numTokens = Math.ceil(textContent.length / 4);\n\t\tif (!this._encoding) try {\n\t\t\tthis._encoding = await require_utils_tiktoken.encodingForModel(\"modelName\" in this ? getModelNameForTiktoken(this.modelName) : \"gpt2\");\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\tif (this._encoding) try {\n\t\t\tnumTokens = this._encoding.encode(textContent).length;\n\t\t} catch (error) {\n\t\t\tconsole.warn(\"Failed to calculate number of tokens, falling back to approximate count\", error);\n\t\t}\n\t\treturn numTokens;\n\t}\n\tstatic _convertInputToPromptValue(input) {\n\t\tif (typeof input === \"string\") return new require_prompt_values.StringPromptValue(input);\n\t\telse if (Array.isArray(input)) return new require_prompt_values.ChatPromptValue(input.map(require_utils.coerceMessageLikeToMessage));\n\t\telse return input;\n\t}\n\t/**\n\t* Get the identifying parameters of the LLM.\n\t*/\n\t_identifyingParams() {\n\t\treturn {};\n\t}\n\t/**\n\t* Create a unique cache key for a specific call to a specific language model.\n\t* @param callOptions Call options for the model\n\t* @returns A unique cache key.\n\t*/\n\t_getSerializedCacheKeyParametersForCall({ config,...callOptions }) {\n\t\tconst params = {\n\t\t\t...this._identifyingParams(),\n\t\t\t...callOptions,\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t\tconst filteredEntries = Object.entries(params).filter(([_, value]) => value !== void 0);\n\t\tconst serializedEntries = filteredEntries.map(([key, value]) => `${key}:${JSON.stringify(value)}`).sort().join(\",\");\n\t\treturn serializedEntries;\n\t}\n\t/**\n\t* @deprecated\n\t* Return a json-like object representing this LLM.\n\t*/\n\tserialize() {\n\t\treturn {\n\t\t\t...this._identifyingParams(),\n\t\t\t_type: this._llmType(),\n\t\t\t_model: this._modelType()\n\t\t};\n\t}\n\t/**\n\t* @deprecated\n\t* Load an LLM from a json-like object describing it.\n\t*/\n\tstatic async deserialize(_data) {\n\t\tthrow new Error(\"Use .toJSON() instead\");\n\t}\n\t/**\n\t* Return profiling information for the model.\n\t*\n\t* @returns {ModelProfile} An object describing the model's capabilities and constraints\n\t*/\n\tget profile() {\n\t\treturn {};\n\t}\n};\n\n//#endregion\nexports.BaseLangChain = BaseLangChain;\nexports.BaseLanguageModel = BaseLanguageModel;\nObject.defineProperty(exports, \"base_exports\", ({\n  enumerable: true,\n  get: function () {\n    return base_exports;\n  }\n}));\nexports.calculateMaxTokens = calculateMaxTokens;\nexports.getEmbeddingContextSize = getEmbeddingContextSize;\nexports.getModelContextSize = getModelContextSize;\nexports.getModelNameForTiktoken = getModelNameForTiktoken;\nexports.isOpenAITool = isOpenAITool;\n//# sourceMappingURL=base.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sYW5ndWFnZV9tb2RlbHMvYmFzZS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLHNCQUFzQixtQkFBTyxDQUFDLHNHQUF1QjtBQUNyRCxtQ0FBbUMsbUJBQU8sQ0FBQyw4R0FBMkI7QUFDdEUscUJBQXFCLG1CQUFPLENBQUMsc0dBQXVCO0FBQ3BELDhCQUE4QixtQkFBTyxDQUFDLG9HQUFzQjtBQUM1RCw2QkFBNkIsbUJBQU8sQ0FBQyxrR0FBcUI7QUFDMUQsK0JBQStCLG1CQUFPLENBQUMsc0dBQXVCOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNDQUFzQztBQUNyRCxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVCQUF1QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxJQUFJLEdBQUcsc0JBQXNCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQix5QkFBeUI7QUFDekIsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMEJBQTBCO0FBQzFCLCtCQUErQjtBQUMvQiwyQkFBMkI7QUFDM0IsK0JBQStCO0FBQy9CLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UuY2pzPzdiODkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuLi9tZXNzYWdlcy91dGlscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHNfYXN5bmNfY2FsbGVyID0gcmVxdWlyZSgnLi4vdXRpbHMvYXN5bmNfY2FsbGVyLmNqcycpO1xuY29uc3QgcmVxdWlyZV9iYXNlID0gcmVxdWlyZSgnLi4vcnVubmFibGVzL2Jhc2UuY2pzJyk7XG5jb25zdCByZXF1aXJlX3Byb21wdF92YWx1ZXMgPSByZXF1aXJlKCcuLi9wcm9tcHRfdmFsdWVzLmNqcycpO1xuY29uc3QgcmVxdWlyZV9jYWNoZXNfaW5kZXggPSByZXF1aXJlKCcuLi9jYWNoZXMvaW5kZXguY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzX3Rpa3Rva2VuID0gcmVxdWlyZSgnLi4vdXRpbHMvdGlrdG9rZW4uY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UudHNcbnZhciBiYXNlX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChiYXNlX2V4cG9ydHMsIHtcblx0QmFzZUxhbmdDaGFpbjogKCkgPT4gQmFzZUxhbmdDaGFpbixcblx0QmFzZUxhbmd1YWdlTW9kZWw6ICgpID0+IEJhc2VMYW5ndWFnZU1vZGVsLFxuXHRjYWxjdWxhdGVNYXhUb2tlbnM6ICgpID0+IGNhbGN1bGF0ZU1heFRva2Vucyxcblx0Z2V0RW1iZWRkaW5nQ29udGV4dFNpemU6ICgpID0+IGdldEVtYmVkZGluZ0NvbnRleHRTaXplLFxuXHRnZXRNb2RlbENvbnRleHRTaXplOiAoKSA9PiBnZXRNb2RlbENvbnRleHRTaXplLFxuXHRnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbjogKCkgPT4gZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4sXG5cdGlzT3BlbkFJVG9vbDogKCkgPT4gaXNPcGVuQUlUb29sXG59KTtcbmNvbnN0IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuID0gKG1vZGVsTmFtZSkgPT4ge1xuXHRpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoXCJncHQtNVwiKSkgcmV0dXJuIFwiZ3B0LTVcIjtcblx0aWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTMuNS10dXJiby0xNmtcIikpIHJldHVybiBcImdwdC0zLjUtdHVyYm8tMTZrXCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC0zLjUtdHVyYm8tXCIpKSByZXR1cm4gXCJncHQtMy41LXR1cmJvXCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00LTMya1wiKSkgcmV0dXJuIFwiZ3B0LTQtMzJrXCI7XG5cdGlmIChtb2RlbE5hbWUuc3RhcnRzV2l0aChcImdwdC00LVwiKSkgcmV0dXJuIFwiZ3B0LTRcIjtcblx0aWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKFwiZ3B0LTRvXCIpKSByZXR1cm4gXCJncHQtNG9cIjtcblx0cmV0dXJuIG1vZGVsTmFtZTtcbn07XG5jb25zdCBnZXRFbWJlZGRpbmdDb250ZXh0U2l6ZSA9IChtb2RlbE5hbWUpID0+IHtcblx0c3dpdGNoIChtb2RlbE5hbWUpIHtcblx0XHRjYXNlIFwidGV4dC1lbWJlZGRpbmctYWRhLTAwMlwiOiByZXR1cm4gODE5MTtcblx0XHRkZWZhdWx0OiByZXR1cm4gMjA0Njtcblx0fVxufTtcbi8qKlxuKiBHZXQgdGhlIGNvbnRleHQgd2luZG93IHNpemUgKG1heCBpbnB1dCB0b2tlbnMpIGZvciBhIGdpdmVuIG1vZGVsLlxuKlxuKiBDb250ZXh0IHdpbmRvdyBzaXplcyBhcmUgc291cmNlZCBmcm9tIG9mZmljaWFsIG1vZGVsIGRvY3VtZW50YXRpb246XG4qIC0gT3BlbkFJOiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHNcbiogLSBBbnRocm9waWM6IGh0dHBzOi8vZG9jcy5hbnRocm9waWMuY29tL2NsYXVkZS9kb2NzL21vZGVscy1vdmVydmlld1xuKiAtIEdvb2dsZTogaHR0cHM6Ly9haS5nb29nbGUuZGV2L2dlbWluaS9kb2NzL21vZGVscy9nZW1pbmlcbipcbiogQHBhcmFtIG1vZGVsTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtb2RlbFxuKiBAcmV0dXJucyBUaGUgY29udGV4dCB3aW5kb3cgc2l6ZSBpbiB0b2tlbnNcbiovXG5jb25zdCBnZXRNb2RlbENvbnRleHRTaXplID0gKG1vZGVsTmFtZSkgPT4ge1xuXHRjb25zdCBub3JtYWxpemVkTmFtZSA9IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKG1vZGVsTmFtZSk7XG5cdHN3aXRjaCAobm9ybWFsaXplZE5hbWUpIHtcblx0XHRjYXNlIFwiZ3B0LTVcIjpcblx0XHRjYXNlIFwiZ3B0LTUtdHVyYm9cIjpcblx0XHRjYXNlIFwiZ3B0LTUtdHVyYm8tcHJldmlld1wiOiByZXR1cm4gNGU1O1xuXHRcdGNhc2UgXCJncHQtNG9cIjpcblx0XHRjYXNlIFwiZ3B0LTRvLW1pbmlcIjpcblx0XHRjYXNlIFwiZ3B0LTRvLTIwMjQtMDUtMTNcIjpcblx0XHRjYXNlIFwiZ3B0LTRvLTIwMjQtMDgtMDZcIjogcmV0dXJuIDEyOGUzO1xuXHRcdGNhc2UgXCJncHQtNC10dXJib1wiOlxuXHRcdGNhc2UgXCJncHQtNC10dXJiby1wcmV2aWV3XCI6XG5cdFx0Y2FzZSBcImdwdC00LXR1cmJvLTIwMjQtMDQtMDlcIjpcblx0XHRjYXNlIFwiZ3B0LTQtMDEyNS1wcmV2aWV3XCI6XG5cdFx0Y2FzZSBcImdwdC00LTExMDYtcHJldmlld1wiOiByZXR1cm4gMTI4ZTM7XG5cdFx0Y2FzZSBcImdwdC00LTMya1wiOlxuXHRcdGNhc2UgXCJncHQtNC0zMmstMDMxNFwiOlxuXHRcdGNhc2UgXCJncHQtNC0zMmstMDYxM1wiOiByZXR1cm4gMzI3Njg7XG5cdFx0Y2FzZSBcImdwdC00XCI6XG5cdFx0Y2FzZSBcImdwdC00LTAzMTRcIjpcblx0XHRjYXNlIFwiZ3B0LTQtMDYxM1wiOiByZXR1cm4gODE5Mjtcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0xNmtcIjpcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0xNmstMDYxM1wiOiByZXR1cm4gMTYzODQ7XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm9cIjpcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0wMzAxXCI6XG5cdFx0Y2FzZSBcImdwdC0zLjUtdHVyYm8tMDYxM1wiOlxuXHRcdGNhc2UgXCJncHQtMy41LXR1cmJvLTExMDZcIjpcblx0XHRjYXNlIFwiZ3B0LTMuNS10dXJiby0wMTI1XCI6IHJldHVybiA0MDk2O1xuXHRcdGNhc2UgXCJ0ZXh0LWRhdmluY2ktMDAzXCI6XG5cdFx0Y2FzZSBcInRleHQtZGF2aW5jaS0wMDJcIjogcmV0dXJuIDQwOTc7XG5cdFx0Y2FzZSBcInRleHQtZGF2aW5jaS0wMDFcIjogcmV0dXJuIDIwNDk7XG5cdFx0Y2FzZSBcInRleHQtY3VyaWUtMDAxXCI6XG5cdFx0Y2FzZSBcInRleHQtYmFiYmFnZS0wMDFcIjpcblx0XHRjYXNlIFwidGV4dC1hZGEtMDAxXCI6IHJldHVybiAyMDQ4O1xuXHRcdGNhc2UgXCJjb2RlLWRhdmluY2ktMDAyXCI6XG5cdFx0Y2FzZSBcImNvZGUtZGF2aW5jaS0wMDFcIjogcmV0dXJuIDhlMztcblx0XHRjYXNlIFwiY29kZS1jdXNobWFuLTAwMVwiOiByZXR1cm4gMjA0ODtcblx0XHRjYXNlIFwiY2xhdWRlLTMtNS1zb25uZXQtMjAyNDEwMjJcIjpcblx0XHRjYXNlIFwiY2xhdWRlLTMtNS1zb25uZXQtMjAyNDA2MjBcIjpcblx0XHRjYXNlIFwiY2xhdWRlLTMtb3B1cy0yMDI0MDIyOVwiOlxuXHRcdGNhc2UgXCJjbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjlcIjpcblx0XHRjYXNlIFwiY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDdcIjpcblx0XHRjYXNlIFwiY2xhdWRlLTIuMVwiOiByZXR1cm4gMmU1O1xuXHRcdGNhc2UgXCJjbGF1ZGUtMi4wXCI6XG5cdFx0Y2FzZSBcImNsYXVkZS1pbnN0YW50LTEuMlwiOiByZXR1cm4gMWU1O1xuXHRcdGNhc2UgXCJnZW1pbmktMS41LXByb1wiOlxuXHRcdGNhc2UgXCJnZW1pbmktMS41LXByby1sYXRlc3RcIjpcblx0XHRjYXNlIFwiZ2VtaW5pLTEuNS1mbGFzaFwiOlxuXHRcdGNhc2UgXCJnZW1pbmktMS41LWZsYXNoLWxhdGVzdFwiOiByZXR1cm4gMWU2O1xuXHRcdGNhc2UgXCJnZW1pbmktcHJvXCI6XG5cdFx0Y2FzZSBcImdlbWluaS1wcm8tdmlzaW9uXCI6IHJldHVybiAzMjc2ODtcblx0XHRkZWZhdWx0OiByZXR1cm4gNDA5Nztcblx0fVxufTtcbi8qKlxuKiBXaGV0aGVyIG9yIG5vdCB0aGUgaW5wdXQgbWF0Y2hlcyB0aGUgT3BlbkFJIHRvb2wgZGVmaW5pdGlvbi5cbiogQHBhcmFtIHt1bmtub3dufSB0b29sIFRoZSBpbnB1dCB0byBjaGVjay5cbiogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGlucHV0IGlzIGFuIE9wZW5BSSB0b29sIGRlZmluaXRpb24uXG4qL1xuZnVuY3Rpb24gaXNPcGVuQUlUb29sKHRvb2wpIHtcblx0aWYgKHR5cGVvZiB0b29sICE9PSBcIm9iamVjdFwiIHx8ICF0b29sKSByZXR1cm4gZmFsc2U7XG5cdGlmIChcInR5cGVcIiBpbiB0b29sICYmIHRvb2wudHlwZSA9PT0gXCJmdW5jdGlvblwiICYmIFwiZnVuY3Rpb25cIiBpbiB0b29sICYmIHR5cGVvZiB0b29sLmZ1bmN0aW9uID09PSBcIm9iamVjdFwiICYmIHRvb2wuZnVuY3Rpb24gJiYgXCJuYW1lXCIgaW4gdG9vbC5mdW5jdGlvbiAmJiBcInBhcmFtZXRlcnNcIiBpbiB0b29sLmZ1bmN0aW9uKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuY29uc3QgY2FsY3VsYXRlTWF4VG9rZW5zID0gYXN5bmMgKHsgcHJvbXB0LCBtb2RlbE5hbWUgfSkgPT4ge1xuXHRsZXQgbnVtVG9rZW5zO1xuXHR0cnkge1xuXHRcdG51bVRva2VucyA9IChhd2FpdCByZXF1aXJlX3V0aWxzX3Rpa3Rva2VuLmVuY29kaW5nRm9yTW9kZWwoZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4obW9kZWxOYW1lKSkpLmVuY29kZShwcm9tcHQpLmxlbmd0aDtcblx0fSBjYXRjaCB7XG5cdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIik7XG5cdFx0bnVtVG9rZW5zID0gTWF0aC5jZWlsKHByb21wdC5sZW5ndGggLyA0KTtcblx0fVxuXHRjb25zdCBtYXhUb2tlbnMgPSBnZXRNb2RlbENvbnRleHRTaXplKG1vZGVsTmFtZSk7XG5cdHJldHVybiBtYXhUb2tlbnMgLSBudW1Ub2tlbnM7XG59O1xuY29uc3QgZ2V0VmVyYm9zaXR5ID0gKCkgPT4gZmFsc2U7XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgbGFuZ3VhZ2UgbW9kZWxzLCBjaGFpbnMsIHRvb2xzLlxuKi9cbnZhciBCYXNlTGFuZ0NoYWluID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2Jhc2UuUnVubmFibGUge1xuXHQvKipcblx0KiBXaGV0aGVyIHRvIHByaW50IG91dCByZXNwb25zZSB0ZXh0LlxuXHQqL1xuXHR2ZXJib3NlO1xuXHRjYWxsYmFja3M7XG5cdHRhZ3M7XG5cdG1ldGFkYXRhO1xuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2FsbGJhY2tzOiB2b2lkIDAsXG5cdFx0XHR2ZXJib3NlOiB2b2lkIDBcblx0XHR9O1xuXHR9XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHN1cGVyKHBhcmFtcyk7XG5cdFx0dGhpcy52ZXJib3NlID0gcGFyYW1zLnZlcmJvc2UgPz8gZ2V0VmVyYm9zaXR5KCk7XG5cdFx0dGhpcy5jYWxsYmFja3MgPSBwYXJhbXMuY2FsbGJhY2tzO1xuXHRcdHRoaXMudGFncyA9IHBhcmFtcy50YWdzID8/IFtdO1xuXHRcdHRoaXMubWV0YWRhdGEgPSBwYXJhbXMubWV0YWRhdGEgPz8ge307XG5cdH1cbn07XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgbGFuZ3VhZ2UgbW9kZWxzLlxuKi9cbnZhciBCYXNlTGFuZ3VhZ2VNb2RlbCA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdDaGFpbiB7XG5cdC8qKlxuXHQqIEtleXMgdGhhdCB0aGUgbGFuZ3VhZ2UgbW9kZWwgYWNjZXB0cyBhcyBjYWxsIG9wdGlvbnMuXG5cdCovXG5cdGdldCBjYWxsS2V5cygpIHtcblx0XHRyZXR1cm4gW1xuXHRcdFx0XCJzdG9wXCIsXG5cdFx0XHRcInRpbWVvdXRcIixcblx0XHRcdFwic2lnbmFsXCIsXG5cdFx0XHRcInRhZ3NcIixcblx0XHRcdFwibWV0YWRhdGFcIixcblx0XHRcdFwiY2FsbGJhY2tzXCJcblx0XHRdO1xuXHR9XG5cdC8qKlxuXHQqIFRoZSBhc3luYyBjYWxsZXIgc2hvdWxkIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBtYWtlIGFueSBhc3luYyBjYWxscyxcblx0KiB3aGljaCB3aWxsIHRodXMgYmVuZWZpdCBmcm9tIHRoZSBjb25jdXJyZW5jeSBhbmQgcmV0cnkgbG9naWMuXG5cdCovXG5cdGNhbGxlcjtcblx0Y2FjaGU7XG5cdGNvbnN0cnVjdG9yKHsgY2FsbGJhY2tzLCBjYWxsYmFja01hbmFnZXIsLi4ucGFyYW1zIH0pIHtcblx0XHRjb25zdCB7IGNhY2hlLC4uLnJlc3QgfSA9IHBhcmFtcztcblx0XHRzdXBlcih7XG5cdFx0XHRjYWxsYmFja3M6IGNhbGxiYWNrcyA/PyBjYWxsYmFja01hbmFnZXIsXG5cdFx0XHQuLi5yZXN0XG5cdFx0fSk7XG5cdFx0aWYgKHR5cGVvZiBjYWNoZSA9PT0gXCJvYmplY3RcIikgdGhpcy5jYWNoZSA9IGNhY2hlO1xuXHRcdGVsc2UgaWYgKGNhY2hlKSB0aGlzLmNhY2hlID0gcmVxdWlyZV9jYWNoZXNfaW5kZXguSW5NZW1vcnlDYWNoZS5nbG9iYWwoKTtcblx0XHRlbHNlIHRoaXMuY2FjaGUgPSB2b2lkIDA7XG5cdFx0dGhpcy5jYWxsZXIgPSBuZXcgcmVxdWlyZV91dGlsc19hc3luY19jYWxsZXIuQXN5bmNDYWxsZXIocGFyYW1zID8/IHt9KTtcblx0fVxuXHRfZW5jb2Rpbmc7XG5cdC8qKlxuXHQqIEdldCB0aGUgbnVtYmVyIG9mIHRva2VucyBpbiB0aGUgY29udGVudC5cblx0KiBAcGFyYW0gY29udGVudCBUaGUgY29udGVudCB0byBnZXQgdGhlIG51bWJlciBvZiB0b2tlbnMgZm9yLlxuXHQqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSBjb250ZW50LlxuXHQqL1xuXHRhc3luYyBnZXROdW1Ub2tlbnMoY29udGVudCkge1xuXHRcdGxldCB0ZXh0Q29udGVudDtcblx0XHRpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHRleHRDb250ZW50ID0gY29udGVudDtcblx0XHRlbHNlXG4gLyoqXG5cdFx0KiBDb250ZW50IGlzIGFuIGFycmF5IG9mIENvbnRlbnRCbG9ja1xuXHRcdCpcblx0XHQqIFRvRG8oQGNocmlzdGlhbi1icm9tYW5uKTogVGhpcyBpcyBhIHRlbXBvcmFyeSBmaXggdG8gZ2V0IHRoZSBudW1iZXIgb2YgdG9rZW5zIGZvciB0aGUgY29udGVudC5cblx0XHQqIFdlIG5lZWQgdG8gZmluZCBhIGJldHRlciB3YXkgdG8gZG8gdGhpcy5cblx0XHQqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2xhbmdjaGFpbi1haS9sYW5nY2hhaW5qcy9wdWxsLzgzNDEjcHVsbHJlcXVlc3RyZXZpZXctMjkzMzcxMzExNlxuXHRcdCovXG5cdFx0dGV4dENvbnRlbnQgPSBjb250ZW50Lm1hcCgoaXRlbSkgPT4ge1xuXHRcdFx0aWYgKHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKSByZXR1cm4gaXRlbTtcblx0XHRcdGlmIChpdGVtLnR5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIGl0ZW0pIHJldHVybiBpdGVtLnRleHQ7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9KS5qb2luKFwiXCIpO1xuXHRcdGxldCBudW1Ub2tlbnMgPSBNYXRoLmNlaWwodGV4dENvbnRlbnQubGVuZ3RoIC8gNCk7XG5cdFx0aWYgKCF0aGlzLl9lbmNvZGluZykgdHJ5IHtcblx0XHRcdHRoaXMuX2VuY29kaW5nID0gYXdhaXQgcmVxdWlyZV91dGlsc190aWt0b2tlbi5lbmNvZGluZ0Zvck1vZGVsKFwibW9kZWxOYW1lXCIgaW4gdGhpcyA/IGdldE1vZGVsTmFtZUZvclRpa3Rva2VuKHRoaXMubW9kZWxOYW1lKSA6IFwiZ3B0MlwiKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIiwgZXJyb3IpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fZW5jb2RpbmcpIHRyeSB7XG5cdFx0XHRudW1Ub2tlbnMgPSB0aGlzLl9lbmNvZGluZy5lbmNvZGUodGV4dENvbnRlbnQpLmxlbmd0aDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSBudW1iZXIgb2YgdG9rZW5zLCBmYWxsaW5nIGJhY2sgdG8gYXBwcm94aW1hdGUgY291bnRcIiwgZXJyb3IpO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVtVG9rZW5zO1xuXHR9XG5cdHN0YXRpYyBfY29udmVydElucHV0VG9Qcm9tcHRWYWx1ZShpbnB1dCkge1xuXHRcdGlmICh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgcmVxdWlyZV9wcm9tcHRfdmFsdWVzLlN0cmluZ1Byb21wdFZhbHVlKGlucHV0KTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkgcmV0dXJuIG5ldyByZXF1aXJlX3Byb21wdF92YWx1ZXMuQ2hhdFByb21wdFZhbHVlKGlucHV0Lm1hcChyZXF1aXJlX3V0aWxzLmNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKSk7XG5cdFx0ZWxzZSByZXR1cm4gaW5wdXQ7XG5cdH1cblx0LyoqXG5cdCogR2V0IHRoZSBpZGVudGlmeWluZyBwYXJhbWV0ZXJzIG9mIHRoZSBMTE0uXG5cdCovXG5cdF9pZGVudGlmeWluZ1BhcmFtcygpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgdW5pcXVlIGNhY2hlIGtleSBmb3IgYSBzcGVjaWZpYyBjYWxsIHRvIGEgc3BlY2lmaWMgbGFuZ3VhZ2UgbW9kZWwuXG5cdCogQHBhcmFtIGNhbGxPcHRpb25zIENhbGwgb3B0aW9ucyBmb3IgdGhlIG1vZGVsXG5cdCogQHJldHVybnMgQSB1bmlxdWUgY2FjaGUga2V5LlxuXHQqL1xuXHRfZ2V0U2VyaWFsaXplZENhY2hlS2V5UGFyYW1ldGVyc0ZvckNhbGwoeyBjb25maWcsLi4uY2FsbE9wdGlvbnMgfSkge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHtcblx0XHRcdC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG5cdFx0XHQuLi5jYWxsT3B0aW9ucyxcblx0XHRcdF90eXBlOiB0aGlzLl9sbG1UeXBlKCksXG5cdFx0XHRfbW9kZWw6IHRoaXMuX21vZGVsVHlwZSgpXG5cdFx0fTtcblx0XHRjb25zdCBmaWx0ZXJlZEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHZvaWQgMCk7XG5cdFx0Y29uc3Qgc2VyaWFsaXplZEVudHJpZXMgPSBmaWx0ZXJlZEVudHJpZXMubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCkuc29ydCgpLmpvaW4oXCIsXCIpO1xuXHRcdHJldHVybiBzZXJpYWxpemVkRW50cmllcztcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZFxuXHQqIFJldHVybiBhIGpzb24tbGlrZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgTExNLlxuXHQqL1xuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnRoaXMuX2lkZW50aWZ5aW5nUGFyYW1zKCksXG5cdFx0XHRfdHlwZTogdGhpcy5fbGxtVHlwZSgpLFxuXHRcdFx0X21vZGVsOiB0aGlzLl9tb2RlbFR5cGUoKVxuXHRcdH07XG5cdH1cblx0LyoqXG5cdCogQGRlcHJlY2F0ZWRcblx0KiBMb2FkIGFuIExMTSBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuXHQqL1xuXHRzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoX2RhdGEpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVc2UgLnRvSlNPTigpIGluc3RlYWRcIik7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJuIHByb2ZpbGluZyBpbmZvcm1hdGlvbiBmb3IgdGhlIG1vZGVsLlxuXHQqXG5cdCogQHJldHVybnMge01vZGVsUHJvZmlsZX0gQW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlIG1vZGVsJ3MgY2FwYWJpbGl0aWVzIGFuZCBjb25zdHJhaW50c1xuXHQqL1xuXHRnZXQgcHJvZmlsZSgpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5CYXNlTGFuZ0NoYWluID0gQmFzZUxhbmdDaGFpbjtcbmV4cG9ydHMuQmFzZUxhbmd1YWdlTW9kZWwgPSBCYXNlTGFuZ3VhZ2VNb2RlbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYmFzZV9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYmFzZV9leHBvcnRzO1xuICB9XG59KTtcbmV4cG9ydHMuY2FsY3VsYXRlTWF4VG9rZW5zID0gY2FsY3VsYXRlTWF4VG9rZW5zO1xuZXhwb3J0cy5nZXRFbWJlZGRpbmdDb250ZXh0U2l6ZSA9IGdldEVtYmVkZGluZ0NvbnRleHRTaXplO1xuZXhwb3J0cy5nZXRNb2RlbENvbnRleHRTaXplID0gZ2V0TW9kZWxDb250ZXh0U2l6ZTtcbmV4cG9ydHMuZ2V0TW9kZWxOYW1lRm9yVGlrdG9rZW4gPSBnZXRNb2RlbE5hbWVGb3JUaWt0b2tlbjtcbmV4cG9ydHMuaXNPcGVuQUlUb29sID0gaXNPcGVuQUlUb29sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/language_models/base.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/load/map_keys.cjs":
/*!*************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/load/map_keys.cjs ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst decamelize = require_rolldown_runtime.__toESM(__webpack_require__(/*! decamelize */ \"(action-browser)/./node_modules/decamelize/index.js\"));\nconst camelcase = require_rolldown_runtime.__toESM(__webpack_require__(/*! camelcase */ \"(action-browser)/./node_modules/camelcase/index.js\"));\n\n//#region src/load/map_keys.ts\nfunction keyToJson(key, map) {\n\treturn map?.[key] || (0, decamelize.default)(key);\n}\nfunction keyFromJson(key, map) {\n\treturn map?.[key] || (0, camelcase.default)(key);\n}\nfunction mapKeys(fields, mapper, map) {\n\tconst mapped = {};\n\tfor (const key in fields) if (Object.hasOwn(fields, key)) mapped[mapper(key, map)] = fields[key];\n\treturn mapped;\n}\n\n//#endregion\nexports.keyFromJson = keyFromJson;\nexports.keyToJson = keyToJson;\nexports.mapKeys = mapKeys;\n//# sourceMappingURL=map_keys.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL21hcF9rZXlzLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQyw0SEFBa0M7QUFDM0Usb0RBQW9ELG1CQUFPLENBQUMsdUVBQVk7QUFDeEUsbURBQW1ELG1CQUFPLENBQUMscUVBQVc7O0FBRXRFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQjtBQUNuQixpQkFBaUI7QUFDakIsZUFBZTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL21hcF9rZXlzLmNqcz9mZTg3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCBkZWNhbWVsaXplID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcImRlY2FtZWxpemVcIikpO1xuY29uc3QgY2FtZWxjYXNlID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcImNhbWVsY2FzZVwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvbG9hZC9tYXBfa2V5cy50c1xuZnVuY3Rpb24ga2V5VG9Kc29uKGtleSwgbWFwKSB7XG5cdHJldHVybiBtYXA/LltrZXldIHx8ICgwLCBkZWNhbWVsaXplLmRlZmF1bHQpKGtleSk7XG59XG5mdW5jdGlvbiBrZXlGcm9tSnNvbihrZXksIG1hcCkge1xuXHRyZXR1cm4gbWFwPy5ba2V5XSB8fCAoMCwgY2FtZWxjYXNlLmRlZmF1bHQpKGtleSk7XG59XG5mdW5jdGlvbiBtYXBLZXlzKGZpZWxkcywgbWFwcGVyLCBtYXApIHtcblx0Y29uc3QgbWFwcGVkID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIGZpZWxkcykgaWYgKE9iamVjdC5oYXNPd24oZmllbGRzLCBrZXkpKSBtYXBwZWRbbWFwcGVyKGtleSwgbWFwKV0gPSBmaWVsZHNba2V5XTtcblx0cmV0dXJuIG1hcHBlZDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmtleUZyb21Kc29uID0ga2V5RnJvbUpzb247XG5leHBvcnRzLmtleVRvSnNvbiA9IGtleVRvSnNvbjtcbmV4cG9ydHMubWFwS2V5cyA9IG1hcEtleXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBfa2V5cy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/load/map_keys.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/load/serializable.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_map_keys = __webpack_require__(/*! ./map_keys.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/map_keys.cjs\");\nconst require_validation = __webpack_require__(/*! ./validation.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/validation.cjs\");\n\n//#region src/load/serializable.ts\nvar serializable_exports = {};\nrequire_rolldown_runtime.__export(serializable_exports, {\n\tSerializable: () => Serializable,\n\tget_lc_unique_name: () => get_lc_unique_name\n});\nfunction shallowCopy(obj) {\n\treturn Array.isArray(obj) ? [...obj] : { ...obj };\n}\nfunction replaceSecrets(root, secretsMap) {\n\tconst result = shallowCopy(root);\n\tfor (const [path, secretId] of Object.entries(secretsMap)) {\n\t\tconst [last, ...partsReverse] = path.split(\".\").reverse();\n\t\tlet current = result;\n\t\tfor (const part of partsReverse.reverse()) {\n\t\t\tif (current[part] === void 0) break;\n\t\t\tcurrent[part] = shallowCopy(current[part]);\n\t\t\tcurrent = current[part];\n\t\t}\n\t\tif (current[last] !== void 0) current[last] = {\n\t\t\tlc: 1,\n\t\t\ttype: \"secret\",\n\t\t\tid: [secretId]\n\t\t};\n\t}\n\treturn result;\n}\n/**\n* Get a unique name for the module, rather than parent class implementations.\n* Should not be subclassed, subclass lc_name above instead.\n*/\nfunction get_lc_unique_name(serializableClass) {\n\tconst parentClass = Object.getPrototypeOf(serializableClass);\n\tconst lcNameIsSubclassed = typeof serializableClass.lc_name === \"function\" && (typeof parentClass.lc_name !== \"function\" || serializableClass.lc_name() !== parentClass.lc_name());\n\tif (lcNameIsSubclassed) return serializableClass.lc_name();\n\telse return serializableClass.name;\n}\nvar Serializable = class Serializable {\n\tlc_serializable = false;\n\tlc_kwargs;\n\t/**\n\t* The name of the serializable. Override to provide an alias or\n\t* to preserve the serialized module name in minified environments.\n\t*\n\t* Implemented as a static method to support loading logic.\n\t*/\n\tstatic lc_name() {\n\t\treturn this.name;\n\t}\n\t/**\n\t* The final serialized identifier for the module.\n\t*/\n\tget lc_id() {\n\t\treturn [...this.lc_namespace, get_lc_unique_name(this.constructor)];\n\t}\n\t/**\n\t* A map of secrets, which will be omitted from serialization.\n\t* Keys are paths to the secret in constructor args, e.g. \"foo.bar.baz\".\n\t* Values are the secret ids, which will be used when deserializing.\n\t*/\n\tget lc_secrets() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of additional attributes to merge with constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the attribute values, which will be serialized.\n\t* These attributes need to be accepted by the constructor as arguments.\n\t*/\n\tget lc_attributes() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A map of aliases for constructor args.\n\t* Keys are the attribute names, e.g. \"foo\".\n\t* Values are the alias that will replace the key in serialization.\n\t* This is used to eg. make argument names match Python.\n\t*/\n\tget lc_aliases() {\n\t\treturn void 0;\n\t}\n\t/**\n\t* A manual list of keys that should be serialized.\n\t* If not overridden, all fields passed into the constructor will be serialized.\n\t*/\n\tget lc_serializable_keys() {\n\t\treturn void 0;\n\t}\n\tconstructor(kwargs, ..._args) {\n\t\tif (this.lc_serializable_keys !== void 0) this.lc_kwargs = Object.fromEntries(Object.entries(kwargs || {}).filter(([key]) => this.lc_serializable_keys?.includes(key)));\n\t\telse this.lc_kwargs = kwargs ?? {};\n\t}\n\ttoJSON() {\n\t\tif (!this.lc_serializable) return this.toJSONNotImplemented();\n\t\tif (this.lc_kwargs instanceof Serializable || typeof this.lc_kwargs !== \"object\" || Array.isArray(this.lc_kwargs)) return this.toJSONNotImplemented();\n\t\tconst aliases = {};\n\t\tconst secrets = {};\n\t\tconst kwargs = Object.keys(this.lc_kwargs).reduce((acc, key) => {\n\t\t\tacc[key] = key in this ? this[key] : this.lc_kwargs[key];\n\t\t\treturn acc;\n\t\t}, {});\n\t\tfor (let current = Object.getPrototypeOf(this); current; current = Object.getPrototypeOf(current)) {\n\t\t\tObject.assign(aliases, Reflect.get(current, \"lc_aliases\", this));\n\t\t\tObject.assign(secrets, Reflect.get(current, \"lc_secrets\", this));\n\t\t\tObject.assign(kwargs, Reflect.get(current, \"lc_attributes\", this));\n\t\t}\n\t\tObject.keys(secrets).forEach((keyPath) => {\n\t\t\tlet read = this;\n\t\t\tlet write = kwargs;\n\t\t\tconst [last, ...partsReverse] = keyPath.split(\".\").reverse();\n\t\t\tfor (const key of partsReverse.reverse()) {\n\t\t\t\tif (!(key in read) || read[key] === void 0) return;\n\t\t\t\tif (!(key in write) || write[key] === void 0) {\n\t\t\t\t\tif (typeof read[key] === \"object\" && read[key] != null) write[key] = {};\n\t\t\t\t\telse if (Array.isArray(read[key])) write[key] = [];\n\t\t\t\t}\n\t\t\t\tread = read[key];\n\t\t\t\twrite = write[key];\n\t\t\t}\n\t\t\tif (last in read && read[last] !== void 0) write[last] = write[last] || read[last];\n\t\t});\n\t\tconst escapedKwargs = {};\n\t\tconst pathSet = /* @__PURE__ */ new WeakSet();\n\t\tpathSet.add(this);\n\t\tfor (const [key, value] of Object.entries(kwargs)) escapedKwargs[key] = require_validation.escapeIfNeeded(value, pathSet);\n\t\tconst kwargsWithSecrets = Object.keys(secrets).length ? replaceSecrets(escapedKwargs, secrets) : escapedKwargs;\n\t\tconst processedKwargs = require_map_keys.mapKeys(kwargsWithSecrets, require_map_keys.keyToJson, aliases);\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"constructor\",\n\t\t\tid: this.lc_id,\n\t\t\tkwargs: processedKwargs\n\t\t};\n\t}\n\ttoJSONNotImplemented() {\n\t\treturn {\n\t\t\tlc: 1,\n\t\t\ttype: \"not_implemented\",\n\t\t\tid: this.lc_id\n\t\t};\n\t}\n};\n\n//#endregion\nexports.Serializable = Serializable;\nexports.get_lc_unique_name = get_lc_unique_name;\nObject.defineProperty(exports, \"serializable_exports\", ({\n  enumerable: true,\n  get: function () {\n    return serializable_exports;\n  }\n}));\n//# sourceMappingURL=serializable.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL3NlcmlhbGl6YWJsZS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLHlCQUF5QixtQkFBTyxDQUFDLDhGQUFnQjtBQUNqRCwyQkFBMkIsbUJBQU8sQ0FBQyxrR0FBa0I7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1Asa0RBQWtELFNBQVM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQiwwQkFBMEI7QUFDMUIsd0RBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvc2VyaWFsaXphYmxlLmNqcz80MGI3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX21hcF9rZXlzID0gcmVxdWlyZSgnLi9tYXBfa2V5cy5janMnKTtcbmNvbnN0IHJlcXVpcmVfdmFsaWRhdGlvbiA9IHJlcXVpcmUoJy4vdmFsaWRhdGlvbi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9sb2FkL3NlcmlhbGl6YWJsZS50c1xudmFyIHNlcmlhbGl6YWJsZV9leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQoc2VyaWFsaXphYmxlX2V4cG9ydHMsIHtcblx0U2VyaWFsaXphYmxlOiAoKSA9PiBTZXJpYWxpemFibGUsXG5cdGdldF9sY191bmlxdWVfbmFtZTogKCkgPT4gZ2V0X2xjX3VuaXF1ZV9uYW1lXG59KTtcbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KG9iaikge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheShvYmopID8gWy4uLm9ial0gOiB7IC4uLm9iaiB9O1xufVxuZnVuY3Rpb24gcmVwbGFjZVNlY3JldHMocm9vdCwgc2VjcmV0c01hcCkge1xuXHRjb25zdCByZXN1bHQgPSBzaGFsbG93Q29weShyb290KTtcblx0Zm9yIChjb25zdCBbcGF0aCwgc2VjcmV0SWRdIG9mIE9iamVjdC5lbnRyaWVzKHNlY3JldHNNYXApKSB7XG5cdFx0Y29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBwYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG5cdFx0bGV0IGN1cnJlbnQgPSByZXN1bHQ7XG5cdFx0Zm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzUmV2ZXJzZS5yZXZlcnNlKCkpIHtcblx0XHRcdGlmIChjdXJyZW50W3BhcnRdID09PSB2b2lkIDApIGJyZWFrO1xuXHRcdFx0Y3VycmVudFtwYXJ0XSA9IHNoYWxsb3dDb3B5KGN1cnJlbnRbcGFydF0pO1xuXHRcdFx0Y3VycmVudCA9IGN1cnJlbnRbcGFydF07XG5cdFx0fVxuXHRcdGlmIChjdXJyZW50W2xhc3RdICE9PSB2b2lkIDApIGN1cnJlbnRbbGFzdF0gPSB7XG5cdFx0XHRsYzogMSxcblx0XHRcdHR5cGU6IFwic2VjcmV0XCIsXG5cdFx0XHRpZDogW3NlY3JldElkXVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuKiBHZXQgYSB1bmlxdWUgbmFtZSBmb3IgdGhlIG1vZHVsZSwgcmF0aGVyIHRoYW4gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9ucy5cbiogU2hvdWxkIG5vdCBiZSBzdWJjbGFzc2VkLCBzdWJjbGFzcyBsY19uYW1lIGFib3ZlIGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gZ2V0X2xjX3VuaXF1ZV9uYW1lKHNlcmlhbGl6YWJsZUNsYXNzKSB7XG5cdGNvbnN0IHBhcmVudENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHNlcmlhbGl6YWJsZUNsYXNzKTtcblx0Y29uc3QgbGNOYW1lSXNTdWJjbGFzc2VkID0gdHlwZW9mIHNlcmlhbGl6YWJsZUNsYXNzLmxjX25hbWUgPT09IFwiZnVuY3Rpb25cIiAmJiAodHlwZW9mIHBhcmVudENsYXNzLmxjX25hbWUgIT09IFwiZnVuY3Rpb25cIiB8fCBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCkgIT09IHBhcmVudENsYXNzLmxjX25hbWUoKSk7XG5cdGlmIChsY05hbWVJc1N1YmNsYXNzZWQpIHJldHVybiBzZXJpYWxpemFibGVDbGFzcy5sY19uYW1lKCk7XG5cdGVsc2UgcmV0dXJuIHNlcmlhbGl6YWJsZUNsYXNzLm5hbWU7XG59XG52YXIgU2VyaWFsaXphYmxlID0gY2xhc3MgU2VyaWFsaXphYmxlIHtcblx0bGNfc2VyaWFsaXphYmxlID0gZmFsc2U7XG5cdGxjX2t3YXJncztcblx0LyoqXG5cdCogVGhlIG5hbWUgb2YgdGhlIHNlcmlhbGl6YWJsZS4gT3ZlcnJpZGUgdG8gcHJvdmlkZSBhbiBhbGlhcyBvclxuXHQqIHRvIHByZXNlcnZlIHRoZSBzZXJpYWxpemVkIG1vZHVsZSBuYW1lIGluIG1pbmlmaWVkIGVudmlyb25tZW50cy5cblx0KlxuXHQqIEltcGxlbWVudGVkIGFzIGEgc3RhdGljIG1ldGhvZCB0byBzdXBwb3J0IGxvYWRpbmcgbG9naWMuXG5cdCovXG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cblx0LyoqXG5cdCogVGhlIGZpbmFsIHNlcmlhbGl6ZWQgaWRlbnRpZmllciBmb3IgdGhlIG1vZHVsZS5cblx0Ki9cblx0Z2V0IGxjX2lkKCkge1xuXHRcdHJldHVybiBbLi4udGhpcy5sY19uYW1lc3BhY2UsIGdldF9sY191bmlxdWVfbmFtZSh0aGlzLmNvbnN0cnVjdG9yKV07XG5cdH1cblx0LyoqXG5cdCogQSBtYXAgb2Ygc2VjcmV0cywgd2hpY2ggd2lsbCBiZSBvbWl0dGVkIGZyb20gc2VyaWFsaXphdGlvbi5cblx0KiBLZXlzIGFyZSBwYXRocyB0byB0aGUgc2VjcmV0IGluIGNvbnN0cnVjdG9yIGFyZ3MsIGUuZy4gXCJmb28uYmFyLmJhelwiLlxuXHQqIFZhbHVlcyBhcmUgdGhlIHNlY3JldCBpZHMsIHdoaWNoIHdpbGwgYmUgdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcuXG5cdCovXG5cdGdldCBsY19zZWNyZXRzKCkge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0LyoqXG5cdCogQSBtYXAgb2YgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHRvIG1lcmdlIHdpdGggY29uc3RydWN0b3IgYXJncy5cblx0KiBLZXlzIGFyZSB0aGUgYXR0cmlidXRlIG5hbWVzLCBlLmcuIFwiZm9vXCIuXG5cdCogVmFsdWVzIGFyZSB0aGUgYXR0cmlidXRlIHZhbHVlcywgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkLlxuXHQqIFRoZXNlIGF0dHJpYnV0ZXMgbmVlZCB0byBiZSBhY2NlcHRlZCBieSB0aGUgY29uc3RydWN0b3IgYXMgYXJndW1lbnRzLlxuXHQqL1xuXHRnZXQgbGNfYXR0cmlidXRlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFwIG9mIGFsaWFzZXMgZm9yIGNvbnN0cnVjdG9yIGFyZ3MuXG5cdCogS2V5cyBhcmUgdGhlIGF0dHJpYnV0ZSBuYW1lcywgZS5nLiBcImZvb1wiLlxuXHQqIFZhbHVlcyBhcmUgdGhlIGFsaWFzIHRoYXQgd2lsbCByZXBsYWNlIHRoZSBrZXkgaW4gc2VyaWFsaXphdGlvbi5cblx0KiBUaGlzIGlzIHVzZWQgdG8gZWcuIG1ha2UgYXJndW1lbnQgbmFtZXMgbWF0Y2ggUHl0aG9uLlxuXHQqL1xuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdC8qKlxuXHQqIEEgbWFudWFsIGxpc3Qgb2Yga2V5cyB0aGF0IHNob3VsZCBiZSBzZXJpYWxpemVkLlxuXHQqIElmIG5vdCBvdmVycmlkZGVuLCBhbGwgZmllbGRzIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciB3aWxsIGJlIHNlcmlhbGl6ZWQuXG5cdCovXG5cdGdldCBsY19zZXJpYWxpemFibGVfa2V5cygpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG5cdGNvbnN0cnVjdG9yKGt3YXJncywgLi4uX2FyZ3MpIHtcblx0XHRpZiAodGhpcy5sY19zZXJpYWxpemFibGVfa2V5cyAhPT0gdm9pZCAwKSB0aGlzLmxjX2t3YXJncyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhrd2FyZ3MgfHwge30pLmZpbHRlcigoW2tleV0pID0+IHRoaXMubGNfc2VyaWFsaXphYmxlX2tleXM/LmluY2x1ZGVzKGtleSkpKTtcblx0XHRlbHNlIHRoaXMubGNfa3dhcmdzID0ga3dhcmdzID8/IHt9O1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRpZiAoIXRoaXMubGNfc2VyaWFsaXphYmxlKSByZXR1cm4gdGhpcy50b0pTT05Ob3RJbXBsZW1lbnRlZCgpO1xuXHRcdGlmICh0aGlzLmxjX2t3YXJncyBpbnN0YW5jZW9mIFNlcmlhbGl6YWJsZSB8fCB0eXBlb2YgdGhpcy5sY19rd2FyZ3MgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheSh0aGlzLmxjX2t3YXJncykpIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG5cdFx0Y29uc3QgYWxpYXNlcyA9IHt9O1xuXHRcdGNvbnN0IHNlY3JldHMgPSB7fTtcblx0XHRjb25zdCBrd2FyZ3MgPSBPYmplY3Qua2V5cyh0aGlzLmxjX2t3YXJncykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuXHRcdFx0YWNjW2tleV0gPSBrZXkgaW4gdGhpcyA/IHRoaXNba2V5XSA6IHRoaXMubGNfa3dhcmdzW2tleV07XG5cdFx0XHRyZXR1cm4gYWNjO1xuXHRcdH0sIHt9KTtcblx0XHRmb3IgKGxldCBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpOyBjdXJyZW50OyBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpKSB7XG5cdFx0XHRPYmplY3QuYXNzaWduKGFsaWFzZXMsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfYWxpYXNlc1wiLCB0aGlzKSk7XG5cdFx0XHRPYmplY3QuYXNzaWduKHNlY3JldHMsIFJlZmxlY3QuZ2V0KGN1cnJlbnQsIFwibGNfc2VjcmV0c1wiLCB0aGlzKSk7XG5cdFx0XHRPYmplY3QuYXNzaWduKGt3YXJncywgUmVmbGVjdC5nZXQoY3VycmVudCwgXCJsY19hdHRyaWJ1dGVzXCIsIHRoaXMpKTtcblx0XHR9XG5cdFx0T2JqZWN0LmtleXMoc2VjcmV0cykuZm9yRWFjaCgoa2V5UGF0aCkgPT4ge1xuXHRcdFx0bGV0IHJlYWQgPSB0aGlzO1xuXHRcdFx0bGV0IHdyaXRlID0ga3dhcmdzO1xuXHRcdFx0Y29uc3QgW2xhc3QsIC4uLnBhcnRzUmV2ZXJzZV0gPSBrZXlQYXRoLnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBwYXJ0c1JldmVyc2UucmV2ZXJzZSgpKSB7XG5cdFx0XHRcdGlmICghKGtleSBpbiByZWFkKSB8fCByZWFkW2tleV0gPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gd3JpdGUpIHx8IHdyaXRlW2tleV0gPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVhZFtrZXldID09PSBcIm9iamVjdFwiICYmIHJlYWRba2V5XSAhPSBudWxsKSB3cml0ZVtrZXldID0ge307XG5cdFx0XHRcdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZWFkW2tleV0pKSB3cml0ZVtrZXldID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVhZCA9IHJlYWRba2V5XTtcblx0XHRcdFx0d3JpdGUgPSB3cml0ZVtrZXldO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3QgaW4gcmVhZCAmJiByZWFkW2xhc3RdICE9PSB2b2lkIDApIHdyaXRlW2xhc3RdID0gd3JpdGVbbGFzdF0gfHwgcmVhZFtsYXN0XTtcblx0XHR9KTtcblx0XHRjb25zdCBlc2NhcGVkS3dhcmdzID0ge307XG5cdFx0Y29uc3QgcGF0aFNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuXHRcdHBhdGhTZXQuYWRkKHRoaXMpO1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGt3YXJncykpIGVzY2FwZWRLd2FyZ3Nba2V5XSA9IHJlcXVpcmVfdmFsaWRhdGlvbi5lc2NhcGVJZk5lZWRlZCh2YWx1ZSwgcGF0aFNldCk7XG5cdFx0Y29uc3Qga3dhcmdzV2l0aFNlY3JldHMgPSBPYmplY3Qua2V5cyhzZWNyZXRzKS5sZW5ndGggPyByZXBsYWNlU2VjcmV0cyhlc2NhcGVkS3dhcmdzLCBzZWNyZXRzKSA6IGVzY2FwZWRLd2FyZ3M7XG5cdFx0Y29uc3QgcHJvY2Vzc2VkS3dhcmdzID0gcmVxdWlyZV9tYXBfa2V5cy5tYXBLZXlzKGt3YXJnc1dpdGhTZWNyZXRzLCByZXF1aXJlX21hcF9rZXlzLmtleVRvSnNvbiwgYWxpYXNlcyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxjOiAxLFxuXHRcdFx0dHlwZTogXCJjb25zdHJ1Y3RvclwiLFxuXHRcdFx0aWQ6IHRoaXMubGNfaWQsXG5cdFx0XHRrd2FyZ3M6IHByb2Nlc3NlZEt3YXJnc1xuXHRcdH07XG5cdH1cblx0dG9KU09OTm90SW1wbGVtZW50ZWQoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxjOiAxLFxuXHRcdFx0dHlwZTogXCJub3RfaW1wbGVtZW50ZWRcIixcblx0XHRcdGlkOiB0aGlzLmxjX2lkXG5cdFx0fTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLlNlcmlhbGl6YWJsZSA9IFNlcmlhbGl6YWJsZTtcbmV4cG9ydHMuZ2V0X2xjX3VuaXF1ZV9uYW1lID0gZ2V0X2xjX3VuaXF1ZV9uYW1lO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdzZXJpYWxpemFibGVfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6YWJsZV9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6YWJsZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/load/validation.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/load/validation.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/load/validation.ts\n/**\n* Sentinel key used to mark escaped user objects during serialization.\n*\n* When a plain object contains 'lc' key (which could be confused with LC objects),\n* we wrap it as `{\"__lc_escaped__\": {...original...}}`.\n*/\nconst LC_ESCAPED_KEY = \"__lc_escaped__\";\n/**\n* Check if an object needs escaping to prevent confusion with LC objects.\n*\n* An object needs escaping if:\n* 1. It has an `'lc'` key (could be confused with LC serialization format)\n* 2. It has only the escape key (would be mistaken for an escaped object)\n*/\nfunction needsEscaping(obj) {\n\treturn \"lc\" in obj || Object.keys(obj).length === 1 && LC_ESCAPED_KEY in obj;\n}\n/**\n* Wrap an object in the escape marker.\n*\n* @example\n* ```typescript\n* {\"key\": \"value\"}  // becomes {\"__lc_escaped__\": {\"key\": \"value\"}}\n* ```\n*/\nfunction escapeObject(obj) {\n\treturn { [LC_ESCAPED_KEY]: obj };\n}\n/**\n* Check if an object is an escaped user object.\n*\n* @example\n* ```typescript\n* {\"__lc_escaped__\": {...}}  // is an escaped object\n* ```\n*/\nfunction isEscapedObject(obj) {\n\treturn Object.keys(obj).length === 1 && LC_ESCAPED_KEY in obj;\n}\n/**\n* Check if an object looks like a Serializable instance (duck typing).\n*/\nfunction isSerializableLike(obj) {\n\treturn obj !== null && typeof obj === \"object\" && \"lc_serializable\" in obj && typeof obj.toJSON === \"function\";\n}\n/**\n* Create a \"not_implemented\" serialization result for objects that cannot be serialized.\n*/\nfunction createNotImplemented(obj) {\n\tlet id;\n\tif (obj !== null && typeof obj === \"object\") if (\"lc_id\" in obj && Array.isArray(obj.lc_id)) id = obj.lc_id;\n\telse id = [obj.constructor?.name ?? \"Object\"];\n\telse id = [typeof obj];\n\treturn {\n\t\tlc: 1,\n\t\ttype: \"not_implemented\",\n\t\tid\n\t};\n}\n/**\n* Escape a value if it needs escaping (contains `lc` key).\n*\n* This is a simpler version of `serializeValue` that doesn't handle Serializable\n* objects - it's meant to be called on kwargs values that have already been\n* processed by `toJSON()`.\n*\n* @param value - The value to potentially escape.\n* @param pathSet - WeakSet to track ancestor objects in the current path to detect circular references.\n*                  Objects are removed after processing to allow shared references (same object in\n*                  multiple places) while still detecting true circular references (ancestor in descendant).\n* @returns The value with any `lc`-containing objects wrapped in escape markers.\n*/\nfunction escapeIfNeeded(value, pathSet = /* @__PURE__ */ new WeakSet()) {\n\tif (value !== null && typeof value === \"object\" && !Array.isArray(value)) {\n\t\tif (pathSet.has(value)) return createNotImplemented(value);\n\t\tif (isSerializableLike(value)) return value;\n\t\tpathSet.add(value);\n\t\tconst record = value;\n\t\tif (needsEscaping(record)) {\n\t\t\tpathSet.delete(value);\n\t\t\treturn escapeObject(record);\n\t\t}\n\t\tconst result = {};\n\t\tfor (const [key, val] of Object.entries(record)) result[key] = escapeIfNeeded(val, pathSet);\n\t\tpathSet.delete(value);\n\t\treturn result;\n\t}\n\tif (Array.isArray(value)) return value.map((item) => escapeIfNeeded(item, pathSet));\n\treturn value;\n}\n/**\n* Unescape a value, processing escape markers in object values and arrays.\n*\n* When an escaped object is encountered (`{\"__lc_escaped__\": ...}`), it's\n* unwrapped and the contents are returned AS-IS (no further processing).\n* The contents represent user data that should not be modified.\n*\n* For regular objects and arrays, we recurse to find any nested escape markers.\n*\n* @param obj - The value to unescape.\n* @returns The unescaped value.\n*/\nfunction unescapeValue(obj) {\n\tif (obj !== null && typeof obj === \"object\" && !Array.isArray(obj)) {\n\t\tconst record = obj;\n\t\tif (isEscapedObject(record)) return record[LC_ESCAPED_KEY];\n\t\tconst result = {};\n\t\tfor (const [key, value] of Object.entries(record)) result[key] = unescapeValue(value);\n\t\treturn result;\n\t}\n\tif (Array.isArray(obj)) return obj.map((item) => unescapeValue(item));\n\treturn obj;\n}\n\n//#endregion\nexports.escapeIfNeeded = escapeIfNeeded;\nexports.isEscapedObject = isEscapedObject;\nexports.unescapeValue = unescapeValue;\n//# sourceMappingURL=validation.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9sb2FkL3ZhbGlkYXRpb24uY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQixnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsaUJBQWlCLFlBQVksbUJBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLG1CQUFtQixPQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsc0JBQXNCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCLHVCQUF1QjtBQUN2QixxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L2xvYWQvdmFsaWRhdGlvbi5janM/ZDg2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvbG9hZC92YWxpZGF0aW9uLnRzXG4vKipcbiogU2VudGluZWwga2V5IHVzZWQgdG8gbWFyayBlc2NhcGVkIHVzZXIgb2JqZWN0cyBkdXJpbmcgc2VyaWFsaXphdGlvbi5cbipcbiogV2hlbiBhIHBsYWluIG9iamVjdCBjb250YWlucyAnbGMnIGtleSAod2hpY2ggY291bGQgYmUgY29uZnVzZWQgd2l0aCBMQyBvYmplY3RzKSxcbiogd2Ugd3JhcCBpdCBhcyBge1wiX19sY19lc2NhcGVkX19cIjogey4uLm9yaWdpbmFsLi4ufX1gLlxuKi9cbmNvbnN0IExDX0VTQ0FQRURfS0VZID0gXCJfX2xjX2VzY2FwZWRfX1wiO1xuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBuZWVkcyBlc2NhcGluZyB0byBwcmV2ZW50IGNvbmZ1c2lvbiB3aXRoIExDIG9iamVjdHMuXG4qXG4qIEFuIG9iamVjdCBuZWVkcyBlc2NhcGluZyBpZjpcbiogMS4gSXQgaGFzIGFuIGAnbGMnYCBrZXkgKGNvdWxkIGJlIGNvbmZ1c2VkIHdpdGggTEMgc2VyaWFsaXphdGlvbiBmb3JtYXQpXG4qIDIuIEl0IGhhcyBvbmx5IHRoZSBlc2NhcGUga2V5ICh3b3VsZCBiZSBtaXN0YWtlbiBmb3IgYW4gZXNjYXBlZCBvYmplY3QpXG4qL1xuZnVuY3Rpb24gbmVlZHNFc2NhcGluZyhvYmopIHtcblx0cmV0dXJuIFwibGNcIiBpbiBvYmogfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDEgJiYgTENfRVNDQVBFRF9LRVkgaW4gb2JqO1xufVxuLyoqXG4qIFdyYXAgYW4gb2JqZWN0IGluIHRoZSBlc2NhcGUgbWFya2VyLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIHtcImtleVwiOiBcInZhbHVlXCJ9ICAvLyBiZWNvbWVzIHtcIl9fbGNfZXNjYXBlZF9fXCI6IHtcImtleVwiOiBcInZhbHVlXCJ9fVxuKiBgYGBcbiovXG5mdW5jdGlvbiBlc2NhcGVPYmplY3Qob2JqKSB7XG5cdHJldHVybiB7IFtMQ19FU0NBUEVEX0tFWV06IG9iaiB9O1xufVxuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBpcyBhbiBlc2NhcGVkIHVzZXIgb2JqZWN0LlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIHtcIl9fbGNfZXNjYXBlZF9fXCI6IHsuLi59fSAgLy8gaXMgYW4gZXNjYXBlZCBvYmplY3RcbiogYGBgXG4qL1xuZnVuY3Rpb24gaXNFc2NhcGVkT2JqZWN0KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDEgJiYgTENfRVNDQVBFRF9LRVkgaW4gb2JqO1xufVxuLyoqXG4qIENoZWNrIGlmIGFuIG9iamVjdCBsb29rcyBsaWtlIGEgU2VyaWFsaXphYmxlIGluc3RhbmNlIChkdWNrIHR5cGluZykuXG4qL1xuZnVuY3Rpb24gaXNTZXJpYWxpemFibGVMaWtlKG9iaikge1xuXHRyZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgXCJsY19zZXJpYWxpemFibGVcIiBpbiBvYmogJiYgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIjtcbn1cbi8qKlxuKiBDcmVhdGUgYSBcIm5vdF9pbXBsZW1lbnRlZFwiIHNlcmlhbGl6YXRpb24gcmVzdWx0IGZvciBvYmplY3RzIHRoYXQgY2Fubm90IGJlIHNlcmlhbGl6ZWQuXG4qL1xuZnVuY3Rpb24gY3JlYXRlTm90SW1wbGVtZW50ZWQob2JqKSB7XG5cdGxldCBpZDtcblx0aWYgKG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiKSBpZiAoXCJsY19pZFwiIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5sY19pZCkpIGlkID0gb2JqLmxjX2lkO1xuXHRlbHNlIGlkID0gW29iai5jb25zdHJ1Y3Rvcj8ubmFtZSA/PyBcIk9iamVjdFwiXTtcblx0ZWxzZSBpZCA9IFt0eXBlb2Ygb2JqXTtcblx0cmV0dXJuIHtcblx0XHRsYzogMSxcblx0XHR0eXBlOiBcIm5vdF9pbXBsZW1lbnRlZFwiLFxuXHRcdGlkXG5cdH07XG59XG4vKipcbiogRXNjYXBlIGEgdmFsdWUgaWYgaXQgbmVlZHMgZXNjYXBpbmcgKGNvbnRhaW5zIGBsY2Aga2V5KS5cbipcbiogVGhpcyBpcyBhIHNpbXBsZXIgdmVyc2lvbiBvZiBgc2VyaWFsaXplVmFsdWVgIHRoYXQgZG9lc24ndCBoYW5kbGUgU2VyaWFsaXphYmxlXG4qIG9iamVjdHMgLSBpdCdzIG1lYW50IHRvIGJlIGNhbGxlZCBvbiBrd2FyZ3MgdmFsdWVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW5cbiogcHJvY2Vzc2VkIGJ5IGB0b0pTT04oKWAuXG4qXG4qIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBwb3RlbnRpYWxseSBlc2NhcGUuXG4qIEBwYXJhbSBwYXRoU2V0IC0gV2Vha1NldCB0byB0cmFjayBhbmNlc3RvciBvYmplY3RzIGluIHRoZSBjdXJyZW50IHBhdGggdG8gZGV0ZWN0IGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4qICAgICAgICAgICAgICAgICAgT2JqZWN0cyBhcmUgcmVtb3ZlZCBhZnRlciBwcm9jZXNzaW5nIHRvIGFsbG93IHNoYXJlZCByZWZlcmVuY2VzIChzYW1lIG9iamVjdCBpblxuKiAgICAgICAgICAgICAgICAgIG11bHRpcGxlIHBsYWNlcykgd2hpbGUgc3RpbGwgZGV0ZWN0aW5nIHRydWUgY2lyY3VsYXIgcmVmZXJlbmNlcyAoYW5jZXN0b3IgaW4gZGVzY2VuZGFudCkuXG4qIEByZXR1cm5zIFRoZSB2YWx1ZSB3aXRoIGFueSBgbGNgLWNvbnRhaW5pbmcgb2JqZWN0cyB3cmFwcGVkIGluIGVzY2FwZSBtYXJrZXJzLlxuKi9cbmZ1bmN0aW9uIGVzY2FwZUlmTmVlZGVkKHZhbHVlLCBwYXRoU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCkpIHtcblx0aWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRpZiAocGF0aFNldC5oYXModmFsdWUpKSByZXR1cm4gY3JlYXRlTm90SW1wbGVtZW50ZWQodmFsdWUpO1xuXHRcdGlmIChpc1NlcmlhbGl6YWJsZUxpa2UodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdFx0cGF0aFNldC5hZGQodmFsdWUpO1xuXHRcdGNvbnN0IHJlY29yZCA9IHZhbHVlO1xuXHRcdGlmIChuZWVkc0VzY2FwaW5nKHJlY29yZCkpIHtcblx0XHRcdHBhdGhTZXQuZGVsZXRlKHZhbHVlKTtcblx0XHRcdHJldHVybiBlc2NhcGVPYmplY3QocmVjb3JkKTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpIHJlc3VsdFtrZXldID0gZXNjYXBlSWZOZWVkZWQodmFsLCBwYXRoU2V0KTtcblx0XHRwYXRoU2V0LmRlbGV0ZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IGVzY2FwZUlmTmVlZGVkKGl0ZW0sIHBhdGhTZXQpKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuLyoqXG4qIFVuZXNjYXBlIGEgdmFsdWUsIHByb2Nlc3NpbmcgZXNjYXBlIG1hcmtlcnMgaW4gb2JqZWN0IHZhbHVlcyBhbmQgYXJyYXlzLlxuKlxuKiBXaGVuIGFuIGVzY2FwZWQgb2JqZWN0IGlzIGVuY291bnRlcmVkIChge1wiX19sY19lc2NhcGVkX19cIjogLi4ufWApLCBpdCdzXG4qIHVud3JhcHBlZCBhbmQgdGhlIGNvbnRlbnRzIGFyZSByZXR1cm5lZCBBUy1JUyAobm8gZnVydGhlciBwcm9jZXNzaW5nKS5cbiogVGhlIGNvbnRlbnRzIHJlcHJlc2VudCB1c2VyIGRhdGEgdGhhdCBzaG91bGQgbm90IGJlIG1vZGlmaWVkLlxuKlxuKiBGb3IgcmVndWxhciBvYmplY3RzIGFuZCBhcnJheXMsIHdlIHJlY3Vyc2UgdG8gZmluZCBhbnkgbmVzdGVkIGVzY2FwZSBtYXJrZXJzLlxuKlxuKiBAcGFyYW0gb2JqIC0gVGhlIHZhbHVlIHRvIHVuZXNjYXBlLlxuKiBAcmV0dXJucyBUaGUgdW5lc2NhcGVkIHZhbHVlLlxuKi9cbmZ1bmN0aW9uIHVuZXNjYXBlVmFsdWUob2JqKSB7XG5cdGlmIChvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0Y29uc3QgcmVjb3JkID0gb2JqO1xuXHRcdGlmIChpc0VzY2FwZWRPYmplY3QocmVjb3JkKSkgcmV0dXJuIHJlY29yZFtMQ19FU0NBUEVEX0tFWV07XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVjb3JkKSkgcmVzdWx0W2tleV0gPSB1bmVzY2FwZVZhbHVlKHZhbHVlKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKChpdGVtKSA9PiB1bmVzY2FwZVZhbHVlKGl0ZW0pKTtcblx0cmV0dXJuIG9iajtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmVzY2FwZUlmTmVlZGVkID0gZXNjYXBlSWZOZWVkZWQ7XG5leHBvcnRzLmlzRXNjYXBlZE9iamVjdCA9IGlzRXNjYXBlZE9iamVjdDtcbmV4cG9ydHMudW5lc2NhcGVWYWx1ZSA9IHVuZXNjYXBlVmFsdWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0aW9uLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/load/validation.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs":
/*!***********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/ai.cjs ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\nconst require_index = __webpack_require__(/*! ./block_translators/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/index.cjs\");\nconst require_metadata = __webpack_require__(/*! ./metadata.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/metadata.cjs\");\nconst require_messages_tool = __webpack_require__(/*! ./tool.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/tool.cjs\");\nconst require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\");\n\n//#region src/messages/ai.ts\nvar AIMessage = class extends require_base.BaseMessage {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\tusage_metadata;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\"\n\t\t};\n\t}\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\tadditional_kwargs: {}\n\t\t};\n\t\telse {\n\t\t\tinitParams = fields;\n\t\t\tconst rawToolCalls = initParams.additional_kwargs?.tool_calls;\n\t\t\tconst toolCalls = initParams.tool_calls;\n\t\t\tif (!(rawToolCalls == null) && rawToolCalls.length > 0 && (toolCalls === void 0 || toolCalls.length === 0)) console.warn([\n\t\t\t\t\"New LangChain packages are available that more efficiently handle\",\n\t\t\t\t\"tool calling.\\n\\nPlease upgrade your packages to versions that set\",\n\t\t\t\t\"message tool calls. e.g., `pnpm install @langchain/anthropic`,\",\n\t\t\t\t\"pnpm install @langchain/openai`, etc.\"\n\t\t\t].join(\" \"));\n\t\t\ttry {\n\t\t\t\tif (!(rawToolCalls == null) && toolCalls === void 0) {\n\t\t\t\t\tconst [toolCalls$1, invalidToolCalls] = require_messages_tool.defaultToolCallParser(rawToolCalls);\n\t\t\t\t\tinitParams.tool_calls = toolCalls$1 ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = invalidToolCalls ?? [];\n\t\t\t\t} else {\n\t\t\t\t\tinitParams.tool_calls = initParams.tool_calls ?? [];\n\t\t\t\t\tinitParams.invalid_tool_calls = initParams.invalid_tool_calls ?? [];\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tinitParams.tool_calls = [];\n\t\t\t\tinitParams.invalid_tool_calls = [];\n\t\t\t}\n\t\t\tif (initParams.response_metadata !== void 0 && \"output_version\" in initParams.response_metadata && initParams.response_metadata.output_version === \"v1\") {\n\t\t\t\tinitParams.contentBlocks = initParams.content;\n\t\t\t\tinitParams.content = void 0;\n\t\t\t}\n\t\t\tif (initParams.contentBlocks !== void 0) {\n\t\t\t\tinitParams.contentBlocks.push(...initParams.tool_calls.map((toolCall) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t})));\n\t\t\t\tconst missingToolCalls = initParams.contentBlocks.filter((block) => block.type === \"tool_call\").filter((block) => !initParams.tool_calls?.some((toolCall) => toolCall.id === block.id && toolCall.name === block.name));\n\t\t\t\tif (missingToolCalls.length > 0) initParams.tool_calls = missingToolCalls.map((block) => ({\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.args\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tsuper(initParams);\n\t\tif (typeof initParams !== \"string\") {\n\t\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\t}\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessage\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = require_index.getTranslator(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tconst missingToolCalls = this.tool_calls.filter((block) => !blocks.some((b) => b.id === block.id && b.name === block.name));\n\t\t\tblocks.push(...missingToolCalls.map((block) => ({\n\t\t\t\t...block,\n\t\t\t\ttype: \"tool_call\",\n\t\t\t\tid: block.id,\n\t\t\t\tname: block.name,\n\t\t\t\targs: block.args\n\t\t\t})));\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n/**\n* @deprecated Use {@link AIMessage.isInstance} instead\n*/\nfunction isAIMessage(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* @deprecated Use {@link AIMessageChunk.isInstance} instead\n*/\nfunction isAIMessageChunk(x) {\n\treturn x._getType() === \"ai\";\n}\n/**\n* Represents a chunk of an AI message, which can be concatenated with\n* other AI message chunks.\n*/\nvar AIMessageChunk = class extends require_base.BaseMessageChunk {\n\ttype = \"ai\";\n\ttool_calls = [];\n\tinvalid_tool_calls = [];\n\ttool_call_chunks = [];\n\tusage_metadata;\n\tconstructor(fields) {\n\t\tlet initParams;\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) initParams = {\n\t\t\tcontent: fields,\n\t\t\ttool_calls: [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: []\n\t\t};\n\t\telse if (fields.tool_call_chunks === void 0 || fields.tool_call_chunks.length === 0) initParams = {\n\t\t\t...fields,\n\t\t\ttool_calls: fields.tool_calls ?? [],\n\t\t\tinvalid_tool_calls: [],\n\t\t\ttool_call_chunks: [],\n\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t};\n\t\telse initParams = {\n\t\t\t...fields,\n\t\t\t...require_utils.collapseToolCallChunks(fields.tool_call_chunks ?? []),\n\t\t\tusage_metadata: fields.usage_metadata !== void 0 ? fields.usage_metadata : void 0\n\t\t};\n\t\tsuper(initParams);\n\t\tthis.tool_call_chunks = initParams.tool_call_chunks ?? this.tool_call_chunks;\n\t\tthis.tool_calls = initParams.tool_calls ?? this.tool_calls;\n\t\tthis.invalid_tool_calls = initParams.invalid_tool_calls ?? this.invalid_tool_calls;\n\t\tthis.usage_metadata = initParams.usage_metadata;\n\t}\n\tget lc_aliases() {\n\t\treturn {\n\t\t\t...super.lc_aliases,\n\t\t\ttool_calls: \"tool_calls\",\n\t\t\tinvalid_tool_calls: \"invalid_tool_calls\",\n\t\t\ttool_call_chunks: \"tool_call_chunks\"\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"AIMessageChunk\";\n\t}\n\tget contentBlocks() {\n\t\tif (this.response_metadata && \"output_version\" in this.response_metadata && this.response_metadata.output_version === \"v1\") return this.content;\n\t\tif (this.response_metadata && \"model_provider\" in this.response_metadata && typeof this.response_metadata.model_provider === \"string\") {\n\t\t\tconst translator = require_index.getTranslator(this.response_metadata.model_provider);\n\t\t\tif (translator) return translator.translateContent(this);\n\t\t}\n\t\tconst blocks = super.contentBlocks;\n\t\tif (this.tool_calls) {\n\t\t\tif (typeof this.content !== \"string\") {\n\t\t\t\tconst contentToolCalls = this.content.filter((block) => block.type === \"tool_call\").map((block) => block.id);\n\t\t\t\tfor (const toolCall of this.tool_calls) if (toolCall.id && !contentToolCalls.includes(toolCall.id)) blocks.push({\n\t\t\t\t\t...toolCall,\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: toolCall.id,\n\t\t\t\t\tname: toolCall.name,\n\t\t\t\t\targs: toolCall.args\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn blocks;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_calls: this.tool_calls,\n\t\t\ttool_call_chunks: this.tool_call_chunks,\n\t\t\tinvalid_tool_calls: this.invalid_tool_calls,\n\t\t\tusage_metadata: this.usage_metadata\n\t\t};\n\t}\n\tconcat(chunk) {\n\t\tconst combinedFields = {\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_metadata.mergeResponseMetadata(this.response_metadata, chunk.response_metadata),\n\t\t\ttool_call_chunks: [],\n\t\t\tid: this.id ?? chunk.id\n\t\t};\n\t\tif (this.tool_call_chunks !== void 0 || chunk.tool_call_chunks !== void 0) {\n\t\t\tconst rawToolCalls = require_base._mergeLists(this.tool_call_chunks, chunk.tool_call_chunks);\n\t\t\tif (rawToolCalls !== void 0 && rawToolCalls.length > 0) combinedFields.tool_call_chunks = rawToolCalls;\n\t\t}\n\t\tif (this.usage_metadata !== void 0 || chunk.usage_metadata !== void 0) combinedFields.usage_metadata = require_metadata.mergeUsageMetadata(this.usage_metadata, chunk.usage_metadata);\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls(combinedFields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"ai\";\n\t}\n};\n\n//#endregion\nexports.AIMessage = AIMessage;\nexports.AIMessageChunk = AIMessageChunk;\nexports.isAIMessage = isAIMessage;\nexports.isAIMessageChunk = isAIMessageChunk;\n//# sourceMappingURL=ai.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9haS5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7QUFDekMsc0JBQXNCLG1CQUFPLENBQUMsZ0lBQStCO0FBQzdELHlCQUF5QixtQkFBTyxDQUFDLGtHQUFnQjtBQUNqRCw4QkFBOEIsbUJBQU8sQ0FBQywwRkFBWTtBQUNsRCxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBYTs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDRCQUE0QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlDQUFpQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakIsc0JBQXNCO0FBQ3RCLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2FpLmNqcz9mYjE1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LmNqcycpO1xuY29uc3QgcmVxdWlyZV9tZXRhZGF0YSA9IHJlcXVpcmUoJy4vbWV0YWRhdGEuY2pzJyk7XG5jb25zdCByZXF1aXJlX21lc3NhZ2VzX3Rvb2wgPSByZXF1aXJlKCcuL3Rvb2wuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9haS50c1xudmFyIEFJTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0dHlwZSA9IFwiYWlcIjtcblx0dG9vbF9jYWxscyA9IFtdO1xuXHRpbnZhbGlkX3Rvb2xfY2FsbHMgPSBbXTtcblx0dXNhZ2VfbWV0YWRhdGE7XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5sY19hbGlhc2VzLFxuXHRcdFx0dG9vbF9jYWxsczogXCJ0b29sX2NhbGxzXCIsXG5cdFx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IFwiaW52YWxpZF90b29sX2NhbGxzXCJcblx0XHR9O1xuXHR9XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGxldCBpbml0UGFyYW1zO1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSkgaW5pdFBhcmFtcyA9IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IFtdLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBbXSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiB7fVxuXHRcdH07XG5cdFx0ZWxzZSB7XG5cdFx0XHRpbml0UGFyYW1zID0gZmllbGRzO1xuXHRcdFx0Y29uc3QgcmF3VG9vbENhbGxzID0gaW5pdFBhcmFtcy5hZGRpdGlvbmFsX2t3YXJncz8udG9vbF9jYWxscztcblx0XHRcdGNvbnN0IHRvb2xDYWxscyA9IGluaXRQYXJhbXMudG9vbF9jYWxscztcblx0XHRcdGlmICghKHJhd1Rvb2xDYWxscyA9PSBudWxsKSAmJiByYXdUb29sQ2FsbHMubGVuZ3RoID4gMCAmJiAodG9vbENhbGxzID09PSB2b2lkIDAgfHwgdG9vbENhbGxzLmxlbmd0aCA9PT0gMCkpIGNvbnNvbGUud2FybihbXG5cdFx0XHRcdFwiTmV3IExhbmdDaGFpbiBwYWNrYWdlcyBhcmUgYXZhaWxhYmxlIHRoYXQgbW9yZSBlZmZpY2llbnRseSBoYW5kbGVcIixcblx0XHRcdFx0XCJ0b29sIGNhbGxpbmcuXFxuXFxuUGxlYXNlIHVwZ3JhZGUgeW91ciBwYWNrYWdlcyB0byB2ZXJzaW9ucyB0aGF0IHNldFwiLFxuXHRcdFx0XHRcIm1lc3NhZ2UgdG9vbCBjYWxscy4gZS5nLiwgYHBucG0gaW5zdGFsbCBAbGFuZ2NoYWluL2FudGhyb3BpY2AsXCIsXG5cdFx0XHRcdFwicG5wbSBpbnN0YWxsIEBsYW5nY2hhaW4vb3BlbmFpYCwgZXRjLlwiXG5cdFx0XHRdLmpvaW4oXCIgXCIpKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmICghKHJhd1Rvb2xDYWxscyA9PSBudWxsKSAmJiB0b29sQ2FsbHMgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGNvbnN0IFt0b29sQ2FsbHMkMSwgaW52YWxpZFRvb2xDYWxsc10gPSByZXF1aXJlX21lc3NhZ2VzX3Rvb2wuZGVmYXVsdFRvb2xDYWxsUGFyc2VyKHJhd1Rvb2xDYWxscyk7XG5cdFx0XHRcdFx0aW5pdFBhcmFtcy50b29sX2NhbGxzID0gdG9vbENhbGxzJDEgPz8gW107XG5cdFx0XHRcdFx0aW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPSBpbnZhbGlkVG9vbENhbGxzID8/IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluaXRQYXJhbXMudG9vbF9jYWxscyA9IGluaXRQYXJhbXMudG9vbF9jYWxscyA/PyBbXTtcblx0XHRcdFx0XHRpbml0UGFyYW1zLmludmFsaWRfdG9vbF9jYWxscyA9IGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID8/IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0aW5pdFBhcmFtcy50b29sX2NhbGxzID0gW107XG5cdFx0XHRcdGluaXRQYXJhbXMuaW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW5pdFBhcmFtcy5yZXNwb25zZV9tZXRhZGF0YSAhPT0gdm9pZCAwICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiBpbml0UGFyYW1zLnJlc3BvbnNlX21ldGFkYXRhICYmIGluaXRQYXJhbXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikge1xuXHRcdFx0XHRpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgPSBpbml0UGFyYW1zLmNvbnRlbnQ7XG5cdFx0XHRcdGluaXRQYXJhbXMuY29udGVudCA9IHZvaWQgMDtcblx0XHRcdH1cblx0XHRcdGlmIChpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpbml0UGFyYW1zLmNvbnRlbnRCbG9ja3MucHVzaCguLi5pbml0UGFyYW1zLnRvb2xfY2FsbHMubWFwKCh0b29sQ2FsbCkgPT4gKHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0XHRuYW1lOiB0b29sQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0XHRcdFx0fSkpKTtcblx0XHRcdFx0Y29uc3QgbWlzc2luZ1Rvb2xDYWxscyA9IGluaXRQYXJhbXMuY29udGVudEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5maWx0ZXIoKGJsb2NrKSA9PiAhaW5pdFBhcmFtcy50b29sX2NhbGxzPy5zb21lKCh0b29sQ2FsbCkgPT4gdG9vbENhbGwuaWQgPT09IGJsb2NrLmlkICYmIHRvb2xDYWxsLm5hbWUgPT09IGJsb2NrLm5hbWUpKTtcblx0XHRcdFx0aWYgKG1pc3NpbmdUb29sQ2FsbHMubGVuZ3RoID4gMCkgaW5pdFBhcmFtcy50b29sX2NhbGxzID0gbWlzc2luZ1Rvb2xDYWxscy5tYXAoKGJsb2NrKSA9PiAoe1xuXHRcdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLm5hbWUsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suYXJnc1xuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHN1cGVyKGluaXRQYXJhbXMpO1xuXHRcdGlmICh0eXBlb2YgaW5pdFBhcmFtcyAhPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dGhpcy50b29sX2NhbGxzID0gaW5pdFBhcmFtcy50b29sX2NhbGxzID8/IHRoaXMudG9vbF9jYWxscztcblx0XHRcdHRoaXMuaW52YWxpZF90b29sX2NhbGxzID0gaW5pdFBhcmFtcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPz8gdGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHM7XG5cdFx0fVxuXHRcdHRoaXMudXNhZ2VfbWV0YWRhdGEgPSBpbml0UGFyYW1zLnVzYWdlX21ldGFkYXRhO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkFJTWVzc2FnZVwiO1xuXHR9XG5cdGdldCBjb250ZW50QmxvY2tzKCkge1xuXHRcdGlmICh0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIFwib3V0cHV0X3ZlcnNpb25cIiBpbiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEub3V0cHV0X3ZlcnNpb24gPT09IFwidjFcIikgcmV0dXJuIHRoaXMuY29udGVudDtcblx0XHRpZiAodGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiBcIm1vZGVsX3Byb3ZpZGVyXCIgaW4gdGhpcy5yZXNwb25zZV9tZXRhZGF0YSAmJiB0eXBlb2YgdGhpcy5yZXNwb25zZV9tZXRhZGF0YS5tb2RlbF9wcm92aWRlciA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0Y29uc3QgdHJhbnNsYXRvciA9IHJlcXVpcmVfaW5kZXguZ2V0VHJhbnNsYXRvcih0aGlzLnJlc3BvbnNlX21ldGFkYXRhLm1vZGVsX3Byb3ZpZGVyKTtcblx0XHRcdGlmICh0cmFuc2xhdG9yKSByZXR1cm4gdHJhbnNsYXRvci50cmFuc2xhdGVDb250ZW50KHRoaXMpO1xuXHRcdH1cblx0XHRjb25zdCBibG9ja3MgPSBzdXBlci5jb250ZW50QmxvY2tzO1xuXHRcdGlmICh0aGlzLnRvb2xfY2FsbHMpIHtcblx0XHRcdGNvbnN0IG1pc3NpbmdUb29sQ2FsbHMgPSB0aGlzLnRvb2xfY2FsbHMuZmlsdGVyKChibG9jaykgPT4gIWJsb2Nrcy5zb21lKChiKSA9PiBiLmlkID09PSBibG9jay5pZCAmJiBiLm5hbWUgPT09IGJsb2NrLm5hbWUpKTtcblx0XHRcdGJsb2Nrcy5wdXNoKC4uLm1pc3NpbmdUb29sQ2FsbHMubWFwKChibG9jaykgPT4gKHtcblx0XHRcdFx0Li4uYmxvY2ssXG5cdFx0XHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0bmFtZTogYmxvY2submFtZSxcblx0XHRcdFx0YXJnczogYmxvY2suYXJnc1xuXHRcdFx0fSkpKTtcblx0XHR9XG5cdFx0cmV0dXJuIGJsb2Nrcztcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IHRoaXMudG9vbF9jYWxscyxcblx0XHRcdGludmFsaWRfdG9vbF9jYWxsczogdGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHMsXG5cdFx0XHR1c2FnZV9tZXRhZGF0YTogdGhpcy51c2FnZV9tZXRhZGF0YVxuXHRcdH07XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJhaVwiO1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQUlNZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0FJTWVzc2FnZSh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwiYWlcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIEFJTWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0FJTWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJhaVwiO1xufVxuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhbiBBSSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiogb3RoZXIgQUkgbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIEFJTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2Jhc2UuQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHR5cGUgPSBcImFpXCI7XG5cdHRvb2xfY2FsbHMgPSBbXTtcblx0aW52YWxpZF90b29sX2NhbGxzID0gW107XG5cdHRvb2xfY2FsbF9jaHVua3MgPSBbXTtcblx0dXNhZ2VfbWV0YWRhdGE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGxldCBpbml0UGFyYW1zO1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSkgaW5pdFBhcmFtcyA9IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IFtdLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBbXSxcblx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IFtdXG5cdFx0fTtcblx0XHRlbHNlIGlmIChmaWVsZHMudG9vbF9jYWxsX2NodW5rcyA9PT0gdm9pZCAwIHx8IGZpZWxkcy50b29sX2NhbGxfY2h1bmtzLmxlbmd0aCA9PT0gMCkgaW5pdFBhcmFtcyA9IHtcblx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbHM6IGZpZWxkcy50b29sX2NhbGxzID8/IFtdLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBbXSxcblx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IFtdLFxuXHRcdFx0dXNhZ2VfbWV0YWRhdGE6IGZpZWxkcy51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwID8gZmllbGRzLnVzYWdlX21ldGFkYXRhIDogdm9pZCAwXG5cdFx0fTtcblx0XHRlbHNlIGluaXRQYXJhbXMgPSB7XG5cdFx0XHQuLi5maWVsZHMsXG5cdFx0XHQuLi5yZXF1aXJlX3V0aWxzLmNvbGxhcHNlVG9vbENhbGxDaHVua3MoZmllbGRzLnRvb2xfY2FsbF9jaHVua3MgPz8gW10pLFxuXHRcdFx0dXNhZ2VfbWV0YWRhdGE6IGZpZWxkcy51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwID8gZmllbGRzLnVzYWdlX21ldGFkYXRhIDogdm9pZCAwXG5cdFx0fTtcblx0XHRzdXBlcihpbml0UGFyYW1zKTtcblx0XHR0aGlzLnRvb2xfY2FsbF9jaHVua3MgPSBpbml0UGFyYW1zLnRvb2xfY2FsbF9jaHVua3MgPz8gdGhpcy50b29sX2NhbGxfY2h1bmtzO1xuXHRcdHRoaXMudG9vbF9jYWxscyA9IGluaXRQYXJhbXMudG9vbF9jYWxscyA/PyB0aGlzLnRvb2xfY2FsbHM7XG5cdFx0dGhpcy5pbnZhbGlkX3Rvb2xfY2FsbHMgPSBpbml0UGFyYW1zLmludmFsaWRfdG9vbF9jYWxscyA/PyB0aGlzLmludmFsaWRfdG9vbF9jYWxscztcblx0XHR0aGlzLnVzYWdlX21ldGFkYXRhID0gaW5pdFBhcmFtcy51c2FnZV9tZXRhZGF0YTtcblx0fVxuXHRnZXQgbGNfYWxpYXNlcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIubGNfYWxpYXNlcyxcblx0XHRcdHRvb2xfY2FsbHM6IFwidG9vbF9jYWxsc1wiLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiBcImludmFsaWRfdG9vbF9jYWxsc1wiLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogXCJ0b29sX2NhbGxfY2h1bmtzXCJcblx0XHR9O1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkFJTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0Z2V0IGNvbnRlbnRCbG9ja3MoKSB7XG5cdFx0aWYgKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgXCJvdXRwdXRfdmVyc2lvblwiIGluIHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgJiYgdGhpcy5yZXNwb25zZV9tZXRhZGF0YS5vdXRwdXRfdmVyc2lvbiA9PT0gXCJ2MVwiKSByZXR1cm4gdGhpcy5jb250ZW50O1xuXHRcdGlmICh0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIFwibW9kZWxfcHJvdmlkZXJcIiBpbiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhICYmIHR5cGVvZiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhLm1vZGVsX3Byb3ZpZGVyID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRjb25zdCB0cmFuc2xhdG9yID0gcmVxdWlyZV9pbmRleC5nZXRUcmFuc2xhdG9yKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEubW9kZWxfcHJvdmlkZXIpO1xuXHRcdFx0aWYgKHRyYW5zbGF0b3IpIHJldHVybiB0cmFuc2xhdG9yLnRyYW5zbGF0ZUNvbnRlbnQodGhpcyk7XG5cdFx0fVxuXHRcdGNvbnN0IGJsb2NrcyA9IHN1cGVyLmNvbnRlbnRCbG9ja3M7XG5cdFx0aWYgKHRoaXMudG9vbF9jYWxscykge1xuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgIT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0Y29uc3QgY29udGVudFRvb2xDYWxscyA9IHRoaXMuY29udGVudC5maWx0ZXIoKGJsb2NrKSA9PiBibG9jay50eXBlID09PSBcInRvb2xfY2FsbFwiKS5tYXAoKGJsb2NrKSA9PiBibG9jay5pZCk7XG5cdFx0XHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgdGhpcy50b29sX2NhbGxzKSBpZiAodG9vbENhbGwuaWQgJiYgIWNvbnRlbnRUb29sQ2FsbHMuaW5jbHVkZXModG9vbENhbGwuaWQpKSBibG9ja3MucHVzaCh7XG5cdFx0XHRcdFx0Li4udG9vbENhbGwsXG5cdFx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRcdFx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0XHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYmxvY2tzO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsczogdGhpcy50b29sX2NhbGxzLFxuXHRcdFx0dG9vbF9jYWxsX2NodW5rczogdGhpcy50b29sX2NhbGxfY2h1bmtzLFxuXHRcdFx0aW52YWxpZF90b29sX2NhbGxzOiB0aGlzLmludmFsaWRfdG9vbF9jYWxscyxcblx0XHRcdHVzYWdlX21ldGFkYXRhOiB0aGlzLnVzYWdlX21ldGFkYXRhXG5cdFx0fTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBjb21iaW5lZEZpZWxkcyA9IHtcblx0XHRcdGNvbnRlbnQ6IHJlcXVpcmVfYmFzZS5tZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHJlcXVpcmVfbWV0YWRhdGEubWVyZ2VSZXNwb25zZU1ldGFkYXRhKHRoaXMucmVzcG9uc2VfbWV0YWRhdGEsIGNodW5rLnJlc3BvbnNlX21ldGFkYXRhKSxcblx0XHRcdHRvb2xfY2FsbF9jaHVua3M6IFtdLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9O1xuXHRcdGlmICh0aGlzLnRvb2xfY2FsbF9jaHVua3MgIT09IHZvaWQgMCB8fCBjaHVuay50b29sX2NhbGxfY2h1bmtzICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IHJhd1Rvb2xDYWxscyA9IHJlcXVpcmVfYmFzZS5fbWVyZ2VMaXN0cyh0aGlzLnRvb2xfY2FsbF9jaHVua3MsIGNodW5rLnRvb2xfY2FsbF9jaHVua3MpO1xuXHRcdFx0aWYgKHJhd1Rvb2xDYWxscyAhPT0gdm9pZCAwICYmIHJhd1Rvb2xDYWxscy5sZW5ndGggPiAwKSBjb21iaW5lZEZpZWxkcy50b29sX2NhbGxfY2h1bmtzID0gcmF3VG9vbENhbGxzO1xuXHRcdH1cblx0XHRpZiAodGhpcy51c2FnZV9tZXRhZGF0YSAhPT0gdm9pZCAwIHx8IGNodW5rLnVzYWdlX21ldGFkYXRhICE9PSB2b2lkIDApIGNvbWJpbmVkRmllbGRzLnVzYWdlX21ldGFkYXRhID0gcmVxdWlyZV9tZXRhZGF0YS5tZXJnZVVzYWdlTWV0YWRhdGEodGhpcy51c2FnZV9tZXRhZGF0YSwgY2h1bmsudXNhZ2VfbWV0YWRhdGEpO1xuXHRcdGNvbnN0IENscyA9IHRoaXMuY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIG5ldyBDbHMoY29tYmluZWRGaWVsZHMpO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiYWlcIjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkFJTWVzc2FnZSA9IEFJTWVzc2FnZTtcbmV4cG9ydHMuQUlNZXNzYWdlQ2h1bmsgPSBBSU1lc3NhZ2VDaHVuaztcbmV4cG9ydHMuaXNBSU1lc3NhZ2UgPSBpc0FJTWVzc2FnZTtcbmV4cG9ydHMuaXNBSU1lc3NhZ2VDaHVuayA9IGlzQUlNZXNzYWdlQ2h1bms7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1haS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs":
/*!*************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/base.cjs ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_load_serializable = __webpack_require__(/*! ../load/serializable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs\");\nconst require_data = __webpack_require__(/*! ./content/data.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/content/data.cjs\");\nconst require_anthropic = __webpack_require__(/*! ./block_translators/anthropic.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/anthropic.cjs\");\nconst require_data$1 = __webpack_require__(/*! ./block_translators/data.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/data.cjs\");\nconst require_openai = __webpack_require__(/*! ./block_translators/openai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/openai.cjs\");\nconst require_message = __webpack_require__(/*! ./message.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/message.cjs\");\nconst require_format = __webpack_require__(/*! ./format.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/format.cjs\");\n\n//#region src/messages/base.ts\n/** @internal */\nconst MESSAGE_SYMBOL = Symbol.for(\"langchain.message\");\nfunction mergeContent(firstContent, secondContent) {\n\tif (typeof firstContent === \"string\") {\n\t\tif (firstContent === \"\") return secondContent;\n\t\tif (typeof secondContent === \"string\") return firstContent + secondContent;\n\t\telse if (Array.isArray(secondContent) && secondContent.length === 0) return firstContent;\n\t\telse if (Array.isArray(secondContent) && secondContent.some((c) => require_data.isDataContentBlock(c))) return [{\n\t\t\ttype: \"text\",\n\t\t\tsource_type: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t\telse return [{\n\t\t\ttype: \"text\",\n\t\t\ttext: firstContent\n\t\t}, ...secondContent];\n\t} else if (Array.isArray(secondContent)) return _mergeLists(firstContent, secondContent) ?? [...firstContent, ...secondContent];\n\telse if (secondContent === \"\") return firstContent;\n\telse if (Array.isArray(firstContent) && firstContent.some((c) => require_data.isDataContentBlock(c))) return [...firstContent, {\n\t\ttype: \"file\",\n\t\tsource_type: \"text\",\n\t\ttext: secondContent\n\t}];\n\telse return [...firstContent, {\n\t\ttype: \"text\",\n\t\ttext: secondContent\n\t}];\n}\n/**\n* 'Merge' two statuses. If either value passed is 'error', it will return 'error'. Else\n* it will return 'success'.\n*\n* @param {\"success\" | \"error\" | undefined} left The existing value to 'merge' with the new value.\n* @param {\"success\" | \"error\" | undefined} right The new value to 'merge' with the existing value\n* @returns {\"success\" | \"error\"} The 'merged' value.\n*/\nfunction _mergeStatus(left, right) {\n\tif (left === \"error\" || right === \"error\") return \"error\";\n\treturn \"success\";\n}\nfunction stringifyWithDepthLimit(obj, depthLimit) {\n\tfunction helper(obj$1, currentDepth) {\n\t\tif (typeof obj$1 !== \"object\" || obj$1 === null || obj$1 === void 0) return obj$1;\n\t\tif (currentDepth >= depthLimit) {\n\t\t\tif (Array.isArray(obj$1)) return \"[Array]\";\n\t\t\treturn \"[Object]\";\n\t\t}\n\t\tif (Array.isArray(obj$1)) return obj$1.map((item) => helper(item, currentDepth + 1));\n\t\tconst result = {};\n\t\tfor (const key of Object.keys(obj$1)) result[key] = helper(obj$1[key], currentDepth + 1);\n\t\treturn result;\n\t}\n\treturn JSON.stringify(helper(obj, 0), null, 2);\n}\n/**\n* Base class for all types of messages in a conversation. It includes\n* properties like `content`, `name`, and `additional_kwargs`. It also\n* includes methods like `toDict()` and `_getType()`.\n*/\nvar BaseMessage = class extends require_load_serializable.Serializable {\n\tlc_namespace = [\"langchain_core\", \"messages\"];\n\tlc_serializable = true;\n\tget lc_aliases() {\n\t\treturn {\n\t\t\tadditional_kwargs: \"additional_kwargs\",\n\t\t\tresponse_metadata: \"response_metadata\"\n\t\t};\n\t}\n\t[MESSAGE_SYMBOL] = true;\n\tid;\n\t/** @inheritdoc */\n\tname;\n\tcontent;\n\tadditional_kwargs;\n\tresponse_metadata;\n\t/**\n\t* @deprecated Use .getType() instead or import the proper typeguard.\n\t* For example:\n\t*\n\t* ```ts\n\t* import { isAIMessage } from \"@langchain/core/messages\";\n\t*\n\t* const message = new AIMessage(\"Hello!\");\n\t* isAIMessage(message); // true\n\t* ```\n\t*/\n\t_getType() {\n\t\treturn this.type;\n\t}\n\t/**\n\t* @deprecated Use .type instead\n\t* The type of the message.\n\t*/\n\tgetType() {\n\t\treturn this._getType();\n\t}\n\tconstructor(arg) {\n\t\tconst fields = typeof arg === \"string\" || Array.isArray(arg) ? { content: arg } : arg;\n\t\tif (!fields.additional_kwargs) fields.additional_kwargs = {};\n\t\tif (!fields.response_metadata) fields.response_metadata = {};\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tif (fields.content === void 0 && fields.contentBlocks !== void 0) {\n\t\t\tthis.content = fields.contentBlocks;\n\t\t\tthis.response_metadata = {\n\t\t\t\toutput_version: \"v1\",\n\t\t\t\t...fields.response_metadata\n\t\t\t};\n\t\t} else if (fields.content !== void 0) {\n\t\t\tthis.content = fields.content ?? [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t} else {\n\t\t\tthis.content = [];\n\t\t\tthis.response_metadata = fields.response_metadata;\n\t\t}\n\t\tthis.additional_kwargs = fields.additional_kwargs;\n\t\tthis.id = fields.id;\n\t}\n\t/** Get text content of the message. */\n\tget text() {\n\t\tif (typeof this.content === \"string\") return this.content;\n\t\tif (!Array.isArray(this.content)) return \"\";\n\t\treturn this.content.map((c) => {\n\t\t\tif (typeof c === \"string\") return c;\n\t\t\tif (c.type === \"text\") return c.text;\n\t\t\treturn \"\";\n\t\t}).join(\"\");\n\t}\n\tget contentBlocks() {\n\t\tconst blocks = typeof this.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: this.content\n\t\t}] : this.content;\n\t\tconst parsingSteps = [\n\t\t\trequire_data$1.convertToV1FromDataContent,\n\t\t\trequire_openai.convertToV1FromChatCompletionsInput,\n\t\t\trequire_anthropic.convertToV1FromAnthropicInput\n\t\t];\n\t\tconst parsedBlocks = parsingSteps.reduce((blocks$1, step) => step(blocks$1), blocks);\n\t\treturn parsedBlocks;\n\t}\n\ttoDict() {\n\t\treturn {\n\t\t\ttype: this.getType(),\n\t\t\tdata: this.toJSON().kwargs\n\t\t};\n\t}\n\tstatic lc_name() {\n\t\treturn \"BaseMessage\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tcontent: this.content,\n\t\t\tname: this.name,\n\t\t\tadditional_kwargs: this.additional_kwargs,\n\t\t\tresponse_metadata: this.response_metadata\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn typeof obj === \"object\" && obj !== null && MESSAGE_SYMBOL in obj && obj[MESSAGE_SYMBOL] === true && require_message.isMessage(obj);\n\t}\n\t_updateId(value) {\n\t\tthis.id = value;\n\t\tthis.lc_kwargs.id = value;\n\t}\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.lc_name();\n\t}\n\t[Symbol.for(\"nodejs.util.inspect.custom\")](depth) {\n\t\tif (depth === null) return this;\n\t\tconst printable = stringifyWithDepthLimit(this._printableFields, Math.max(4, depth));\n\t\treturn `${this.constructor.lc_name()} ${printable}`;\n\t}\n\ttoFormattedString(format = \"pretty\") {\n\t\treturn require_format.convertToFormattedString(this, format);\n\t}\n};\nfunction isOpenAIToolCallArray(value) {\n\treturn Array.isArray(value) && value.every((v) => typeof v.index === \"number\");\n}\nfunction _mergeDicts(left, right) {\n\tif (left === void 0 && right === void 0) return void 0;\n\tif (left === void 0 || right === void 0) return left ?? right;\n\tconst merged = { ...left };\n\tfor (const [key, value] of Object.entries(right)) if (merged[key] == null) merged[key] = value;\n\telse if (value == null) continue;\n\telse if (typeof merged[key] !== typeof value || Array.isArray(merged[key]) !== Array.isArray(value)) throw new Error(`field[${key}] already exists in the message chunk, but with a different type.`);\n\telse if (typeof merged[key] === \"string\") if (key === \"type\") continue;\n\telse if ([\n\t\t\"id\",\n\t\t\"name\",\n\t\t\"output_version\",\n\t\t\"model_provider\"\n\t].includes(key)) {\n\t\tif (value) merged[key] = value;\n\t} else merged[key] += value;\n\telse if (typeof merged[key] === \"number\") merged[key] = merged[key] + value;\n\telse if (typeof merged[key] === \"object\" && !Array.isArray(merged[key])) merged[key] = _mergeDicts(merged[key], value);\n\telse if (Array.isArray(merged[key])) merged[key] = _mergeLists(merged[key], value);\n\telse if (merged[key] === value) continue;\n\telse console.warn(`field[${key}] already exists in this message chunk and value has unsupported type.`);\n\treturn merged;\n}\nfunction _mergeLists(left, right) {\n\tif (left === void 0 && right === void 0) return void 0;\n\telse if (left === void 0 || right === void 0) return left || right;\n\telse {\n\t\tconst merged = [...left];\n\t\tfor (const item of right) if (typeof item === \"object\" && item !== null && \"index\" in item && typeof item.index === \"number\") {\n\t\t\tconst toMerge = merged.findIndex((leftItem) => {\n\t\t\t\tconst isObject = typeof leftItem === \"object\";\n\t\t\t\tconst indiciesMatch = \"index\" in leftItem && leftItem.index === item.index;\n\t\t\t\tconst idsMatch = \"id\" in leftItem && \"id\" in item && leftItem?.id === item?.id;\n\t\t\t\tconst eitherItemMissingID = !(\"id\" in leftItem) || !leftItem?.id || !(\"id\" in item) || !item?.id;\n\t\t\t\treturn isObject && indiciesMatch && (idsMatch || eitherItemMissingID);\n\t\t\t});\n\t\t\tif (toMerge !== -1 && typeof merged[toMerge] === \"object\" && merged[toMerge] !== null) merged[toMerge] = _mergeDicts(merged[toMerge], item);\n\t\t\telse merged.push(item);\n\t\t} else if (typeof item === \"object\" && item !== null && \"text\" in item && item.text === \"\") continue;\n\t\telse merged.push(item);\n\t\treturn merged;\n\t}\n}\nfunction _mergeObj(left, right) {\n\tif (left === void 0 && right === void 0) return void 0;\n\tif (left === void 0 || right === void 0) return left ?? right;\n\telse if (typeof left !== typeof right) throw new Error(`Cannot merge objects of different types.\\nLeft ${typeof left}\\nRight ${typeof right}`);\n\telse if (typeof left === \"string\" && typeof right === \"string\") return left + right;\n\telse if (Array.isArray(left) && Array.isArray(right)) return _mergeLists(left, right);\n\telse if (typeof left === \"object\" && typeof right === \"object\") return _mergeDicts(left, right);\n\telse if (left === right) return left;\n\telse throw new Error(`Can not merge objects of different types.\\nLeft ${left}\\nRight ${right}`);\n}\n/**\n* Represents a chunk of a message, which can be concatenated with other\n* message chunks. It includes a method `_merge_kwargs_dict()` for merging\n* additional keyword arguments from another `BaseMessageChunk` into this\n* one. It also overrides the `__add__()` method to support concatenation\n* of `BaseMessageChunk` instances.\n*/\nvar BaseMessageChunk = class BaseMessageChunk extends BaseMessage {\n\tstatic isInstance(obj) {\n\t\tif (!super.isInstance(obj)) return false;\n\t\tlet proto = Object.getPrototypeOf(obj);\n\t\twhile (proto !== null) {\n\t\t\tif (proto === BaseMessageChunk.prototype) return true;\n\t\t\tproto = Object.getPrototypeOf(proto);\n\t\t}\n\t\treturn false;\n\t}\n};\nfunction _isMessageFieldWithRole(x) {\n\treturn typeof x.role === \"string\";\n}\n/**\n* @deprecated Use {@link BaseMessage.isInstance} instead\n*/\nfunction isBaseMessage(messageLike) {\n\treturn typeof messageLike?._getType === \"function\";\n}\n/**\n* @deprecated Use {@link BaseMessageChunk.isInstance} instead\n*/\nfunction isBaseMessageChunk(messageLike) {\n\treturn BaseMessageChunk.isInstance(messageLike);\n}\n\n//#endregion\nexports.BaseMessage = BaseMessage;\nexports.BaseMessageChunk = BaseMessageChunk;\nexports._isMessageFieldWithRole = _isMessageFieldWithRole;\nexports._mergeDicts = _mergeDicts;\nexports._mergeLists = _mergeLists;\nexports._mergeObj = _mergeObj;\nexports._mergeStatus = _mergeStatus;\nexports.isBaseMessage = isBaseMessage;\nexports.isBaseMessageChunk = isBaseMessageChunk;\nexports.isOpenAIToolCallArray = isOpenAIToolCallArray;\nexports.mergeContent = mergeContent;\n//# sourceMappingURL=base.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9iYXNlLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0MsbUJBQU8sQ0FBQyw0R0FBMEI7QUFDcEUscUJBQXFCLG1CQUFPLENBQUMsMEdBQW9CO0FBQ2pELDBCQUEwQixtQkFBTyxDQUFDLHdJQUFtQztBQUNyRSx1QkFBdUIsbUJBQU8sQ0FBQyw4SEFBOEI7QUFDN0QsdUJBQXVCLG1CQUFPLENBQUMsa0lBQWdDO0FBQy9ELHdCQUF3QixtQkFBTyxDQUFDLGdHQUFlO0FBQy9DLHVCQUF1QixtQkFBTyxDQUFDLDhGQUFjOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQ0FBaUM7QUFDM0MsVUFBVSxpQ0FBaUM7QUFDM0MsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZUFBZTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRCQUE0QixFQUFFLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsK0hBQStILElBQUk7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxZQUFZLFVBQVUsYUFBYTtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxLQUFLLFVBQVUsTUFBTTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1DQUFtQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsK0JBQStCO0FBQy9CLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsMEJBQTBCO0FBQzFCLDZCQUE2QjtBQUM3QixvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2Jhc2UuY2pzP2U4YTIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9sb2FkX3NlcmlhbGl6YWJsZSA9IHJlcXVpcmUoJy4uL2xvYWQvc2VyaWFsaXphYmxlLmNqcycpO1xuY29uc3QgcmVxdWlyZV9kYXRhID0gcmVxdWlyZSgnLi9jb250ZW50L2RhdGEuY2pzJyk7XG5jb25zdCByZXF1aXJlX2FudGhyb3BpYyA9IHJlcXVpcmUoJy4vYmxvY2tfdHJhbnNsYXRvcnMvYW50aHJvcGljLmNqcycpO1xuY29uc3QgcmVxdWlyZV9kYXRhJDEgPSByZXF1aXJlKCcuL2Jsb2NrX3RyYW5zbGF0b3JzL2RhdGEuY2pzJyk7XG5jb25zdCByZXF1aXJlX29wZW5haSA9IHJlcXVpcmUoJy4vYmxvY2tfdHJhbnNsYXRvcnMvb3BlbmFpLmNqcycpO1xuY29uc3QgcmVxdWlyZV9tZXNzYWdlID0gcmVxdWlyZSgnLi9tZXNzYWdlLmNqcycpO1xuY29uc3QgcmVxdWlyZV9mb3JtYXQgPSByZXF1aXJlKCcuL2Zvcm1hdC5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9iYXNlLnRzXG4vKiogQGludGVybmFsICovXG5jb25zdCBNRVNTQUdFX1NZTUJPTCA9IFN5bWJvbC5mb3IoXCJsYW5nY2hhaW4ubWVzc2FnZVwiKTtcbmZ1bmN0aW9uIG1lcmdlQ29udGVudChmaXJzdENvbnRlbnQsIHNlY29uZENvbnRlbnQpIHtcblx0aWYgKHR5cGVvZiBmaXJzdENvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcblx0XHRpZiAoZmlyc3RDb250ZW50ID09PSBcIlwiKSByZXR1cm4gc2Vjb25kQ29udGVudDtcblx0XHRpZiAodHlwZW9mIHNlY29uZENvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBmaXJzdENvbnRlbnQgKyBzZWNvbmRDb250ZW50O1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2Vjb25kQ29udGVudCkgJiYgc2Vjb25kQ29udGVudC5sZW5ndGggPT09IDApIHJldHVybiBmaXJzdENvbnRlbnQ7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWNvbmRDb250ZW50KSAmJiBzZWNvbmRDb250ZW50LnNvbWUoKGMpID0+IHJlcXVpcmVfZGF0YS5pc0RhdGFDb250ZW50QmxvY2soYykpKSByZXR1cm4gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0c291cmNlX3R5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogZmlyc3RDb250ZW50XG5cdFx0fSwgLi4uc2Vjb25kQ29udGVudF07XG5cdFx0ZWxzZSByZXR1cm4gW3tcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0dGV4dDogZmlyc3RDb250ZW50XG5cdFx0fSwgLi4uc2Vjb25kQ29udGVudF07XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZWNvbmRDb250ZW50KSkgcmV0dXJuIF9tZXJnZUxpc3RzKGZpcnN0Q29udGVudCwgc2Vjb25kQ29udGVudCkgPz8gWy4uLmZpcnN0Q29udGVudCwgLi4uc2Vjb25kQ29udGVudF07XG5cdGVsc2UgaWYgKHNlY29uZENvbnRlbnQgPT09IFwiXCIpIHJldHVybiBmaXJzdENvbnRlbnQ7XG5cdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZmlyc3RDb250ZW50KSAmJiBmaXJzdENvbnRlbnQuc29tZSgoYykgPT4gcmVxdWlyZV9kYXRhLmlzRGF0YUNvbnRlbnRCbG9jayhjKSkpIHJldHVybiBbLi4uZmlyc3RDb250ZW50LCB7XG5cdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0c291cmNlX3R5cGU6IFwidGV4dFwiLFxuXHRcdHRleHQ6IHNlY29uZENvbnRlbnRcblx0fV07XG5cdGVsc2UgcmV0dXJuIFsuLi5maXJzdENvbnRlbnQsIHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBzZWNvbmRDb250ZW50XG5cdH1dO1xufVxuLyoqXG4qICdNZXJnZScgdHdvIHN0YXR1c2VzLiBJZiBlaXRoZXIgdmFsdWUgcGFzc2VkIGlzICdlcnJvcicsIGl0IHdpbGwgcmV0dXJuICdlcnJvcicuIEVsc2VcbiogaXQgd2lsbCByZXR1cm4gJ3N1Y2Nlc3MnLlxuKlxuKiBAcGFyYW0ge1wic3VjY2Vzc1wiIHwgXCJlcnJvclwiIHwgdW5kZWZpbmVkfSBsZWZ0IFRoZSBleGlzdGluZyB2YWx1ZSB0byAnbWVyZ2UnIHdpdGggdGhlIG5ldyB2YWx1ZS5cbiogQHBhcmFtIHtcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIiB8IHVuZGVmaW5lZH0gcmlnaHQgVGhlIG5ldyB2YWx1ZSB0byAnbWVyZ2UnIHdpdGggdGhlIGV4aXN0aW5nIHZhbHVlXG4qIEByZXR1cm5zIHtcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIn0gVGhlICdtZXJnZWQnIHZhbHVlLlxuKi9cbmZ1bmN0aW9uIF9tZXJnZVN0YXR1cyhsZWZ0LCByaWdodCkge1xuXHRpZiAobGVmdCA9PT0gXCJlcnJvclwiIHx8IHJpZ2h0ID09PSBcImVycm9yXCIpIHJldHVybiBcImVycm9yXCI7XG5cdHJldHVybiBcInN1Y2Nlc3NcIjtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVdpdGhEZXB0aExpbWl0KG9iaiwgZGVwdGhMaW1pdCkge1xuXHRmdW5jdGlvbiBoZWxwZXIob2JqJDEsIGN1cnJlbnREZXB0aCkge1xuXHRcdGlmICh0eXBlb2Ygb2JqJDEgIT09IFwib2JqZWN0XCIgfHwgb2JqJDEgPT09IG51bGwgfHwgb2JqJDEgPT09IHZvaWQgMCkgcmV0dXJuIG9iaiQxO1xuXHRcdGlmIChjdXJyZW50RGVwdGggPj0gZGVwdGhMaW1pdCkge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqJDEpKSByZXR1cm4gXCJbQXJyYXldXCI7XG5cdFx0XHRyZXR1cm4gXCJbT2JqZWN0XVwiO1xuXHRcdH1cblx0XHRpZiAoQXJyYXkuaXNBcnJheShvYmokMSkpIHJldHVybiBvYmokMS5tYXAoKGl0ZW0pID0+IGhlbHBlcihpdGVtLCBjdXJyZW50RGVwdGggKyAxKSk7XG5cdFx0Y29uc3QgcmVzdWx0ID0ge307XG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob2JqJDEpKSByZXN1bHRba2V5XSA9IGhlbHBlcihvYmokMVtrZXldLCBjdXJyZW50RGVwdGggKyAxKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShoZWxwZXIob2JqLCAwKSwgbnVsbCwgMik7XG59XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgYWxsIHR5cGVzIG9mIG1lc3NhZ2VzIGluIGEgY29udmVyc2F0aW9uLiBJdCBpbmNsdWRlc1xuKiBwcm9wZXJ0aWVzIGxpa2UgYGNvbnRlbnRgLCBgbmFtZWAsIGFuZCBgYWRkaXRpb25hbF9rd2FyZ3NgLiBJdCBhbHNvXG4qIGluY2x1ZGVzIG1ldGhvZHMgbGlrZSBgdG9EaWN0KClgIGFuZCBgX2dldFR5cGUoKWAuXG4qL1xudmFyIEJhc2VNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2xvYWRfc2VyaWFsaXphYmxlLlNlcmlhbGl6YWJsZSB7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwibWVzc2FnZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGdldCBsY19hbGlhc2VzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogXCJhZGRpdGlvbmFsX2t3YXJnc1wiLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IFwicmVzcG9uc2VfbWV0YWRhdGFcIlxuXHRcdH07XG5cdH1cblx0W01FU1NBR0VfU1lNQk9MXSA9IHRydWU7XG5cdGlkO1xuXHQvKiogQGluaGVyaXRkb2MgKi9cblx0bmFtZTtcblx0Y29udGVudDtcblx0YWRkaXRpb25hbF9rd2FyZ3M7XG5cdHJlc3BvbnNlX21ldGFkYXRhO1xuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLmdldFR5cGUoKSBpbnN0ZWFkIG9yIGltcG9ydCB0aGUgcHJvcGVyIHR5cGVndWFyZC5cblx0KiBGb3IgZXhhbXBsZTpcblx0KlxuXHQqIGBgYHRzXG5cdCogaW1wb3J0IHsgaXNBSU1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5cdCpcblx0KiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShcIkhlbGxvIVwiKTtcblx0KiBpc0FJTWVzc2FnZShtZXNzYWdlKTsgLy8gdHJ1ZVxuXHQqIGBgYFxuXHQqL1xuXHRfZ2V0VHlwZSgpIHtcblx0XHRyZXR1cm4gdGhpcy50eXBlO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAudHlwZSBpbnN0ZWFkXG5cdCogVGhlIHR5cGUgb2YgdGhlIG1lc3NhZ2UuXG5cdCovXG5cdGdldFR5cGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFR5cGUoKTtcblx0fVxuXHRjb25zdHJ1Y3RvcihhcmcpIHtcblx0XHRjb25zdCBmaWVsZHMgPSB0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoYXJnKSA/IHsgY29udGVudDogYXJnIH0gOiBhcmc7XG5cdFx0aWYgKCFmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3MpIGZpZWxkcy5hZGRpdGlvbmFsX2t3YXJncyA9IHt9O1xuXHRcdGlmICghZmllbGRzLnJlc3BvbnNlX21ldGFkYXRhKSBmaWVsZHMucmVzcG9uc2VfbWV0YWRhdGEgPSB7fTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuXHRcdGlmIChmaWVsZHMuY29udGVudCA9PT0gdm9pZCAwICYmIGZpZWxkcy5jb250ZW50QmxvY2tzICE9PSB2b2lkIDApIHtcblx0XHRcdHRoaXMuY29udGVudCA9IGZpZWxkcy5jb250ZW50QmxvY2tzO1xuXHRcdFx0dGhpcy5yZXNwb25zZV9tZXRhZGF0YSA9IHtcblx0XHRcdFx0b3V0cHV0X3ZlcnNpb246IFwidjFcIixcblx0XHRcdFx0Li4uZmllbGRzLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAoZmllbGRzLmNvbnRlbnQgIT09IHZvaWQgMCkge1xuXHRcdFx0dGhpcy5jb250ZW50ID0gZmllbGRzLmNvbnRlbnQgPz8gW107XG5cdFx0XHR0aGlzLnJlc3BvbnNlX21ldGFkYXRhID0gZmllbGRzLnJlc3BvbnNlX21ldGFkYXRhO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNvbnRlbnQgPSBbXTtcblx0XHRcdHRoaXMucmVzcG9uc2VfbWV0YWRhdGEgPSBmaWVsZHMucmVzcG9uc2VfbWV0YWRhdGE7XG5cdFx0fVxuXHRcdHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MgPSBmaWVsZHMuYWRkaXRpb25hbF9rd2FyZ3M7XG5cdFx0dGhpcy5pZCA9IGZpZWxkcy5pZDtcblx0fVxuXHQvKiogR2V0IHRleHQgY29udGVudCBvZiB0aGUgbWVzc2FnZS4gKi9cblx0Z2V0IHRleHQoKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiB0aGlzLmNvbnRlbnQ7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHRoaXMuY29udGVudCkpIHJldHVybiBcIlwiO1xuXHRcdHJldHVybiB0aGlzLmNvbnRlbnQubWFwKChjKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIGMgPT09IFwic3RyaW5nXCIpIHJldHVybiBjO1xuXHRcdFx0aWYgKGMudHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiBjLnRleHQ7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9XG5cdGdldCBjb250ZW50QmxvY2tzKCkge1xuXHRcdGNvbnN0IGJsb2NrcyA9IHR5cGVvZiB0aGlzLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiB0aGlzLmNvbnRlbnRcblx0XHR9XSA6IHRoaXMuY29udGVudDtcblx0XHRjb25zdCBwYXJzaW5nU3RlcHMgPSBbXG5cdFx0XHRyZXF1aXJlX2RhdGEkMS5jb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudCxcblx0XHRcdHJlcXVpcmVfb3BlbmFpLmNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0lucHV0LFxuXHRcdFx0cmVxdWlyZV9hbnRocm9waWMuY29udmVydFRvVjFGcm9tQW50aHJvcGljSW5wdXRcblx0XHRdO1xuXHRcdGNvbnN0IHBhcnNlZEJsb2NrcyA9IHBhcnNpbmdTdGVwcy5yZWR1Y2UoKGJsb2NrcyQxLCBzdGVwKSA9PiBzdGVwKGJsb2NrcyQxKSwgYmxvY2tzKTtcblx0XHRyZXR1cm4gcGFyc2VkQmxvY2tzO1xuXHR9XG5cdHRvRGljdCgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogdGhpcy5nZXRUeXBlKCksXG5cdFx0XHRkYXRhOiB0aGlzLnRvSlNPTigpLmt3YXJnc1xuXHRcdH07XG5cdH1cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQmFzZU1lc3NhZ2VcIjtcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IHRoaXMuaWQsXG5cdFx0XHRjb250ZW50OiB0aGlzLmNvbnRlbnQsXG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogdGhpcy5hZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiB0aGlzLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0fTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgTUVTU0FHRV9TWU1CT0wgaW4gb2JqICYmIG9ialtNRVNTQUdFX1NZTUJPTF0gPT09IHRydWUgJiYgcmVxdWlyZV9tZXNzYWdlLmlzTWVzc2FnZShvYmopO1xuXHR9XG5cdF91cGRhdGVJZCh2YWx1ZSkge1xuXHRcdHRoaXMuaWQgPSB2YWx1ZTtcblx0XHR0aGlzLmxjX2t3YXJncy5pZCA9IHZhbHVlO1xuXHR9XG5cdGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcblx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5sY19uYW1lKCk7XG5cdH1cblx0W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0oZGVwdGgpIHtcblx0XHRpZiAoZGVwdGggPT09IG51bGwpIHJldHVybiB0aGlzO1xuXHRcdGNvbnN0IHByaW50YWJsZSA9IHN0cmluZ2lmeVdpdGhEZXB0aExpbWl0KHRoaXMuX3ByaW50YWJsZUZpZWxkcywgTWF0aC5tYXgoNCwgZGVwdGgpKTtcblx0XHRyZXR1cm4gYCR7dGhpcy5jb25zdHJ1Y3Rvci5sY19uYW1lKCl9ICR7cHJpbnRhYmxlfWA7XG5cdH1cblx0dG9Gb3JtYXR0ZWRTdHJpbmcoZm9ybWF0ID0gXCJwcmV0dHlcIikge1xuXHRcdHJldHVybiByZXF1aXJlX2Zvcm1hdC5jb252ZXJ0VG9Gb3JtYXR0ZWRTdHJpbmcodGhpcywgZm9ybWF0KTtcblx0fVxufTtcbmZ1bmN0aW9uIGlzT3BlbkFJVG9vbENhbGxBcnJheSh2YWx1ZSkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoKHYpID0+IHR5cGVvZiB2LmluZGV4ID09PSBcIm51bWJlclwiKTtcbn1cbmZ1bmN0aW9uIF9tZXJnZURpY3RzKGxlZnQsIHJpZ2h0KSB7XG5cdGlmIChsZWZ0ID09PSB2b2lkIDAgJiYgcmlnaHQgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0aWYgKGxlZnQgPT09IHZvaWQgMCB8fCByaWdodCA9PT0gdm9pZCAwKSByZXR1cm4gbGVmdCA/PyByaWdodDtcblx0Y29uc3QgbWVyZ2VkID0geyAuLi5sZWZ0IH07XG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJpZ2h0KSkgaWYgKG1lcmdlZFtrZXldID09IG51bGwpIG1lcmdlZFtrZXldID0gdmFsdWU7XG5cdGVsc2UgaWYgKHZhbHVlID09IG51bGwpIGNvbnRpbnVlO1xuXHRlbHNlIGlmICh0eXBlb2YgbWVyZ2VkW2tleV0gIT09IHR5cGVvZiB2YWx1ZSB8fCBBcnJheS5pc0FycmF5KG1lcmdlZFtrZXldKSAhPT0gQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcihgZmllbGRbJHtrZXl9XSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgbWVzc2FnZSBjaHVuaywgYnV0IHdpdGggYSBkaWZmZXJlbnQgdHlwZS5gKTtcblx0ZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcInN0cmluZ1wiKSBpZiAoa2V5ID09PSBcInR5cGVcIikgY29udGludWU7XG5cdGVsc2UgaWYgKFtcblx0XHRcImlkXCIsXG5cdFx0XCJuYW1lXCIsXG5cdFx0XCJvdXRwdXRfdmVyc2lvblwiLFxuXHRcdFwibW9kZWxfcHJvdmlkZXJcIlxuXHRdLmluY2x1ZGVzKGtleSkpIHtcblx0XHRpZiAodmFsdWUpIG1lcmdlZFtrZXldID0gdmFsdWU7XG5cdH0gZWxzZSBtZXJnZWRba2V5XSArPSB2YWx1ZTtcblx0ZWxzZSBpZiAodHlwZW9mIG1lcmdlZFtrZXldID09PSBcIm51bWJlclwiKSBtZXJnZWRba2V5XSA9IG1lcmdlZFtrZXldICsgdmFsdWU7XG5cdGVsc2UgaWYgKHR5cGVvZiBtZXJnZWRba2V5XSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShtZXJnZWRba2V5XSkpIG1lcmdlZFtrZXldID0gX21lcmdlRGljdHMobWVyZ2VkW2tleV0sIHZhbHVlKTtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtZXJnZWRba2V5XSkpIG1lcmdlZFtrZXldID0gX21lcmdlTGlzdHMobWVyZ2VkW2tleV0sIHZhbHVlKTtcblx0ZWxzZSBpZiAobWVyZ2VkW2tleV0gPT09IHZhbHVlKSBjb250aW51ZTtcblx0ZWxzZSBjb25zb2xlLndhcm4oYGZpZWxkWyR7a2V5fV0gYWxyZWFkeSBleGlzdHMgaW4gdGhpcyBtZXNzYWdlIGNodW5rIGFuZCB2YWx1ZSBoYXMgdW5zdXBwb3J0ZWQgdHlwZS5gKTtcblx0cmV0dXJuIG1lcmdlZDtcbn1cbmZ1bmN0aW9uIF9tZXJnZUxpc3RzKGxlZnQsIHJpZ2h0KSB7XG5cdGlmIChsZWZ0ID09PSB2b2lkIDAgJiYgcmlnaHQgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0ZWxzZSBpZiAobGVmdCA9PT0gdm9pZCAwIHx8IHJpZ2h0ID09PSB2b2lkIDApIHJldHVybiBsZWZ0IHx8IHJpZ2h0O1xuXHRlbHNlIHtcblx0XHRjb25zdCBtZXJnZWQgPSBbLi4ubGVmdF07XG5cdFx0Zm9yIChjb25zdCBpdGVtIG9mIHJpZ2h0KSBpZiAodHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgaXRlbSAhPT0gbnVsbCAmJiBcImluZGV4XCIgaW4gaXRlbSAmJiB0eXBlb2YgaXRlbS5pbmRleCA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0Y29uc3QgdG9NZXJnZSA9IG1lcmdlZC5maW5kSW5kZXgoKGxlZnRJdGVtKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGlzT2JqZWN0ID0gdHlwZW9mIGxlZnRJdGVtID09PSBcIm9iamVjdFwiO1xuXHRcdFx0XHRjb25zdCBpbmRpY2llc01hdGNoID0gXCJpbmRleFwiIGluIGxlZnRJdGVtICYmIGxlZnRJdGVtLmluZGV4ID09PSBpdGVtLmluZGV4O1xuXHRcdFx0XHRjb25zdCBpZHNNYXRjaCA9IFwiaWRcIiBpbiBsZWZ0SXRlbSAmJiBcImlkXCIgaW4gaXRlbSAmJiBsZWZ0SXRlbT8uaWQgPT09IGl0ZW0/LmlkO1xuXHRcdFx0XHRjb25zdCBlaXRoZXJJdGVtTWlzc2luZ0lEID0gIShcImlkXCIgaW4gbGVmdEl0ZW0pIHx8ICFsZWZ0SXRlbT8uaWQgfHwgIShcImlkXCIgaW4gaXRlbSkgfHwgIWl0ZW0/LmlkO1xuXHRcdFx0XHRyZXR1cm4gaXNPYmplY3QgJiYgaW5kaWNpZXNNYXRjaCAmJiAoaWRzTWF0Y2ggfHwgZWl0aGVySXRlbU1pc3NpbmdJRCk7XG5cdFx0XHR9KTtcblx0XHRcdGlmICh0b01lcmdlICE9PSAtMSAmJiB0eXBlb2YgbWVyZ2VkW3RvTWVyZ2VdID09PSBcIm9iamVjdFwiICYmIG1lcmdlZFt0b01lcmdlXSAhPT0gbnVsbCkgbWVyZ2VkW3RvTWVyZ2VdID0gX21lcmdlRGljdHMobWVyZ2VkW3RvTWVyZ2VdLCBpdGVtKTtcblx0XHRcdGVsc2UgbWVyZ2VkLnB1c2goaXRlbSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiBpdGVtICE9PSBudWxsICYmIFwidGV4dFwiIGluIGl0ZW0gJiYgaXRlbS50ZXh0ID09PSBcIlwiKSBjb250aW51ZTtcblx0XHRlbHNlIG1lcmdlZC5wdXNoKGl0ZW0pO1xuXHRcdHJldHVybiBtZXJnZWQ7XG5cdH1cbn1cbmZ1bmN0aW9uIF9tZXJnZU9iaihsZWZ0LCByaWdodCkge1xuXHRpZiAobGVmdCA9PT0gdm9pZCAwICYmIHJpZ2h0ID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdGlmIChsZWZ0ID09PSB2b2lkIDAgfHwgcmlnaHQgPT09IHZvaWQgMCkgcmV0dXJuIGxlZnQgPz8gcmlnaHQ7XG5cdGVsc2UgaWYgKHR5cGVvZiBsZWZ0ICE9PSB0eXBlb2YgcmlnaHQpIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG1lcmdlIG9iamVjdHMgb2YgZGlmZmVyZW50IHR5cGVzLlxcbkxlZnQgJHt0eXBlb2YgbGVmdH1cXG5SaWdodCAke3R5cGVvZiByaWdodH1gKTtcblx0ZWxzZSBpZiAodHlwZW9mIGxlZnQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJpZ2h0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gbGVmdCArIHJpZ2h0O1xuXHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGxlZnQpICYmIEFycmF5LmlzQXJyYXkocmlnaHQpKSByZXR1cm4gX21lcmdlTGlzdHMobGVmdCwgcmlnaHQpO1xuXHRlbHNlIGlmICh0eXBlb2YgbGVmdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmlnaHQgPT09IFwib2JqZWN0XCIpIHJldHVybiBfbWVyZ2VEaWN0cyhsZWZ0LCByaWdodCk7XG5cdGVsc2UgaWYgKGxlZnQgPT09IHJpZ2h0KSByZXR1cm4gbGVmdDtcblx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgbWVyZ2Ugb2JqZWN0cyBvZiBkaWZmZXJlbnQgdHlwZXMuXFxuTGVmdCAke2xlZnR9XFxuUmlnaHQgJHtyaWdodH1gKTtcbn1cbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbiogbWVzc2FnZSBjaHVua3MuIEl0IGluY2x1ZGVzIGEgbWV0aG9kIGBfbWVyZ2Vfa3dhcmdzX2RpY3QoKWAgZm9yIG1lcmdpbmdcbiogYWRkaXRpb25hbCBrZXl3b3JkIGFyZ3VtZW50cyBmcm9tIGFub3RoZXIgYEJhc2VNZXNzYWdlQ2h1bmtgIGludG8gdGhpc1xuKiBvbmUuIEl0IGFsc28gb3ZlcnJpZGVzIHRoZSBgX19hZGRfXygpYCBtZXRob2QgdG8gc3VwcG9ydCBjb25jYXRlbmF0aW9uXG4qIG9mIGBCYXNlTWVzc2FnZUNodW5rYCBpbnN0YW5jZXMuXG4qL1xudmFyIEJhc2VNZXNzYWdlQ2h1bmsgPSBjbGFzcyBCYXNlTWVzc2FnZUNodW5rIGV4dGVuZHMgQmFzZU1lc3NhZ2Uge1xuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRpZiAoIXN1cGVyLmlzSW5zdGFuY2Uob2JqKSkgcmV0dXJuIGZhbHNlO1xuXHRcdGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuXHRcdHdoaWxlIChwcm90byAhPT0gbnVsbCkge1xuXHRcdFx0aWYgKHByb3RvID09PSBCYXNlTWVzc2FnZUNodW5rLnByb3RvdHlwZSkgcmV0dXJuIHRydWU7XG5cdFx0XHRwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufTtcbmZ1bmN0aW9uIF9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4LnJvbGUgPT09IFwic3RyaW5nXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBCYXNlTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNCYXNlTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuXHRyZXR1cm4gdHlwZW9mIG1lc3NhZ2VMaWtlPy5fZ2V0VHlwZSA9PT0gXCJmdW5jdGlvblwiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgQmFzZU1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNCYXNlTWVzc2FnZUNodW5rKG1lc3NhZ2VMaWtlKSB7XG5cdHJldHVybiBCYXNlTWVzc2FnZUNodW5rLmlzSW5zdGFuY2UobWVzc2FnZUxpa2UpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQmFzZU1lc3NhZ2UgPSBCYXNlTWVzc2FnZTtcbmV4cG9ydHMuQmFzZU1lc3NhZ2VDaHVuayA9IEJhc2VNZXNzYWdlQ2h1bms7XG5leHBvcnRzLl9pc01lc3NhZ2VGaWVsZFdpdGhSb2xlID0gX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGU7XG5leHBvcnRzLl9tZXJnZURpY3RzID0gX21lcmdlRGljdHM7XG5leHBvcnRzLl9tZXJnZUxpc3RzID0gX21lcmdlTGlzdHM7XG5leHBvcnRzLl9tZXJnZU9iaiA9IF9tZXJnZU9iajtcbmV4cG9ydHMuX21lcmdlU3RhdHVzID0gX21lcmdlU3RhdHVzO1xuZXhwb3J0cy5pc0Jhc2VNZXNzYWdlID0gaXNCYXNlTWVzc2FnZTtcbmV4cG9ydHMuaXNCYXNlTWVzc2FnZUNodW5rID0gaXNCYXNlTWVzc2FnZUNodW5rO1xuZXhwb3J0cy5pc09wZW5BSVRvb2xDYWxsQXJyYXkgPSBpc09wZW5BSVRvb2xDYWxsQXJyYXk7XG5leHBvcnRzLm1lcmdlQ29udGVudCA9IG1lcmdlQ29udGVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/anthropic.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/anthropic.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\n\n//#region src/messages/block_translators/anthropic.ts\nfunction convertAnthropicAnnotation(citation) {\n\tif (citation.type === \"char_location\" && require_utils._isString(citation.document_title) && require_utils._isNumber(citation.start_char_index) && require_utils._isNumber(citation.end_char_index) && require_utils._isString(citation.cited_text)) {\n\t\tconst { document_title, start_char_index, end_char_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"char\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_char_index,\n\t\t\tendIndex: end_char_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"page_location\" && require_utils._isString(citation.document_title) && require_utils._isNumber(citation.start_page_number) && require_utils._isNumber(citation.end_page_number) && require_utils._isString(citation.cited_text)) {\n\t\tconst { document_title, start_page_number, end_page_number, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"page\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_page_number,\n\t\t\tendIndex: end_page_number,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"content_block_location\" && require_utils._isString(citation.document_title) && require_utils._isNumber(citation.start_block_index) && require_utils._isNumber(citation.end_block_index) && require_utils._isString(citation.cited_text)) {\n\t\tconst { document_title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"block\",\n\t\t\ttitle: document_title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"web_search_result_location\" && require_utils._isString(citation.url) && require_utils._isString(citation.title) && require_utils._isString(citation.encrypted_index) && require_utils._isString(citation.cited_text)) {\n\t\tconst { url, title, encrypted_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"url\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: Number(encrypted_index),\n\t\t\tendIndex: Number(encrypted_index),\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\tif (citation.type === \"search_result_location\" && require_utils._isString(citation.source) && require_utils._isString(citation.title) && require_utils._isNumber(citation.start_block_index) && require_utils._isNumber(citation.end_block_index) && require_utils._isString(citation.cited_text)) {\n\t\tconst { source, title, start_block_index, end_block_index, cited_text,...rest } = citation;\n\t\treturn {\n\t\t\t...rest,\n\t\t\ttype: \"citation\",\n\t\t\tsource: \"search\",\n\t\t\turl: source,\n\t\t\ttitle: title ?? void 0,\n\t\t\tstartIndex: start_block_index,\n\t\t\tendIndex: end_block_index,\n\t\t\tcitedText: cited_text\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an Anthropic content block to a standard V1 content block.\n*\n* This function handles the conversion of Anthropic-specific content blocks\n* (document and image blocks) to the standardized V1 format. It supports\n* various source types including base64 data, URLs, file IDs, and text data.\n*\n* @param block - The Anthropic content block to convert\n* @returns A standard V1 content block if conversion is successful, undefined otherwise\n*\n* @example\n* ```typescript\n* const anthropicBlock = {\n*   type: \"image\",\n*   source: {\n*     type: \"base64\",\n*     media_type: \"image/png\",\n*     data: \"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==\"\n*   }\n* };\n*\n* const standardBlock = convertToV1FromAnthropicContentBlock(anthropicBlock);\n* // Returns: { type: \"image\", mimeType: \"image/png\", data: \"...\" }\n* ```\n*/\nfunction convertToV1FromAnthropicContentBlock(block) {\n\tif (require_utils._isContentBlock(block, \"document\") && require_utils._isObject(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && require_utils._isString(block.source.media_type) && require_utils._isString(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && require_utils._isString(block.source.url)) return {\n\t\t\ttype: \"file\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && require_utils._isString(block.source.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t\telse if (block.source.type === \"text\" && require_utils._isString(block.source.data)) return {\n\t\t\ttype: \"file\",\n\t\t\tmimeType: String(block.source.media_type ?? \"text/plain\"),\n\t\t\tdata: block.source.data\n\t\t};\n\t} else if (require_utils._isContentBlock(block, \"image\") && require_utils._isObject(block.source) && \"type\" in block.source) {\n\t\tif (block.source.type === \"base64\" && require_utils._isString(block.source.media_type) && require_utils._isString(block.source.data)) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: block.source.media_type,\n\t\t\tdata: block.source.data\n\t\t};\n\t\telse if (block.source.type === \"url\" && require_utils._isString(block.source.url)) return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.source.url\n\t\t};\n\t\telse if (block.source.type === \"file\" && require_utils._isString(block.source.file_id)) return {\n\t\t\ttype: \"image\",\n\t\t\tfileId: block.source.file_id\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Converts an array of content blocks from Anthropic format to v1 standard format.\n*\n* This function processes each content block in the input array, attempting to convert\n* Anthropic-specific block formats (like image blocks with source objects, document blocks, etc.)\n* to the standardized v1 content block format. If a block cannot be converted, it is\n* passed through as-is with a type assertion to ContentBlock.Standard.\n*\n* @param content - Array of content blocks in Anthropic format to be converted\n* @returns Array of content blocks in v1 standard format\n*/\nfunction convertToV1FromAnthropicInput(content) {\n\tfunction* iterateContent() {\n\t\tfor (const block of content) {\n\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\tif (stdBlock) yield stdBlock;\n\t\t\telse yield block;\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts an Anthropic AI message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing Anthropic-specific content blocks\n* and converts them to the standardized v1 content block format.\n*\n* @param message - The AI message containing Anthropic-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"thinking\", text: \"Let me think about this...\" },\n*   { type: \"tool_use\", id: \"123\", name: \"calculator\", input: { a: 1, b: 2 } }\n* ]);\n*\n* const standardBlocks = convertToV1FromAnthropicMessage(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"reasoning\", reasoning: \"Let me think about this...\" },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromAnthropicMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif (require_utils._isContentBlock(block, \"text\") && require_utils._isString(block.text)) {\n\t\t\t\tconst { text, citations,...rest } = block;\n\t\t\t\tif (require_utils._isArray(citations) && citations.length) {\n\t\t\t\t\tconst _citations = citations.reduce((acc, item) => {\n\t\t\t\t\t\tconst citation = convertAnthropicAnnotation(item);\n\t\t\t\t\t\tif (citation) return [...acc, citation];\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, []);\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext,\n\t\t\t\t\t\tannotations: _citations\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tyield {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\ttext\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (require_utils._isContentBlock(block, \"thinking\") && require_utils._isString(block.thinking)) {\n\t\t\t\tconst { thinking, signature,...rest } = block;\n\t\t\t\tyield {\n\t\t\t\t\t...rest,\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: thinking,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"redacted_thinking\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"tool_use\") && require_utils._isString(block.name) && require_utils._isString(block.id)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: block.id,\n\t\t\t\t\tname: block.name,\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"input_json_delta\")) {\n\t\t\t\tif (_isAIMessageChunk(message) && message.tool_call_chunks?.length) {\n\t\t\t\t\tconst tool_call_chunk = message.tool_call_chunks[0];\n\t\t\t\t\tyield {\n\t\t\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\t\t\tid: tool_call_chunk.id,\n\t\t\t\t\t\tname: tool_call_chunk.name,\n\t\t\t\t\t\targs: tool_call_chunk.args,\n\t\t\t\t\t\tindex: tool_call_chunk.index\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (require_utils._isContentBlock(block, \"server_tool_use\") && require_utils._isString(block.name) && require_utils._isString(block.id)) {\n\t\t\t\tconst { name, id } = block;\n\t\t\t\tif (name === \"web_search\") {\n\t\t\t\t\tconst query = require_utils.iife(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if (require_utils._isObject(block.input) && require_utils._isString(block.input.query)) return block.input.query;\n\t\t\t\t\t\telse if (require_utils._isString(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = require_utils.safeParseJson(block.partial_json);\n\t\t\t\t\t\t\tif (json?.query) return json.query;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\t\targs: { query }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if (block.name === \"code_execution\") {\n\t\t\t\t\tconst code = require_utils.iife(() => {\n\t\t\t\t\t\tif (typeof block.input === \"string\") return block.input;\n\t\t\t\t\t\telse if (require_utils._isObject(block.input) && require_utils._isString(block.input.code)) return block.input.code;\n\t\t\t\t\t\telse if (require_utils._isString(block.partial_json)) {\n\t\t\t\t\t\t\tconst json = require_utils.safeParseJson(block.partial_json);\n\t\t\t\t\t\t\tif (json?.code) return json.code;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t});\n\t\t\t\t\tyield {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\t\targs: { code }\n\t\t\t\t\t};\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (require_utils._isContentBlock(block, \"web_search_tool_result\") && require_utils._isString(block.tool_use_id) && require_utils._isArray(block.content)) {\n\t\t\t\tconst { content: content$1, tool_use_id } = block;\n\t\t\t\tconst urls = content$1.reduce((acc, content$2) => {\n\t\t\t\t\tif (require_utils._isContentBlock(content$2, \"web_search_result\")) return [...acc, content$2.url];\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []);\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\ttoolCallId: tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: { urls }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"code_execution_tool_result\") && require_utils._isString(block.tool_use_id) && require_utils._isObject(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"code_execution\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"mcp_tool_use\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"mcp_tool_result\") && require_utils._isString(block.tool_use_id) && require_utils._isObject(block.content)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\tname: \"mcp_tool_use\",\n\t\t\t\t\ttoolCallId: block.tool_use_id,\n\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\toutput: block.content\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"container_upload\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"container_upload\",\n\t\t\t\t\targs: block.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"search_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: block.id,\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tconst stdBlock = convertToV1FromAnthropicContentBlock(block);\n\t\t\t\tif (stdBlock) {\n\t\t\t\t\tyield stdBlock;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatAnthropicTranslator = {\n\ttranslateContent: convertToV1FromAnthropicMessage,\n\ttranslateContentChunk: convertToV1FromAnthropicMessage\n};\nfunction _isAIMessageChunk(message) {\n\treturn typeof message?._getType === \"function\" && typeof message.concat === \"function\" && message._getType() === \"ai\";\n}\n\n//#endregion\nexports.ChatAnthropicTranslator = ChatAnthropicTranslator;\nexports.convertToV1FromAnthropicInput = convertToV1FromAnthropicInput;\n//# sourceMappingURL=anthropic.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9hbnRocm9waWMuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLDhHQUFhOztBQUUzQztBQUNBO0FBQ0E7QUFDQSxVQUFVLHVFQUF1RTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5RUFBeUU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUVBQXlFO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtEQUFrRDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdFQUF3RTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxtQ0FBbUM7QUFDekMsTUFBTSxzREFBc0Q7QUFDNUQsTUFBTSwwREFBMEQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUNBQW1DO0FBQzVDLFNBQVMsNERBQTREO0FBQ3JFLFNBQVMsMERBQTBEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLGtDQUFrQztBQUM5QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0IscUNBQXFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9hbnRocm9waWMuY2pzPzRiMDciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvYW50aHJvcGljLnRzXG5mdW5jdGlvbiBjb252ZXJ0QW50aHJvcGljQW5ub3RhdGlvbihjaXRhdGlvbikge1xuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJjaGFyX2xvY2F0aW9uXCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoY2l0YXRpb24uZG9jdW1lbnRfdGl0bGUpICYmIHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGNpdGF0aW9uLnN0YXJ0X2NoYXJfaW5kZXgpICYmIHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGNpdGF0aW9uLmVuZF9jaGFyX2luZGV4KSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhjaXRhdGlvbi5jaXRlZF90ZXh0KSkge1xuXHRcdGNvbnN0IHsgZG9jdW1lbnRfdGl0bGUsIHN0YXJ0X2NoYXJfaW5kZXgsIGVuZF9jaGFyX2luZGV4LCBjaXRlZF90ZXh0LC4uLnJlc3QgfSA9IGNpdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0dHlwZTogXCJjaXRhdGlvblwiLFxuXHRcdFx0c291cmNlOiBcImNoYXJcIixcblx0XHRcdHRpdGxlOiBkb2N1bWVudF90aXRsZSA/PyB2b2lkIDAsXG5cdFx0XHRzdGFydEluZGV4OiBzdGFydF9jaGFyX2luZGV4LFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9jaGFyX2luZGV4LFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJwYWdlX2xvY2F0aW9uXCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoY2l0YXRpb24uZG9jdW1lbnRfdGl0bGUpICYmIHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGNpdGF0aW9uLnN0YXJ0X3BhZ2VfbnVtYmVyKSAmJiByZXF1aXJlX3V0aWxzLl9pc051bWJlcihjaXRhdGlvbi5lbmRfcGFnZV9udW1iZXIpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyBkb2N1bWVudF90aXRsZSwgc3RhcnRfcGFnZV9udW1iZXIsIGVuZF9wYWdlX251bWJlciwgY2l0ZWRfdGV4dCwuLi5yZXN0IH0gPSBjaXRhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHNvdXJjZTogXCJwYWdlXCIsXG5cdFx0XHR0aXRsZTogZG9jdW1lbnRfdGl0bGUgPz8gdm9pZCAwLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfcGFnZV9udW1iZXIsXG5cdFx0XHRlbmRJbmRleDogZW5kX3BhZ2VfbnVtYmVyLFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJjb250ZW50X2Jsb2NrX2xvY2F0aW9uXCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoY2l0YXRpb24uZG9jdW1lbnRfdGl0bGUpICYmIHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGNpdGF0aW9uLnN0YXJ0X2Jsb2NrX2luZGV4KSAmJiByZXF1aXJlX3V0aWxzLl9pc051bWJlcihjaXRhdGlvbi5lbmRfYmxvY2tfaW5kZXgpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyBkb2N1bWVudF90aXRsZSwgc3RhcnRfYmxvY2tfaW5kZXgsIGVuZF9ibG9ja19pbmRleCwgY2l0ZWRfdGV4dCwuLi5yZXN0IH0gPSBjaXRhdGlvbjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHNvdXJjZTogXCJibG9ja1wiLFxuXHRcdFx0dGl0bGU6IGRvY3VtZW50X3RpdGxlID8/IHZvaWQgMCxcblx0XHRcdHN0YXJ0SW5kZXg6IHN0YXJ0X2Jsb2NrX2luZGV4LFxuXHRcdFx0ZW5kSW5kZXg6IGVuZF9ibG9ja19pbmRleCxcblx0XHRcdGNpdGVkVGV4dDogY2l0ZWRfdGV4dFxuXHRcdH07XG5cdH1cblx0aWYgKGNpdGF0aW9uLnR5cGUgPT09IFwid2ViX3NlYXJjaF9yZXN1bHRfbG9jYXRpb25cIiAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhjaXRhdGlvbi51cmwpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGNpdGF0aW9uLnRpdGxlKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhjaXRhdGlvbi5lbmNyeXB0ZWRfaW5kZXgpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGNpdGF0aW9uLmNpdGVkX3RleHQpKSB7XG5cdFx0Y29uc3QgeyB1cmwsIHRpdGxlLCBlbmNyeXB0ZWRfaW5kZXgsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwidXJsXCIsXG5cdFx0XHR1cmwsXG5cdFx0XHR0aXRsZSxcblx0XHRcdHN0YXJ0SW5kZXg6IE51bWJlcihlbmNyeXB0ZWRfaW5kZXgpLFxuXHRcdFx0ZW5kSW5kZXg6IE51bWJlcihlbmNyeXB0ZWRfaW5kZXgpLFxuXHRcdFx0Y2l0ZWRUZXh0OiBjaXRlZF90ZXh0XG5cdFx0fTtcblx0fVxuXHRpZiAoY2l0YXRpb24udHlwZSA9PT0gXCJzZWFyY2hfcmVzdWx0X2xvY2F0aW9uXCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoY2l0YXRpb24uc291cmNlKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhjaXRhdGlvbi50aXRsZSkgJiYgcmVxdWlyZV91dGlscy5faXNOdW1iZXIoY2l0YXRpb24uc3RhcnRfYmxvY2tfaW5kZXgpICYmIHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGNpdGF0aW9uLmVuZF9ibG9ja19pbmRleCkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoY2l0YXRpb24uY2l0ZWRfdGV4dCkpIHtcblx0XHRjb25zdCB7IHNvdXJjZSwgdGl0bGUsIHN0YXJ0X2Jsb2NrX2luZGV4LCBlbmRfYmxvY2tfaW5kZXgsIGNpdGVkX3RleHQsLi4ucmVzdCB9ID0gY2l0YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnJlc3QsXG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRzb3VyY2U6IFwic2VhcmNoXCIsXG5cdFx0XHR1cmw6IHNvdXJjZSxcblx0XHRcdHRpdGxlOiB0aXRsZSA/PyB2b2lkIDAsXG5cdFx0XHRzdGFydEluZGV4OiBzdGFydF9ibG9ja19pbmRleCxcblx0XHRcdGVuZEluZGV4OiBlbmRfYmxvY2tfaW5kZXgsXG5cdFx0XHRjaXRlZFRleHQ6IGNpdGVkX3RleHRcblx0XHR9O1xuXHR9XG5cdHJldHVybiB2b2lkIDA7XG59XG4vKipcbiogQ29udmVydHMgYW4gQW50aHJvcGljIGNvbnRlbnQgYmxvY2sgdG8gYSBzdGFuZGFyZCBWMSBjb250ZW50IGJsb2NrLlxuKlxuKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgdGhlIGNvbnZlcnNpb24gb2YgQW50aHJvcGljLXNwZWNpZmljIGNvbnRlbnQgYmxvY2tzXG4qIChkb2N1bWVudCBhbmQgaW1hZ2UgYmxvY2tzKSB0byB0aGUgc3RhbmRhcmRpemVkIFYxIGZvcm1hdC4gSXQgc3VwcG9ydHNcbiogdmFyaW91cyBzb3VyY2UgdHlwZXMgaW5jbHVkaW5nIGJhc2U2NCBkYXRhLCBVUkxzLCBmaWxlIElEcywgYW5kIHRleHQgZGF0YS5cbipcbiogQHBhcmFtIGJsb2NrIC0gVGhlIEFudGhyb3BpYyBjb250ZW50IGJsb2NrIHRvIGNvbnZlcnRcbiogQHJldHVybnMgQSBzdGFuZGFyZCBWMSBjb250ZW50IGJsb2NrIGlmIGNvbnZlcnNpb24gaXMgc3VjY2Vzc2Z1bCwgdW5kZWZpbmVkIG90aGVyd2lzZVxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGFudGhyb3BpY0Jsb2NrID0ge1xuKiAgIHR5cGU6IFwiaW1hZ2VcIixcbiogICBzb3VyY2U6IHtcbiogICAgIHR5cGU6IFwiYmFzZTY0XCIsXG4qICAgICBtZWRpYV90eXBlOiBcImltYWdlL3BuZ1wiLFxuKiAgICAgZGF0YTogXCJpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtUDgvNStoSGdBSGdnSi9QY2hJN3dBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuKiAgIH1cbiogfTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9jayA9IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0NvbnRlbnRCbG9jayhhbnRocm9waWNCbG9jayk7XG4qIC8vIFJldHVybnM6IHsgdHlwZTogXCJpbWFnZVwiLCBtaW1lVHlwZTogXCJpbWFnZS9wbmdcIiwgZGF0YTogXCIuLi5cIiB9XG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0NvbnRlbnRCbG9jayhibG9jaykge1xuXHRpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZG9jdW1lbnRcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suc291cmNlKSAmJiBcInR5cGVcIiBpbiBibG9jay5zb3VyY2UpIHtcblx0XHRpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwiYmFzZTY0XCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suc291cmNlLm1lZGlhX3R5cGUpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5kYXRhKSkgcmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0bWltZVR5cGU6IGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlLFxuXHRcdFx0ZGF0YTogYmxvY2suc291cmNlLmRhdGFcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcInVybFwiICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS51cmwpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHR1cmw6IGJsb2NrLnNvdXJjZS51cmxcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcImZpbGVcIiAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5zb3VyY2UuZmlsZV9pZCkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdGZpbGVJZDogYmxvY2suc291cmNlLmZpbGVfaWRcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcInRleHRcIiAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5zb3VyY2UuZGF0YSkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdG1pbWVUeXBlOiBTdHJpbmcoYmxvY2suc291cmNlLm1lZGlhX3R5cGUgPz8gXCJ0ZXh0L3BsYWluXCIpLFxuXHRcdFx0ZGF0YTogYmxvY2suc291cmNlLmRhdGFcblx0XHR9O1xuXHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlXCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLnNvdXJjZSkgJiYgXCJ0eXBlXCIgaW4gYmxvY2suc291cmNlKSB7XG5cdFx0aWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcImJhc2U2NFwiICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnNvdXJjZS5tZWRpYV90eXBlKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5zb3VyY2UuZGF0YSkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRtaW1lVHlwZTogYmxvY2suc291cmNlLm1lZGlhX3R5cGUsXG5cdFx0XHRkYXRhOiBibG9jay5zb3VyY2UuZGF0YVxuXHRcdH07XG5cdFx0ZWxzZSBpZiAoYmxvY2suc291cmNlLnR5cGUgPT09IFwidXJsXCIgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suc291cmNlLnVybCkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHR1cmw6IGJsb2NrLnNvdXJjZS51cmxcblx0XHR9O1xuXHRcdGVsc2UgaWYgKGJsb2NrLnNvdXJjZS50eXBlID09PSBcImZpbGVcIiAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5zb3VyY2UuZmlsZV9pZCkpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRmaWxlSWQ6IGJsb2NrLnNvdXJjZS5maWxlX2lkXG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIENvbnZlcnRzIGFuIGFycmF5IG9mIGNvbnRlbnQgYmxvY2tzIGZyb20gQW50aHJvcGljIGZvcm1hdCB0byB2MSBzdGFuZGFyZCBmb3JtYXQuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGVhY2ggY29udGVudCBibG9jayBpbiB0aGUgaW5wdXQgYXJyYXksIGF0dGVtcHRpbmcgdG8gY29udmVydFxuKiBBbnRocm9waWMtc3BlY2lmaWMgYmxvY2sgZm9ybWF0cyAobGlrZSBpbWFnZSBibG9ja3Mgd2l0aCBzb3VyY2Ugb2JqZWN0cywgZG9jdW1lbnQgYmxvY2tzLCBldGMuKVxuKiB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJZiBhIGJsb2NrIGNhbm5vdCBiZSBjb252ZXJ0ZWQsIGl0IGlzXG4qIHBhc3NlZCB0aHJvdWdoIGFzLWlzIHdpdGggYSB0eXBlIGFzc2VydGlvbiB0byBDb250ZW50QmxvY2suU3RhbmRhcmQuXG4qXG4qIEBwYXJhbSBjb250ZW50IC0gQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gQW50aHJvcGljIGZvcm1hdCB0byBiZSBjb252ZXJ0ZWRcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQW50aHJvcGljSW5wdXQoY29udGVudCkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Zm9yIChjb25zdCBibG9jayBvZiBjb250ZW50KSB7XG5cdFx0XHRjb25zdCBzdGRCbG9jayA9IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY0NvbnRlbnRCbG9jayhibG9jayk7XG5cdFx0XHRpZiAoc3RkQmxvY2spIHlpZWxkIHN0ZEJsb2NrO1xuXHRcdFx0ZWxzZSB5aWVsZCBibG9jaztcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG4vKipcbiogQ29udmVydHMgYW4gQW50aHJvcGljIEFJIG1lc3NhZ2UgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY29udGFpbmluZyBBbnRocm9waWMtc3BlY2lmaWMgY29udGVudCBibG9ja3NcbiogYW5kIGNvbnZlcnRzIHRoZW0gdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIEFudGhyb3BpYy1mb3JtYXR0ZWQgY29udGVudCBibG9ja3NcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2UoW1xuKiAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9LFxuKiAgIHsgdHlwZTogXCJ0aGlua2luZ1wiLCB0ZXh0OiBcIkxldCBtZSB0aGluayBhYm91dCB0aGlzLi4uXCIgfSxcbiogICB7IHR5cGU6IFwidG9vbF91c2VcIiwgaWQ6IFwiMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBpbnB1dDogeyBhOiAxLCBiOiAyIH0gfVxuKiBdKTtcbipcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNNZXNzYWdlKG1lc3NhZ2UpO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qIC8vICAgeyB0eXBlOiBcInJlYXNvbmluZ1wiLCByZWFzb25pbmc6IFwiTGV0IG1lIHRoaW5rIGFib3V0IHRoaXMuLi5cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxcIiwgaWQ6IFwiMTIzXCIsIG5hbWU6IFwiY2FsY3VsYXRvclwiLCBhcmdzOiB7IGE6IDEsIGI6IDIgfSB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQW50aHJvcGljTWVzc2FnZShtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkge1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2sudGV4dCkpIHtcblx0XHRcdFx0Y29uc3QgeyB0ZXh0LCBjaXRhdGlvbnMsLi4ucmVzdCB9ID0gYmxvY2s7XG5cdFx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc0FycmF5KGNpdGF0aW9ucykgJiYgY2l0YXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IF9jaXRhdGlvbnMgPSBjaXRhdGlvbnMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGNpdGF0aW9uID0gY29udmVydEFudGhyb3BpY0Fubm90YXRpb24oaXRlbSk7XG5cdFx0XHRcdFx0XHRpZiAoY2l0YXRpb24pIHJldHVybiBbLi4uYWNjLCBjaXRhdGlvbl07XG5cdFx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHRcdH0sIFtdKTtcblx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHQuLi5yZXN0LFxuXHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0YW5ub3RhdGlvbnM6IF9jaXRhdGlvbnNcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdHRleHRcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRoaW5raW5nXCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnRoaW5raW5nKSkge1xuXHRcdFx0XHRjb25zdCB7IHRoaW5raW5nLCBzaWduYXR1cmUsLi4ucmVzdCB9ID0gYmxvY2s7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHQuLi5yZXN0LFxuXHRcdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdFx0cmVhc29uaW5nOiB0aGlua2luZyxcblx0XHRcdFx0XHRzaWduYXR1cmVcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInJlZGFjdGVkX3RoaW5raW5nXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF91c2VcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2submFtZSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaWQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiBibG9jay5pZCxcblx0XHRcdFx0XHRuYW1lOiBibG9jay5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbnB1dF9qc29uX2RlbHRhXCIpKSB7XG5cdFx0XHRcdGlmIChfaXNBSU1lc3NhZ2VDaHVuayhtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbF9jaHVua3M/Lmxlbmd0aCkge1xuXHRcdFx0XHRcdGNvbnN0IHRvb2xfY2FsbF9jaHVuayA9IG1lc3NhZ2UudG9vbF9jYWxsX2NodW5rc1swXTtcblx0XHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcdFx0XHRcdFx0aWQ6IHRvb2xfY2FsbF9jaHVuay5pZCxcblx0XHRcdFx0XHRcdG5hbWU6IHRvb2xfY2FsbF9jaHVuay5uYW1lLFxuXHRcdFx0XHRcdFx0YXJnczogdG9vbF9jYWxsX2NodW5rLmFyZ3MsXG5cdFx0XHRcdFx0XHRpbmRleDogdG9vbF9jYWxsX2NodW5rLmluZGV4XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJzZXJ2ZXJfdG9vbF91c2VcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2submFtZSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaWQpKSB7XG5cdFx0XHRcdGNvbnN0IHsgbmFtZSwgaWQgfSA9IGJsb2NrO1xuXHRcdFx0XHRpZiAobmFtZSA9PT0gXCJ3ZWJfc2VhcmNoXCIpIHtcblx0XHRcdFx0XHRjb25zdCBxdWVyeSA9IHJlcXVpcmVfdXRpbHMuaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGJsb2NrLmlucHV0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gYmxvY2suaW5wdXQ7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbnB1dCkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5wdXQucXVlcnkpKSByZXR1cm4gYmxvY2suaW5wdXQucXVlcnk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5wYXJ0aWFsX2pzb24pKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGpzb24gPSByZXF1aXJlX3V0aWxzLnNhZmVQYXJzZUpzb24oYmxvY2sucGFydGlhbF9qc29uKTtcblx0XHRcdFx0XHRcdFx0aWYgKGpzb24/LnF1ZXJ5KSByZXR1cm4ganNvbi5xdWVyeTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBcIlwiO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdGlkLFxuXHRcdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0XHRuYW1lOiBcIndlYl9zZWFyY2hcIixcblx0XHRcdFx0XHRcdGFyZ3M6IHsgcXVlcnkgfVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYmxvY2submFtZSA9PT0gXCJjb2RlX2V4ZWN1dGlvblwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29kZSA9IHJlcXVpcmVfdXRpbHMuaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGJsb2NrLmlucHV0ID09PSBcInN0cmluZ1wiKSByZXR1cm4gYmxvY2suaW5wdXQ7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbnB1dCkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5wdXQuY29kZSkpIHJldHVybiBibG9jay5pbnB1dC5jb2RlO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2sucGFydGlhbF9qc29uKSkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBqc29uID0gcmVxdWlyZV91dGlscy5zYWZlUGFyc2VKc29uKGJsb2NrLnBhcnRpYWxfanNvbik7XG5cdFx0XHRcdFx0XHRcdGlmIChqc29uPy5jb2RlKSByZXR1cm4ganNvbi5jb2RlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdFx0aWQsXG5cdFx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRcdG5hbWU6IFwiY29kZV9leGVjdXRpb25cIixcblx0XHRcdFx0XHRcdGFyZ3M6IHsgY29kZSB9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ3ZWJfc2VhcmNoX3Rvb2xfcmVzdWx0XCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnRvb2xfdXNlX2lkKSAmJiByZXF1aXJlX3V0aWxzLl9pc0FycmF5KGJsb2NrLmNvbnRlbnQpKSB7XG5cdFx0XHRcdGNvbnN0IHsgY29udGVudDogY29udGVudCQxLCB0b29sX3VzZV9pZCB9ID0gYmxvY2s7XG5cdFx0XHRcdGNvbnN0IHVybHMgPSBjb250ZW50JDEucmVkdWNlKChhY2MsIGNvbnRlbnQkMikgPT4ge1xuXHRcdFx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhjb250ZW50JDIsIFwid2ViX3NlYXJjaF9yZXN1bHRcIikpIHJldHVybiBbLi4uYWNjLCBjb250ZW50JDIudXJsXTtcblx0XHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0XHR9LCBbXSk7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxfcmVzdWx0XCIsXG5cdFx0XHRcdFx0bmFtZTogXCJ3ZWJfc2VhcmNoXCIsXG5cdFx0XHRcdFx0dG9vbENhbGxJZDogdG9vbF91c2VfaWQsXG5cdFx0XHRcdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XHRvdXRwdXQ6IHsgdXJscyB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjb2RlX2V4ZWN1dGlvbl90b29sX3Jlc3VsdFwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay50b29sX3VzZV9pZCkgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suY29udGVudCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRuYW1lOiBcImNvZGVfZXhlY3V0aW9uXCIsXG5cdFx0XHRcdFx0dG9vbENhbGxJZDogYmxvY2sudG9vbF91c2VfaWQsXG5cdFx0XHRcdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRcdFx0XHRvdXRwdXQ6IGJsb2NrLmNvbnRlbnRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIm1jcF90b29sX3VzZVwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwibWNwX3Rvb2xfdXNlXCIsXG5cdFx0XHRcdFx0YXJnczogYmxvY2suaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcIm1jcF90b29sX3Jlc3VsdFwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay50b29sX3VzZV9pZCkgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suY29udGVudCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbF9yZXN1bHRcIixcblx0XHRcdFx0XHRuYW1lOiBcIm1jcF90b29sX3VzZVwiLFxuXHRcdFx0XHRcdHRvb2xDYWxsSWQ6IGJsb2NrLnRvb2xfdXNlX2lkLFxuXHRcdFx0XHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFx0b3V0cHV0OiBibG9jay5jb250ZW50XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjb250YWluZXJfdXBsb2FkXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiBcImNvbnRhaW5lcl91cGxvYWRcIixcblx0XHRcdFx0XHRhcmdzOiBibG9jay5pbnB1dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwic2VhcmNoX3Jlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0b29sX3Jlc3VsdFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IGJsb2NrLmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3Qgc3RkQmxvY2sgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNDb250ZW50QmxvY2soYmxvY2spO1xuXHRcdFx0XHRpZiAoc3RkQmxvY2spIHtcblx0XHRcdFx0XHR5aWVsZCBzdGRCbG9jaztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0eWllbGQge1xuXHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBBcnJheS5mcm9tKGl0ZXJhdGVDb250ZW50KCkpO1xufVxuY29uc3QgQ2hhdEFudGhyb3BpY1RyYW5zbGF0b3IgPSB7XG5cdHRyYW5zbGF0ZUNvbnRlbnQ6IGNvbnZlcnRUb1YxRnJvbUFudGhyb3BpY01lc3NhZ2UsXG5cdHRyYW5zbGF0ZUNvbnRlbnRDaHVuazogY29udmVydFRvVjFGcm9tQW50aHJvcGljTWVzc2FnZVxufTtcbmZ1bmN0aW9uIF9pc0FJTWVzc2FnZUNodW5rKG1lc3NhZ2UpIHtcblx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlPy5fZ2V0VHlwZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBtZXNzYWdlLmNvbmNhdCA9PT0gXCJmdW5jdGlvblwiICYmIG1lc3NhZ2UuX2dldFR5cGUoKSA9PT0gXCJhaVwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQ2hhdEFudGhyb3BpY1RyYW5zbGF0b3IgPSBDaGF0QW50aHJvcGljVHJhbnNsYXRvcjtcbmV4cG9ydHMuY29udmVydFRvVjFGcm9tQW50aHJvcGljSW5wdXQgPSBjb252ZXJ0VG9WMUZyb21BbnRocm9waWNJbnB1dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFudGhyb3BpYy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/anthropic.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.cjs":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.cjs ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\n\n//#region src/messages/block_translators/bedrock_converse.ts\nfunction convertFileFormatToMimeType(format) {\n\tswitch (format) {\n\t\tcase \"csv\": return \"text/csv\";\n\t\tcase \"doc\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"docx\": return \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n\t\tcase \"html\": return \"text/html\";\n\t\tcase \"md\": return \"text/markdown\";\n\t\tcase \"pdf\": return \"application/pdf\";\n\t\tcase \"txt\": return \"text/plain\";\n\t\tcase \"xls\": return \"application/vnd.ms-excel\";\n\t\tcase \"xlsx\": return \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\n\t\tcase \"gif\": return \"image/gif\";\n\t\tcase \"jpeg\": return \"image/jpeg\";\n\t\tcase \"jpg\": return \"image/jpeg\";\n\t\tcase \"png\": return \"image/png\";\n\t\tcase \"webp\": return \"image/webp\";\n\t\tcase \"flv\": return \"video/flv\";\n\t\tcase \"mkv\": return \"video/mkv\";\n\t\tcase \"mov\": return \"video/mov\";\n\t\tcase \"mp4\": return \"video/mp4\";\n\t\tcase \"mpeg\": return \"video/mpeg\";\n\t\tcase \"mpg\": return \"video/mpg\";\n\t\tcase \"three_gp\": return \"video/three_gp\";\n\t\tcase \"webm\": return \"video/webm\";\n\t\tcase \"wmv\": return \"video/wmv\";\n\t\tdefault: return \"application/octet-stream\";\n\t}\n}\nfunction convertConverseDocumentBlock(block) {\n\tif (require_utils._isObject(block.document) && require_utils._isObject(block.document.source)) {\n\t\tconst format = require_utils._isObject(block.document) && require_utils._isString(block.document.format) ? block.document.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif (require_utils._isObject(block.document.source)) {\n\t\t\tif (require_utils._isObject(block.document.source.s3Location) && require_utils._isString(block.document.source.s3Location.uri)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.document.source.s3Location.uri\n\t\t\t};\n\t\t\tif (require_utils._isBytesArray(block.document.source.bytes)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.document.source.bytes\n\t\t\t};\n\t\t\tif (require_utils._isString(block.document.source.text)) return {\n\t\t\t\ttype: \"file\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: Buffer.from(block.document.source.text).toString(\"base64\")\n\t\t\t};\n\t\t\tif (require_utils._isArray(block.document.source.content)) {\n\t\t\t\tconst data = block.document.source.content.reduce((acc, item) => {\n\t\t\t\t\tif (require_utils._isObject(item) && require_utils._isString(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\");\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseImageBlock(block) {\n\tif (require_utils._isContentBlock(block, \"image\") && require_utils._isObject(block.image)) {\n\t\tconst format = require_utils._isObject(block.image) && require_utils._isString(block.image.format) ? block.image.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif (require_utils._isObject(block.image.source)) {\n\t\t\tif (require_utils._isObject(block.image.source.s3Location) && require_utils._isString(block.image.source.s3Location.uri)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.image.source.s3Location.uri\n\t\t\t};\n\t\t\tif (require_utils._isBytesArray(block.image.source.bytes)) return {\n\t\t\t\ttype: \"image\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.image.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertConverseVideoBlock(block) {\n\tif (require_utils._isContentBlock(block, \"video\") && require_utils._isObject(block.video)) {\n\t\tconst format = require_utils._isObject(block.video) && require_utils._isString(block.video.format) ? block.video.format : \"\";\n\t\tconst mimeType = convertFileFormatToMimeType(format);\n\t\tif (require_utils._isObject(block.video.source)) {\n\t\t\tif (require_utils._isObject(block.video.source.s3Location) && require_utils._isString(block.video.source.s3Location.uri)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tfileId: block.video.source.s3Location.uri\n\t\t\t};\n\t\t\tif (require_utils._isBytesArray(block.video.source.bytes)) return {\n\t\t\t\ttype: \"video\",\n\t\t\t\tmimeType,\n\t\t\t\tdata: block.video.source.bytes\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttype: \"non_standard\",\n\t\tvalue: block\n\t};\n}\nfunction convertToV1FromChatBedrockConverseMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif (require_utils._isContentBlock(block, \"cache_point\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"citations_content\") && require_utils._isObject(block.citationsContent)) {\n\t\t\t\tconst text = require_utils._isArray(block.citationsContent.content) ? block.citationsContent.content.reduce((acc, item) => {\n\t\t\t\t\tif (require_utils._isObject(item) && require_utils._isString(item.text)) return acc + item.text;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, \"\") : \"\";\n\t\t\t\tconst annotations = require_utils._isArray(block.citationsContent.citations) ? block.citationsContent.citations.reduce((acc, item) => {\n\t\t\t\t\tif (require_utils._isObject(item)) {\n\t\t\t\t\t\tconst citedText = require_utils._isArray(item.sourceContent) ? item.sourceContent.reduce((acc$1, item$1) => {\n\t\t\t\t\t\t\tif (require_utils._isObject(item$1) && require_utils._isString(item$1.text)) return acc$1 + item$1.text;\n\t\t\t\t\t\t\treturn acc$1;\n\t\t\t\t\t\t}, \"\") : \"\";\n\t\t\t\t\t\tconst properties = require_utils.iife(() => {\n\t\t\t\t\t\t\tif (require_utils._isObject(item.location)) {\n\t\t\t\t\t\t\t\tconst location = item.location.documentChar || item.location.documentPage || item.location.documentChunk;\n\t\t\t\t\t\t\t\tif (require_utils._isObject(location)) return {\n\t\t\t\t\t\t\t\t\tsource: require_utils._isNumber(location.documentIndex) ? location.documentIndex.toString() : void 0,\n\t\t\t\t\t\t\t\t\tstartIndex: require_utils._isNumber(location.start) ? location.start : void 0,\n\t\t\t\t\t\t\t\t\tendIndex: require_utils._isNumber(location.end) ? location.end : void 0\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tacc.push({\n\t\t\t\t\t\t\ttype: \"citation\",\n\t\t\t\t\t\t\tcitedText,\n\t\t\t\t\t\t\t...properties\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t}, []) : [];\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext,\n\t\t\t\t\tannotations\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"document\") && require_utils._isObject(block.document)) {\n\t\t\t\tyield convertConverseDocumentBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"guard_content\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"image\") && require_utils._isObject(block.image)) {\n\t\t\t\tyield convertConverseImageBlock(block);\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"reasoning_content\") && require_utils._isString(block.reasoningText)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoningText\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"text\") && require_utils._isString(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"tool_result\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"tool_call\")) continue;\n\t\t\telse if (require_utils._isContentBlock(block, \"video\") && require_utils._isObject(block.video)) {\n\t\t\t\tyield convertConverseVideoBlock(block);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatBedrockConverseTranslator = {\n\ttranslateContent: convertToV1FromChatBedrockConverseMessage,\n\ttranslateContentChunk: convertToV1FromChatBedrockConverseMessage\n};\n\n//#endregion\nexports.ChatBedrockConverseTranslator = ChatBedrockConverseTranslator;\n//# sourceMappingURL=bedrock_converse.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9iZWRyb2NrX2NvbnZlcnNlLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxzQkFBc0IsbUJBQU8sQ0FBQyw4R0FBYTs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9iZWRyb2NrX2NvbnZlcnNlLmNqcz81MTgzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2JlZHJvY2tfY29udmVyc2UudHNcbmZ1bmN0aW9uIGNvbnZlcnRGaWxlRm9ybWF0VG9NaW1lVHlwZShmb3JtYXQpIHtcblx0c3dpdGNoIChmb3JtYXQpIHtcblx0XHRjYXNlIFwiY3N2XCI6IHJldHVybiBcInRleHQvY3N2XCI7XG5cdFx0Y2FzZSBcImRvY1wiOiByZXR1cm4gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudFwiO1xuXHRcdGNhc2UgXCJkb2N4XCI6IHJldHVybiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCI7XG5cdFx0Y2FzZSBcImh0bWxcIjogcmV0dXJuIFwidGV4dC9odG1sXCI7XG5cdFx0Y2FzZSBcIm1kXCI6IHJldHVybiBcInRleHQvbWFya2Rvd25cIjtcblx0XHRjYXNlIFwicGRmXCI6IHJldHVybiBcImFwcGxpY2F0aW9uL3BkZlwiO1xuXHRcdGNhc2UgXCJ0eHRcIjogcmV0dXJuIFwidGV4dC9wbGFpblwiO1xuXHRcdGNhc2UgXCJ4bHNcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsXCI7XG5cdFx0Y2FzZSBcInhsc3hcIjogcmV0dXJuIFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIjtcblx0XHRjYXNlIFwiZ2lmXCI6IHJldHVybiBcImltYWdlL2dpZlwiO1xuXHRcdGNhc2UgXCJqcGVnXCI6IHJldHVybiBcImltYWdlL2pwZWdcIjtcblx0XHRjYXNlIFwianBnXCI6IHJldHVybiBcImltYWdlL2pwZWdcIjtcblx0XHRjYXNlIFwicG5nXCI6IHJldHVybiBcImltYWdlL3BuZ1wiO1xuXHRcdGNhc2UgXCJ3ZWJwXCI6IHJldHVybiBcImltYWdlL3dlYnBcIjtcblx0XHRjYXNlIFwiZmx2XCI6IHJldHVybiBcInZpZGVvL2ZsdlwiO1xuXHRcdGNhc2UgXCJta3ZcIjogcmV0dXJuIFwidmlkZW8vbWt2XCI7XG5cdFx0Y2FzZSBcIm1vdlwiOiByZXR1cm4gXCJ2aWRlby9tb3ZcIjtcblx0XHRjYXNlIFwibXA0XCI6IHJldHVybiBcInZpZGVvL21wNFwiO1xuXHRcdGNhc2UgXCJtcGVnXCI6IHJldHVybiBcInZpZGVvL21wZWdcIjtcblx0XHRjYXNlIFwibXBnXCI6IHJldHVybiBcInZpZGVvL21wZ1wiO1xuXHRcdGNhc2UgXCJ0aHJlZV9ncFwiOiByZXR1cm4gXCJ2aWRlby90aHJlZV9ncFwiO1xuXHRcdGNhc2UgXCJ3ZWJtXCI6IHJldHVybiBcInZpZGVvL3dlYm1cIjtcblx0XHRjYXNlIFwid212XCI6IHJldHVybiBcInZpZGVvL3dtdlwiO1xuXHRcdGRlZmF1bHQ6IHJldHVybiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiO1xuXHR9XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29udmVyc2VEb2N1bWVudEJsb2NrKGJsb2NrKSB7XG5cdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5kb2N1bWVudCkgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZG9jdW1lbnQuc291cmNlKSkge1xuXHRcdGNvbnN0IGZvcm1hdCA9IHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLmRvY3VtZW50KSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5kb2N1bWVudC5mb3JtYXQpID8gYmxvY2suZG9jdW1lbnQuZm9ybWF0IDogXCJcIjtcblx0XHRjb25zdCBtaW1lVHlwZSA9IGNvbnZlcnRGaWxlRm9ybWF0VG9NaW1lVHlwZShmb3JtYXQpO1xuXHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5kb2N1bWVudC5zb3VyY2UpKSB7XG5cdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZG9jdW1lbnQuc291cmNlLnMzTG9jYXRpb24pICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLmRvY3VtZW50LnNvdXJjZS5zM0xvY2F0aW9uLnVyaSkpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZmlsZUlkOiBibG9jay5kb2N1bWVudC5zb3VyY2UuczNMb2NhdGlvbi51cmlcblx0XHRcdH07XG5cdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNCeXRlc0FycmF5KGJsb2NrLmRvY3VtZW50LnNvdXJjZS5ieXRlcykpIHJldHVybiB7XG5cdFx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZGF0YTogYmxvY2suZG9jdW1lbnQuc291cmNlLmJ5dGVzXG5cdFx0XHR9O1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLmRvY3VtZW50LnNvdXJjZS50ZXh0KSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRkYXRhOiBCdWZmZXIuZnJvbShibG9jay5kb2N1bWVudC5zb3VyY2UudGV4dCkudG9TdHJpbmcoXCJiYXNlNjRcIilcblx0XHRcdH07XG5cdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNBcnJheShibG9jay5kb2N1bWVudC5zb3VyY2UuY29udGVudCkpIHtcblx0XHRcdFx0Y29uc3QgZGF0YSA9IGJsb2NrLmRvY3VtZW50LnNvdXJjZS5jb250ZW50LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGl0ZW0pICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGl0ZW0udGV4dCkpIHJldHVybiBhY2MgKyBpdGVtLnRleHQ7XG5cdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0fSwgXCJcIik7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdFx0bWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0dmFsdWU6IGJsb2NrXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29udmVyc2VJbWFnZUJsb2NrKGJsb2NrKSB7XG5cdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZVwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbWFnZSkpIHtcblx0XHRjb25zdCBmb3JtYXQgPSByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbWFnZSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW1hZ2UuZm9ybWF0KSA/IGJsb2NrLmltYWdlLmZvcm1hdCA6IFwiXCI7XG5cdFx0Y29uc3QgbWltZVR5cGUgPSBjb252ZXJ0RmlsZUZvcm1hdFRvTWltZVR5cGUoZm9ybWF0KTtcblx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suaW1hZ2Uuc291cmNlKSkge1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLmltYWdlLnNvdXJjZS5zM0xvY2F0aW9uKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5pbWFnZS5zb3VyY2UuczNMb2NhdGlvbi51cmkpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRmaWxlSWQ6IGJsb2NrLmltYWdlLnNvdXJjZS5zM0xvY2F0aW9uLnVyaVxuXHRcdFx0fTtcblx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc0J5dGVzQXJyYXkoYmxvY2suaW1hZ2Uuc291cmNlLmJ5dGVzKSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZGF0YTogYmxvY2suaW1hZ2Uuc291cmNlLmJ5dGVzXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0dmFsdWU6IGJsb2NrXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0Q29udmVyc2VWaWRlb0Jsb2NrKGJsb2NrKSB7XG5cdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ2aWRlb1wiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay52aWRlbykpIHtcblx0XHRjb25zdCBmb3JtYXQgPSByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay52aWRlbykgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2sudmlkZW8uZm9ybWF0KSA/IGJsb2NrLnZpZGVvLmZvcm1hdCA6IFwiXCI7XG5cdFx0Y29uc3QgbWltZVR5cGUgPSBjb252ZXJ0RmlsZUZvcm1hdFRvTWltZVR5cGUoZm9ybWF0KTtcblx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2sudmlkZW8uc291cmNlKSkge1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLnZpZGVvLnNvdXJjZS5zM0xvY2F0aW9uKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay52aWRlby5zb3VyY2UuczNMb2NhdGlvbi51cmkpKSByZXR1cm4ge1xuXHRcdFx0XHR0eXBlOiBcInZpZGVvXCIsXG5cdFx0XHRcdG1pbWVUeXBlLFxuXHRcdFx0XHRmaWxlSWQ6IGJsb2NrLnZpZGVvLnNvdXJjZS5zM0xvY2F0aW9uLnVyaVxuXHRcdFx0fTtcblx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc0J5dGVzQXJyYXkoYmxvY2sudmlkZW8uc291cmNlLmJ5dGVzKSkgcmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJ2aWRlb1wiLFxuXHRcdFx0XHRtaW1lVHlwZSxcblx0XHRcdFx0ZGF0YTogYmxvY2sudmlkZW8uc291cmNlLmJ5dGVzXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0dmFsdWU6IGJsb2NrXG5cdH07XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZShtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkge1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImNhY2hlX3BvaW50XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiY2l0YXRpb25zX2NvbnRlbnRcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suY2l0YXRpb25zQ29udGVudCkpIHtcblx0XHRcdFx0Y29uc3QgdGV4dCA9IHJlcXVpcmVfdXRpbHMuX2lzQXJyYXkoYmxvY2suY2l0YXRpb25zQ29udGVudC5jb250ZW50KSA/IGJsb2NrLmNpdGF0aW9uc0NvbnRlbnQuY29udGVudC5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChpdGVtKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhpdGVtLnRleHQpKSByZXR1cm4gYWNjICsgaXRlbS50ZXh0O1xuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdH0sIFwiXCIpIDogXCJcIjtcblx0XHRcdFx0Y29uc3QgYW5ub3RhdGlvbnMgPSByZXF1aXJlX3V0aWxzLl9pc0FycmF5KGJsb2NrLmNpdGF0aW9uc0NvbnRlbnQuY2l0YXRpb25zKSA/IGJsb2NrLmNpdGF0aW9uc0NvbnRlbnQuY2l0YXRpb25zLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGl0ZW0pKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjaXRlZFRleHQgPSByZXF1aXJlX3V0aWxzLl9pc0FycmF5KGl0ZW0uc291cmNlQ29udGVudCkgPyBpdGVtLnNvdXJjZUNvbnRlbnQucmVkdWNlKChhY2MkMSwgaXRlbSQxKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChpdGVtJDEpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGl0ZW0kMS50ZXh0KSkgcmV0dXJuIGFjYyQxICsgaXRlbSQxLnRleHQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhY2MkMTtcblx0XHRcdFx0XHRcdH0sIFwiXCIpIDogXCJcIjtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3BlcnRpZXMgPSByZXF1aXJlX3V0aWxzLmlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QoaXRlbS5sb2NhdGlvbikpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBsb2NhdGlvbiA9IGl0ZW0ubG9jYXRpb24uZG9jdW1lbnRDaGFyIHx8IGl0ZW0ubG9jYXRpb24uZG9jdW1lbnRQYWdlIHx8IGl0ZW0ubG9jYXRpb24uZG9jdW1lbnRDaHVuaztcblx0XHRcdFx0XHRcdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QobG9jYXRpb24pKSByZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0c291cmNlOiByZXF1aXJlX3V0aWxzLl9pc051bWJlcihsb2NhdGlvbi5kb2N1bWVudEluZGV4KSA/IGxvY2F0aW9uLmRvY3VtZW50SW5kZXgudG9TdHJpbmcoKSA6IHZvaWQgMCxcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0SW5kZXg6IHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGxvY2F0aW9uLnN0YXJ0KSA/IGxvY2F0aW9uLnN0YXJ0IDogdm9pZCAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZW5kSW5kZXg6IHJlcXVpcmVfdXRpbHMuX2lzTnVtYmVyKGxvY2F0aW9uLmVuZCkgPyBsb2NhdGlvbi5lbmQgOiB2b2lkIDBcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7fTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0YWNjLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHRcdFx0XHRcdGNpdGVkVGV4dCxcblx0XHRcdFx0XHRcdFx0Li4ucHJvcGVydGllc1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdH0sIFtdKSA6IFtdO1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dCxcblx0XHRcdFx0XHRhbm5vdGF0aW9uc1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZG9jdW1lbnRcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZG9jdW1lbnQpKSB7XG5cdFx0XHRcdHlpZWxkIGNvbnZlcnRDb252ZXJzZURvY3VtZW50QmxvY2soYmxvY2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZ3VhcmRfY29udGVudFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogYmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImltYWdlXCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLmltYWdlKSkge1xuXHRcdFx0XHR5aWVsZCBjb252ZXJ0Q29udmVyc2VJbWFnZUJsb2NrKGJsb2NrKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInJlYXNvbmluZ19jb250ZW50XCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnJlYXNvbmluZ1RleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogYmxvY2sucmVhc29uaW5nVGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwidGV4dFwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay50ZXh0KSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0dGV4dDogYmxvY2sudGV4dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwidG9vbF9yZXN1bHRcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0b29sX2NhbGxcIikpIGNvbnRpbnVlO1xuXHRcdFx0ZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwidmlkZW9cIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2sudmlkZW8pKSB7XG5cdFx0XHRcdHlpZWxkIGNvbnZlcnRDb252ZXJzZVZpZGVvQmxvY2soYmxvY2spO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRCZWRyb2NrQ29udmVyc2VUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0QmVkcm9ja0NvbnZlcnNlTWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkNoYXRCZWRyb2NrQ29udmVyc2VUcmFuc2xhdG9yID0gQ2hhdEJlZHJvY2tDb252ZXJzZVRyYW5zbGF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZWRyb2NrX2NvbnZlcnNlLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/data.cjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/data.cjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_data = __webpack_require__(/*! ../content/data.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/content/data.cjs\");\nconst require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\n\n//#region src/messages/block_translators/data.ts\nfunction convertToV1FromDataContentBlock(block) {\n\tif (require_data.isURLContentBlock(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\turl: block.url,\n\t\tmetadata: block.metadata\n\t};\n\tif (require_data.isBase64ContentBlock(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type ?? \"application/octet-stream\",\n\t\tdata: block.data,\n\t\tmetadata: block.metadata\n\t};\n\tif (require_data.isIDContentBlock(block)) return {\n\t\ttype: block.type,\n\t\tmimeType: block.mime_type,\n\t\tfileId: block.id,\n\t\tmetadata: block.metadata\n\t};\n\treturn block;\n}\nfunction convertToV1FromDataContent(content) {\n\treturn content.map(convertToV1FromDataContentBlock);\n}\nfunction isOpenAIDataBlock(block) {\n\tif (require_utils._isContentBlock(block, \"image_url\") && require_utils._isObject(block.image_url)) return true;\n\tif (require_utils._isContentBlock(block, \"input_audio\") && require_utils._isObject(block.input_audio)) return true;\n\tif (require_utils._isContentBlock(block, \"file\") && require_utils._isObject(block.file)) return true;\n\treturn false;\n}\nfunction convertToV1FromOpenAIDataBlock(block) {\n\tif (require_utils._isContentBlock(block, \"image_url\") && require_utils._isObject(block.image_url) && require_utils._isString(block.image_url.url)) {\n\t\tconst parsed = require_data.parseBase64DataUrl({ dataUrl: block.image_url.url });\n\t\tif (parsed) return {\n\t\t\ttype: \"image\",\n\t\t\tmimeType: parsed.mime_type,\n\t\t\tdata: parsed.data\n\t\t};\n\t\telse return {\n\t\t\ttype: \"image\",\n\t\t\turl: block.image_url.url\n\t\t};\n\t} else if (require_utils._isContentBlock(block, \"input_audio\") && require_utils._isObject(block.input_audio) && require_utils._isString(block.input_audio.data) && require_utils._isString(block.input_audio.format)) return {\n\t\ttype: \"audio\",\n\t\tdata: block.input_audio.data,\n\t\tmimeType: `audio/${block.input_audio.format}`\n\t};\n\telse if (require_utils._isContentBlock(block, \"file\") && require_utils._isObject(block.file) && require_utils._isString(block.file.data)) {\n\t\tconst parsed = require_data.parseBase64DataUrl({ dataUrl: block.file.data });\n\t\tif (parsed) return {\n\t\t\ttype: \"file\",\n\t\t\tdata: parsed.data,\n\t\t\tmimeType: parsed.mime_type\n\t\t};\n\t\telse if (require_utils._isString(block.file.file_id)) return {\n\t\t\ttype: \"file\",\n\t\t\tfileId: block.file.file_id\n\t\t};\n\t}\n\treturn block;\n}\n\n//#endregion\nexports.convertToV1FromDataContent = convertToV1FromDataContent;\nexports.convertToV1FromOpenAIDataBlock = convertToV1FromOpenAIDataBlock;\nexports.isOpenAIDataBlock = isOpenAIDataBlock;\n//# sourceMappingURL=data.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kYXRhLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQywyR0FBcUI7QUFDbEQsc0JBQXNCLG1CQUFPLENBQUMsOEdBQWE7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4QkFBOEI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxxQkFBcUIseUJBQXlCO0FBQzlDO0FBQ0E7QUFDQSxtREFBbUQsMEJBQTBCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQyxzQ0FBc0M7QUFDdEMseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9kYXRhLmNqcz81NDBmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfZGF0YSA9IHJlcXVpcmUoJy4uL2NvbnRlbnQvZGF0YS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2RhdGEudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbURhdGFDb250ZW50QmxvY2soYmxvY2spIHtcblx0aWYgKHJlcXVpcmVfZGF0YS5pc1VSTENvbnRlbnRCbG9jayhibG9jaykpIHJldHVybiB7XG5cdFx0dHlwZTogYmxvY2sudHlwZSxcblx0XHRtaW1lVHlwZTogYmxvY2subWltZV90eXBlLFxuXHRcdHVybDogYmxvY2sudXJsLFxuXHRcdG1ldGFkYXRhOiBibG9jay5tZXRhZGF0YVxuXHR9O1xuXHRpZiAocmVxdWlyZV9kYXRhLmlzQmFzZTY0Q29udGVudEJsb2NrKGJsb2NrKSkgcmV0dXJuIHtcblx0XHR0eXBlOiBibG9jay50eXBlLFxuXHRcdG1pbWVUeXBlOiBibG9jay5taW1lX3R5cGUgPz8gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIixcblx0XHRkYXRhOiBibG9jay5kYXRhLFxuXHRcdG1ldGFkYXRhOiBibG9jay5tZXRhZGF0YVxuXHR9O1xuXHRpZiAocmVxdWlyZV9kYXRhLmlzSURDb250ZW50QmxvY2soYmxvY2spKSByZXR1cm4ge1xuXHRcdHR5cGU6IGJsb2NrLnR5cGUsXG5cdFx0bWltZVR5cGU6IGJsb2NrLm1pbWVfdHlwZSxcblx0XHRmaWxlSWQ6IGJsb2NrLmlkLFxuXHRcdG1ldGFkYXRhOiBibG9jay5tZXRhZGF0YVxuXHR9O1xuXHRyZXR1cm4gYmxvY2s7XG59XG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudChjb250ZW50KSB7XG5cdHJldHVybiBjb250ZW50Lm1hcChjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudEJsb2NrKTtcbn1cbmZ1bmN0aW9uIGlzT3BlbkFJRGF0YUJsb2NrKGJsb2NrKSB7XG5cdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZV91cmxcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suaW1hZ2VfdXJsKSkgcmV0dXJuIHRydWU7XG5cdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbnB1dF9hdWRpb1wiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbnB1dF9hdWRpbykpIHJldHVybiB0cnVlO1xuXHRpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZmlsZVwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5maWxlKSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbU9wZW5BSURhdGFCbG9jayhibG9jaykge1xuXHRpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiaW1hZ2VfdXJsXCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzT2JqZWN0KGJsb2NrLmltYWdlX3VybCkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW1hZ2VfdXJsLnVybCkpIHtcblx0XHRjb25zdCBwYXJzZWQgPSByZXF1aXJlX2RhdGEucGFyc2VCYXNlNjREYXRhVXJsKHsgZGF0YVVybDogYmxvY2suaW1hZ2VfdXJsLnVybCB9KTtcblx0XHRpZiAocGFyc2VkKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0bWltZVR5cGU6IHBhcnNlZC5taW1lX3R5cGUsXG5cdFx0XHRkYXRhOiBwYXJzZWQuZGF0YVxuXHRcdH07XG5cdFx0ZWxzZSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0dXJsOiBibG9jay5pbWFnZV91cmwudXJsXG5cdFx0fTtcblx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbnB1dF9hdWRpb1wiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5pbnB1dF9hdWRpbykgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5wdXRfYXVkaW8uZGF0YSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5wdXRfYXVkaW8uZm9ybWF0KSkgcmV0dXJuIHtcblx0XHR0eXBlOiBcImF1ZGlvXCIsXG5cdFx0ZGF0YTogYmxvY2suaW5wdXRfYXVkaW8uZGF0YSxcblx0XHRtaW1lVHlwZTogYGF1ZGlvLyR7YmxvY2suaW5wdXRfYXVkaW8uZm9ybWF0fWBcblx0fTtcblx0ZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZmlsZVwiKSAmJiByZXF1aXJlX3V0aWxzLl9pc09iamVjdChibG9jay5maWxlKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5maWxlLmRhdGEpKSB7XG5cdFx0Y29uc3QgcGFyc2VkID0gcmVxdWlyZV9kYXRhLnBhcnNlQmFzZTY0RGF0YVVybCh7IGRhdGFVcmw6IGJsb2NrLmZpbGUuZGF0YSB9KTtcblx0XHRpZiAocGFyc2VkKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRkYXRhOiBwYXJzZWQuZGF0YSxcblx0XHRcdG1pbWVUeXBlOiBwYXJzZWQubWltZV90eXBlXG5cdFx0fTtcblx0XHRlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5maWxlLmZpbGVfaWQpKSByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRmaWxlSWQ6IGJsb2NrLmZpbGUuZmlsZV9pZFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIGJsb2NrO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuY29udmVydFRvVjFGcm9tRGF0YUNvbnRlbnQgPSBjb252ZXJ0VG9WMUZyb21EYXRhQ29udGVudDtcbmV4cG9ydHMuY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrID0gY29udmVydFRvVjFGcm9tT3BlbkFJRGF0YUJsb2NrO1xuZXhwb3J0cy5pc09wZW5BSURhdGFCbG9jayA9IGlzT3BlbkFJRGF0YUJsb2NrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/data.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_genai.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/google_genai.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\n\n//#region src/messages/block_translators/google_genai.ts\nfunction convertToV1FromChatGoogleMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif (require_utils._isContentBlock(block, \"text\") && require_utils._isString(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"inlineData\") && require_utils._isObject(block.inlineData) && require_utils._isString(block.inlineData.mimeType) && require_utils._isString(block.inlineData.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.inlineData.mimeType,\n\t\t\t\t\tdata: block.inlineData.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"functionCall\") && require_utils._isObject(block.functionCall) && require_utils._isString(block.functionCall.name) && require_utils._isObject(block.functionCall.args)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"tool_call\",\n\t\t\t\t\tid: message.id,\n\t\t\t\t\tname: block.functionCall.name,\n\t\t\t\t\targs: block.functionCall.args\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"functionResponse\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"fileData\") && require_utils._isObject(block.fileData) && require_utils._isString(block.fileData.mimeType) && require_utils._isString(block.fileData.fileUri)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.fileData.mimeType,\n\t\t\t\t\tfileId: block.fileData.fileUri\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"executableCode\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"codeExecutionResult\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: block\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatGoogleGenAITranslator = {\n\ttranslateContent: convertToV1FromChatGoogleMessage,\n\ttranslateContentChunk: convertToV1FromChatGoogleMessage\n};\n\n//#endregion\nexports.ChatGoogleGenAITranslator = ChatGoogleGenAITranslator;\n//# sourceMappingURL=google_genai.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLDhHQUFhOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfZ2VuYWkuY2pzP2RjMTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvZ29vZ2xlX2dlbmFpLnRzXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0R29vZ2xlTWVzc2FnZShtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFt7XG5cdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdHRleHQ6IG1lc3NhZ2UuY29udGVudFxuXHRcdH1dIDogbWVzc2FnZS5jb250ZW50O1xuXHRcdGZvciAoY29uc3QgYmxvY2sgb2YgY29udGVudCkge1xuXHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcInRleHRcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2sudGV4dCkpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdHRleHQ6IGJsb2NrLnRleHRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKGJsb2NrLCBcImlubGluZURhdGFcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suaW5saW5lRGF0YSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5saW5lRGF0YS5taW1lVHlwZSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2suaW5saW5lRGF0YS5kYXRhKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdFx0bWltZVR5cGU6IGJsb2NrLmlubGluZURhdGEubWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YTogYmxvY2suaW5saW5lRGF0YS5kYXRhXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmdW5jdGlvbkNhbGxcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZnVuY3Rpb25DYWxsKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5mdW5jdGlvbkNhbGwubmFtZSkgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZnVuY3Rpb25DYWxsLmFyZ3MpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdGlkOiBtZXNzYWdlLmlkLFxuXHRcdFx0XHRcdG5hbWU6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5uYW1lLFxuXHRcdFx0XHRcdGFyZ3M6IGJsb2NrLmZ1bmN0aW9uQ2FsbC5hcmdzXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJmdW5jdGlvblJlc3BvbnNlXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZmlsZURhdGFcIikgJiYgcmVxdWlyZV91dGlscy5faXNPYmplY3QoYmxvY2suZmlsZURhdGEpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLmZpbGVEYXRhLm1pbWVUeXBlKSAmJiByZXF1aXJlX3V0aWxzLl9pc1N0cmluZyhibG9jay5maWxlRGF0YS5maWxlVXJpKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRcdFx0bWltZVR5cGU6IGJsb2NrLmZpbGVEYXRhLm1pbWVUeXBlLFxuXHRcdFx0XHRcdGZpbGVJZDogYmxvY2suZmlsZURhdGEuZmlsZVVyaVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwiZXhlY3V0YWJsZUNvZGVcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJjb2RlRXhlY3V0aW9uUmVzdWx0XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiBibG9ja1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRHb29nbGVHZW5BSVRyYW5zbGF0b3IgPSB7XG5cdHRyYW5zbGF0ZUNvbnRlbnQ6IGNvbnZlcnRUb1YxRnJvbUNoYXRHb29nbGVNZXNzYWdlLFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IGNvbnZlcnRUb1YxRnJvbUNoYXRHb29nbGVNZXNzYWdlXG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvciA9IENoYXRHb29nbGVHZW5BSVRyYW5zbGF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb29nbGVfZ2VuYWkuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_genai.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.cjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.cjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\n\n//#region src/messages/block_translators/google_vertexai.ts\nfunction convertToV1FromChatVertexMessage(message) {\n\tfunction* iterateContent() {\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) {\n\t\t\tif (require_utils._isContentBlock(block, \"reasoning\") && require_utils._isString(block.reasoning)) {\n\t\t\t\tconst signature = require_utils.iife(() => {\n\t\t\t\t\tconst reasoningIndex = content.indexOf(block);\n\t\t\t\t\tif (require_utils._isArray(message.additional_kwargs?.signatures) && reasoningIndex >= 0) return message.additional_kwargs.signatures.at(reasoningIndex);\n\t\t\t\t\treturn void 0;\n\t\t\t\t});\n\t\t\t\tif (require_utils._isString(signature)) yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning,\n\t\t\t\t\tsignature\n\t\t\t\t};\n\t\t\t\telse yield {\n\t\t\t\t\ttype: \"reasoning\",\n\t\t\t\t\treasoning: block.reasoning\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"text\") && require_utils._isString(block.text)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: block.text\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"image_url\")) {\n\t\t\t\tif (require_utils._isString(block.image_url)) if (block.image_url.startsWith(\"data:\")) {\n\t\t\t\t\tconst dataUrlRegex = /^data:([^;]+);base64,(.+)$/;\n\t\t\t\t\tconst match = block.image_url.match(dataUrlRegex);\n\t\t\t\t\tif (match) yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\tdata: match[2],\n\t\t\t\t\t\tmimeType: match[1]\n\t\t\t\t\t};\n\t\t\t\t\telse yield {\n\t\t\t\t\t\ttype: \"image\",\n\t\t\t\t\t\turl: block.image_url\n\t\t\t\t\t};\n\t\t\t\t} else yield {\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\turl: block.image_url\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(block, \"media\") && require_utils._isString(block.mimeType) && require_utils._isString(block.data)) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tmimeType: block.mimeType,\n\t\t\t\t\tdata: block.data\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tyield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: block\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatVertexTranslator = {\n\ttranslateContent: convertToV1FromChatVertexMessage,\n\ttranslateContentChunk: convertToV1FromChatVertexMessage\n};\n\n//#endregion\nexports.ChatVertexTranslator = ChatVertexTranslator;\n//# sourceMappingURL=google_vertexai.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9nb29nbGVfdmVydGV4YWkuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLDhHQUFhOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvZ29vZ2xlX3ZlcnRleGFpLmNqcz8yMWI3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2dvb2dsZV92ZXJ0ZXhhaS50c1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdFZlcnRleE1lc3NhZ2UobWVzc2FnZSkge1xuXHRmdW5jdGlvbiogaXRlcmF0ZUNvbnRlbnQoKSB7XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0XHR9XSA6IG1lc3NhZ2UuY29udGVudDtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIHtcblx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJyZWFzb25pbmdcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2sucmVhc29uaW5nKSkge1xuXHRcdFx0XHRjb25zdCBzaWduYXR1cmUgPSByZXF1aXJlX3V0aWxzLmlpZmUoKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHJlYXNvbmluZ0luZGV4ID0gY29udGVudC5pbmRleE9mKGJsb2NrKTtcblx0XHRcdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNBcnJheShtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzPy5zaWduYXR1cmVzKSAmJiByZWFzb25pbmdJbmRleCA+PSAwKSByZXR1cm4gbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5zaWduYXR1cmVzLmF0KHJlYXNvbmluZ0luZGV4KTtcblx0XHRcdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKHNpZ25hdHVyZSkpIHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogYmxvY2sucmVhc29uaW5nLFxuXHRcdFx0XHRcdHNpZ25hdHVyZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRlbHNlIHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInJlYXNvbmluZ1wiLFxuXHRcdFx0XHRcdHJlYXNvbmluZzogYmxvY2sucmVhc29uaW5nXG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLnRleHQpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHR0ZXh0OiBibG9jay50ZXh0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJpbWFnZV91cmxcIikpIHtcblx0XHRcdFx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLmltYWdlX3VybCkpIGlmIChibG9jay5pbWFnZV91cmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YVVybFJlZ2V4ID0gL15kYXRhOihbXjtdKyk7YmFzZTY0LCguKykkLztcblx0XHRcdFx0XHRjb25zdCBtYXRjaCA9IGJsb2NrLmltYWdlX3VybC5tYXRjaChkYXRhVXJsUmVnZXgpO1xuXHRcdFx0XHRcdGlmIChtYXRjaCkgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0ZGF0YTogbWF0Y2hbMl0sXG5cdFx0XHRcdFx0XHRtaW1lVHlwZTogbWF0Y2hbMV1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0XHRcdFx0dXJsOiBibG9jay5pbWFnZV91cmxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2UgeWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwiaW1hZ2VcIixcblx0XHRcdFx0XHR1cmw6IGJsb2NrLmltYWdlX3VybFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2soYmxvY2ssIFwibWVkaWFcIikgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoYmxvY2subWltZVR5cGUpICYmIHJlcXVpcmVfdXRpbHMuX2lzU3RyaW5nKGJsb2NrLmRhdGEpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdFx0XHRtaW1lVHlwZTogYmxvY2subWltZVR5cGUsXG5cdFx0XHRcdFx0ZGF0YTogYmxvY2suZGF0YVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHlpZWxkIHtcblx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0dmFsdWU6IGJsb2NrXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbShpdGVyYXRlQ29udGVudCgpKTtcbn1cbmNvbnN0IENoYXRWZXJ0ZXhUcmFuc2xhdG9yID0ge1xuXHR0cmFuc2xhdGVDb250ZW50OiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZSxcblx0dHJhbnNsYXRlQ29udGVudENodW5rOiBjb252ZXJ0VG9WMUZyb21DaGF0VmVydGV4TWVzc2FnZVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkNoYXRWZXJ0ZXhUcmFuc2xhdG9yID0gQ2hhdFZlcnRleFRyYW5zbGF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb29nbGVfdmVydGV4YWkuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/index.cjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/index.cjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_anthropic = __webpack_require__(/*! ./anthropic.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/anthropic.cjs\");\nconst require_openai = __webpack_require__(/*! ./openai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/openai.cjs\");\nconst require_bedrock_converse = __webpack_require__(/*! ./bedrock_converse.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/bedrock_converse.cjs\");\nconst require_google_genai = __webpack_require__(/*! ./google_genai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_genai.cjs\");\nconst require_google_vertexai = __webpack_require__(/*! ./google_vertexai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/google_vertexai.cjs\");\n\n//#region src/messages/block_translators/index.ts\nglobalThis.lc_block_translators_registry ??= new Map([\n\t[\"anthropic\", require_anthropic.ChatAnthropicTranslator],\n\t[\"bedrock-converse\", require_bedrock_converse.ChatBedrockConverseTranslator],\n\t[\"google-genai\", require_google_genai.ChatGoogleGenAITranslator],\n\t[\"google-vertexai\", require_google_vertexai.ChatVertexTranslator],\n\t[\"openai\", require_openai.ChatOpenAITranslator]\n]);\nfunction getTranslator(modelProvider) {\n\treturn globalThis.lc_block_translators_registry.get(modelProvider);\n}\n\n//#endregion\nexports.getTranslator = getTranslator;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9pbmRleC5janMiLCJtYXBwaW5ncyI6IkFBQUEsMEJBQTBCLG1CQUFPLENBQUMsc0hBQWlCO0FBQ25ELHVCQUF1QixtQkFBTyxDQUFDLGdIQUFjO0FBQzdDLGlDQUFpQyxtQkFBTyxDQUFDLG9JQUF3QjtBQUNqRSw2QkFBNkIsbUJBQU8sQ0FBQyw0SEFBb0I7QUFDekQsZ0NBQWdDLG1CQUFPLENBQUMsa0lBQXVCOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9pbmRleC5janM/OWQwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2FudGhyb3BpYyA9IHJlcXVpcmUoJy4vYW50aHJvcGljLmNqcycpO1xuY29uc3QgcmVxdWlyZV9vcGVuYWkgPSByZXF1aXJlKCcuL29wZW5haS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYmVkcm9ja19jb252ZXJzZSA9IHJlcXVpcmUoJy4vYmVkcm9ja19jb252ZXJzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfZ29vZ2xlX2dlbmFpID0gcmVxdWlyZSgnLi9nb29nbGVfZ2VuYWkuY2pzJyk7XG5jb25zdCByZXF1aXJlX2dvb2dsZV92ZXJ0ZXhhaSA9IHJlcXVpcmUoJy4vZ29vZ2xlX3ZlcnRleGFpLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL2luZGV4LnRzXG5nbG9iYWxUaGlzLmxjX2Jsb2NrX3RyYW5zbGF0b3JzX3JlZ2lzdHJ5ID8/PSBuZXcgTWFwKFtcblx0W1wiYW50aHJvcGljXCIsIHJlcXVpcmVfYW50aHJvcGljLkNoYXRBbnRocm9waWNUcmFuc2xhdG9yXSxcblx0W1wiYmVkcm9jay1jb252ZXJzZVwiLCByZXF1aXJlX2JlZHJvY2tfY29udmVyc2UuQ2hhdEJlZHJvY2tDb252ZXJzZVRyYW5zbGF0b3JdLFxuXHRbXCJnb29nbGUtZ2VuYWlcIiwgcmVxdWlyZV9nb29nbGVfZ2VuYWkuQ2hhdEdvb2dsZUdlbkFJVHJhbnNsYXRvcl0sXG5cdFtcImdvb2dsZS12ZXJ0ZXhhaVwiLCByZXF1aXJlX2dvb2dsZV92ZXJ0ZXhhaS5DaGF0VmVydGV4VHJhbnNsYXRvcl0sXG5cdFtcIm9wZW5haVwiLCByZXF1aXJlX29wZW5haS5DaGF0T3BlbkFJVHJhbnNsYXRvcl1cbl0pO1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRvcihtb2RlbFByb3ZpZGVyKSB7XG5cdHJldHVybiBnbG9iYWxUaGlzLmxjX2Jsb2NrX3RyYW5zbGF0b3JzX3JlZ2lzdHJ5LmdldChtb2RlbFByb3ZpZGVyKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmdldFRyYW5zbGF0b3IgPSBnZXRUcmFuc2xhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/openai.cjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/openai.cjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\");\nconst require_data = __webpack_require__(/*! ./data.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/data.cjs\");\n\n//#region src/messages/block_translators/openai.ts\n/**\n* Converts a ChatOpenAICompletions message to an array of v1 standard content blocks.\n*\n* This function processes an AI message from ChatOpenAICompletions API format\n* and converts it to the standardized v1 content block format. It handles both\n* string content and structured content blocks, as well as tool calls.\n*\n* @param message - The AI message containing ChatOpenAICompletions formatted content\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage(\"Hello world\");\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns: [{ type: \"text\", text: \"Hello world\" }]\n* ```\n*\n* @example\n* ```typescript\n* const message = new AIMessage([\n*   { type: \"text\", text: \"Hello\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ]);\n* message.tool_calls = [\n*   { id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletions(message);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" },\n* //   { type: \"tool_call\", id: \"call_123\", name: \"calculator\", args: { a: 1, b: 2 } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletions(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts a ChatOpenAICompletions message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk from OpenAI's chat completions API and converts\n* it to the standardized v1 content block format. It handles both string and array content,\n* as well as tool calls that may be present in the chunk.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage(\"Hello\");\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns: [{ type: \"text\", text: \"Hello\" }]\n* ```\n*\n* @example\n* ```typescript\n* const chunk = new AIMessage([\n*   { type: \"text\", text: \"Processing...\" }\n* ]);\n* chunk.tool_calls = [\n*   { id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsChunk(chunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Processing...\" },\n* //   { type: \"tool_call\", id: \"call_456\", name: \"search\", args: { query: \"test\" } }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsChunk(message) {\n\tconst blocks = [];\n\tif (typeof message.content === \"string\") blocks.push({\n\t\ttype: \"text\",\n\t\ttext: message.content\n\t});\n\telse blocks.push(...convertToV1FromChatCompletionsInput(message.content));\n\tfor (const toolCall of message.tool_calls ?? []) blocks.push({\n\t\ttype: \"tool_call\",\n\t\tid: toolCall.id,\n\t\tname: toolCall.name,\n\t\targs: toolCall.args\n\t});\n\treturn blocks;\n}\n/**\n* Converts an array of ChatOpenAICompletions content blocks to v1 standard content blocks.\n*\n* This function processes content blocks from OpenAI's Chat Completions API format\n* and converts them to the standardized v1 content block format. It handles both\n* OpenAI-specific data blocks (which require conversion) and standard blocks\n* (which are passed through with type assertion).\n*\n* @param blocks - Array of content blocks in ChatOpenAICompletions format\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const openaiBlocks = [\n*   { type: \"text\", text: \"Hello world\" },\n*   { type: \"image_url\", image_url: { url: \"https://example.com/image.png\" } }\n* ];\n*\n* const standardBlocks = convertToV1FromChatCompletionsInput(openaiBlocks);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello world\" },\n* //   { type: \"image\", url: \"https://example.com/image.png\" }\n* // ]\n* ```\n*/\nfunction convertToV1FromChatCompletionsInput(blocks) {\n\tconst convertedBlocks = [];\n\tfor (const block of blocks) if (require_data.isOpenAIDataBlock(block)) convertedBlocks.push(require_data.convertToV1FromOpenAIDataBlock(block));\n\telse convertedBlocks.push(block);\n\treturn convertedBlocks;\n}\nfunction convertResponsesAnnotation(annotation) {\n\tif (annotation.type === \"url_citation\") {\n\t\tconst { url, title, start_index, end_index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\turl,\n\t\t\ttitle,\n\t\t\tstartIndex: start_index,\n\t\t\tendIndex: end_index\n\t\t};\n\t}\n\tif (annotation.type === \"file_citation\") {\n\t\tconst { file_id, filename, index } = annotation;\n\t\treturn {\n\t\t\ttype: \"citation\",\n\t\t\ttitle: filename,\n\t\t\tstartIndex: index,\n\t\t\tendIndex: index,\n\t\t\tfileId: file_id\n\t\t};\n\t}\n\treturn annotation;\n}\n/**\n* Converts a ChatOpenAIResponses message to an array of v1 standard content blocks.\n*\n* This function processes an AI message containing OpenAI Responses-specific content blocks\n* and converts them to the standardized v1 content block format. It handles reasoning summaries,\n* text content with annotations, tool calls, and various tool outputs including code interpreter,\n* web search, file search, computer calls, and MCP-related blocks.\n*\n* @param message - The AI message containing OpenAI Responses-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const message = new AIMessage({\n*   content: [{ type: \"text\", text: \"Hello world\", annotations: [] }],\n*   tool_calls: [{ id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } }],\n*   additional_kwargs: {\n*     reasoning: { summary: [{ text: \"Let me calculate this...\" }] },\n*     tool_outputs: [\n*       {\n*         type: \"code_interpreter_call\",\n*         code: \"print('hello')\",\n*         outputs: [{ type: \"logs\", logs: \"hello\" }]\n*       }\n*     ]\n*   }\n* });\n*\n* const standardBlocks = convertToV1FromResponses(message);\n* // Returns:\n* // [\n* //   { type: \"reasoning\", reasoning: \"Let me calculate this...\" },\n* //   { type: \"text\", text: \"Hello world\", annotations: [] },\n* //   { type: \"tool_call\", id: \"123\", name: \"calculator\", args: { a: 1, b: 2 } },\n* //   { type: \"code_interpreter_call\", code: \"print('hello')\" },\n* //   { type: \"code_interpreter_result\", output: [{ type: \"code_interpreter_output\", returnCode: 0, stdout: \"hello\" }] }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponses(message) {\n\tfunction* iterateContent() {\n\t\tif (require_utils._isObject(message.additional_kwargs?.reasoning) && require_utils._isArray(message.additional_kwargs.reasoning.summary)) {\n\t\t\tconst summary = message.additional_kwargs.reasoning.summary.reduce((acc, item) => {\n\t\t\t\tif (require_utils._isObject(item) && require_utils._isString(item.text)) return `${acc}${item.text}`;\n\t\t\t\treturn acc;\n\t\t\t}, \"\");\n\t\t\tyield {\n\t\t\t\ttype: \"reasoning\",\n\t\t\t\treasoning: summary\n\t\t\t};\n\t\t}\n\t\tconst content = typeof message.content === \"string\" ? [{\n\t\t\ttype: \"text\",\n\t\t\ttext: message.content\n\t\t}] : message.content;\n\t\tfor (const block of content) if (require_utils._isContentBlock(block, \"text\")) {\n\t\t\tconst { text, annotations,...rest } = block;\n\t\t\tif (Array.isArray(annotations)) yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text),\n\t\t\t\tannotations: annotations.map(convertResponsesAnnotation)\n\t\t\t};\n\t\t\telse yield {\n\t\t\t\t...rest,\n\t\t\t\ttype: \"text\",\n\t\t\t\ttext: String(text)\n\t\t\t};\n\t\t}\n\t\tfor (const toolCall of message.tool_calls ?? []) yield {\n\t\t\ttype: \"tool_call\",\n\t\t\tid: toolCall.id,\n\t\t\tname: toolCall.name,\n\t\t\targs: toolCall.args\n\t\t};\n\t\tif (require_utils._isObject(message.additional_kwargs) && require_utils._isArray(message.additional_kwargs.tool_outputs)) for (const toolOutput of message.additional_kwargs.tool_outputs) {\n\t\t\tif (require_utils._isContentBlock(toolOutput, \"web_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"web_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"file_search_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"file_search\",\n\t\t\t\t\targs: { query: toolOutput.query }\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"computer_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"code_interpreter_call\")) {\n\t\t\t\tif (require_utils._isString(toolOutput.code)) yield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"code_interpreter\",\n\t\t\t\t\targs: { code: toolOutput.code }\n\t\t\t\t};\n\t\t\t\tif (require_utils._isArray(toolOutput.outputs)) {\n\t\t\t\t\tconst returnCode = require_utils.iife(() => {\n\t\t\t\t\t\tif (toolOutput.status === \"in_progress\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"completed\") return 0;\n\t\t\t\t\t\tif (toolOutput.status === \"incomplete\") return 127;\n\t\t\t\t\t\tif (toolOutput.status === \"interpreting\") return void 0;\n\t\t\t\t\t\tif (toolOutput.status === \"failed\") return 1;\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t});\n\t\t\t\t\tfor (const output of toolOutput.outputs) if (require_utils._isContentBlock(output, \"logs\")) {\n\t\t\t\t\t\tyield {\n\t\t\t\t\t\t\ttype: \"server_tool_call_result\",\n\t\t\t\t\t\t\ttoolCallId: toolOutput.id ?? \"\",\n\t\t\t\t\t\t\tstatus: \"success\",\n\t\t\t\t\t\t\toutput: {\n\t\t\t\t\t\t\t\ttype: \"code_interpreter_output\",\n\t\t\t\t\t\t\t\treturnCode: returnCode ?? 0,\n\t\t\t\t\t\t\t\tstderr: [0, void 0].includes(returnCode) ? void 0 : String(output.logs),\n\t\t\t\t\t\t\t\tstdout: [0, void 0].includes(returnCode) ? String(output.logs) : void 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"mcp_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_call\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"mcp_list_tools\")) {\n\t\t\t\tyield {\n\t\t\t\t\tid: toolOutput.id,\n\t\t\t\t\ttype: \"server_tool_call\",\n\t\t\t\t\tname: \"mcp_list_tools\",\n\t\t\t\t\targs: toolOutput.input\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"mcp_approval_request\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t} else if (require_utils._isContentBlock(toolOutput, \"image_generation_call\")) {\n\t\t\t\tyield {\n\t\t\t\t\ttype: \"non_standard\",\n\t\t\t\t\tvalue: toolOutput\n\t\t\t\t};\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (require_utils._isObject(toolOutput)) yield {\n\t\t\t\ttype: \"non_standard\",\n\t\t\t\tvalue: toolOutput\n\t\t\t};\n\t\t}\n\t}\n\treturn Array.from(iterateContent());\n}\n/**\n* Converts a ChatOpenAIResponses message chunk to an array of v1 standard content blocks.\n*\n* This function processes an AI message chunk containing OpenAI-specific content blocks\n* and converts them to the standardized v1 content block format. It handles both the\n* regular message content and tool call chunks that are specific to streaming responses.\n*\n* @param message - The AI message chunk containing OpenAI-formatted content blocks\n* @returns Array of content blocks in v1 standard format\n*\n* @example\n* ```typescript\n* const messageChunk = new AIMessageChunk({\n*   content: [{ type: \"text\", text: \"Hello\" }],\n*   tool_call_chunks: [\n*     { id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n*   ]\n* });\n*\n* const standardBlocks = convertToV1FromResponsesChunk(messageChunk);\n* // Returns:\n* // [\n* //   { type: \"text\", text: \"Hello\" },\n* //   { type: \"tool_call_chunk\", id: \"call_123\", name: \"calculator\", args: '{\"a\": 1' }\n* // ]\n* ```\n*/\nfunction convertToV1FromResponsesChunk(message) {\n\tfunction* iterateContent() {\n\t\tyield* convertToV1FromResponses(message);\n\t\tfor (const toolCallChunk of message.tool_call_chunks ?? []) yield {\n\t\t\ttype: \"tool_call_chunk\",\n\t\t\tid: toolCallChunk.id,\n\t\t\tname: toolCallChunk.name,\n\t\t\targs: toolCallChunk.args\n\t\t};\n\t}\n\treturn Array.from(iterateContent());\n}\nconst ChatOpenAITranslator = {\n\ttranslateContent: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletions(message);\n\t\treturn convertToV1FromResponses(message);\n\t},\n\ttranslateContentChunk: (message) => {\n\t\tif (typeof message.content === \"string\") return convertToV1FromChatCompletionsChunk(message);\n\t\treturn convertToV1FromResponsesChunk(message);\n\t}\n};\n\n//#endregion\nexports.ChatOpenAITranslator = ChatOpenAITranslator;\nexports.convertToV1FromChatCompletionsInput = convertToV1FromChatCompletionsInput;\n//# sourceMappingURL=openai.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9vcGVuYWkuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLDhHQUFhO0FBQzNDLHFCQUFxQixtQkFBTyxDQUFDLDRHQUFZOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUNBQW1DO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDZCQUE2QjtBQUNuQyxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0EsTUFBTSw0Q0FBNEM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDLFNBQVMscURBQXFEO0FBQzlELFNBQVMsK0RBQStEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZCQUE2QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNLHdDQUF3QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxQ0FBcUM7QUFDOUMsU0FBUywyREFBMkQ7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1DQUFtQztBQUN6QyxNQUFNLGdDQUFnQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtQ0FBbUM7QUFDNUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFDQUFxQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJCQUEyQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQW9EO0FBQ3BFLG1CQUFtQix1Q0FBdUMsY0FBYztBQUN4RTtBQUNBLG1CQUFtQixZQUFZLGtDQUFrQyxHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZCQUE2QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUEwRDtBQUNuRSxTQUFTLG9EQUFvRDtBQUM3RCxTQUFTLDBEQUEwRCxjQUFjO0FBQ2pGLFNBQVMsdURBQXVEO0FBQ2hFLFNBQVMsNENBQTRDLGlFQUFpRTtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixJQUFJLEVBQUUsVUFBVTtBQUN2RztBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsV0FBVyw0QkFBNEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQSxRQUFRLDRDQUE0QztBQUNwRDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkJBQTZCO0FBQ3RDLFNBQVMscUVBQXFFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEI7QUFDNUIsMkNBQTJDO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy9vcGVuYWkuY2pzP2Y2ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuY2pzJyk7XG5jb25zdCByZXF1aXJlX2RhdGEgPSByZXF1aXJlKCcuL2RhdGEuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvb3BlbmFpLnRzXG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJQ29tcGxldGlvbnMgbWVzc2FnZSB0byBhbiBhcnJheSBvZiB2MSBzdGFuZGFyZCBjb250ZW50IGJsb2Nrcy5cbipcbiogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgYW4gQUkgbWVzc2FnZSBmcm9tIENoYXRPcGVuQUlDb21wbGV0aW9ucyBBUEkgZm9ybWF0XG4qIGFuZCBjb252ZXJ0cyBpdCB0byB0aGUgc3RhbmRhcmRpemVkIHYxIGNvbnRlbnQgYmxvY2sgZm9ybWF0LiBJdCBoYW5kbGVzIGJvdGhcbiogc3RyaW5nIGNvbnRlbnQgYW5kIHN0cnVjdHVyZWQgY29udGVudCBibG9ja3MsIGFzIHdlbGwgYXMgdG9vbCBjYWxscy5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgQUkgbWVzc2FnZSBjb250YWluaW5nIENoYXRPcGVuQUlDb21wbGV0aW9ucyBmb3JtYXR0ZWQgY29udGVudFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShcIkhlbGxvIHdvcmxkXCIpO1xuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9XVxuKiBgYGBcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlID0gbmV3IEFJTWVzc2FnZShbXG4qICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsb1wiIH0sXG4qICAgeyB0eXBlOiBcImltYWdlX3VybFwiLCBpbWFnZV91cmw6IHsgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UucG5nXCIgfSB9XG4qIF0pO1xuKiBtZXNzYWdlLnRvb2xfY2FsbHMgPSBbXG4qICAgeyBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogeyBhOiAxLCBiOiAyIH0gfVxuKiBdO1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJpbWFnZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxcIiwgaWQ6IFwiY2FsbF8xMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnMobWVzc2FnZSkge1xuXHRjb25zdCBibG9ja3MgPSBbXTtcblx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIGJsb2Nrcy5wdXNoKHtcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0fSk7XG5cdGVsc2UgYmxvY2tzLnB1c2goLi4uY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQobWVzc2FnZS5jb250ZW50KSk7XG5cdGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzID8/IFtdKSBibG9ja3MucHVzaCh7XG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIixcblx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRhcmdzOiB0b29sQ2FsbC5hcmdzXG5cdH0pO1xuXHRyZXR1cm4gYmxvY2tzO1xufVxuLyoqXG4qIENvbnZlcnRzIGEgQ2hhdE9wZW5BSUNvbXBsZXRpb25zIG1lc3NhZ2UgY2h1bmsgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY2h1bmsgZnJvbSBPcGVuQUkncyBjaGF0IGNvbXBsZXRpb25zIEFQSSBhbmQgY29udmVydHNcbiogaXQgdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlcyBib3RoIHN0cmluZyBhbmQgYXJyYXkgY29udGVudCxcbiogYXMgd2VsbCBhcyB0b29sIGNhbGxzIHRoYXQgbWF5IGJlIHByZXNlbnQgaW4gdGhlIGNodW5rLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNodW5rIGNvbnRhaW5pbmcgT3BlbkFJLWZvcm1hdHRlZCBjb250ZW50IGJsb2Nrc1xuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBjaHVuayA9IG5ldyBBSU1lc3NhZ2UoXCJIZWxsb1wiKTtcbiogY29uc3Qgc3RhbmRhcmRCbG9ja3MgPSBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNDaHVuayhjaHVuayk7XG4qIC8vIFJldHVybnM6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvXCIgfV1cbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgY2h1bmsgPSBuZXcgQUlNZXNzYWdlKFtcbiogICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIlByb2Nlc3NpbmcuLi5cIiB9XG4qIF0pO1xuKiBjaHVuay50b29sX2NhbGxzID0gW1xuKiAgIHsgaWQ6IFwiY2FsbF80NTZcIiwgbmFtZTogXCJzZWFyY2hcIiwgYXJnczogeyBxdWVyeTogXCJ0ZXN0XCIgfSB9XG4qIF07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zQ2h1bmsoY2h1bmspO1xuKiAvLyBSZXR1cm5zOlxuKiAvLyBbXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJQcm9jZXNzaW5nLi4uXCIgfSxcbiogLy8gICB7IHR5cGU6IFwidG9vbF9jYWxsXCIsIGlkOiBcImNhbGxfNDU2XCIsIG5hbWU6IFwic2VhcmNoXCIsIGFyZ3M6IHsgcXVlcnk6IFwidGVzdFwiIH0gfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0NodW5rKG1lc3NhZ2UpIHtcblx0Y29uc3QgYmxvY2tzID0gW107XG5cdGlmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSBibG9ja3MucHVzaCh7XG5cdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0dGV4dDogbWVzc2FnZS5jb250ZW50XG5cdH0pO1xuXHRlbHNlIGJsb2Nrcy5wdXNoKC4uLmNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0lucHV0KG1lc3NhZ2UuY29udGVudCkpO1xuXHRmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSkgYmxvY2tzLnB1c2goe1xuXHRcdHR5cGU6IFwidG9vbF9jYWxsXCIsXG5cdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdG5hbWU6IHRvb2xDYWxsLm5hbWUsXG5cdFx0YXJnczogdG9vbENhbGwuYXJnc1xuXHR9KTtcblx0cmV0dXJuIGJsb2Nrcztcbn1cbi8qKlxuKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBDaGF0T3BlbkFJQ29tcGxldGlvbnMgY29udGVudCBibG9ja3MgdG8gdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGNvbnRlbnQgYmxvY2tzIGZyb20gT3BlbkFJJ3MgQ2hhdCBDb21wbGV0aW9ucyBBUEkgZm9ybWF0XG4qIGFuZCBjb252ZXJ0cyB0aGVtIHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXMgYm90aFxuKiBPcGVuQUktc3BlY2lmaWMgZGF0YSBibG9ja3MgKHdoaWNoIHJlcXVpcmUgY29udmVyc2lvbikgYW5kIHN0YW5kYXJkIGJsb2Nrc1xuKiAod2hpY2ggYXJlIHBhc3NlZCB0aHJvdWdoIHdpdGggdHlwZSBhc3NlcnRpb24pLlxuKlxuKiBAcGFyYW0gYmxvY2tzIC0gQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gQ2hhdE9wZW5BSUNvbXBsZXRpb25zIGZvcm1hdFxuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBvcGVuYWlCbG9ja3MgPSBbXG4qICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiIH0sXG4qICAgeyB0eXBlOiBcImltYWdlX3VybFwiLCBpbWFnZV91cmw6IHsgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UucG5nXCIgfSB9XG4qIF07XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQob3BlbmFpQmxvY2tzKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG8gd29ybGRcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJpbWFnZVwiLCB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5wbmdcIiB9XG4qIC8vIF1cbiogYGBgXG4qL1xuZnVuY3Rpb24gY29udmVydFRvVjFGcm9tQ2hhdENvbXBsZXRpb25zSW5wdXQoYmxvY2tzKSB7XG5cdGNvbnN0IGNvbnZlcnRlZEJsb2NrcyA9IFtdO1xuXHRmb3IgKGNvbnN0IGJsb2NrIG9mIGJsb2NrcykgaWYgKHJlcXVpcmVfZGF0YS5pc09wZW5BSURhdGFCbG9jayhibG9jaykpIGNvbnZlcnRlZEJsb2Nrcy5wdXNoKHJlcXVpcmVfZGF0YS5jb252ZXJ0VG9WMUZyb21PcGVuQUlEYXRhQmxvY2soYmxvY2spKTtcblx0ZWxzZSBjb252ZXJ0ZWRCbG9ja3MucHVzaChibG9jayk7XG5cdHJldHVybiBjb252ZXJ0ZWRCbG9ja3M7XG59XG5mdW5jdGlvbiBjb252ZXJ0UmVzcG9uc2VzQW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG5cdGlmIChhbm5vdGF0aW9uLnR5cGUgPT09IFwidXJsX2NpdGF0aW9uXCIpIHtcblx0XHRjb25zdCB7IHVybCwgdGl0bGUsIHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggfSA9IGFubm90YXRpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IFwiY2l0YXRpb25cIixcblx0XHRcdHVybCxcblx0XHRcdHRpdGxlLFxuXHRcdFx0c3RhcnRJbmRleDogc3RhcnRfaW5kZXgsXG5cdFx0XHRlbmRJbmRleDogZW5kX2luZGV4XG5cdFx0fTtcblx0fVxuXHRpZiAoYW5ub3RhdGlvbi50eXBlID09PSBcImZpbGVfY2l0YXRpb25cIikge1xuXHRcdGNvbnN0IHsgZmlsZV9pZCwgZmlsZW5hbWUsIGluZGV4IH0gPSBhbm5vdGF0aW9uO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImNpdGF0aW9uXCIsXG5cdFx0XHR0aXRsZTogZmlsZW5hbWUsXG5cdFx0XHRzdGFydEluZGV4OiBpbmRleCxcblx0XHRcdGVuZEluZGV4OiBpbmRleCxcblx0XHRcdGZpbGVJZDogZmlsZV9pZFxuXHRcdH07XG5cdH1cblx0cmV0dXJuIGFubm90YXRpb247XG59XG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJUmVzcG9uc2VzIG1lc3NhZ2UgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY29udGFpbmluZyBPcGVuQUkgUmVzcG9uc2VzLXNwZWNpZmljIGNvbnRlbnQgYmxvY2tzXG4qIGFuZCBjb252ZXJ0cyB0aGVtIHRvIHRoZSBzdGFuZGFyZGl6ZWQgdjEgY29udGVudCBibG9jayBmb3JtYXQuIEl0IGhhbmRsZXMgcmVhc29uaW5nIHN1bW1hcmllcyxcbiogdGV4dCBjb250ZW50IHdpdGggYW5ub3RhdGlvbnMsIHRvb2wgY2FsbHMsIGFuZCB2YXJpb3VzIHRvb2wgb3V0cHV0cyBpbmNsdWRpbmcgY29kZSBpbnRlcnByZXRlcixcbiogd2ViIHNlYXJjaCwgZmlsZSBzZWFyY2gsIGNvbXB1dGVyIGNhbGxzLCBhbmQgTUNQLXJlbGF0ZWQgYmxvY2tzLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNvbnRhaW5pbmcgT3BlbkFJIFJlc3BvbnNlcy1mb3JtYXR0ZWQgY29udGVudCBibG9ja3NcbiogQHJldHVybnMgQXJyYXkgb2YgY29udGVudCBibG9ja3MgaW4gdjEgc3RhbmRhcmQgZm9ybWF0XG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogY29uc3QgbWVzc2FnZSA9IG5ldyBBSU1lc3NhZ2Uoe1xuKiAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvIHdvcmxkXCIsIGFubm90YXRpb25zOiBbXSB9XSxcbiogICB0b29sX2NhbGxzOiBbeyBpZDogXCIxMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6IHsgYTogMSwgYjogMiB9IH1dLFxuKiAgIGFkZGl0aW9uYWxfa3dhcmdzOiB7XG4qICAgICByZWFzb25pbmc6IHsgc3VtbWFyeTogW3sgdGV4dDogXCJMZXQgbWUgY2FsY3VsYXRlIHRoaXMuLi5cIiB9XSB9LFxuKiAgICAgdG9vbF9vdXRwdXRzOiBbXG4qICAgICAgIHtcbiogICAgICAgICB0eXBlOiBcImNvZGVfaW50ZXJwcmV0ZXJfY2FsbFwiLFxuKiAgICAgICAgIGNvZGU6IFwicHJpbnQoJ2hlbGxvJylcIixcbiogICAgICAgICBvdXRwdXRzOiBbeyB0eXBlOiBcImxvZ3NcIiwgbG9nczogXCJoZWxsb1wiIH1dXG4qICAgICAgIH1cbiogICAgIF1cbiogICB9XG4qIH0pO1xuKlxuKiBjb25zdCBzdGFuZGFyZEJsb2NrcyA9IGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlcyhtZXNzYWdlKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJyZWFzb25pbmdcIiwgcmVhc29uaW5nOiBcIkxldCBtZSBjYWxjdWxhdGUgdGhpcy4uLlwiIH0sXG4qIC8vICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJIZWxsbyB3b3JsZFwiLCBhbm5vdGF0aW9uczogW10gfSxcbiogLy8gICB7IHR5cGU6IFwidG9vbF9jYWxsXCIsIGlkOiBcIjEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogeyBhOiAxLCBiOiAyIH0gfSxcbiogLy8gICB7IHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIsIGNvZGU6IFwicHJpbnQoJ2hlbGxvJylcIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJjb2RlX2ludGVycHJldGVyX3Jlc3VsdFwiLCBvdXRwdXQ6IFt7IHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9vdXRwdXRcIiwgcmV0dXJuQ29kZTogMCwgc3Rkb3V0OiBcImhlbGxvXCIgfV0gfVxuKiAvLyBdXG4qIGBgYFxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1YxRnJvbVJlc3BvbnNlcyhtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QobWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncz8ucmVhc29uaW5nKSAmJiByZXF1aXJlX3V0aWxzLl9pc0FycmF5KG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MucmVhc29uaW5nLnN1bW1hcnkpKSB7XG5cdFx0XHRjb25zdCBzdW1tYXJ5ID0gbWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy5yZWFzb25pbmcuc3VtbWFyeS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuXHRcdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNPYmplY3QoaXRlbSkgJiYgcmVxdWlyZV91dGlscy5faXNTdHJpbmcoaXRlbS50ZXh0KSkgcmV0dXJuIGAke2FjY30ke2l0ZW0udGV4dH1gO1xuXHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0fSwgXCJcIik7XG5cdFx0XHR5aWVsZCB7XG5cdFx0XHRcdHR5cGU6IFwicmVhc29uaW5nXCIsXG5cdFx0XHRcdHJlYXNvbmluZzogc3VtbWFyeVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyBbe1xuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHR0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcblx0XHR9XSA6IG1lc3NhZ2UuY29udGVudDtcblx0XHRmb3IgKGNvbnN0IGJsb2NrIG9mIGNvbnRlbnQpIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayhibG9jaywgXCJ0ZXh0XCIpKSB7XG5cdFx0XHRjb25zdCB7IHRleHQsIGFubm90YXRpb25zLC4uLnJlc3QgfSA9IGJsb2NrO1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYW5ub3RhdGlvbnMpKSB5aWVsZCB7XG5cdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBTdHJpbmcodGV4dCksXG5cdFx0XHRcdGFubm90YXRpb25zOiBhbm5vdGF0aW9ucy5tYXAoY29udmVydFJlc3BvbnNlc0Fubm90YXRpb24pXG5cdFx0XHR9O1xuXHRcdFx0ZWxzZSB5aWVsZCB7XG5cdFx0XHRcdC4uLnJlc3QsXG5cdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHR0ZXh0OiBTdHJpbmcodGV4dClcblx0XHRcdH07XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgdG9vbENhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzID8/IFtdKSB5aWVsZCB7XG5cdFx0XHR0eXBlOiBcInRvb2xfY2FsbFwiLFxuXHRcdFx0aWQ6IHRvb2xDYWxsLmlkLFxuXHRcdFx0bmFtZTogdG9vbENhbGwubmFtZSxcblx0XHRcdGFyZ3M6IHRvb2xDYWxsLmFyZ3Ncblx0XHR9O1xuXHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdChtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzKSAmJiByZXF1aXJlX3V0aWxzLl9pc0FycmF5KG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzKSkgZm9yIChjb25zdCB0b29sT3V0cHV0IG9mIG1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MudG9vbF9vdXRwdXRzKSB7XG5cdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJ3ZWJfc2VhcmNoX2NhbGxcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwid2ViX3NlYXJjaFwiLFxuXHRcdFx0XHRcdGFyZ3M6IHsgcXVlcnk6IHRvb2xPdXRwdXQucXVlcnkgfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJmaWxlX3NlYXJjaF9jYWxsXCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRpZDogdG9vbE91dHB1dC5pZCxcblx0XHRcdFx0XHR0eXBlOiBcInNlcnZlcl90b29sX2NhbGxcIixcblx0XHRcdFx0XHRuYW1lOiBcImZpbGVfc2VhcmNoXCIsXG5cdFx0XHRcdFx0YXJnczogeyBxdWVyeTogdG9vbE91dHB1dC5xdWVyeSB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcImNvbXB1dGVyX2NhbGxcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdHR5cGU6IFwibm9uX3N0YW5kYXJkXCIsXG5cdFx0XHRcdFx0dmFsdWU6IHRvb2xPdXRwdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwiY29kZV9pbnRlcnByZXRlcl9jYWxsXCIpKSB7XG5cdFx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc1N0cmluZyh0b29sT3V0cHV0LmNvZGUpKSB5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJjb2RlX2ludGVycHJldGVyXCIsXG5cdFx0XHRcdFx0YXJnczogeyBjb2RlOiB0b29sT3V0cHV0LmNvZGUgfVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNBcnJheSh0b29sT3V0cHV0Lm91dHB1dHMpKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmV0dXJuQ29kZSA9IHJlcXVpcmVfdXRpbHMuaWlmZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiaW5fcHJvZ3Jlc3NcIikgcmV0dXJuIHZvaWQgMDtcblx0XHRcdFx0XHRcdGlmICh0b29sT3V0cHV0LnN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIikgcmV0dXJuIDA7XG5cdFx0XHRcdFx0XHRpZiAodG9vbE91dHB1dC5zdGF0dXMgPT09IFwiaW5jb21wbGV0ZVwiKSByZXR1cm4gMTI3O1xuXHRcdFx0XHRcdFx0aWYgKHRvb2xPdXRwdXQuc3RhdHVzID09PSBcImludGVycHJldGluZ1wiKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHRcdFx0aWYgKHRvb2xPdXRwdXQuc3RhdHVzID09PSBcImZhaWxlZFwiKSByZXR1cm4gMTtcblx0XHRcdFx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBvdXRwdXQgb2YgdG9vbE91dHB1dC5vdXRwdXRzKSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2sob3V0cHV0LCBcImxvZ3NcIikpIHtcblx0XHRcdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsX3Jlc3VsdFwiLFxuXHRcdFx0XHRcdFx0XHR0b29sQ2FsbElkOiB0b29sT3V0cHV0LmlkID8/IFwiXCIsXG5cdFx0XHRcdFx0XHRcdHN0YXR1czogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFx0XHRcdG91dHB1dDoge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiY29kZV9pbnRlcnByZXRlcl9vdXRwdXRcIixcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5Db2RlOiByZXR1cm5Db2RlID8/IDAsXG5cdFx0XHRcdFx0XHRcdFx0c3RkZXJyOiBbMCwgdm9pZCAwXS5pbmNsdWRlcyhyZXR1cm5Db2RlKSA/IHZvaWQgMCA6IFN0cmluZyhvdXRwdXQubG9ncyksXG5cdFx0XHRcdFx0XHRcdFx0c3Rkb3V0OiBbMCwgdm9pZCAwXS5pbmNsdWRlcyhyZXR1cm5Db2RlKSA/IFN0cmluZyhvdXRwdXQubG9ncykgOiB2b2lkIDBcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV91dGlscy5faXNDb250ZW50QmxvY2sodG9vbE91dHB1dCwgXCJtY3BfY2FsbFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0aWQ6IHRvb2xPdXRwdXQuaWQsXG5cdFx0XHRcdFx0dHlwZTogXCJzZXJ2ZXJfdG9vbF9jYWxsXCIsXG5cdFx0XHRcdFx0bmFtZTogXCJtY3BfY2FsbFwiLFxuXHRcdFx0XHRcdGFyZ3M6IHRvb2xPdXRwdXQuaW5wdXRcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHJlcXVpcmVfdXRpbHMuX2lzQ29udGVudEJsb2NrKHRvb2xPdXRwdXQsIFwibWNwX2xpc3RfdG9vbHNcIikpIHtcblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGlkOiB0b29sT3V0cHV0LmlkLFxuXHRcdFx0XHRcdHR5cGU6IFwic2VydmVyX3Rvb2xfY2FsbFwiLFxuXHRcdFx0XHRcdG5hbWU6IFwibWNwX2xpc3RfdG9vbHNcIixcblx0XHRcdFx0XHRhcmdzOiB0b29sT3V0cHV0LmlucHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcIm1jcF9hcHByb3ZhbF9yZXF1ZXN0XCIpKSB7XG5cdFx0XHRcdHlpZWxkIHtcblx0XHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHRcdHZhbHVlOiB0b29sT3V0cHV0XG5cdFx0XHRcdH07XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX3V0aWxzLl9pc0NvbnRlbnRCbG9jayh0b29sT3V0cHV0LCBcImltYWdlX2dlbmVyYXRpb25fY2FsbFwiKSkge1xuXHRcdFx0XHR5aWVsZCB7XG5cdFx0XHRcdFx0dHlwZTogXCJub25fc3RhbmRhcmRcIixcblx0XHRcdFx0XHR2YWx1ZTogdG9vbE91dHB1dFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc09iamVjdCh0b29sT3V0cHV0KSkgeWllbGQge1xuXHRcdFx0XHR0eXBlOiBcIm5vbl9zdGFuZGFyZFwiLFxuXHRcdFx0XHR2YWx1ZTogdG9vbE91dHB1dFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG4vKipcbiogQ29udmVydHMgYSBDaGF0T3BlbkFJUmVzcG9uc2VzIG1lc3NhZ2UgY2h1bmsgdG8gYW4gYXJyYXkgb2YgdjEgc3RhbmRhcmQgY29udGVudCBibG9ja3MuXG4qXG4qIFRoaXMgZnVuY3Rpb24gcHJvY2Vzc2VzIGFuIEFJIG1lc3NhZ2UgY2h1bmsgY29udGFpbmluZyBPcGVuQUktc3BlY2lmaWMgY29udGVudCBibG9ja3NcbiogYW5kIGNvbnZlcnRzIHRoZW0gdG8gdGhlIHN0YW5kYXJkaXplZCB2MSBjb250ZW50IGJsb2NrIGZvcm1hdC4gSXQgaGFuZGxlcyBib3RoIHRoZVxuKiByZWd1bGFyIG1lc3NhZ2UgY29udGVudCBhbmQgdG9vbCBjYWxsIGNodW5rcyB0aGF0IGFyZSBzcGVjaWZpYyB0byBzdHJlYW1pbmcgcmVzcG9uc2VzLlxuKlxuKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBBSSBtZXNzYWdlIGNodW5rIGNvbnRhaW5pbmcgT3BlbkFJLWZvcm1hdHRlZCBjb250ZW50IGJsb2Nrc1xuKiBAcmV0dXJucyBBcnJheSBvZiBjb250ZW50IGJsb2NrcyBpbiB2MSBzdGFuZGFyZCBmb3JtYXRcbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtZXNzYWdlQ2h1bmsgPSBuZXcgQUlNZXNzYWdlQ2h1bmsoe1xuKiAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBcIkhlbGxvXCIgfV0sXG4qICAgdG9vbF9jYWxsX2NodW5rczogW1xuKiAgICAgeyBpZDogXCJjYWxsXzEyM1wiLCBuYW1lOiBcImNhbGN1bGF0b3JcIiwgYXJnczogJ3tcImFcIjogMScgfVxuKiAgIF1cbiogfSk7XG4qXG4qIGNvbnN0IHN0YW5kYXJkQmxvY2tzID0gY29udmVydFRvVjFGcm9tUmVzcG9uc2VzQ2h1bmsobWVzc2FnZUNodW5rKTtcbiogLy8gUmV0dXJuczpcbiogLy8gW1xuKiAvLyAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IFwiSGVsbG9cIiB9LFxuKiAvLyAgIHsgdHlwZTogXCJ0b29sX2NhbGxfY2h1bmtcIiwgaWQ6IFwiY2FsbF8xMjNcIiwgbmFtZTogXCJjYWxjdWxhdG9yXCIsIGFyZ3M6ICd7XCJhXCI6IDEnIH1cbiogLy8gXVxuKiBgYGBcbiovXG5mdW5jdGlvbiBjb252ZXJ0VG9WMUZyb21SZXNwb25zZXNDaHVuayhtZXNzYWdlKSB7XG5cdGZ1bmN0aW9uKiBpdGVyYXRlQ29udGVudCgpIHtcblx0XHR5aWVsZCogY29udmVydFRvVjFGcm9tUmVzcG9uc2VzKG1lc3NhZ2UpO1xuXHRcdGZvciAoY29uc3QgdG9vbENhbGxDaHVuayBvZiBtZXNzYWdlLnRvb2xfY2FsbF9jaHVua3MgPz8gW10pIHlpZWxkIHtcblx0XHRcdHR5cGU6IFwidG9vbF9jYWxsX2NodW5rXCIsXG5cdFx0XHRpZDogdG9vbENhbGxDaHVuay5pZCxcblx0XHRcdG5hbWU6IHRvb2xDYWxsQ2h1bmsubmFtZSxcblx0XHRcdGFyZ3M6IHRvb2xDYWxsQ2h1bmsuYXJnc1xuXHRcdH07XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20oaXRlcmF0ZUNvbnRlbnQoKSk7XG59XG5jb25zdCBDaGF0T3BlbkFJVHJhbnNsYXRvciA9IHtcblx0dHJhbnNsYXRlQ29udGVudDogKG1lc3NhZ2UpID0+IHtcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9ucyhtZXNzYWdlKTtcblx0XHRyZXR1cm4gY29udmVydFRvVjFGcm9tUmVzcG9uc2VzKG1lc3NhZ2UpO1xuXHR9LFxuXHR0cmFuc2xhdGVDb250ZW50Q2h1bms6IChtZXNzYWdlKSA9PiB7XG5cdFx0aWYgKHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBjb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNDaHVuayhtZXNzYWdlKTtcblx0XHRyZXR1cm4gY29udmVydFRvVjFGcm9tUmVzcG9uc2VzQ2h1bmsobWVzc2FnZSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5DaGF0T3BlbkFJVHJhbnNsYXRvciA9IENoYXRPcGVuQUlUcmFuc2xhdG9yO1xuZXhwb3J0cy5jb252ZXJ0VG9WMUZyb21DaGF0Q29tcGxldGlvbnNJbnB1dCA9IGNvbnZlcnRUb1YxRnJvbUNoYXRDb21wbGV0aW9uc0lucHV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/openai.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/messages/block_translators/utils.ts\nfunction _isContentBlock(block, type) {\n\treturn _isObject(block) && block.type === type;\n}\nfunction _isObject(value) {\n\treturn typeof value === \"object\" && value !== null;\n}\nfunction _isArray(value) {\n\treturn Array.isArray(value);\n}\nfunction _isString(value) {\n\treturn typeof value === \"string\";\n}\nfunction _isNumber(value) {\n\treturn typeof value === \"number\";\n}\nfunction _isBytesArray(value) {\n\treturn value instanceof Uint8Array;\n}\nfunction safeParseJson(value) {\n\ttry {\n\t\treturn JSON.parse(value);\n\t} catch {\n\t\treturn void 0;\n\t}\n}\nconst iife = (fn) => fn();\n\n//#endregion\nexports._isArray = _isArray;\nexports._isBytesArray = _isBytesArray;\nexports._isContentBlock = _isContentBlock;\nexports._isNumber = _isNumber;\nexports._isObject = _isObject;\nexports._isString = _isString;\nexports.iife = iife;\nexports.safeParseJson = safeParseJson;\n//# sourceMappingURL=utils.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9ibG9ja190cmFuc2xhdG9ycy91dGlscy5janMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixpQkFBaUI7QUFDakIsWUFBWTtBQUNaLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvYmxvY2tfdHJhbnNsYXRvcnMvdXRpbHMuY2pzPzJmN2QiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Jsb2NrX3RyYW5zbGF0b3JzL3V0aWxzLnRzXG5mdW5jdGlvbiBfaXNDb250ZW50QmxvY2soYmxvY2ssIHR5cGUpIHtcblx0cmV0dXJuIF9pc09iamVjdChibG9jaykgJiYgYmxvY2sudHlwZSA9PT0gdHlwZTtcbn1cbmZ1bmN0aW9uIF9pc09iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gX2lzQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuZnVuY3Rpb24gX2lzU3RyaW5nKHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBfaXNOdW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIF9pc0J5dGVzQXJyYXkodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheTtcbn1cbmZ1bmN0aW9uIHNhZmVQYXJzZUpzb24odmFsdWUpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cbn1cbmNvbnN0IGlpZmUgPSAoZm4pID0+IGZuKCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5faXNBcnJheSA9IF9pc0FycmF5O1xuZXhwb3J0cy5faXNCeXRlc0FycmF5ID0gX2lzQnl0ZXNBcnJheTtcbmV4cG9ydHMuX2lzQ29udGVudEJsb2NrID0gX2lzQ29udGVudEJsb2NrO1xuZXhwb3J0cy5faXNOdW1iZXIgPSBfaXNOdW1iZXI7XG5leHBvcnRzLl9pc09iamVjdCA9IF9pc09iamVjdDtcbmV4cG9ydHMuX2lzU3RyaW5nID0gX2lzU3RyaW5nO1xuZXhwb3J0cy5paWZlID0gaWlmZTtcbmV4cG9ydHMuc2FmZVBhcnNlSnNvbiA9IHNhZmVQYXJzZUpzb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/block_translators/utils.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/chat.cjs":
/*!*************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/chat.cjs ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/chat.ts\n/**\n* Represents a chat message in a conversation.\n*/\nvar ChatMessage = class ChatMessage extends require_base.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ChatMessage\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tstatic _chatMessageClass() {\n\t\treturn ChatMessage;\n\t}\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a chat message, which can be concatenated with\n* other chat message chunks.\n*/\nvar ChatMessageChunk = class extends require_base.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"ChatMessageChunk\";\n\t}\n\ttype = \"generic\";\n\trole;\n\tconstructor(fields, role) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = {\n\t\t\tcontent: fields,\n\t\t\trole\n\t\t};\n\t\tsuper(fields);\n\t\tthis.role = fields.role;\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_base._mergeDicts(this.response_metadata, chunk.response_metadata),\n\t\t\trole: this.role,\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"generic\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\trole: this.role\n\t\t};\n\t}\n};\n/**\n* @deprecated Use {@link ChatMessage.isInstance} instead\n*/\nfunction isChatMessage(x) {\n\treturn x._getType() === \"generic\";\n}\n/**\n* @deprecated Use {@link ChatMessageChunk.isInstance} instead\n*/\nfunction isChatMessageChunk(x) {\n\treturn x._getType() === \"generic\";\n}\n\n//#endregion\nexports.ChatMessage = ChatMessage;\nexports.ChatMessageChunk = ChatMessageChunk;\nexports.isChatMessage = isChatMessage;\nexports.isChatMessageChunk = isChatMessageChunk;\n//# sourceMappingURL=chat.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jaGF0LmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQywwRkFBWTs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQ0FBbUM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL2NoYXQuY2pzPzkzMTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9iYXNlID0gcmVxdWlyZSgnLi9iYXNlLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2NoYXQudHNcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2hhdCBtZXNzYWdlIGluIGEgY29udmVyc2F0aW9uLlxuKi9cbnZhciBDaGF0TWVzc2FnZSA9IGNsYXNzIENoYXRNZXNzYWdlIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdE1lc3NhZ2VcIjtcblx0fVxuXHR0eXBlID0gXCJnZW5lcmljXCI7XG5cdHJvbGU7XG5cdHN0YXRpYyBfY2hhdE1lc3NhZ2VDbGFzcygpIHtcblx0XHRyZXR1cm4gQ2hhdE1lc3NhZ2U7XG5cdH1cblx0Y29uc3RydWN0b3IoZmllbGRzLCByb2xlKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7XG5cdFx0XHRjb250ZW50OiBmaWVsZHMsXG5cdFx0XHRyb2xlXG5cdFx0fTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMucm9sZSA9IGZpZWxkcy5yb2xlO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiZ2VuZXJpY1wiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0cm9sZTogdGhpcy5yb2xlXG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBjaGF0IG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aFxuKiBvdGhlciBjaGF0IG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBDaGF0TWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2Jhc2UuQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRNZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHR0eXBlID0gXCJnZW5lcmljXCI7XG5cdHJvbGU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcywgcm9sZSkge1xuXHRcdGlmICh0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSkgZmllbGRzID0ge1xuXHRcdFx0Y29udGVudDogZmllbGRzLFxuXHRcdFx0cm9sZVxuXHRcdH07XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJvbGUgPSBmaWVsZHMucm9sZTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBDbHMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBuZXcgQ2xzKHtcblx0XHRcdGNvbnRlbnQ6IHJlcXVpcmVfYmFzZS5tZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHJlcXVpcmVfYmFzZS5fbWVyZ2VEaWN0cyh0aGlzLnJlc3BvbnNlX21ldGFkYXRhLCBjaHVuay5yZXNwb25zZV9tZXRhZGF0YSksXG5cdFx0XHRyb2xlOiB0aGlzLnJvbGUsXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG9iaikge1xuXHRcdHJldHVybiBzdXBlci5pc0luc3RhbmNlKG9iaikgJiYgb2JqLnR5cGUgPT09IFwiZ2VuZXJpY1wiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0cm9sZTogdGhpcy5yb2xlXG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIENoYXRNZXNzYWdlLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0NoYXRNZXNzYWdlKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJnZW5lcmljXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBDaGF0TWVzc2FnZUNodW5rLmlzSW5zdGFuY2V9IGluc3RlYWRcbiovXG5mdW5jdGlvbiBpc0NoYXRNZXNzYWdlQ2h1bmsoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcImdlbmVyaWNcIjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkNoYXRNZXNzYWdlID0gQ2hhdE1lc3NhZ2U7XG5leHBvcnRzLkNoYXRNZXNzYWdlQ2h1bmsgPSBDaGF0TWVzc2FnZUNodW5rO1xuZXhwb3J0cy5pc0NoYXRNZXNzYWdlID0gaXNDaGF0TWVzc2FnZTtcbmV4cG9ydHMuaXNDaGF0TWVzc2FnZUNodW5rID0gaXNDaGF0TWVzc2FnZUNodW5rO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/chat.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/content/data.cjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/content/data.cjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/messages/content/data.ts\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isDataContentBlock(content_block) {\n\treturn typeof content_block === \"object\" && content_block !== null && \"type\" in content_block && typeof content_block.type === \"string\" && \"source_type\" in content_block && (content_block.source_type === \"url\" || content_block.source_type === \"base64\" || content_block.source_type === \"text\" || content_block.source_type === \"id\");\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isURLContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"url\" && \"url\" in content_block && typeof content_block.url === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isBase64ContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"base64\" && \"data\" in content_block && typeof content_block.data === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isPlainTextContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"text\" && \"text\" in content_block && typeof content_block.text === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction isIDContentBlock(content_block) {\n\treturn isDataContentBlock(content_block) && content_block.source_type === \"id\" && \"id\" in content_block && typeof content_block.id === \"string\";\n}\n/**\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToOpenAIImageBlock(content_block) {\n\tif (isDataContentBlock(content_block)) {\n\t\tif (content_block.source_type === \"url\") return {\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: { url: content_block.url }\n\t\t};\n\t\tif (content_block.source_type === \"base64\") {\n\t\t\tif (!content_block.mime_type) throw new Error(\"mime_type key is required for base64 data.\");\n\t\t\tconst mime_type = content_block.mime_type;\n\t\t\treturn {\n\t\t\t\ttype: \"image_url\",\n\t\t\t\timage_url: { url: `data:${mime_type};base64,${content_block.data}` }\n\t\t\t};\n\t\t}\n\t}\n\tthrow new Error(\"Unsupported source type. Only 'url' and 'base64' are supported.\");\n}\n/**\n* Utility function for ChatModelProviders. Parses a mime type into a type, subtype, and parameters.\n*\n* @param mime_type - The mime type to parse.\n* @returns An object containing the type, subtype, and parameters.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseMimeType(mime_type) {\n\tconst parts = mime_type.split(\";\")[0].split(\"/\");\n\tif (parts.length !== 2) throw new Error(`Invalid mime type: \"${mime_type}\" - does not match type/subtype format.`);\n\tconst type = parts[0].trim();\n\tconst subtype = parts[1].trim();\n\tif (type === \"\" || subtype === \"\") throw new Error(`Invalid mime type: \"${mime_type}\" - type or subtype is empty.`);\n\tconst parameters = {};\n\tfor (const parameterKvp of mime_type.split(\";\").slice(1)) {\n\t\tconst parameterParts = parameterKvp.split(\"=\");\n\t\tif (parameterParts.length !== 2) throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tconst key = parameterParts[0].trim();\n\t\tconst value = parameterParts[1].trim();\n\t\tif (key === \"\") throw new Error(`Invalid parameter syntax in mime type: \"${mime_type}\".`);\n\t\tparameters[key] = value;\n\t}\n\treturn {\n\t\ttype,\n\t\tsubtype,\n\t\tparameters\n\t};\n}\n/**\n* Utility function for ChatModelProviders. Parses a base64 data URL into a typed array or string.\n*\n* @param dataUrl - The base64 data URL to parse.\n* @param asTypedArray - Whether to return the data as a typed array.\n* @returns The parsed data and mime type, or undefined if the data URL is invalid.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction parseBase64DataUrl({ dataUrl: data_url, asTypedArray = false }) {\n\tconst formatMatch = data_url.match(/^data:(\\w+\\/\\w+);base64,([A-Za-z0-9+/]+=*)$/);\n\tlet mime_type;\n\tif (formatMatch) {\n\t\tmime_type = formatMatch[1].toLowerCase();\n\t\tconst data = asTypedArray ? Uint8Array.from(atob(formatMatch[2]), (c) => c.charCodeAt(0)) : formatMatch[2];\n\t\treturn {\n\t\t\tmime_type,\n\t\t\tdata\n\t\t};\n\t}\n\treturn void 0;\n}\n/**\n* Convert from a standard data content block to a provider's proprietary data content block format.\n*\n* Don't override this method. Instead, override the more specific conversion methods and use this\n* method unmodified.\n*\n* @param block - The standard data content block to convert.\n* @returns The provider data content block.\n* @throws An error if the standard data content block type is not supported.\n*\n* @deprecated Don't use data content blocks. Use {@link ContentBlock.Multimodal.Data} instead.\n*/\nfunction convertToProviderContentBlock(block, converter) {\n\tif (block.type === \"text\") {\n\t\tif (!converter.fromStandardTextBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardTextBlock\\` method.`);\n\t\treturn converter.fromStandardTextBlock(block);\n\t}\n\tif (block.type === \"image\") {\n\t\tif (!converter.fromStandardImageBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardImageBlock\\` method.`);\n\t\treturn converter.fromStandardImageBlock(block);\n\t}\n\tif (block.type === \"audio\") {\n\t\tif (!converter.fromStandardAudioBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardAudioBlock\\` method.`);\n\t\treturn converter.fromStandardAudioBlock(block);\n\t}\n\tif (block.type === \"file\") {\n\t\tif (!converter.fromStandardFileBlock) throw new Error(`Converter for ${converter.providerName} does not implement \\`fromStandardFileBlock\\` method.`);\n\t\treturn converter.fromStandardFileBlock(block);\n\t}\n\tthrow new Error(`Unable to convert content block type '${block.type}' to provider-specific format: not recognized.`);\n}\n\n//#endregion\nexports.convertToOpenAIImageBlock = convertToOpenAIImageBlock;\nexports.convertToProviderContentBlock = convertToProviderContentBlock;\nexports.isBase64ContentBlock = isBase64ContentBlock;\nexports.isDataContentBlock = isDataContentBlock;\nexports.isIDContentBlock = isIDContentBlock;\nexports.isPlainTextContentBlock = isPlainTextContentBlock;\nexports.isURLContentBlock = isURLContentBlock;\nexports.parseBase64DataUrl = parseBase64DataUrl;\nexports.parseMimeType = parseMimeType;\n//# sourceMappingURL=data.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9jb250ZW50L2RhdGEuY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhLFdBQVcsU0FBUyxtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnRUFBZ0UsVUFBVTtBQUMxRTtBQUNBO0FBQ0EsMkVBQTJFLFVBQVU7QUFDckY7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQSw4RkFBOEYsVUFBVTtBQUN4RztBQUNBO0FBQ0EsNkVBQTZFLFVBQVU7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9DQUFvQztBQUN0RjtBQUNBLDhCQUE4Qix5Q0FBeUM7QUFDdkUsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQ0FBb0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHdCQUF3QjtBQUNqRztBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsd0JBQXdCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSx3QkFBd0I7QUFDbEc7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHdCQUF3QjtBQUNqRztBQUNBO0FBQ0EsMERBQTBELFdBQVc7QUFDckU7O0FBRUE7QUFDQSxpQ0FBaUM7QUFDakMscUNBQXFDO0FBQ3JDLDRCQUE0QjtBQUM1QiwwQkFBMEI7QUFDMUIsd0JBQXdCO0FBQ3hCLCtCQUErQjtBQUMvQix5QkFBeUI7QUFDekIsMEJBQTBCO0FBQzFCLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvY29udGVudC9kYXRhLmNqcz83ZTZlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9jb250ZW50L2RhdGEudHNcbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGlzRGF0YUNvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiB0eXBlb2YgY29udGVudF9ibG9jayA9PT0gXCJvYmplY3RcIiAmJiBjb250ZW50X2Jsb2NrICE9PSBudWxsICYmIFwidHlwZVwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudHlwZSA9PT0gXCJzdHJpbmdcIiAmJiBcInNvdXJjZV90eXBlXCIgaW4gY29udGVudF9ibG9jayAmJiAoY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIiB8fCBjb250ZW50X2Jsb2NrLnNvdXJjZV90eXBlID09PSBcImJhc2U2NFwiIHx8IGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidGV4dFwiIHx8IGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiaWRcIik7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBpc1VSTENvbnRlbnRCbG9jayhjb250ZW50X2Jsb2NrKSB7XG5cdHJldHVybiBpc0RhdGFDb250ZW50QmxvY2soY29udGVudF9ibG9jaykgJiYgY29udGVudF9ibG9jay5zb3VyY2VfdHlwZSA9PT0gXCJ1cmxcIiAmJiBcInVybFwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudXJsID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNCYXNlNjRDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIgJiYgXCJkYXRhXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay5kYXRhID09PSBcInN0cmluZ1wiO1xufVxuLyoqXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gaXNQbGFpblRleHRDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidGV4dFwiICYmIFwidGV4dFwiIGluIGNvbnRlbnRfYmxvY2sgJiYgdHlwZW9mIGNvbnRlbnRfYmxvY2sudGV4dCA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGlzSURDb250ZW50QmxvY2soY29udGVudF9ibG9jaykge1xuXHRyZXR1cm4gaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spICYmIGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiaWRcIiAmJiBcImlkXCIgaW4gY29udGVudF9ibG9jayAmJiB0eXBlb2YgY29udGVudF9ibG9jay5pZCA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBEb24ndCB1c2UgZGF0YSBjb250ZW50IGJsb2Nrcy4gVXNlIHtAbGluayBDb250ZW50QmxvY2suTXVsdGltb2RhbC5EYXRhfSBpbnN0ZWFkLlxuKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2soY29udGVudF9ibG9jaykge1xuXHRpZiAoaXNEYXRhQ29udGVudEJsb2NrKGNvbnRlbnRfYmxvY2spKSB7XG5cdFx0aWYgKGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwidXJsXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiBcImltYWdlX3VybFwiLFxuXHRcdFx0aW1hZ2VfdXJsOiB7IHVybDogY29udGVudF9ibG9jay51cmwgfVxuXHRcdH07XG5cdFx0aWYgKGNvbnRlbnRfYmxvY2suc291cmNlX3R5cGUgPT09IFwiYmFzZTY0XCIpIHtcblx0XHRcdGlmICghY29udGVudF9ibG9jay5taW1lX3R5cGUpIHRocm93IG5ldyBFcnJvcihcIm1pbWVfdHlwZSBrZXkgaXMgcmVxdWlyZWQgZm9yIGJhc2U2NCBkYXRhLlwiKTtcblx0XHRcdGNvbnN0IG1pbWVfdHlwZSA9IGNvbnRlbnRfYmxvY2subWltZV90eXBlO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdFx0aW1hZ2VfdXJsOiB7IHVybDogYGRhdGE6JHttaW1lX3R5cGV9O2Jhc2U2NCwke2NvbnRlbnRfYmxvY2suZGF0YX1gIH1cblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNvdXJjZSB0eXBlLiBPbmx5ICd1cmwnIGFuZCAnYmFzZTY0JyBhcmUgc3VwcG9ydGVkLlwiKTtcbn1cbi8qKlxuKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciBDaGF0TW9kZWxQcm92aWRlcnMuIFBhcnNlcyBhIG1pbWUgdHlwZSBpbnRvIGEgdHlwZSwgc3VidHlwZSwgYW5kIHBhcmFtZXRlcnMuXG4qXG4qIEBwYXJhbSBtaW1lX3R5cGUgLSBUaGUgbWltZSB0eXBlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdHlwZSwgc3VidHlwZSwgYW5kIHBhcmFtZXRlcnMuXG4qXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gcGFyc2VNaW1lVHlwZShtaW1lX3R5cGUpIHtcblx0Y29uc3QgcGFydHMgPSBtaW1lX3R5cGUuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiL1wiKTtcblx0aWYgKHBhcnRzLmxlbmd0aCAhPT0gMikgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIiAtIGRvZXMgbm90IG1hdGNoIHR5cGUvc3VidHlwZSBmb3JtYXQuYCk7XG5cdGNvbnN0IHR5cGUgPSBwYXJ0c1swXS50cmltKCk7XG5cdGNvbnN0IHN1YnR5cGUgPSBwYXJ0c1sxXS50cmltKCk7XG5cdGlmICh0eXBlID09PSBcIlwiIHx8IHN1YnR5cGUgPT09IFwiXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtaW1lIHR5cGU6IFwiJHttaW1lX3R5cGV9XCIgLSB0eXBlIG9yIHN1YnR5cGUgaXMgZW1wdHkuYCk7XG5cdGNvbnN0IHBhcmFtZXRlcnMgPSB7fTtcblx0Zm9yIChjb25zdCBwYXJhbWV0ZXJLdnAgb2YgbWltZV90eXBlLnNwbGl0KFwiO1wiKS5zbGljZSgxKSkge1xuXHRcdGNvbnN0IHBhcmFtZXRlclBhcnRzID0gcGFyYW1ldGVyS3ZwLnNwbGl0KFwiPVwiKTtcblx0XHRpZiAocGFyYW1ldGVyUGFydHMubGVuZ3RoICE9PSAyKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGFyYW1ldGVyIHN5bnRheCBpbiBtaW1lIHR5cGU6IFwiJHttaW1lX3R5cGV9XCIuYCk7XG5cdFx0Y29uc3Qga2V5ID0gcGFyYW1ldGVyUGFydHNbMF0udHJpbSgpO1xuXHRcdGNvbnN0IHZhbHVlID0gcGFyYW1ldGVyUGFydHNbMV0udHJpbSgpO1xuXHRcdGlmIChrZXkgPT09IFwiXCIpIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwYXJhbWV0ZXIgc3ludGF4IGluIG1pbWUgdHlwZTogXCIke21pbWVfdHlwZX1cIi5gKTtcblx0XHRwYXJhbWV0ZXJzW2tleV0gPSB2YWx1ZTtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHR5cGUsXG5cdFx0c3VidHlwZSxcblx0XHRwYXJhbWV0ZXJzXG5cdH07XG59XG4vKipcbiogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQ2hhdE1vZGVsUHJvdmlkZXJzLiBQYXJzZXMgYSBiYXNlNjQgZGF0YSBVUkwgaW50byBhIHR5cGVkIGFycmF5IG9yIHN0cmluZy5cbipcbiogQHBhcmFtIGRhdGFVcmwgLSBUaGUgYmFzZTY0IGRhdGEgVVJMIHRvIHBhcnNlLlxuKiBAcGFyYW0gYXNUeXBlZEFycmF5IC0gV2hldGhlciB0byByZXR1cm4gdGhlIGRhdGEgYXMgYSB0eXBlZCBhcnJheS5cbiogQHJldHVybnMgVGhlIHBhcnNlZCBkYXRhIGFuZCBtaW1lIHR5cGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgZGF0YSBVUkwgaXMgaW52YWxpZC5cbipcbiogQGRlcHJlY2F0ZWQgRG9uJ3QgdXNlIGRhdGEgY29udGVudCBibG9ja3MuIFVzZSB7QGxpbmsgQ29udGVudEJsb2NrLk11bHRpbW9kYWwuRGF0YX0gaW5zdGVhZC5cbiovXG5mdW5jdGlvbiBwYXJzZUJhc2U2NERhdGFVcmwoeyBkYXRhVXJsOiBkYXRhX3VybCwgYXNUeXBlZEFycmF5ID0gZmFsc2UgfSkge1xuXHRjb25zdCBmb3JtYXRNYXRjaCA9IGRhdGFfdXJsLm1hdGNoKC9eZGF0YTooXFx3K1xcL1xcdyspO2Jhc2U2NCwoW0EtWmEtejAtOSsvXSs9KikkLyk7XG5cdGxldCBtaW1lX3R5cGU7XG5cdGlmIChmb3JtYXRNYXRjaCkge1xuXHRcdG1pbWVfdHlwZSA9IGZvcm1hdE1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG5cdFx0Y29uc3QgZGF0YSA9IGFzVHlwZWRBcnJheSA/IFVpbnQ4QXJyYXkuZnJvbShhdG9iKGZvcm1hdE1hdGNoWzJdKSwgKGMpID0+IGMuY2hhckNvZGVBdCgwKSkgOiBmb3JtYXRNYXRjaFsyXTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWltZV90eXBlLFxuXHRcdFx0ZGF0YVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHZvaWQgMDtcbn1cbi8qKlxuKiBDb252ZXJ0IGZyb20gYSBzdGFuZGFyZCBkYXRhIGNvbnRlbnQgYmxvY2sgdG8gYSBwcm92aWRlcidzIHByb3ByaWV0YXJ5IGRhdGEgY29udGVudCBibG9jayBmb3JtYXQuXG4qXG4qIERvbid0IG92ZXJyaWRlIHRoaXMgbWV0aG9kLiBJbnN0ZWFkLCBvdmVycmlkZSB0aGUgbW9yZSBzcGVjaWZpYyBjb252ZXJzaW9uIG1ldGhvZHMgYW5kIHVzZSB0aGlzXG4qIG1ldGhvZCB1bm1vZGlmaWVkLlxuKlxuKiBAcGFyYW0gYmxvY2sgLSBUaGUgc3RhbmRhcmQgZGF0YSBjb250ZW50IGJsb2NrIHRvIGNvbnZlcnQuXG4qIEByZXR1cm5zIFRoZSBwcm92aWRlciBkYXRhIGNvbnRlbnQgYmxvY2suXG4qIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlIHN0YW5kYXJkIGRhdGEgY29udGVudCBibG9jayB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXG4qXG4qIEBkZXByZWNhdGVkIERvbid0IHVzZSBkYXRhIGNvbnRlbnQgYmxvY2tzLiBVc2Uge0BsaW5rIENvbnRlbnRCbG9jay5NdWx0aW1vZGFsLkRhdGF9IGluc3RlYWQuXG4qL1xuZnVuY3Rpb24gY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2soYmxvY2ssIGNvbnZlcnRlcikge1xuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcblx0XHRpZiAoIWNvbnZlcnRlci5mcm9tU3RhbmRhcmRUZXh0QmxvY2spIHRocm93IG5ldyBFcnJvcihgQ29udmVydGVyIGZvciAke2NvbnZlcnRlci5wcm92aWRlck5hbWV9IGRvZXMgbm90IGltcGxlbWVudCBcXGBmcm9tU3RhbmRhcmRUZXh0QmxvY2tcXGAgbWV0aG9kLmApO1xuXHRcdHJldHVybiBjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkVGV4dEJsb2NrKGJsb2NrKTtcblx0fVxuXHRpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG5cdFx0aWYgKCFjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkSW1hZ2VCbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZEltYWdlQmxvY2tcXGAgbWV0aG9kLmApO1xuXHRcdHJldHVybiBjb252ZXJ0ZXIuZnJvbVN0YW5kYXJkSW1hZ2VCbG9jayhibG9jayk7XG5cdH1cblx0aWYgKGJsb2NrLnR5cGUgPT09IFwiYXVkaW9cIikge1xuXHRcdGlmICghY29udmVydGVyLmZyb21TdGFuZGFyZEF1ZGlvQmxvY2spIHRocm93IG5ldyBFcnJvcihgQ29udmVydGVyIGZvciAke2NvbnZlcnRlci5wcm92aWRlck5hbWV9IGRvZXMgbm90IGltcGxlbWVudCBcXGBmcm9tU3RhbmRhcmRBdWRpb0Jsb2NrXFxgIG1ldGhvZC5gKTtcblx0XHRyZXR1cm4gY29udmVydGVyLmZyb21TdGFuZGFyZEF1ZGlvQmxvY2soYmxvY2spO1xuXHR9XG5cdGlmIChibG9jay50eXBlID09PSBcImZpbGVcIikge1xuXHRcdGlmICghY29udmVydGVyLmZyb21TdGFuZGFyZEZpbGVCbG9jaykgdGhyb3cgbmV3IEVycm9yKGBDb252ZXJ0ZXIgZm9yICR7Y29udmVydGVyLnByb3ZpZGVyTmFtZX0gZG9lcyBub3QgaW1wbGVtZW50IFxcYGZyb21TdGFuZGFyZEZpbGVCbG9ja1xcYCBtZXRob2QuYCk7XG5cdFx0cmV0dXJuIGNvbnZlcnRlci5mcm9tU3RhbmRhcmRGaWxlQmxvY2soYmxvY2spO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgY29udGVudCBibG9jayB0eXBlICcke2Jsb2NrLnR5cGV9JyB0byBwcm92aWRlci1zcGVjaWZpYyBmb3JtYXQ6IG5vdCByZWNvZ25pemVkLmApO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuY29udmVydFRvT3BlbkFJSW1hZ2VCbG9jayA9IGNvbnZlcnRUb09wZW5BSUltYWdlQmxvY2s7XG5leHBvcnRzLmNvbnZlcnRUb1Byb3ZpZGVyQ29udGVudEJsb2NrID0gY29udmVydFRvUHJvdmlkZXJDb250ZW50QmxvY2s7XG5leHBvcnRzLmlzQmFzZTY0Q29udGVudEJsb2NrID0gaXNCYXNlNjRDb250ZW50QmxvY2s7XG5leHBvcnRzLmlzRGF0YUNvbnRlbnRCbG9jayA9IGlzRGF0YUNvbnRlbnRCbG9jaztcbmV4cG9ydHMuaXNJRENvbnRlbnRCbG9jayA9IGlzSURDb250ZW50QmxvY2s7XG5leHBvcnRzLmlzUGxhaW5UZXh0Q29udGVudEJsb2NrID0gaXNQbGFpblRleHRDb250ZW50QmxvY2s7XG5leHBvcnRzLmlzVVJMQ29udGVudEJsb2NrID0gaXNVUkxDb250ZW50QmxvY2s7XG5leHBvcnRzLnBhcnNlQmFzZTY0RGF0YVVybCA9IHBhcnNlQmFzZTY0RGF0YVVybDtcbmV4cG9ydHMucGFyc2VNaW1lVHlwZSA9IHBhcnNlTWltZVR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/content/data.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/format.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/format.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/messages/format.ts\nfunction convertToFormattedString(message, format = \"pretty\") {\n\tif (format === \"pretty\") return convertToPrettyString(message);\n\treturn JSON.stringify(message);\n}\nfunction convertToPrettyString(message) {\n\tconst lines = [];\n\tconst title = ` ${message.type.charAt(0).toUpperCase() + message.type.slice(1)} Message `;\n\tconst sepLen = Math.floor((80 - title.length) / 2);\n\tconst sep = \"=\".repeat(sepLen);\n\tconst secondSep = title.length % 2 === 0 ? sep : `${sep}=`;\n\tlines.push(`${sep}${title}${secondSep}`);\n\tif (message.type === \"ai\") {\n\t\tconst aiMessage = message;\n\t\tif (aiMessage.tool_calls && aiMessage.tool_calls.length > 0) {\n\t\t\tlines.push(\"Tool Calls:\");\n\t\t\tfor (const tc of aiMessage.tool_calls) {\n\t\t\t\tlines.push(`  ${tc.name} (${tc.id})`);\n\t\t\t\tlines.push(` Call ID: ${tc.id}`);\n\t\t\t\tlines.push(\"  Args:\");\n\t\t\t\tfor (const [key, value] of Object.entries(tc.args)) lines.push(`    ${key}: ${typeof value === \"object\" ? JSON.stringify(value) : value}`);\n\t\t\t}\n\t\t}\n\t}\n\tif (message.type === \"tool\") {\n\t\tconst toolMessage = message;\n\t\tif (toolMessage.name) lines.push(`Name: ${toolMessage.name}`);\n\t}\n\tif (typeof message.content === \"string\" && message.content.trim()) {\n\t\tif (lines.length > 1) lines.push(\"\");\n\t\tlines.push(message.content);\n\t}\n\treturn lines.join(\"\\n\");\n}\n\n//#endregion\nexports.convertToFormattedString = convertToFormattedString;\n//# sourceMappingURL=format.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9mb3JtYXQuY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4REFBOEQ7QUFDakY7QUFDQTtBQUNBLHFEQUFxRCxJQUFJO0FBQ3pELGVBQWUsSUFBSSxFQUFFLE1BQU0sRUFBRSxVQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUyxHQUFHLE1BQU07QUFDdEMsNEJBQTRCLE1BQU07QUFDbEM7QUFDQSwwRUFBMEUsSUFBSSxJQUFJLDBEQUEwRDtBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGlCQUFpQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvZm9ybWF0LmNqcz9kMWMyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9mb3JtYXQudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb0Zvcm1hdHRlZFN0cmluZyhtZXNzYWdlLCBmb3JtYXQgPSBcInByZXR0eVwiKSB7XG5cdGlmIChmb3JtYXQgPT09IFwicHJldHR5XCIpIHJldHVybiBjb252ZXJ0VG9QcmV0dHlTdHJpbmcobWVzc2FnZSk7XG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1ByZXR0eVN0cmluZyhtZXNzYWdlKSB7XG5cdGNvbnN0IGxpbmVzID0gW107XG5cdGNvbnN0IHRpdGxlID0gYCAke21lc3NhZ2UudHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1lc3NhZ2UudHlwZS5zbGljZSgxKX0gTWVzc2FnZSBgO1xuXHRjb25zdCBzZXBMZW4gPSBNYXRoLmZsb29yKCg4MCAtIHRpdGxlLmxlbmd0aCkgLyAyKTtcblx0Y29uc3Qgc2VwID0gXCI9XCIucmVwZWF0KHNlcExlbik7XG5cdGNvbnN0IHNlY29uZFNlcCA9IHRpdGxlLmxlbmd0aCAlIDIgPT09IDAgPyBzZXAgOiBgJHtzZXB9PWA7XG5cdGxpbmVzLnB1c2goYCR7c2VwfSR7dGl0bGV9JHtzZWNvbmRTZXB9YCk7XG5cdGlmIChtZXNzYWdlLnR5cGUgPT09IFwiYWlcIikge1xuXHRcdGNvbnN0IGFpTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0aWYgKGFpTWVzc2FnZS50b29sX2NhbGxzICYmIGFpTWVzc2FnZS50b29sX2NhbGxzLmxlbmd0aCA+IDApIHtcblx0XHRcdGxpbmVzLnB1c2goXCJUb29sIENhbGxzOlwiKTtcblx0XHRcdGZvciAoY29uc3QgdGMgb2YgYWlNZXNzYWdlLnRvb2xfY2FsbHMpIHtcblx0XHRcdFx0bGluZXMucHVzaChgICAke3RjLm5hbWV9ICgke3RjLmlkfSlgKTtcblx0XHRcdFx0bGluZXMucHVzaChgIENhbGwgSUQ6ICR7dGMuaWR9YCk7XG5cdFx0XHRcdGxpbmVzLnB1c2goXCIgIEFyZ3M6XCIpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0Yy5hcmdzKSkgbGluZXMucHVzaChgICAgICR7a2V5fTogJHt0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZX1gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJ0b29sXCIpIHtcblx0XHRjb25zdCB0b29sTWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0aWYgKHRvb2xNZXNzYWdlLm5hbWUpIGxpbmVzLnB1c2goYE5hbWU6ICR7dG9vbE1lc3NhZ2UubmFtZX1gKTtcblx0fVxuXHRpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiAmJiBtZXNzYWdlLmNvbnRlbnQudHJpbSgpKSB7XG5cdFx0aWYgKGxpbmVzLmxlbmd0aCA+IDEpIGxpbmVzLnB1c2goXCJcIik7XG5cdFx0bGluZXMucHVzaChtZXNzYWdlLmNvbnRlbnQpO1xuXHR9XG5cdHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuY29udmVydFRvRm9ybWF0dGVkU3RyaW5nID0gY29udmVydFRvRm9ybWF0dGVkU3RyaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/format.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/function.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/function.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/function.ts\n/**\n* Represents a function message in a conversation.\n*/\nvar FunctionMessage = class extends require_base.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessage\";\n\t}\n\ttype = \"function\";\n\tname;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t}\n};\n/**\n* Represents a chunk of a function message, which can be concatenated\n* with other function message chunks.\n*/\nvar FunctionMessageChunk = class extends require_base.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"FunctionMessageChunk\";\n\t}\n\ttype = \"function\";\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_base._mergeDicts(this.response_metadata, chunk.response_metadata),\n\t\t\tname: this.name ?? \"\",\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n};\nfunction isFunctionMessage(x) {\n\treturn x._getType() === \"function\";\n}\nfunction isFunctionMessageChunk(x) {\n\treturn x._getType() === \"function\";\n}\n\n//#endregion\nexports.FunctionMessage = FunctionMessage;\nexports.FunctionMessageChunk = FunctionMessageChunk;\nexports.isFunctionMessage = isFunctionMessage;\nexports.isFunctionMessageChunk = isFunctionMessageChunk;\n//# sourceMappingURL=function.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9mdW5jdGlvbi5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIseUJBQXlCO0FBQ3pCLDhCQUE4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvZnVuY3Rpb24uY2pzP2ViMGUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9iYXNlID0gcmVxdWlyZSgnLi9iYXNlLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2Z1bmN0aW9uLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIGZ1bmN0aW9uIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIEZ1bmN0aW9uTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiRnVuY3Rpb25NZXNzYWdlXCI7XG5cdH1cblx0dHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0bmFtZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSBmdW5jdGlvbiBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkXG4qIHdpdGggb3RoZXIgZnVuY3Rpb24gbWVzc2FnZSBjaHVua3MuXG4qL1xudmFyIEZ1bmN0aW9uTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2Jhc2UuQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0dHlwZSA9IFwiZnVuY3Rpb25cIjtcblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiByZXF1aXJlX2Jhc2UubWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogcmVxdWlyZV9iYXNlLl9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lID8/IFwiXCIsXG5cdFx0XHRpZDogdGhpcy5pZCA/PyBjaHVuay5pZFxuXHRcdH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gaXNGdW5jdGlvbk1lc3NhZ2UoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBpc0Z1bmN0aW9uTWVzc2FnZUNodW5rKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuRnVuY3Rpb25NZXNzYWdlID0gRnVuY3Rpb25NZXNzYWdlO1xuZXhwb3J0cy5GdW5jdGlvbk1lc3NhZ2VDaHVuayA9IEZ1bmN0aW9uTWVzc2FnZUNodW5rO1xuZXhwb3J0cy5pc0Z1bmN0aW9uTWVzc2FnZSA9IGlzRnVuY3Rpb25NZXNzYWdlO1xuZXhwb3J0cy5pc0Z1bmN0aW9uTWVzc2FnZUNodW5rID0gaXNGdW5jdGlvbk1lc3NhZ2VDaHVuaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bmN0aW9uLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/function.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/human.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/human.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/human.ts\n/**\n* Represents a human message in a conversation.\n*/\nvar HumanMessage = class extends require_base.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"HumanMessage\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* Represents a chunk of a human message, which can be concatenated with\n* other human message chunks.\n*/\nvar HumanMessageChunk = class extends require_base.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"HumanMessageChunk\";\n\t}\n\ttype = \"human\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_base._mergeDicts(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"human\";\n\t}\n};\n/**\n* @deprecated Use {@link HumanMessage.isInstance} instead\n*/\nfunction isHumanMessage(x) {\n\treturn x.getType() === \"human\";\n}\n/**\n* @deprecated Use {@link HumanMessageChunk.isInstance} instead\n*/\nfunction isHumanMessageChunk(x) {\n\treturn x.getType() === \"human\";\n}\n\n//#endregion\nexports.HumanMessage = HumanMessage;\nexports.HumanMessageChunk = HumanMessageChunk;\nexports.isHumanMessage = isHumanMessage;\nexports.isHumanMessageChunk = isHumanMessageChunk;\n//# sourceMappingURL=human.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9odW1hbi5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtCQUErQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9DQUFvQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQix5QkFBeUI7QUFDekIsc0JBQXNCO0FBQ3RCLDJCQUEyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvaHVtYW4uY2pzP2ZjYTMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9iYXNlID0gcmVxdWlyZSgnLi9iYXNlLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL2h1bWFuLnRzXG4vKipcbiogUmVwcmVzZW50cyBhIGh1bWFuIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIEh1bWFuTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSHVtYW5NZXNzYWdlXCI7XG5cdH1cblx0dHlwZSA9IFwiaHVtYW5cIjtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcImh1bWFuXCI7XG5cdH1cbn07XG4vKipcbiogUmVwcmVzZW50cyBhIGNodW5rIG9mIGEgaHVtYW4gbWVzc2FnZSwgd2hpY2ggY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoXG4qIG90aGVyIGh1bWFuIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBIdW1hbk1lc3NhZ2VDaHVuayA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlQ2h1bmsge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJIdW1hbk1lc3NhZ2VDaHVua1wiO1xuXHR9XG5cdHR5cGUgPSBcImh1bWFuXCI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiByZXF1aXJlX2Jhc2UubWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogcmVxdWlyZV9iYXNlLl9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcImh1bWFuXCI7XG5cdH1cbn07XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBIdW1hbk1lc3NhZ2UuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzSHVtYW5NZXNzYWdlKHgpIHtcblx0cmV0dXJuIHguZ2V0VHlwZSgpID09PSBcImh1bWFuXCI7XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBIdW1hbk1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNIdW1hbk1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4LmdldFR5cGUoKSA9PT0gXCJodW1hblwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuSHVtYW5NZXNzYWdlID0gSHVtYW5NZXNzYWdlO1xuZXhwb3J0cy5IdW1hbk1lc3NhZ2VDaHVuayA9IEh1bWFuTWVzc2FnZUNodW5rO1xuZXhwb3J0cy5pc0h1bWFuTWVzc2FnZSA9IGlzSHVtYW5NZXNzYWdlO1xuZXhwb3J0cy5pc0h1bWFuTWVzc2FnZUNodW5rID0gaXNIdW1hbk1lc3NhZ2VDaHVuaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh1bWFuLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/human.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/message.cjs":
/*!****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/message.cjs ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/messages/message.ts\n/**\n* Type guard to check if a value is a valid Message object.\n*\n* @param message - The value to check\n* @returns true if the value is a valid Message object, false otherwise\n*/\nfunction isMessage(message) {\n\treturn typeof message === \"object\" && message !== null && \"type\" in message && \"content\" in message && (typeof message.content === \"string\" || Array.isArray(message.content));\n}\n\n//#endregion\nexports.isMessage = isMessage;\n//# sourceMappingURL=message.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tZXNzYWdlLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21lc3NhZ2UuY2pzPzQ1MDgiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL21lc3NhZ2UudHNcbi8qKlxuKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBNZXNzYWdlIG9iamVjdC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgdmFsdWUgdG8gY2hlY2tcbiogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSB2YWxpZCBNZXNzYWdlIG9iamVjdCwgZmFsc2Ugb3RoZXJ3aXNlXG4qL1xuZnVuY3Rpb24gaXNNZXNzYWdlKG1lc3NhZ2UpIHtcblx0cmV0dXJuIHR5cGVvZiBtZXNzYWdlID09PSBcIm9iamVjdFwiICYmIG1lc3NhZ2UgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gbWVzc2FnZSAmJiBcImNvbnRlbnRcIiBpbiBtZXNzYWdlICYmICh0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5pc01lc3NhZ2UgPSBpc01lc3NhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/message.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/metadata.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/metadata.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/metadata.ts\nfunction mergeResponseMetadata(a, b) {\n\tconst output = require_base._mergeDicts(a, b) ?? {};\n\treturn output;\n}\nfunction mergeModalitiesTokenDetails(a, b) {\n\tconst output = {};\n\tif (a?.audio !== void 0 || b?.audio !== void 0) output.audio = (a?.audio ?? 0) + (b?.audio ?? 0);\n\tif (a?.image !== void 0 || b?.image !== void 0) output.image = (a?.image ?? 0) + (b?.image ?? 0);\n\tif (a?.video !== void 0 || b?.video !== void 0) output.video = (a?.video ?? 0) + (b?.video ?? 0);\n\tif (a?.document !== void 0 || b?.document !== void 0) output.document = (a?.document ?? 0) + (b?.document ?? 0);\n\tif (a?.text !== void 0 || b?.text !== void 0) output.text = (a?.text ?? 0) + (b?.text ?? 0);\n\treturn output;\n}\nfunction mergeInputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.cache_read !== void 0 || b?.cache_read !== void 0) output.cache_read = (a?.cache_read ?? 0) + (b?.cache_read ?? 0);\n\tif (a?.cache_creation !== void 0 || b?.cache_creation !== void 0) output.cache_creation = (a?.cache_creation ?? 0) + (b?.cache_creation ?? 0);\n\treturn output;\n}\nfunction mergeOutputTokenDetails(a, b) {\n\tconst output = { ...mergeModalitiesTokenDetails(a, b) };\n\tif (a?.reasoning !== void 0 || b?.reasoning !== void 0) output.reasoning = (a?.reasoning ?? 0) + (b?.reasoning ?? 0);\n\treturn output;\n}\nfunction mergeUsageMetadata(a, b) {\n\treturn {\n\t\tinput_tokens: (a?.input_tokens ?? 0) + (b?.input_tokens ?? 0),\n\t\toutput_tokens: (a?.output_tokens ?? 0) + (b?.output_tokens ?? 0),\n\t\ttotal_tokens: (a?.total_tokens ?? 0) + (b?.total_tokens ?? 0),\n\t\tinput_token_details: mergeInputTokenDetails(a?.input_token_details, b?.input_token_details),\n\t\toutput_token_details: mergeOutputTokenDetails(a?.output_token_details, b?.output_token_details)\n\t};\n}\n\n//#endregion\nexports.mergeResponseMetadata = mergeResponseMetadata;\nexports.mergeUsageMetadata = mergeUsageMetadata;\n//# sourceMappingURL=metadata.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tZXRhZGF0YS5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZCQUE2QjtBQUM3QiwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL21ldGFkYXRhLmNqcz9kM2IxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9tZXRhZGF0YS50c1xuZnVuY3Rpb24gbWVyZ2VSZXNwb25zZU1ldGFkYXRhKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0gcmVxdWlyZV9iYXNlLl9tZXJnZURpY3RzKGEsIGIpID8/IHt9O1xuXHRyZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gbWVyZ2VNb2RhbGl0aWVzVG9rZW5EZXRhaWxzKGEsIGIpIHtcblx0Y29uc3Qgb3V0cHV0ID0ge307XG5cdGlmIChhPy5hdWRpbyAhPT0gdm9pZCAwIHx8IGI/LmF1ZGlvICE9PSB2b2lkIDApIG91dHB1dC5hdWRpbyA9IChhPy5hdWRpbyA/PyAwKSArIChiPy5hdWRpbyA/PyAwKTtcblx0aWYgKGE/LmltYWdlICE9PSB2b2lkIDAgfHwgYj8uaW1hZ2UgIT09IHZvaWQgMCkgb3V0cHV0LmltYWdlID0gKGE/LmltYWdlID8/IDApICsgKGI/LmltYWdlID8/IDApO1xuXHRpZiAoYT8udmlkZW8gIT09IHZvaWQgMCB8fCBiPy52aWRlbyAhPT0gdm9pZCAwKSBvdXRwdXQudmlkZW8gPSAoYT8udmlkZW8gPz8gMCkgKyAoYj8udmlkZW8gPz8gMCk7XG5cdGlmIChhPy5kb2N1bWVudCAhPT0gdm9pZCAwIHx8IGI/LmRvY3VtZW50ICE9PSB2b2lkIDApIG91dHB1dC5kb2N1bWVudCA9IChhPy5kb2N1bWVudCA/PyAwKSArIChiPy5kb2N1bWVudCA/PyAwKTtcblx0aWYgKGE/LnRleHQgIT09IHZvaWQgMCB8fCBiPy50ZXh0ICE9PSB2b2lkIDApIG91dHB1dC50ZXh0ID0gKGE/LnRleHQgPz8gMCkgKyAoYj8udGV4dCA/PyAwKTtcblx0cmV0dXJuIG91dHB1dDtcbn1cbmZ1bmN0aW9uIG1lcmdlSW5wdXRUb2tlbkRldGFpbHMoYSwgYikge1xuXHRjb25zdCBvdXRwdXQgPSB7IC4uLm1lcmdlTW9kYWxpdGllc1Rva2VuRGV0YWlscyhhLCBiKSB9O1xuXHRpZiAoYT8uY2FjaGVfcmVhZCAhPT0gdm9pZCAwIHx8IGI/LmNhY2hlX3JlYWQgIT09IHZvaWQgMCkgb3V0cHV0LmNhY2hlX3JlYWQgPSAoYT8uY2FjaGVfcmVhZCA/PyAwKSArIChiPy5jYWNoZV9yZWFkID8/IDApO1xuXHRpZiAoYT8uY2FjaGVfY3JlYXRpb24gIT09IHZvaWQgMCB8fCBiPy5jYWNoZV9jcmVhdGlvbiAhPT0gdm9pZCAwKSBvdXRwdXQuY2FjaGVfY3JlYXRpb24gPSAoYT8uY2FjaGVfY3JlYXRpb24gPz8gMCkgKyAoYj8uY2FjaGVfY3JlYXRpb24gPz8gMCk7XG5cdHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBtZXJnZU91dHB1dFRva2VuRGV0YWlscyhhLCBiKSB7XG5cdGNvbnN0IG91dHB1dCA9IHsgLi4ubWVyZ2VNb2RhbGl0aWVzVG9rZW5EZXRhaWxzKGEsIGIpIH07XG5cdGlmIChhPy5yZWFzb25pbmcgIT09IHZvaWQgMCB8fCBiPy5yZWFzb25pbmcgIT09IHZvaWQgMCkgb3V0cHV0LnJlYXNvbmluZyA9IChhPy5yZWFzb25pbmcgPz8gMCkgKyAoYj8ucmVhc29uaW5nID8/IDApO1xuXHRyZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gbWVyZ2VVc2FnZU1ldGFkYXRhKGEsIGIpIHtcblx0cmV0dXJuIHtcblx0XHRpbnB1dF90b2tlbnM6IChhPy5pbnB1dF90b2tlbnMgPz8gMCkgKyAoYj8uaW5wdXRfdG9rZW5zID8/IDApLFxuXHRcdG91dHB1dF90b2tlbnM6IChhPy5vdXRwdXRfdG9rZW5zID8/IDApICsgKGI/Lm91dHB1dF90b2tlbnMgPz8gMCksXG5cdFx0dG90YWxfdG9rZW5zOiAoYT8udG90YWxfdG9rZW5zID8/IDApICsgKGI/LnRvdGFsX3Rva2VucyA/PyAwKSxcblx0XHRpbnB1dF90b2tlbl9kZXRhaWxzOiBtZXJnZUlucHV0VG9rZW5EZXRhaWxzKGE/LmlucHV0X3Rva2VuX2RldGFpbHMsIGI/LmlucHV0X3Rva2VuX2RldGFpbHMpLFxuXHRcdG91dHB1dF90b2tlbl9kZXRhaWxzOiBtZXJnZU91dHB1dFRva2VuRGV0YWlscyhhPy5vdXRwdXRfdG9rZW5fZGV0YWlscywgYj8ub3V0cHV0X3Rva2VuX2RldGFpbHMpXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5tZXJnZVJlc3BvbnNlTWV0YWRhdGEgPSBtZXJnZVJlc3BvbnNlTWV0YWRhdGE7XG5leHBvcnRzLm1lcmdlVXNhZ2VNZXRhZGF0YSA9IG1lcmdlVXNhZ2VNZXRhZGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFkYXRhLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/metadata.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/modifier.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/modifier.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/modifier.ts\n/**\n* Message responsible for deleting other messages.\n*/\nvar RemoveMessage = class extends require_base.BaseMessage {\n\ttype = \"remove\";\n\t/**\n\t* The ID of the message to remove.\n\t*/\n\tid;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tcontent: []\n\t\t});\n\t\tthis.id = fields.id;\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\tid: this.id\n\t\t};\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"remove\";\n\t}\n};\n\n//#endregion\nexports.RemoveMessage = RemoveMessage;\n//# sourceMappingURL=modifier.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tb2RpZmllci5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9tb2RpZmllci5janM/YzcyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvbW9kaWZpZXIudHNcbi8qKlxuKiBNZXNzYWdlIHJlc3BvbnNpYmxlIGZvciBkZWxldGluZyBvdGhlciBtZXNzYWdlcy5cbiovXG52YXIgUmVtb3ZlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0dHlwZSA9IFwicmVtb3ZlXCI7XG5cdC8qKlxuXHQqIFRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0byByZW1vdmUuXG5cdCovXG5cdGlkO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcih7XG5cdFx0XHQuLi5maWVsZHMsXG5cdFx0XHRjb250ZW50OiBbXVxuXHRcdH0pO1xuXHRcdHRoaXMuaWQgPSBmaWVsZHMuaWQ7XG5cdH1cblx0Z2V0IF9wcmludGFibGVGaWVsZHMoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN1cGVyLl9wcmludGFibGVGaWVsZHMsXG5cdFx0XHRpZDogdGhpcy5pZFxuXHRcdH07XG5cdH1cblx0c3RhdGljIGlzSW5zdGFuY2Uob2JqKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmlzSW5zdGFuY2Uob2JqKSAmJiBvYmoudHlwZSA9PT0gXCJyZW1vdmVcIjtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLlJlbW92ZU1lc3NhZ2UgPSBSZW1vdmVNZXNzYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kaWZpZXIuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/modifier.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/system.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/system.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/system.ts\n/**\n* Represents a system message in a conversation.\n*/\nvar SystemMessage = class SystemMessage extends require_base.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"SystemMessage\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\t/**\n\t* Concatenates a string or another system message with the current system message.\n\t* @param chunk - The chunk to concatenate with the system message.\n\t* @returns A new system message with the concatenated content.\n\t*/\n\tconcat(chunk) {\n\t\tif (typeof chunk === \"string\") return new SystemMessage({\n\t\t\t...this,\n\t\t\tcontent: require_base.mergeContent(this.content, chunk)\n\t\t});\n\t\tif (SystemMessage.isInstance(chunk)) return new SystemMessage({\n\t\t\t...this,\n\t\t\tadditional_kwargs: {\n\t\t\t\t...this.additional_kwargs,\n\t\t\t\t...chunk.additional_kwargs\n\t\t\t},\n\t\t\tresponse_metadata: {\n\t\t\t\t...this.response_metadata,\n\t\t\t\t...chunk.response_metadata\n\t\t\t},\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content)\n\t\t});\n\t\tthrow new Error(\"Unexpected chunk type for system message\");\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* Represents a chunk of a system message, which can be concatenated with\n* other system message chunks.\n*/\nvar SystemMessageChunk = class extends require_base.BaseMessageChunk {\n\tstatic lc_name() {\n\t\treturn \"SystemMessageChunk\";\n\t}\n\ttype = \"system\";\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_base._mergeDicts(this.response_metadata, chunk.response_metadata),\n\t\t\tid: this.id ?? chunk.id\n\t\t});\n\t}\n\tstatic isInstance(obj) {\n\t\treturn super.isInstance(obj) && obj.type === \"system\";\n\t}\n};\n/**\n* @deprecated Use {@link SystemMessage.isInstance} instead\n*/\nfunction isSystemMessage(x) {\n\treturn x._getType() === \"system\";\n}\n/**\n* @deprecated Use {@link SystemMessageChunk.isInstance} instead\n*/\nfunction isSystemMessageChunk(x) {\n\treturn x._getType() === \"system\";\n}\n\n//#endregion\nexports.SystemMessage = SystemMessage;\nexports.SystemMessageChunk = SystemMessageChunk;\nexports.isSystemMessage = isSystemMessage;\nexports.isSystemMessageChunk = isSystemMessageChunk;\n//# sourceMappingURL=system.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy9zeXN0ZW0uY2pzIiwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQixtQkFBTyxDQUFDLDBGQUFZOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFDQUFxQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQiwwQkFBMEI7QUFDMUIsdUJBQXVCO0FBQ3ZCLDRCQUE0QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvbWVzc2FnZXMvc3lzdGVtLmNqcz81Mjg0Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9tZXNzYWdlcy9zeXN0ZW0udHNcbi8qKlxuKiBSZXByZXNlbnRzIGEgc3lzdGVtIG1lc3NhZ2UgaW4gYSBjb252ZXJzYXRpb24uXG4qL1xudmFyIFN5c3RlbU1lc3NhZ2UgPSBjbGFzcyBTeXN0ZW1NZXNzYWdlIGV4dGVuZHMgcmVxdWlyZV9iYXNlLkJhc2VNZXNzYWdlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiU3lzdGVtTWVzc2FnZVwiO1xuXHR9XG5cdHR5cGUgPSBcInN5c3RlbVwiO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHR9XG5cdC8qKlxuXHQqIENvbmNhdGVuYXRlcyBhIHN0cmluZyBvciBhbm90aGVyIHN5c3RlbSBtZXNzYWdlIHdpdGggdGhlIGN1cnJlbnQgc3lzdGVtIG1lc3NhZ2UuXG5cdCogQHBhcmFtIGNodW5rIC0gVGhlIGNodW5rIHRvIGNvbmNhdGVuYXRlIHdpdGggdGhlIHN5c3RlbSBtZXNzYWdlLlxuXHQqIEByZXR1cm5zIEEgbmV3IHN5c3RlbSBtZXNzYWdlIHdpdGggdGhlIGNvbmNhdGVuYXRlZCBjb250ZW50LlxuXHQqL1xuXHRjb25jYXQoY2h1bmspIHtcblx0XHRpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IFN5c3RlbU1lc3NhZ2Uoe1xuXHRcdFx0Li4udGhpcyxcblx0XHRcdGNvbnRlbnQ6IHJlcXVpcmVfYmFzZS5tZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuaylcblx0XHR9KTtcblx0XHRpZiAoU3lzdGVtTWVzc2FnZS5pc0luc3RhbmNlKGNodW5rKSkgcmV0dXJuIG5ldyBTeXN0ZW1NZXNzYWdlKHtcblx0XHRcdC4uLnRoaXMsXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczoge1xuXHRcdFx0XHQuLi50aGlzLmFkZGl0aW9uYWxfa3dhcmdzLFxuXHRcdFx0XHQuLi5jaHVuay5hZGRpdGlvbmFsX2t3YXJnc1xuXHRcdFx0fSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiB7XG5cdFx0XHRcdC4uLnRoaXMucmVzcG9uc2VfbWV0YWRhdGEsXG5cdFx0XHRcdC4uLmNodW5rLnJlc3BvbnNlX21ldGFkYXRhXG5cdFx0XHR9LFxuXHRcdFx0Y29udGVudDogcmVxdWlyZV9iYXNlLm1lcmdlQ29udGVudCh0aGlzLmNvbnRlbnQsIGNodW5rLmNvbnRlbnQpXG5cdFx0fSk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBjaHVuayB0eXBlIGZvciBzeXN0ZW0gbWVzc2FnZVwiKTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcInN5c3RlbVwiO1xuXHR9XG59O1xuLyoqXG4qIFJlcHJlc2VudHMgYSBjaHVuayBvZiBhIHN5c3RlbSBtZXNzYWdlLCB3aGljaCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGhcbiogb3RoZXIgc3lzdGVtIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBTeXN0ZW1NZXNzYWdlQ2h1bmsgPSBjbGFzcyBleHRlbmRzIHJlcXVpcmVfYmFzZS5CYXNlTWVzc2FnZUNodW5rIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiU3lzdGVtTWVzc2FnZUNodW5rXCI7XG5cdH1cblx0dHlwZSA9IFwic3lzdGVtXCI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdH1cblx0Y29uY2F0KGNodW5rKSB7XG5cdFx0Y29uc3QgQ2xzID0gdGhpcy5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gbmV3IENscyh7XG5cdFx0XHRjb250ZW50OiByZXF1aXJlX2Jhc2UubWVyZ2VDb250ZW50KHRoaXMuY29udGVudCwgY2h1bmsuY29udGVudCksXG5cdFx0XHRhZGRpdGlvbmFsX2t3YXJnczogcmVxdWlyZV9iYXNlLl9tZXJnZURpY3RzKHRoaXMuYWRkaXRpb25hbF9rd2FyZ3MsIGNodW5rLmFkZGl0aW9uYWxfa3dhcmdzKSxcblx0XHRcdHJlc3BvbnNlX21ldGFkYXRhOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5yZXNwb25zZV9tZXRhZGF0YSwgY2h1bmsucmVzcG9uc2VfbWV0YWRhdGEpLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgaXNJbnN0YW5jZShvYmopIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShvYmopICYmIG9iai50eXBlID09PSBcInN5c3RlbVwiO1xuXHR9XG59O1xuLyoqXG4qIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgU3lzdGVtTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNTeXN0ZW1NZXNzYWdlKHgpIHtcblx0cmV0dXJuIHguX2dldFR5cGUoKSA9PT0gXCJzeXN0ZW1cIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFN5c3RlbU1lc3NhZ2VDaHVuay5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNTeXN0ZW1NZXNzYWdlQ2h1bmsoeCkge1xuXHRyZXR1cm4geC5fZ2V0VHlwZSgpID09PSBcInN5c3RlbVwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuU3lzdGVtTWVzc2FnZSA9IFN5c3RlbU1lc3NhZ2U7XG5leHBvcnRzLlN5c3RlbU1lc3NhZ2VDaHVuayA9IFN5c3RlbU1lc3NhZ2VDaHVuaztcbmV4cG9ydHMuaXNTeXN0ZW1NZXNzYWdlID0gaXNTeXN0ZW1NZXNzYWdlO1xuZXhwb3J0cy5pc1N5c3RlbU1lc3NhZ2VDaHVuayA9IGlzU3lzdGVtTWVzc2FnZUNodW5rO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3lzdGVtLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/system.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/tool.cjs":
/*!*************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/tool.cjs ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\n\n//#region src/messages/tool.ts\nvar tool_exports = {};\nrequire_rolldown_runtime.__export(tool_exports, {\n\tToolMessage: () => ToolMessage,\n\tToolMessageChunk: () => ToolMessageChunk,\n\tdefaultToolCallParser: () => defaultToolCallParser,\n\tisDirectToolOutput: () => isDirectToolOutput,\n\tisToolMessage: () => isToolMessage,\n\tisToolMessageChunk: () => isToolMessageChunk\n});\nfunction isDirectToolOutput(x) {\n\treturn x != null && typeof x === \"object\" && \"lc_direct_tool_output\" in x && x.lc_direct_tool_output === true;\n}\n/**\n* Represents a tool message in a conversation.\n*/\nvar ToolMessage = class extends require_base.BaseMessage {\n\tstatic lc_name() {\n\t\treturn \"ToolMessage\";\n\t}\n\tget lc_aliases() {\n\t\treturn { tool_call_id: \"tool_call_id\" };\n\t}\n\tlc_direct_tool_output = true;\n\ttype = \"tool\";\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\ttool_call_id;\n\tmetadata;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields, tool_call_id, name) {\n\t\tconst toolMessageFields = typeof fields === \"string\" || Array.isArray(fields) ? {\n\t\t\tcontent: fields,\n\t\t\tname,\n\t\t\ttool_call_id\n\t\t} : fields;\n\t\tsuper(toolMessageFields);\n\t\tthis.tool_call_id = toolMessageFields.tool_call_id;\n\t\tthis.artifact = toolMessageFields.artifact;\n\t\tthis.status = toolMessageFields.status;\n\t\tthis.metadata = toolMessageFields.metadata;\n\t}\n\tstatic isInstance(message) {\n\t\treturn super.isInstance(message) && message.type === \"tool\";\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\n/**\n* Represents a chunk of a tool message, which can be concatenated\n* with other tool message chunks.\n*/\nvar ToolMessageChunk = class extends require_base.BaseMessageChunk {\n\ttype = \"tool\";\n\ttool_call_id;\n\t/**\n\t* Status of the tool invocation.\n\t* @version 0.2.19\n\t*/\n\tstatus;\n\t/**\n\t* Artifact of the Tool execution which is not meant to be sent to the model.\n\t*\n\t* Should only be specified if it is different from the message content, e.g. if only\n\t* a subset of the full tool output is being passed as message content but the full\n\t* output is needed in other parts of the code.\n\t*/\n\tartifact;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.tool_call_id = fields.tool_call_id;\n\t\tthis.artifact = fields.artifact;\n\t\tthis.status = fields.status;\n\t}\n\tstatic lc_name() {\n\t\treturn \"ToolMessageChunk\";\n\t}\n\tconcat(chunk) {\n\t\tconst Cls = this.constructor;\n\t\treturn new Cls({\n\t\t\tcontent: require_base.mergeContent(this.content, chunk.content),\n\t\t\tadditional_kwargs: require_base._mergeDicts(this.additional_kwargs, chunk.additional_kwargs),\n\t\t\tresponse_metadata: require_base._mergeDicts(this.response_metadata, chunk.response_metadata),\n\t\t\tartifact: require_base._mergeObj(this.artifact, chunk.artifact),\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tid: this.id ?? chunk.id,\n\t\t\tstatus: require_base._mergeStatus(this.status, chunk.status)\n\t\t});\n\t}\n\tget _printableFields() {\n\t\treturn {\n\t\t\t...super._printableFields,\n\t\t\ttool_call_id: this.tool_call_id,\n\t\t\tartifact: this.artifact\n\t\t};\n\t}\n};\nfunction defaultToolCallParser(rawToolCalls) {\n\tconst toolCalls = [];\n\tconst invalidToolCalls = [];\n\tfor (const toolCall of rawToolCalls) if (!toolCall.function) continue;\n\telse {\n\t\tconst functionName = toolCall.function.name;\n\t\ttry {\n\t\t\tconst functionArgs = JSON.parse(toolCall.function.arguments);\n\t\t\ttoolCalls.push({\n\t\t\t\tname: functionName || \"\",\n\t\t\t\targs: functionArgs || {},\n\t\t\t\tid: toolCall.id\n\t\t\t});\n\t\t} catch {\n\t\t\tinvalidToolCalls.push({\n\t\t\t\tname: functionName,\n\t\t\t\targs: toolCall.function.arguments,\n\t\t\t\tid: toolCall.id,\n\t\t\t\terror: \"Malformed args.\"\n\t\t\t});\n\t\t}\n\t}\n\treturn [toolCalls, invalidToolCalls];\n}\n/**\n* @deprecated Use {@link ToolMessage.isInstance} instead\n*/\nfunction isToolMessage(x) {\n\treturn typeof x === \"object\" && x !== null && \"getType\" in x && typeof x.getType === \"function\" && x.getType() === \"tool\";\n}\n/**\n* @deprecated Use {@link ToolMessageChunk.isInstance} instead\n*/\nfunction isToolMessageChunk(x) {\n\treturn x._getType() === \"tool\";\n}\n\n//#endregion\nexports.ToolMessage = ToolMessage;\nexports.ToolMessageChunk = ToolMessageChunk;\nexports.defaultToolCallParser = defaultToolCallParser;\nexports.isDirectToolOutput = isDirectToolOutput;\nexports.isToolMessage = isToolMessage;\nexports.isToolMessageChunk = isToolMessageChunk;\nObject.defineProperty(exports, \"tool_exports\", ({\n  enumerable: true,\n  get: function () {\n    return tool_exports;\n  }\n}));\n//# sourceMappingURL=tool.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90b29sLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQyw0SEFBa0M7QUFDM0UscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1DQUFtQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsNkJBQTZCO0FBQzdCLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckIsMEJBQTBCO0FBQzFCLGdEQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy90b29sLmNqcz80MTExIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvbWVzc2FnZXMvdG9vbC50c1xudmFyIHRvb2xfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KHRvb2xfZXhwb3J0cywge1xuXHRUb29sTWVzc2FnZTogKCkgPT4gVG9vbE1lc3NhZ2UsXG5cdFRvb2xNZXNzYWdlQ2h1bms6ICgpID0+IFRvb2xNZXNzYWdlQ2h1bmssXG5cdGRlZmF1bHRUb29sQ2FsbFBhcnNlcjogKCkgPT4gZGVmYXVsdFRvb2xDYWxsUGFyc2VyLFxuXHRpc0RpcmVjdFRvb2xPdXRwdXQ6ICgpID0+IGlzRGlyZWN0VG9vbE91dHB1dCxcblx0aXNUb29sTWVzc2FnZTogKCkgPT4gaXNUb29sTWVzc2FnZSxcblx0aXNUb29sTWVzc2FnZUNodW5rOiAoKSA9PiBpc1Rvb2xNZXNzYWdlQ2h1bmtcbn0pO1xuZnVuY3Rpb24gaXNEaXJlY3RUb29sT3V0cHV0KHgpIHtcblx0cmV0dXJuIHggIT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBcImxjX2RpcmVjdF90b29sX291dHB1dFwiIGluIHggJiYgeC5sY19kaXJlY3RfdG9vbF9vdXRwdXQgPT09IHRydWU7XG59XG4vKipcbiogUmVwcmVzZW50cyBhIHRvb2wgbWVzc2FnZSBpbiBhIGNvbnZlcnNhdGlvbi5cbiovXG52YXIgVG9vbE1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIHJlcXVpcmVfYmFzZS5CYXNlTWVzc2FnZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlRvb2xNZXNzYWdlXCI7XG5cdH1cblx0Z2V0IGxjX2FsaWFzZXMoKSB7XG5cdFx0cmV0dXJuIHsgdG9vbF9jYWxsX2lkOiBcInRvb2xfY2FsbF9pZFwiIH07XG5cdH1cblx0bGNfZGlyZWN0X3Rvb2xfb3V0cHV0ID0gdHJ1ZTtcblx0dHlwZSA9IFwidG9vbFwiO1xuXHQvKipcblx0KiBTdGF0dXMgb2YgdGhlIHRvb2wgaW52b2NhdGlvbi5cblx0KiBAdmVyc2lvbiAwLjIuMTlcblx0Ki9cblx0c3RhdHVzO1xuXHR0b29sX2NhbGxfaWQ7XG5cdG1ldGFkYXRhO1xuXHQvKipcblx0KiBBcnRpZmFjdCBvZiB0aGUgVG9vbCBleGVjdXRpb24gd2hpY2ggaXMgbm90IG1lYW50IHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLlxuXHQqXG5cdCogU2hvdWxkIG9ubHkgYmUgc3BlY2lmaWVkIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBtZXNzYWdlIGNvbnRlbnQsIGUuZy4gaWYgb25seVxuXHQqIGEgc3Vic2V0IG9mIHRoZSBmdWxsIHRvb2wgb3V0cHV0IGlzIGJlaW5nIHBhc3NlZCBhcyBtZXNzYWdlIGNvbnRlbnQgYnV0IHRoZSBmdWxsXG5cdCogb3V0cHV0IGlzIG5lZWRlZCBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgY29kZS5cblx0Ki9cblx0YXJ0aWZhY3Q7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcywgdG9vbF9jYWxsX2lkLCBuYW1lKSB7XG5cdFx0Y29uc3QgdG9vbE1lc3NhZ2VGaWVsZHMgPSB0eXBlb2YgZmllbGRzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IHtcblx0XHRcdGNvbnRlbnQ6IGZpZWxkcyxcblx0XHRcdG5hbWUsXG5cdFx0XHR0b29sX2NhbGxfaWRcblx0XHR9IDogZmllbGRzO1xuXHRcdHN1cGVyKHRvb2xNZXNzYWdlRmllbGRzKTtcblx0XHR0aGlzLnRvb2xfY2FsbF9pZCA9IHRvb2xNZXNzYWdlRmllbGRzLnRvb2xfY2FsbF9pZDtcblx0XHR0aGlzLmFydGlmYWN0ID0gdG9vbE1lc3NhZ2VGaWVsZHMuYXJ0aWZhY3Q7XG5cdFx0dGhpcy5zdGF0dXMgPSB0b29sTWVzc2FnZUZpZWxkcy5zdGF0dXM7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IHRvb2xNZXNzYWdlRmllbGRzLm1ldGFkYXRhO1xuXHR9XG5cdHN0YXRpYyBpc0luc3RhbmNlKG1lc3NhZ2UpIHtcblx0XHRyZXR1cm4gc3VwZXIuaXNJbnN0YW5jZShtZXNzYWdlKSAmJiBtZXNzYWdlLnR5cGUgPT09IFwidG9vbFwiO1xuXHR9XG5cdGdldCBfcHJpbnRhYmxlRmllbGRzKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zdXBlci5fcHJpbnRhYmxlRmllbGRzLFxuXHRcdFx0dG9vbF9jYWxsX2lkOiB0aGlzLnRvb2xfY2FsbF9pZCxcblx0XHRcdGFydGlmYWN0OiB0aGlzLmFydGlmYWN0XG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgY2h1bmsgb2YgYSB0b29sIG1lc3NhZ2UsIHdoaWNoIGNhbiBiZSBjb25jYXRlbmF0ZWRcbiogd2l0aCBvdGhlciB0b29sIG1lc3NhZ2UgY2h1bmtzLlxuKi9cbnZhciBUb29sTWVzc2FnZUNodW5rID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2Jhc2UuQmFzZU1lc3NhZ2VDaHVuayB7XG5cdHR5cGUgPSBcInRvb2xcIjtcblx0dG9vbF9jYWxsX2lkO1xuXHQvKipcblx0KiBTdGF0dXMgb2YgdGhlIHRvb2wgaW52b2NhdGlvbi5cblx0KiBAdmVyc2lvbiAwLjIuMTlcblx0Ki9cblx0c3RhdHVzO1xuXHQvKipcblx0KiBBcnRpZmFjdCBvZiB0aGUgVG9vbCBleGVjdXRpb24gd2hpY2ggaXMgbm90IG1lYW50IHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsLlxuXHQqXG5cdCogU2hvdWxkIG9ubHkgYmUgc3BlY2lmaWVkIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBtZXNzYWdlIGNvbnRlbnQsIGUuZy4gaWYgb25seVxuXHQqIGEgc3Vic2V0IG9mIHRoZSBmdWxsIHRvb2wgb3V0cHV0IGlzIGJlaW5nIHBhc3NlZCBhcyBtZXNzYWdlIGNvbnRlbnQgYnV0IHRoZSBmdWxsXG5cdCogb3V0cHV0IGlzIG5lZWRlZCBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgY29kZS5cblx0Ki9cblx0YXJ0aWZhY3Q7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy50b29sX2NhbGxfaWQgPSBmaWVsZHMudG9vbF9jYWxsX2lkO1xuXHRcdHRoaXMuYXJ0aWZhY3QgPSBmaWVsZHMuYXJ0aWZhY3Q7XG5cdFx0dGhpcy5zdGF0dXMgPSBmaWVsZHMuc3RhdHVzO1xuXHR9XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlRvb2xNZXNzYWdlQ2h1bmtcIjtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRjb25zdCBDbHMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBuZXcgQ2xzKHtcblx0XHRcdGNvbnRlbnQ6IHJlcXVpcmVfYmFzZS5tZXJnZUNvbnRlbnQodGhpcy5jb250ZW50LCBjaHVuay5jb250ZW50KSxcblx0XHRcdGFkZGl0aW9uYWxfa3dhcmdzOiByZXF1aXJlX2Jhc2UuX21lcmdlRGljdHModGhpcy5hZGRpdGlvbmFsX2t3YXJncywgY2h1bmsuYWRkaXRpb25hbF9rd2FyZ3MpLFxuXHRcdFx0cmVzcG9uc2VfbWV0YWRhdGE6IHJlcXVpcmVfYmFzZS5fbWVyZ2VEaWN0cyh0aGlzLnJlc3BvbnNlX21ldGFkYXRhLCBjaHVuay5yZXNwb25zZV9tZXRhZGF0YSksXG5cdFx0XHRhcnRpZmFjdDogcmVxdWlyZV9iYXNlLl9tZXJnZU9iaih0aGlzLmFydGlmYWN0LCBjaHVuay5hcnRpZmFjdCksXG5cdFx0XHR0b29sX2NhbGxfaWQ6IHRoaXMudG9vbF9jYWxsX2lkLFxuXHRcdFx0aWQ6IHRoaXMuaWQgPz8gY2h1bmsuaWQsXG5cdFx0XHRzdGF0dXM6IHJlcXVpcmVfYmFzZS5fbWVyZ2VTdGF0dXModGhpcy5zdGF0dXMsIGNodW5rLnN0YXR1cylcblx0XHR9KTtcblx0fVxuXHRnZXQgX3ByaW50YWJsZUZpZWxkcygpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3VwZXIuX3ByaW50YWJsZUZpZWxkcyxcblx0XHRcdHRvb2xfY2FsbF9pZDogdGhpcy50b29sX2NhbGxfaWQsXG5cdFx0XHRhcnRpZmFjdDogdGhpcy5hcnRpZmFjdFxuXHRcdH07XG5cdH1cbn07XG5mdW5jdGlvbiBkZWZhdWx0VG9vbENhbGxQYXJzZXIocmF3VG9vbENhbGxzKSB7XG5cdGNvbnN0IHRvb2xDYWxscyA9IFtdO1xuXHRjb25zdCBpbnZhbGlkVG9vbENhbGxzID0gW107XG5cdGZvciAoY29uc3QgdG9vbENhbGwgb2YgcmF3VG9vbENhbGxzKSBpZiAoIXRvb2xDYWxsLmZ1bmN0aW9uKSBjb250aW51ZTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgZnVuY3Rpb25OYW1lID0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZnVuY3Rpb25BcmdzID0gSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuXHRcdFx0dG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRuYW1lOiBmdW5jdGlvbk5hbWUgfHwgXCJcIixcblx0XHRcdFx0YXJnczogZnVuY3Rpb25BcmdzIHx8IHt9LFxuXHRcdFx0XHRpZDogdG9vbENhbGwuaWRcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0aW52YWxpZFRvb2xDYWxscy5wdXNoKHtcblx0XHRcdFx0bmFtZTogZnVuY3Rpb25OYW1lLFxuXHRcdFx0XHRhcmdzOiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMsXG5cdFx0XHRcdGlkOiB0b29sQ2FsbC5pZCxcblx0XHRcdFx0ZXJyb3I6IFwiTWFsZm9ybWVkIGFyZ3MuXCJcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gW3Rvb2xDYWxscywgaW52YWxpZFRvb2xDYWxsc107XG59XG4vKipcbiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBUb29sTWVzc2FnZS5pc0luc3RhbmNlfSBpbnN0ZWFkXG4qL1xuZnVuY3Rpb24gaXNUb29sTWVzc2FnZSh4KSB7XG5cdHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsICYmIFwiZ2V0VHlwZVwiIGluIHggJiYgdHlwZW9mIHguZ2V0VHlwZSA9PT0gXCJmdW5jdGlvblwiICYmIHguZ2V0VHlwZSgpID09PSBcInRvb2xcIjtcbn1cbi8qKlxuKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFRvb2xNZXNzYWdlQ2h1bmsuaXNJbnN0YW5jZX0gaW5zdGVhZFxuKi9cbmZ1bmN0aW9uIGlzVG9vbE1lc3NhZ2VDaHVuayh4KSB7XG5cdHJldHVybiB4Ll9nZXRUeXBlKCkgPT09IFwidG9vbFwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuVG9vbE1lc3NhZ2UgPSBUb29sTWVzc2FnZTtcbmV4cG9ydHMuVG9vbE1lc3NhZ2VDaHVuayA9IFRvb2xNZXNzYWdlQ2h1bms7XG5leHBvcnRzLmRlZmF1bHRUb29sQ2FsbFBhcnNlciA9IGRlZmF1bHRUb29sQ2FsbFBhcnNlcjtcbmV4cG9ydHMuaXNEaXJlY3RUb29sT3V0cHV0ID0gaXNEaXJlY3RUb29sT3V0cHV0O1xuZXhwb3J0cy5pc1Rvb2xNZXNzYWdlID0gaXNUb29sTWVzc2FnZTtcbmV4cG9ydHMuaXNUb29sTWVzc2FnZUNodW5rID0gaXNUb29sTWVzc2FnZUNodW5rO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0b29sX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b29sX2V4cG9ydHM7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/tool.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/messages/utils.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/base.cjs\");\nconst require_messages_tool = __webpack_require__(/*! ./tool.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/tool.cjs\");\nconst require_index = __webpack_require__(/*! ../errors/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/errors/index.cjs\");\nconst require_utils = __webpack_require__(/*! ../tools/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tools/utils.cjs\");\nconst require_json = __webpack_require__(/*! ../utils/json.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/json.cjs\");\nconst require_chat = __webpack_require__(/*! ./chat.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/chat.cjs\");\nconst require_function = __webpack_require__(/*! ./function.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/function.cjs\");\nconst require_human = __webpack_require__(/*! ./human.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/human.cjs\");\nconst require_modifier = __webpack_require__(/*! ./modifier.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/modifier.cjs\");\nconst require_system = __webpack_require__(/*! ./system.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/system.cjs\");\nconst require_ai = __webpack_require__(/*! ./ai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs\");\n\n//#region src/messages/utils.ts\n/**\n* Immediately-invoked function expression.\n*\n* @param fn - The function to execute\n* @returns The result of the function\n*/\nconst iife = (fn) => fn();\nfunction _coerceToolCall(toolCall) {\n\tif (require_utils._isToolCall(toolCall)) return toolCall;\n\telse if (typeof toolCall.id === \"string\" && toolCall.type === \"function\" && typeof toolCall.function === \"object\" && toolCall.function !== null && \"arguments\" in toolCall.function && typeof toolCall.function.arguments === \"string\" && \"name\" in toolCall.function && typeof toolCall.function.name === \"string\") return {\n\t\tid: toolCall.id,\n\t\targs: JSON.parse(toolCall.function.arguments),\n\t\tname: toolCall.function.name,\n\t\ttype: \"tool_call\"\n\t};\n\telse return toolCall;\n}\nfunction isSerializedConstructor(x) {\n\treturn typeof x === \"object\" && x != null && x.lc === 1 && Array.isArray(x.id) && x.kwargs != null && typeof x.kwargs === \"object\";\n}\nfunction _constructMessageFromParams(params) {\n\tlet type;\n\tlet rest;\n\tif (isSerializedConstructor(params)) {\n\t\tconst className = params.id.at(-1);\n\t\tif (className === \"HumanMessage\" || className === \"HumanMessageChunk\") type = \"user\";\n\t\telse if (className === \"AIMessage\" || className === \"AIMessageChunk\") type = \"assistant\";\n\t\telse if (className === \"SystemMessage\" || className === \"SystemMessageChunk\") type = \"system\";\n\t\telse if (className === \"FunctionMessage\" || className === \"FunctionMessageChunk\") type = \"function\";\n\t\telse if (className === \"ToolMessage\" || className === \"ToolMessageChunk\") type = \"tool\";\n\t\telse type = \"unknown\";\n\t\trest = params.kwargs;\n\t} else {\n\t\tconst { type: extractedType,...otherParams } = params;\n\t\ttype = extractedType;\n\t\trest = otherParams;\n\t}\n\tif (type === \"human\" || type === \"user\") return new require_human.HumanMessage(rest);\n\telse if (type === \"ai\" || type === \"assistant\") {\n\t\tconst { tool_calls: rawToolCalls,...other } = rest;\n\t\tif (!Array.isArray(rawToolCalls)) return new require_ai.AIMessage(rest);\n\t\tconst tool_calls = rawToolCalls.map(_coerceToolCall);\n\t\treturn new require_ai.AIMessage({\n\t\t\t...other,\n\t\t\ttool_calls\n\t\t});\n\t} else if (type === \"system\") return new require_system.SystemMessage(rest);\n\telse if (type === \"developer\") return new require_system.SystemMessage({\n\t\t...rest,\n\t\tadditional_kwargs: {\n\t\t\t...rest.additional_kwargs,\n\t\t\t__openai_role__: \"developer\"\n\t\t}\n\t});\n\telse if (type === \"tool\" && \"tool_call_id\" in rest) return new require_messages_tool.ToolMessage({\n\t\t...rest,\n\t\tcontent: rest.content,\n\t\ttool_call_id: rest.tool_call_id,\n\t\tname: rest.name\n\t});\n\telse if (type === \"remove\" && \"id\" in rest && typeof rest.id === \"string\") return new require_modifier.RemoveMessage({\n\t\t...rest,\n\t\tid: rest.id\n\t});\n\telse {\n\t\tconst error = require_index.addLangChainErrorFields(/* @__PURE__ */ new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.\\n\\nReceived: ${JSON.stringify(params, null, 2)}`), \"MESSAGE_COERCION_FAILURE\");\n\t\tthrow error;\n\t}\n}\nfunction coerceMessageLikeToMessage(messageLike) {\n\tif (typeof messageLike === \"string\") return new require_human.HumanMessage(messageLike);\n\telse if (require_base.isBaseMessage(messageLike)) return messageLike;\n\tif (Array.isArray(messageLike)) {\n\t\tconst [type, content] = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\ttype,\n\t\t\tcontent\n\t\t});\n\t} else if (require_base._isMessageFieldWithRole(messageLike)) {\n\t\tconst { role: type,...rest } = messageLike;\n\t\treturn _constructMessageFromParams({\n\t\t\t...rest,\n\t\t\ttype\n\t\t});\n\t} else return _constructMessageFromParams(messageLike);\n}\n/**\n* This function is used by memory classes to get a string representation\n* of the chat message history, based on the message content and role.\n*\n* Produces compact output like:\n* ```\n* Human: What's the weather?\n* AI: Let me check...[tool_calls]\n* Tool: 72F and sunny\n* ```\n*\n* This avoids token inflation from metadata when stringifying message objects directly.\n*/\nfunction getBufferString(messages, humanPrefix = \"Human\", aiPrefix = \"AI\") {\n\tconst string_messages = [];\n\tfor (const m of messages) {\n\t\tlet role;\n\t\tif (m.type === \"human\") role = humanPrefix;\n\t\telse if (m.type === \"ai\") role = aiPrefix;\n\t\telse if (m.type === \"system\") role = \"System\";\n\t\telse if (m.type === \"tool\") role = \"Tool\";\n\t\telse if (m.type === \"generic\") role = m.role;\n\t\telse throw new Error(`Got unsupported message type: ${m.type}`);\n\t\tconst nameStr = m.name ? `${m.name}, ` : \"\";\n\t\tconst readableContent = m.text;\n\t\tlet message = `${role}: ${nameStr}${readableContent}`;\n\t\tif (m.type === \"ai\") {\n\t\t\tconst aiMessage = m;\n\t\t\tif (aiMessage.tool_calls && aiMessage.tool_calls.length > 0) message += JSON.stringify(aiMessage.tool_calls);\n\t\t\telse if (aiMessage.additional_kwargs && \"function_call\" in aiMessage.additional_kwargs) message += JSON.stringify(aiMessage.additional_kwargs.function_call);\n\t\t}\n\t\tstring_messages.push(message);\n\t}\n\treturn string_messages.join(\"\\n\");\n}\n/**\n* Maps messages from an older format (V1) to the current `StoredMessage`\n* format. If the message is already in the `StoredMessage` format, it is\n* returned as is. Otherwise, it transforms the V1 message into a\n* `StoredMessage`. This function is important for maintaining\n* compatibility with older message formats.\n*/\nfunction mapV1MessageToStoredMessage(message) {\n\tif (message.data !== void 0) return message;\n\telse {\n\t\tconst v1Message = message;\n\t\treturn {\n\t\t\ttype: v1Message.type,\n\t\t\tdata: {\n\t\t\t\tcontent: v1Message.text,\n\t\t\t\trole: v1Message.role,\n\t\t\t\tname: void 0,\n\t\t\t\ttool_call_id: void 0\n\t\t\t}\n\t\t};\n\t}\n}\nfunction mapStoredMessageToChatMessage(message) {\n\tconst storedMessage = mapV1MessageToStoredMessage(message);\n\tswitch (storedMessage.type) {\n\t\tcase \"human\": return new require_human.HumanMessage(storedMessage.data);\n\t\tcase \"ai\": return new require_ai.AIMessage(storedMessage.data);\n\t\tcase \"system\": return new require_system.SystemMessage(storedMessage.data);\n\t\tcase \"function\":\n\t\t\tif (storedMessage.data.name === void 0) throw new Error(\"Name must be defined for function messages\");\n\t\t\treturn new require_function.FunctionMessage(storedMessage.data);\n\t\tcase \"tool\":\n\t\t\tif (storedMessage.data.tool_call_id === void 0) throw new Error(\"Tool call ID must be defined for tool messages\");\n\t\t\treturn new require_messages_tool.ToolMessage(storedMessage.data);\n\t\tcase \"generic\":\n\t\t\tif (storedMessage.data.role === void 0) throw new Error(\"Role must be defined for chat messages\");\n\t\t\treturn new require_chat.ChatMessage(storedMessage.data);\n\t\tdefault: throw new Error(`Got unexpected type: ${storedMessage.type}`);\n\t}\n}\n/**\n* Transforms an array of `StoredMessage` instances into an array of\n* `BaseMessage` instances. It uses the `mapV1MessageToStoredMessage`\n* function to ensure all messages are in the `StoredMessage` format, then\n* creates new instances of the appropriate `BaseMessage` subclass based\n* on the type of each message. This function is used to prepare stored\n* messages for use in a chat context.\n*/\nfunction mapStoredMessagesToChatMessages(messages) {\n\treturn messages.map(mapStoredMessageToChatMessage);\n}\n/**\n* Transforms an array of `BaseMessage` instances into an array of\n* `StoredMessage` instances. It does this by calling the `toDict` method\n* on each `BaseMessage`, which returns a `StoredMessage`. This function\n* is used to prepare chat messages for storage.\n*/\nfunction mapChatMessagesToStoredMessages(messages) {\n\treturn messages.map((message) => message.toDict());\n}\nfunction convertToChunk(message) {\n\tconst type = message._getType();\n\tif (type === \"human\") return new require_human.HumanMessageChunk({ ...message });\n\telse if (type === \"ai\") {\n\t\tlet aiChunkFields = { ...message };\n\t\tif (\"tool_calls\" in aiChunkFields) aiChunkFields = {\n\t\t\t...aiChunkFields,\n\t\t\ttool_call_chunks: aiChunkFields.tool_calls?.map((tc) => ({\n\t\t\t\t...tc,\n\t\t\t\ttype: \"tool_call_chunk\",\n\t\t\t\tindex: void 0,\n\t\t\t\targs: JSON.stringify(tc.args)\n\t\t\t}))\n\t\t};\n\t\treturn new require_ai.AIMessageChunk({ ...aiChunkFields });\n\t} else if (type === \"system\") return new require_system.SystemMessageChunk({ ...message });\n\telse if (type === \"function\") return new require_function.FunctionMessageChunk({ ...message });\n\telse if (require_chat.ChatMessage.isInstance(message)) return new require_chat.ChatMessageChunk({ ...message });\n\telse throw new Error(\"Unknown message type.\");\n}\n/**\n* Collapses an array of tool call chunks into complete tool calls.\n*\n* This function groups tool call chunks by their id and/or index, then attempts to\n* parse and validate the accumulated arguments for each group. Successfully parsed\n* tool calls are returned as valid `ToolCall` objects, while malformed ones are\n* returned as `InvalidToolCall` objects.\n*\n* @param chunks - An array of `ToolCallChunk` objects to collapse\n* @returns An object containing:\n*   - `tool_call_chunks`: The original input chunks\n*   - `tool_calls`: An array of successfully parsed and validated tool calls\n*   - `invalid_tool_calls`: An array of tool calls that failed parsing or validation\n*\n* @remarks\n* Chunks are grouped using the following matching logic:\n* - If a chunk has both an id and index, it matches chunks with the same id and index\n* - If a chunk has only an id, it matches chunks with the same id\n* - If a chunk has only an index, it matches chunks with the same index\n*\n* For each group, the function:\n* 1. Concatenates all `args` strings from the chunks\n* 2. Attempts to parse the concatenated string as JSON\n* 3. Validates that the result is a non-null object with a valid id\n* 4. Creates either a `ToolCall` (if valid) or `InvalidToolCall` (if invalid)\n*/\nfunction collapseToolCallChunks(chunks) {\n\tconst groupedToolCallChunks = chunks.reduce((acc, chunk) => {\n\t\tconst matchedChunkIndex = acc.findIndex(([match]) => {\n\t\t\tif (\"id\" in chunk && chunk.id && \"index\" in chunk && chunk.index !== void 0) return chunk.id === match.id && chunk.index === match.index;\n\t\t\tif (\"id\" in chunk && chunk.id) return chunk.id === match.id;\n\t\t\tif (\"index\" in chunk && chunk.index !== void 0) return chunk.index === match.index;\n\t\t\treturn false;\n\t\t});\n\t\tif (matchedChunkIndex !== -1) acc[matchedChunkIndex].push(chunk);\n\t\telse acc.push([chunk]);\n\t\treturn acc;\n\t}, []);\n\tconst toolCalls = [];\n\tconst invalidToolCalls = [];\n\tfor (const chunks$1 of groupedToolCallChunks) {\n\t\tlet parsedArgs = null;\n\t\tconst name = chunks$1[0]?.name ?? \"\";\n\t\tconst joinedArgs = chunks$1.map((c) => c.args || \"\").join(\"\").trim();\n\t\tconst argsStr = joinedArgs.length ? joinedArgs : \"{}\";\n\t\tconst id = chunks$1[0]?.id;\n\t\ttry {\n\t\t\tparsedArgs = require_json.parsePartialJson(argsStr);\n\t\t\tif (!id || parsedArgs === null || typeof parsedArgs !== \"object\" || Array.isArray(parsedArgs)) throw new Error(\"Malformed tool call chunk args.\");\n\t\t\ttoolCalls.push({\n\t\t\t\tname,\n\t\t\t\targs: parsedArgs,\n\t\t\t\tid,\n\t\t\t\ttype: \"tool_call\"\n\t\t\t});\n\t\t} catch {\n\t\t\tinvalidToolCalls.push({\n\t\t\t\tname,\n\t\t\t\targs: argsStr,\n\t\t\t\tid,\n\t\t\t\terror: \"Malformed args.\",\n\t\t\t\ttype: \"invalid_tool_call\"\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\ttool_call_chunks: chunks,\n\t\ttool_calls: toolCalls,\n\t\tinvalid_tool_calls: invalidToolCalls\n\t};\n}\n\n//#endregion\nexports.coerceMessageLikeToMessage = coerceMessageLikeToMessage;\nexports.collapseToolCallChunks = collapseToolCallChunks;\nexports.convertToChunk = convertToChunk;\nexports.getBufferString = getBufferString;\nexports.iife = iife;\nexports.mapChatMessagesToStoredMessages = mapChatMessagesToStoredMessages;\nexports.mapStoredMessageToChatMessage = mapStoredMessageToChatMessage;\nexports.mapStoredMessagesToChatMessages = mapStoredMessagesToChatMessages;\n//# sourceMappingURL=utils.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9tZXNzYWdlcy91dGlscy5janMiLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7QUFDekMsOEJBQThCLG1CQUFPLENBQUMsMEZBQVk7QUFDbEQsc0JBQXNCLG1CQUFPLENBQUMsa0dBQXFCO0FBQ25ELHNCQUFzQixtQkFBTyxDQUFDLGdHQUFvQjtBQUNsRCxxQkFBcUIsbUJBQU8sQ0FBQyw4RkFBbUI7QUFDaEQscUJBQXFCLG1CQUFPLENBQUMsMEZBQVk7QUFDekMseUJBQXlCLG1CQUFPLENBQUMsa0dBQWdCO0FBQ2pELHNCQUFzQixtQkFBTyxDQUFDLDRGQUFhO0FBQzNDLHlCQUF5QixtQkFBTyxDQUFDLGtHQUFnQjtBQUNqRCx1QkFBdUIsbUJBQU8sQ0FBQyw4RkFBYztBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyxzRkFBVTs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFVBQVUscUNBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9DQUFvQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSx5TkFBeU4sZ0NBQWdDO0FBQ3pQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRztBQUNILFVBQVUscUJBQXFCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxPQUFPO0FBQy9ELDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0EsbUJBQW1CLEtBQUssSUFBSSxRQUFRLEVBQUUsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsWUFBWTtBQUNoRjtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHlDQUF5QyxrQkFBa0I7QUFDM0QsR0FBRywyRUFBMkUsWUFBWTtBQUMxRixrRkFBa0YsWUFBWTtBQUM5RixtR0FBbUcsWUFBWTtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQyw4QkFBOEI7QUFDOUIsc0JBQXNCO0FBQ3RCLHVCQUF1QjtBQUN2QixZQUFZO0FBQ1osdUNBQXVDO0FBQ3ZDLHFDQUFxQztBQUNyQyx1Q0FBdUM7QUFDdkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L21lc3NhZ2VzL3V0aWxzLmNqcz8xOWFhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfbWVzc2FnZXNfdG9vbCA9IHJlcXVpcmUoJy4vdG9vbC5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuLi9lcnJvcnMvaW5kZXguY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzID0gcmVxdWlyZSgnLi4vdG9vbHMvdXRpbHMuY2pzJyk7XG5jb25zdCByZXF1aXJlX2pzb24gPSByZXF1aXJlKCcuLi91dGlscy9qc29uLmNqcycpO1xuY29uc3QgcmVxdWlyZV9jaGF0ID0gcmVxdWlyZSgnLi9jaGF0LmNqcycpO1xuY29uc3QgcmVxdWlyZV9mdW5jdGlvbiA9IHJlcXVpcmUoJy4vZnVuY3Rpb24uY2pzJyk7XG5jb25zdCByZXF1aXJlX2h1bWFuID0gcmVxdWlyZSgnLi9odW1hbi5janMnKTtcbmNvbnN0IHJlcXVpcmVfbW9kaWZpZXIgPSByZXF1aXJlKCcuL21vZGlmaWVyLmNqcycpO1xuY29uc3QgcmVxdWlyZV9zeXN0ZW0gPSByZXF1aXJlKCcuL3N5c3RlbS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYWkgPSByZXF1aXJlKCcuL2FpLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL21lc3NhZ2VzL3V0aWxzLnRzXG4vKipcbiogSW1tZWRpYXRlbHktaW52b2tlZCBmdW5jdGlvbiBleHByZXNzaW9uLlxuKlxuKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZVxuKiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHRoZSBmdW5jdGlvblxuKi9cbmNvbnN0IGlpZmUgPSAoZm4pID0+IGZuKCk7XG5mdW5jdGlvbiBfY29lcmNlVG9vbENhbGwodG9vbENhbGwpIHtcblx0aWYgKHJlcXVpcmVfdXRpbHMuX2lzVG9vbENhbGwodG9vbENhbGwpKSByZXR1cm4gdG9vbENhbGw7XG5cdGVsc2UgaWYgKHR5cGVvZiB0b29sQ2FsbC5pZCA9PT0gXCJzdHJpbmdcIiAmJiB0b29sQ2FsbC50eXBlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uID09PSBcIm9iamVjdFwiICYmIHRvb2xDYWxsLmZ1bmN0aW9uICE9PSBudWxsICYmIFwiYXJndW1lbnRzXCIgaW4gdG9vbENhbGwuZnVuY3Rpb24gJiYgdHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyA9PT0gXCJzdHJpbmdcIiAmJiBcIm5hbWVcIiBpbiB0b29sQ2FsbC5mdW5jdGlvbiAmJiB0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24ubmFtZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHtcblx0XHRpZDogdG9vbENhbGwuaWQsXG5cdFx0YXJnczogSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpLFxuXHRcdG5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG5cdFx0dHlwZTogXCJ0b29sX2NhbGxcIlxuXHR9O1xuXHRlbHNlIHJldHVybiB0b29sQ2FsbDtcbn1cbmZ1bmN0aW9uIGlzU2VyaWFsaXplZENvbnN0cnVjdG9yKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIHggIT0gbnVsbCAmJiB4LmxjID09PSAxICYmIEFycmF5LmlzQXJyYXkoeC5pZCkgJiYgeC5rd2FyZ3MgIT0gbnVsbCAmJiB0eXBlb2YgeC5rd2FyZ3MgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMocGFyYW1zKSB7XG5cdGxldCB0eXBlO1xuXHRsZXQgcmVzdDtcblx0aWYgKGlzU2VyaWFsaXplZENvbnN0cnVjdG9yKHBhcmFtcykpIHtcblx0XHRjb25zdCBjbGFzc05hbWUgPSBwYXJhbXMuaWQuYXQoLTEpO1xuXHRcdGlmIChjbGFzc05hbWUgPT09IFwiSHVtYW5NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkh1bWFuTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcInVzZXJcIjtcblx0XHRlbHNlIGlmIChjbGFzc05hbWUgPT09IFwiQUlNZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkFJTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcImFzc2lzdGFudFwiO1xuXHRcdGVsc2UgaWYgKGNsYXNzTmFtZSA9PT0gXCJTeXN0ZW1NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIlN5c3RlbU1lc3NhZ2VDaHVua1wiKSB0eXBlID0gXCJzeXN0ZW1cIjtcblx0XHRlbHNlIGlmIChjbGFzc05hbWUgPT09IFwiRnVuY3Rpb25NZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIkZ1bmN0aW9uTWVzc2FnZUNodW5rXCIpIHR5cGUgPSBcImZ1bmN0aW9uXCI7XG5cdFx0ZWxzZSBpZiAoY2xhc3NOYW1lID09PSBcIlRvb2xNZXNzYWdlXCIgfHwgY2xhc3NOYW1lID09PSBcIlRvb2xNZXNzYWdlQ2h1bmtcIikgdHlwZSA9IFwidG9vbFwiO1xuXHRcdGVsc2UgdHlwZSA9IFwidW5rbm93blwiO1xuXHRcdHJlc3QgPSBwYXJhbXMua3dhcmdzO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHsgdHlwZTogZXh0cmFjdGVkVHlwZSwuLi5vdGhlclBhcmFtcyB9ID0gcGFyYW1zO1xuXHRcdHR5cGUgPSBleHRyYWN0ZWRUeXBlO1xuXHRcdHJlc3QgPSBvdGhlclBhcmFtcztcblx0fVxuXHRpZiAodHlwZSA9PT0gXCJodW1hblwiIHx8IHR5cGUgPT09IFwidXNlclwiKSByZXR1cm4gbmV3IHJlcXVpcmVfaHVtYW4uSHVtYW5NZXNzYWdlKHJlc3QpO1xuXHRlbHNlIGlmICh0eXBlID09PSBcImFpXCIgfHwgdHlwZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuXHRcdGNvbnN0IHsgdG9vbF9jYWxsczogcmF3VG9vbENhbGxzLC4uLm90aGVyIH0gPSByZXN0O1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShyYXdUb29sQ2FsbHMpKSByZXR1cm4gbmV3IHJlcXVpcmVfYWkuQUlNZXNzYWdlKHJlc3QpO1xuXHRcdGNvbnN0IHRvb2xfY2FsbHMgPSByYXdUb29sQ2FsbHMubWFwKF9jb2VyY2VUb29sQ2FsbCk7XG5cdFx0cmV0dXJuIG5ldyByZXF1aXJlX2FpLkFJTWVzc2FnZSh7XG5cdFx0XHQuLi5vdGhlcixcblx0XHRcdHRvb2xfY2FsbHNcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlID09PSBcInN5c3RlbVwiKSByZXR1cm4gbmV3IHJlcXVpcmVfc3lzdGVtLlN5c3RlbU1lc3NhZ2UocmVzdCk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwiZGV2ZWxvcGVyXCIpIHJldHVybiBuZXcgcmVxdWlyZV9zeXN0ZW0uU3lzdGVtTWVzc2FnZSh7XG5cdFx0Li4ucmVzdCxcblx0XHRhZGRpdGlvbmFsX2t3YXJnczoge1xuXHRcdFx0Li4ucmVzdC5hZGRpdGlvbmFsX2t3YXJncyxcblx0XHRcdF9fb3BlbmFpX3JvbGVfXzogXCJkZXZlbG9wZXJcIlxuXHRcdH1cblx0fSk7XG5cdGVsc2UgaWYgKHR5cGUgPT09IFwidG9vbFwiICYmIFwidG9vbF9jYWxsX2lkXCIgaW4gcmVzdCkgcmV0dXJuIG5ldyByZXF1aXJlX21lc3NhZ2VzX3Rvb2wuVG9vbE1lc3NhZ2Uoe1xuXHRcdC4uLnJlc3QsXG5cdFx0Y29udGVudDogcmVzdC5jb250ZW50LFxuXHRcdHRvb2xfY2FsbF9pZDogcmVzdC50b29sX2NhbGxfaWQsXG5cdFx0bmFtZTogcmVzdC5uYW1lXG5cdH0pO1xuXHRlbHNlIGlmICh0eXBlID09PSBcInJlbW92ZVwiICYmIFwiaWRcIiBpbiByZXN0ICYmIHR5cGVvZiByZXN0LmlkID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IHJlcXVpcmVfbW9kaWZpZXIuUmVtb3ZlTWVzc2FnZSh7XG5cdFx0Li4ucmVzdCxcblx0XHRpZDogcmVzdC5pZFxuXHR9KTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgZXJyb3IgPSByZXF1aXJlX2luZGV4LmFkZExhbmdDaGFpbkVycm9yRmllbGRzKC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb2VyY2UgbWVzc2FnZSBmcm9tIGFycmF5OiBvbmx5IGh1bWFuLCBBSSwgc3lzdGVtLCBkZXZlbG9wZXIsIG9yIHRvb2wgbWVzc2FnZSBjb2VyY2lvbiBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxcblxcblJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcywgbnVsbCwgMil9YCksIFwiTUVTU0FHRV9DT0VSQ0lPTl9GQUlMVVJFXCIpO1xuXHRcdHRocm93IGVycm9yO1xuXHR9XG59XG5mdW5jdGlvbiBjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZShtZXNzYWdlTGlrZSkge1xuXHRpZiAodHlwZW9mIG1lc3NhZ2VMaWtlID09PSBcInN0cmluZ1wiKSByZXR1cm4gbmV3IHJlcXVpcmVfaHVtYW4uSHVtYW5NZXNzYWdlKG1lc3NhZ2VMaWtlKTtcblx0ZWxzZSBpZiAocmVxdWlyZV9iYXNlLmlzQmFzZU1lc3NhZ2UobWVzc2FnZUxpa2UpKSByZXR1cm4gbWVzc2FnZUxpa2U7XG5cdGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VMaWtlKSkge1xuXHRcdGNvbnN0IFt0eXBlLCBjb250ZW50XSA9IG1lc3NhZ2VMaWtlO1xuXHRcdHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMoe1xuXHRcdFx0dHlwZSxcblx0XHRcdGNvbnRlbnRcblx0XHR9KTtcblx0fSBlbHNlIGlmIChyZXF1aXJlX2Jhc2UuX2lzTWVzc2FnZUZpZWxkV2l0aFJvbGUobWVzc2FnZUxpa2UpKSB7XG5cdFx0Y29uc3QgeyByb2xlOiB0eXBlLC4uLnJlc3QgfSA9IG1lc3NhZ2VMaWtlO1xuXHRcdHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMoe1xuXHRcdFx0Li4ucmVzdCxcblx0XHRcdHR5cGVcblx0XHR9KTtcblx0fSBlbHNlIHJldHVybiBfY29uc3RydWN0TWVzc2FnZUZyb21QYXJhbXMobWVzc2FnZUxpa2UpO1xufVxuLyoqXG4qIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBieSBtZW1vcnkgY2xhc3NlcyB0byBnZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiogb2YgdGhlIGNoYXQgbWVzc2FnZSBoaXN0b3J5LCBiYXNlZCBvbiB0aGUgbWVzc2FnZSBjb250ZW50IGFuZCByb2xlLlxuKlxuKiBQcm9kdWNlcyBjb21wYWN0IG91dHB1dCBsaWtlOlxuKiBgYGBcbiogSHVtYW46IFdoYXQncyB0aGUgd2VhdGhlcj9cbiogQUk6IExldCBtZSBjaGVjay4uLlt0b29sX2NhbGxzXVxuKiBUb29sOiA3MsKwRiBhbmQgc3VubnlcbiogYGBgXG4qXG4qIFRoaXMgYXZvaWRzIHRva2VuIGluZmxhdGlvbiBmcm9tIG1ldGFkYXRhIHdoZW4gc3RyaW5naWZ5aW5nIG1lc3NhZ2Ugb2JqZWN0cyBkaXJlY3RseS5cbiovXG5mdW5jdGlvbiBnZXRCdWZmZXJTdHJpbmcobWVzc2FnZXMsIGh1bWFuUHJlZml4ID0gXCJIdW1hblwiLCBhaVByZWZpeCA9IFwiQUlcIikge1xuXHRjb25zdCBzdHJpbmdfbWVzc2FnZXMgPSBbXTtcblx0Zm9yIChjb25zdCBtIG9mIG1lc3NhZ2VzKSB7XG5cdFx0bGV0IHJvbGU7XG5cdFx0aWYgKG0udHlwZSA9PT0gXCJodW1hblwiKSByb2xlID0gaHVtYW5QcmVmaXg7XG5cdFx0ZWxzZSBpZiAobS50eXBlID09PSBcImFpXCIpIHJvbGUgPSBhaVByZWZpeDtcblx0XHRlbHNlIGlmIChtLnR5cGUgPT09IFwic3lzdGVtXCIpIHJvbGUgPSBcIlN5c3RlbVwiO1xuXHRcdGVsc2UgaWYgKG0udHlwZSA9PT0gXCJ0b29sXCIpIHJvbGUgPSBcIlRvb2xcIjtcblx0XHRlbHNlIGlmIChtLnR5cGUgPT09IFwiZ2VuZXJpY1wiKSByb2xlID0gbS5yb2xlO1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBHb3QgdW5zdXBwb3J0ZWQgbWVzc2FnZSB0eXBlOiAke20udHlwZX1gKTtcblx0XHRjb25zdCBuYW1lU3RyID0gbS5uYW1lID8gYCR7bS5uYW1lfSwgYCA6IFwiXCI7XG5cdFx0Y29uc3QgcmVhZGFibGVDb250ZW50ID0gbS50ZXh0O1xuXHRcdGxldCBtZXNzYWdlID0gYCR7cm9sZX06ICR7bmFtZVN0cn0ke3JlYWRhYmxlQ29udGVudH1gO1xuXHRcdGlmIChtLnR5cGUgPT09IFwiYWlcIikge1xuXHRcdFx0Y29uc3QgYWlNZXNzYWdlID0gbTtcblx0XHRcdGlmIChhaU1lc3NhZ2UudG9vbF9jYWxscyAmJiBhaU1lc3NhZ2UudG9vbF9jYWxscy5sZW5ndGggPiAwKSBtZXNzYWdlICs9IEpTT04uc3RyaW5naWZ5KGFpTWVzc2FnZS50b29sX2NhbGxzKTtcblx0XHRcdGVsc2UgaWYgKGFpTWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncyAmJiBcImZ1bmN0aW9uX2NhbGxcIiBpbiBhaU1lc3NhZ2UuYWRkaXRpb25hbF9rd2FyZ3MpIG1lc3NhZ2UgKz0gSlNPTi5zdHJpbmdpZnkoYWlNZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGwpO1xuXHRcdH1cblx0XHRzdHJpbmdfbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcblx0fVxuXHRyZXR1cm4gc3RyaW5nX21lc3NhZ2VzLmpvaW4oXCJcXG5cIik7XG59XG4vKipcbiogTWFwcyBtZXNzYWdlcyBmcm9tIGFuIG9sZGVyIGZvcm1hdCAoVjEpIHRvIHRoZSBjdXJyZW50IGBTdG9yZWRNZXNzYWdlYFxuKiBmb3JtYXQuIElmIHRoZSBtZXNzYWdlIGlzIGFscmVhZHkgaW4gdGhlIGBTdG9yZWRNZXNzYWdlYCBmb3JtYXQsIGl0IGlzXG4qIHJldHVybmVkIGFzIGlzLiBPdGhlcndpc2UsIGl0IHRyYW5zZm9ybXMgdGhlIFYxIG1lc3NhZ2UgaW50byBhXG4qIGBTdG9yZWRNZXNzYWdlYC4gVGhpcyBmdW5jdGlvbiBpcyBpbXBvcnRhbnQgZm9yIG1haW50YWluaW5nXG4qIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciBtZXNzYWdlIGZvcm1hdHMuXG4qL1xuZnVuY3Rpb24gbWFwVjFNZXNzYWdlVG9TdG9yZWRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0aWYgKG1lc3NhZ2UuZGF0YSAhPT0gdm9pZCAwKSByZXR1cm4gbWVzc2FnZTtcblx0ZWxzZSB7XG5cdFx0Y29uc3QgdjFNZXNzYWdlID0gbWVzc2FnZTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogdjFNZXNzYWdlLnR5cGUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGNvbnRlbnQ6IHYxTWVzc2FnZS50ZXh0LFxuXHRcdFx0XHRyb2xlOiB2MU1lc3NhZ2Uucm9sZSxcblx0XHRcdFx0bmFtZTogdm9pZCAwLFxuXHRcdFx0XHR0b29sX2NhbGxfaWQ6IHZvaWQgMFxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn1cbmZ1bmN0aW9uIG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKG1lc3NhZ2UpIHtcblx0Y29uc3Qgc3RvcmVkTWVzc2FnZSA9IG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZShtZXNzYWdlKTtcblx0c3dpdGNoIChzdG9yZWRNZXNzYWdlLnR5cGUpIHtcblx0XHRjYXNlIFwiaHVtYW5cIjogcmV0dXJuIG5ldyByZXF1aXJlX2h1bWFuLkh1bWFuTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGNhc2UgXCJhaVwiOiByZXR1cm4gbmV3IHJlcXVpcmVfYWkuQUlNZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcInN5c3RlbVwiOiByZXR1cm4gbmV3IHJlcXVpcmVfc3lzdGVtLlN5c3RlbU1lc3NhZ2Uoc3RvcmVkTWVzc2FnZS5kYXRhKTtcblx0XHRjYXNlIFwiZnVuY3Rpb25cIjpcblx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLmRhdGEubmFtZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG11c3QgYmUgZGVmaW5lZCBmb3IgZnVuY3Rpb24gbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IHJlcXVpcmVfZnVuY3Rpb24uRnVuY3Rpb25NZXNzYWdlKHN0b3JlZE1lc3NhZ2UuZGF0YSk7XG5cdFx0Y2FzZSBcInRvb2xcIjpcblx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLmRhdGEudG9vbF9jYWxsX2lkID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIlRvb2wgY2FsbCBJRCBtdXN0IGJlIGRlZmluZWQgZm9yIHRvb2wgbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IHJlcXVpcmVfbWVzc2FnZXNfdG9vbC5Ub29sTWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGNhc2UgXCJnZW5lcmljXCI6XG5cdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5kYXRhLnJvbGUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiUm9sZSBtdXN0IGJlIGRlZmluZWQgZm9yIGNoYXQgbWVzc2FnZXNcIik7XG5cdFx0XHRyZXR1cm4gbmV3IHJlcXVpcmVfY2hhdC5DaGF0TWVzc2FnZShzdG9yZWRNZXNzYWdlLmRhdGEpO1xuXHRcdGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihgR290IHVuZXhwZWN0ZWQgdHlwZTogJHtzdG9yZWRNZXNzYWdlLnR5cGV9YCk7XG5cdH1cbn1cbi8qKlxuKiBUcmFuc2Zvcm1zIGFuIGFycmF5IG9mIGBTdG9yZWRNZXNzYWdlYCBpbnN0YW5jZXMgaW50byBhbiBhcnJheSBvZlxuKiBgQmFzZU1lc3NhZ2VgIGluc3RhbmNlcy4gSXQgdXNlcyB0aGUgYG1hcFYxTWVzc2FnZVRvU3RvcmVkTWVzc2FnZWBcbiogZnVuY3Rpb24gdG8gZW5zdXJlIGFsbCBtZXNzYWdlcyBhcmUgaW4gdGhlIGBTdG9yZWRNZXNzYWdlYCBmb3JtYXQsIHRoZW5cbiogY3JlYXRlcyBuZXcgaW5zdGFuY2VzIG9mIHRoZSBhcHByb3ByaWF0ZSBgQmFzZU1lc3NhZ2VgIHN1YmNsYXNzIGJhc2VkXG4qIG9uIHRoZSB0eXBlIG9mIGVhY2ggbWVzc2FnZS4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHByZXBhcmUgc3RvcmVkXG4qIG1lc3NhZ2VzIGZvciB1c2UgaW4gYSBjaGF0IGNvbnRleHQuXG4qL1xuZnVuY3Rpb24gbWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyhtZXNzYWdlcykge1xuXHRyZXR1cm4gbWVzc2FnZXMubWFwKG1hcFN0b3JlZE1lc3NhZ2VUb0NoYXRNZXNzYWdlKTtcbn1cbi8qKlxuKiBUcmFuc2Zvcm1zIGFuIGFycmF5IG9mIGBCYXNlTWVzc2FnZWAgaW5zdGFuY2VzIGludG8gYW4gYXJyYXkgb2ZcbiogYFN0b3JlZE1lc3NhZ2VgIGluc3RhbmNlcy4gSXQgZG9lcyB0aGlzIGJ5IGNhbGxpbmcgdGhlIGB0b0RpY3RgIG1ldGhvZFxuKiBvbiBlYWNoIGBCYXNlTWVzc2FnZWAsIHdoaWNoIHJldHVybnMgYSBgU3RvcmVkTWVzc2FnZWAuIFRoaXMgZnVuY3Rpb25cbiogaXMgdXNlZCB0byBwcmVwYXJlIGNoYXQgbWVzc2FnZXMgZm9yIHN0b3JhZ2UuXG4qL1xuZnVuY3Rpb24gbWFwQ2hhdE1lc3NhZ2VzVG9TdG9yZWRNZXNzYWdlcyhtZXNzYWdlcykge1xuXHRyZXR1cm4gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiBtZXNzYWdlLnRvRGljdCgpKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb0NodW5rKG1lc3NhZ2UpIHtcblx0Y29uc3QgdHlwZSA9IG1lc3NhZ2UuX2dldFR5cGUoKTtcblx0aWYgKHR5cGUgPT09IFwiaHVtYW5cIikgcmV0dXJuIG5ldyByZXF1aXJlX2h1bWFuLkh1bWFuTWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJhaVwiKSB7XG5cdFx0bGV0IGFpQ2h1bmtGaWVsZHMgPSB7IC4uLm1lc3NhZ2UgfTtcblx0XHRpZiAoXCJ0b29sX2NhbGxzXCIgaW4gYWlDaHVua0ZpZWxkcykgYWlDaHVua0ZpZWxkcyA9IHtcblx0XHRcdC4uLmFpQ2h1bmtGaWVsZHMsXG5cdFx0XHR0b29sX2NhbGxfY2h1bmtzOiBhaUNodW5rRmllbGRzLnRvb2xfY2FsbHM/Lm1hcCgodGMpID0+ICh7XG5cdFx0XHRcdC4uLnRjLFxuXHRcdFx0XHR0eXBlOiBcInRvb2xfY2FsbF9jaHVua1wiLFxuXHRcdFx0XHRpbmRleDogdm9pZCAwLFxuXHRcdFx0XHRhcmdzOiBKU09OLnN0cmluZ2lmeSh0Yy5hcmdzKVxuXHRcdFx0fSkpXG5cdFx0fTtcblx0XHRyZXR1cm4gbmV3IHJlcXVpcmVfYWkuQUlNZXNzYWdlQ2h1bmsoeyAuLi5haUNodW5rRmllbGRzIH0pO1xuXHR9IGVsc2UgaWYgKHR5cGUgPT09IFwic3lzdGVtXCIpIHJldHVybiBuZXcgcmVxdWlyZV9zeXN0ZW0uU3lzdGVtTWVzc2FnZUNodW5rKHsgLi4ubWVzc2FnZSB9KTtcblx0ZWxzZSBpZiAodHlwZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbmV3IHJlcXVpcmVfZnVuY3Rpb24uRnVuY3Rpb25NZXNzYWdlQ2h1bmsoeyAuLi5tZXNzYWdlIH0pO1xuXHRlbHNlIGlmIChyZXF1aXJlX2NoYXQuQ2hhdE1lc3NhZ2UuaXNJbnN0YW5jZShtZXNzYWdlKSkgcmV0dXJuIG5ldyByZXF1aXJlX2NoYXQuQ2hhdE1lc3NhZ2VDaHVuayh7IC4uLm1lc3NhZ2UgfSk7XG5cdGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGUuXCIpO1xufVxuLyoqXG4qIENvbGxhcHNlcyBhbiBhcnJheSBvZiB0b29sIGNhbGwgY2h1bmtzIGludG8gY29tcGxldGUgdG9vbCBjYWxscy5cbipcbiogVGhpcyBmdW5jdGlvbiBncm91cHMgdG9vbCBjYWxsIGNodW5rcyBieSB0aGVpciBpZCBhbmQvb3IgaW5kZXgsIHRoZW4gYXR0ZW1wdHMgdG9cbiogcGFyc2UgYW5kIHZhbGlkYXRlIHRoZSBhY2N1bXVsYXRlZCBhcmd1bWVudHMgZm9yIGVhY2ggZ3JvdXAuIFN1Y2Nlc3NmdWxseSBwYXJzZWRcbiogdG9vbCBjYWxscyBhcmUgcmV0dXJuZWQgYXMgdmFsaWQgYFRvb2xDYWxsYCBvYmplY3RzLCB3aGlsZSBtYWxmb3JtZWQgb25lcyBhcmVcbiogcmV0dXJuZWQgYXMgYEludmFsaWRUb29sQ2FsbGAgb2JqZWN0cy5cbipcbiogQHBhcmFtIGNodW5rcyAtIEFuIGFycmF5IG9mIGBUb29sQ2FsbENodW5rYCBvYmplY3RzIHRvIGNvbGxhcHNlXG4qIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nOlxuKiAgIC0gYHRvb2xfY2FsbF9jaHVua3NgOiBUaGUgb3JpZ2luYWwgaW5wdXQgY2h1bmtzXG4qICAgLSBgdG9vbF9jYWxsc2A6IEFuIGFycmF5IG9mIHN1Y2Nlc3NmdWxseSBwYXJzZWQgYW5kIHZhbGlkYXRlZCB0b29sIGNhbGxzXG4qICAgLSBgaW52YWxpZF90b29sX2NhbGxzYDogQW4gYXJyYXkgb2YgdG9vbCBjYWxscyB0aGF0IGZhaWxlZCBwYXJzaW5nIG9yIHZhbGlkYXRpb25cbipcbiogQHJlbWFya3NcbiogQ2h1bmtzIGFyZSBncm91cGVkIHVzaW5nIHRoZSBmb2xsb3dpbmcgbWF0Y2hpbmcgbG9naWM6XG4qIC0gSWYgYSBjaHVuayBoYXMgYm90aCBhbiBpZCBhbmQgaW5kZXgsIGl0IG1hdGNoZXMgY2h1bmtzIHdpdGggdGhlIHNhbWUgaWQgYW5kIGluZGV4XG4qIC0gSWYgYSBjaHVuayBoYXMgb25seSBhbiBpZCwgaXQgbWF0Y2hlcyBjaHVua3Mgd2l0aCB0aGUgc2FtZSBpZFxuKiAtIElmIGEgY2h1bmsgaGFzIG9ubHkgYW4gaW5kZXgsIGl0IG1hdGNoZXMgY2h1bmtzIHdpdGggdGhlIHNhbWUgaW5kZXhcbipcbiogRm9yIGVhY2ggZ3JvdXAsIHRoZSBmdW5jdGlvbjpcbiogMS4gQ29uY2F0ZW5hdGVzIGFsbCBgYXJnc2Agc3RyaW5ncyBmcm9tIHRoZSBjaHVua3NcbiogMi4gQXR0ZW1wdHMgdG8gcGFyc2UgdGhlIGNvbmNhdGVuYXRlZCBzdHJpbmcgYXMgSlNPTlxuKiAzLiBWYWxpZGF0ZXMgdGhhdCB0aGUgcmVzdWx0IGlzIGEgbm9uLW51bGwgb2JqZWN0IHdpdGggYSB2YWxpZCBpZFxuKiA0LiBDcmVhdGVzIGVpdGhlciBhIGBUb29sQ2FsbGAgKGlmIHZhbGlkKSBvciBgSW52YWxpZFRvb2xDYWxsYCAoaWYgaW52YWxpZClcbiovXG5mdW5jdGlvbiBjb2xsYXBzZVRvb2xDYWxsQ2h1bmtzKGNodW5rcykge1xuXHRjb25zdCBncm91cGVkVG9vbENhbGxDaHVua3MgPSBjaHVua3MucmVkdWNlKChhY2MsIGNodW5rKSA9PiB7XG5cdFx0Y29uc3QgbWF0Y2hlZENodW5rSW5kZXggPSBhY2MuZmluZEluZGV4KChbbWF0Y2hdKSA9PiB7XG5cdFx0XHRpZiAoXCJpZFwiIGluIGNodW5rICYmIGNodW5rLmlkICYmIFwiaW5kZXhcIiBpbiBjaHVuayAmJiBjaHVuay5pbmRleCAhPT0gdm9pZCAwKSByZXR1cm4gY2h1bmsuaWQgPT09IG1hdGNoLmlkICYmIGNodW5rLmluZGV4ID09PSBtYXRjaC5pbmRleDtcblx0XHRcdGlmIChcImlkXCIgaW4gY2h1bmsgJiYgY2h1bmsuaWQpIHJldHVybiBjaHVuay5pZCA9PT0gbWF0Y2guaWQ7XG5cdFx0XHRpZiAoXCJpbmRleFwiIGluIGNodW5rICYmIGNodW5rLmluZGV4ICE9PSB2b2lkIDApIHJldHVybiBjaHVuay5pbmRleCA9PT0gbWF0Y2guaW5kZXg7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cdFx0aWYgKG1hdGNoZWRDaHVua0luZGV4ICE9PSAtMSkgYWNjW21hdGNoZWRDaHVua0luZGV4XS5wdXNoKGNodW5rKTtcblx0XHRlbHNlIGFjYy5wdXNoKFtjaHVua10pO1xuXHRcdHJldHVybiBhY2M7XG5cdH0sIFtdKTtcblx0Y29uc3QgdG9vbENhbGxzID0gW107XG5cdGNvbnN0IGludmFsaWRUb29sQ2FsbHMgPSBbXTtcblx0Zm9yIChjb25zdCBjaHVua3MkMSBvZiBncm91cGVkVG9vbENhbGxDaHVua3MpIHtcblx0XHRsZXQgcGFyc2VkQXJncyA9IG51bGw7XG5cdFx0Y29uc3QgbmFtZSA9IGNodW5rcyQxWzBdPy5uYW1lID8/IFwiXCI7XG5cdFx0Y29uc3Qgam9pbmVkQXJncyA9IGNodW5rcyQxLm1hcCgoYykgPT4gYy5hcmdzIHx8IFwiXCIpLmpvaW4oXCJcIikudHJpbSgpO1xuXHRcdGNvbnN0IGFyZ3NTdHIgPSBqb2luZWRBcmdzLmxlbmd0aCA/IGpvaW5lZEFyZ3MgOiBcInt9XCI7XG5cdFx0Y29uc3QgaWQgPSBjaHVua3MkMVswXT8uaWQ7XG5cdFx0dHJ5IHtcblx0XHRcdHBhcnNlZEFyZ3MgPSByZXF1aXJlX2pzb24ucGFyc2VQYXJ0aWFsSnNvbihhcmdzU3RyKTtcblx0XHRcdGlmICghaWQgfHwgcGFyc2VkQXJncyA9PT0gbnVsbCB8fCB0eXBlb2YgcGFyc2VkQXJncyAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KHBhcnNlZEFyZ3MpKSB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgdG9vbCBjYWxsIGNodW5rIGFyZ3MuXCIpO1xuXHRcdFx0dG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRhcmdzOiBwYXJzZWRBcmdzLFxuXHRcdFx0XHRpZCxcblx0XHRcdFx0dHlwZTogXCJ0b29sX2NhbGxcIlxuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRpbnZhbGlkVG9vbENhbGxzLnB1c2goe1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRhcmdzOiBhcmdzU3RyLFxuXHRcdFx0XHRpZCxcblx0XHRcdFx0ZXJyb3I6IFwiTWFsZm9ybWVkIGFyZ3MuXCIsXG5cdFx0XHRcdHR5cGU6IFwiaW52YWxpZF90b29sX2NhbGxcIlxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0dG9vbF9jYWxsX2NodW5rczogY2h1bmtzLFxuXHRcdHRvb2xfY2FsbHM6IHRvb2xDYWxscyxcblx0XHRpbnZhbGlkX3Rvb2xfY2FsbHM6IGludmFsaWRUb29sQ2FsbHNcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlID0gY29lcmNlTWVzc2FnZUxpa2VUb01lc3NhZ2U7XG5leHBvcnRzLmNvbGxhcHNlVG9vbENhbGxDaHVua3MgPSBjb2xsYXBzZVRvb2xDYWxsQ2h1bmtzO1xuZXhwb3J0cy5jb252ZXJ0VG9DaHVuayA9IGNvbnZlcnRUb0NodW5rO1xuZXhwb3J0cy5nZXRCdWZmZXJTdHJpbmcgPSBnZXRCdWZmZXJTdHJpbmc7XG5leHBvcnRzLmlpZmUgPSBpaWZlO1xuZXhwb3J0cy5tYXBDaGF0TWVzc2FnZXNUb1N0b3JlZE1lc3NhZ2VzID0gbWFwQ2hhdE1lc3NhZ2VzVG9TdG9yZWRNZXNzYWdlcztcbmV4cG9ydHMubWFwU3RvcmVkTWVzc2FnZVRvQ2hhdE1lc3NhZ2UgPSBtYXBTdG9yZWRNZXNzYWdlVG9DaGF0TWVzc2FnZTtcbmV4cG9ydHMubWFwU3RvcmVkTWVzc2FnZXNUb0NoYXRNZXNzYWdlcyA9IG1hcFN0b3JlZE1lc3NhZ2VzVG9DaGF0TWVzc2FnZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/outputs.cjs":
/*!*******************************************************!*\
  !*** ./node_modules/@langchain/core/dist/outputs.cjs ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ./_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\n\n//#region src/outputs.ts\nvar outputs_exports = {};\nrequire_rolldown_runtime.__export(outputs_exports, {\n\tChatGenerationChunk: () => ChatGenerationChunk,\n\tGenerationChunk: () => GenerationChunk,\n\tRUN_KEY: () => RUN_KEY\n});\nconst RUN_KEY = \"__run\";\n/**\n* Chunk of a single generation. Used for streaming.\n*/\nvar GenerationChunk = class GenerationChunk {\n\ttext;\n\tgenerationInfo;\n\tconstructor(fields) {\n\t\tthis.text = fields.text;\n\t\tthis.generationInfo = fields.generationInfo;\n\t}\n\tconcat(chunk) {\n\t\treturn new GenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t}\n\t\t});\n\t}\n};\nvar ChatGenerationChunk = class ChatGenerationChunk extends GenerationChunk {\n\tmessage;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.message = fields.message;\n\t}\n\tconcat(chunk) {\n\t\treturn new ChatGenerationChunk({\n\t\t\ttext: this.text + chunk.text,\n\t\t\tgenerationInfo: {\n\t\t\t\t...this.generationInfo,\n\t\t\t\t...chunk.generationInfo\n\t\t\t},\n\t\t\tmessage: this.message.concat(chunk.message)\n\t\t});\n\t}\n};\n\n//#endregion\nexports.ChatGenerationChunk = ChatGenerationChunk;\nexports.GenerationChunk = GenerationChunk;\nexports.RUN_KEY = RUN_KEY;\nObject.defineProperty(exports, \"outputs_exports\", ({\n  enumerable: true,\n  get: function () {\n    return outputs_exports;\n  }\n}));\n//# sourceMappingURL=outputs.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9vdXRwdXRzLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQywySEFBaUM7O0FBRTFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCLHVCQUF1QjtBQUN2QixlQUFlO0FBQ2YsbURBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L291dHB1dHMuY2pzPzkwYmEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL291dHB1dHMudHNcbnZhciBvdXRwdXRzX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChvdXRwdXRzX2V4cG9ydHMsIHtcblx0Q2hhdEdlbmVyYXRpb25DaHVuazogKCkgPT4gQ2hhdEdlbmVyYXRpb25DaHVuayxcblx0R2VuZXJhdGlvbkNodW5rOiAoKSA9PiBHZW5lcmF0aW9uQ2h1bmssXG5cdFJVTl9LRVk6ICgpID0+IFJVTl9LRVlcbn0pO1xuY29uc3QgUlVOX0tFWSA9IFwiX19ydW5cIjtcbi8qKlxuKiBDaHVuayBvZiBhIHNpbmdsZSBnZW5lcmF0aW9uLiBVc2VkIGZvciBzdHJlYW1pbmcuXG4qL1xudmFyIEdlbmVyYXRpb25DaHVuayA9IGNsYXNzIEdlbmVyYXRpb25DaHVuayB7XG5cdHRleHQ7XG5cdGdlbmVyYXRpb25JbmZvO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLnRleHQgPSBmaWVsZHMudGV4dDtcblx0XHR0aGlzLmdlbmVyYXRpb25JbmZvID0gZmllbGRzLmdlbmVyYXRpb25JbmZvO1xuXHR9XG5cdGNvbmNhdChjaHVuaykge1xuXHRcdHJldHVybiBuZXcgR2VuZXJhdGlvbkNodW5rKHtcblx0XHRcdHRleHQ6IHRoaXMudGV4dCArIGNodW5rLnRleHQsXG5cdFx0XHRnZW5lcmF0aW9uSW5mbzoge1xuXHRcdFx0XHQuLi50aGlzLmdlbmVyYXRpb25JbmZvLFxuXHRcdFx0XHQuLi5jaHVuay5nZW5lcmF0aW9uSW5mb1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59O1xudmFyIENoYXRHZW5lcmF0aW9uQ2h1bmsgPSBjbGFzcyBDaGF0R2VuZXJhdGlvbkNodW5rIGV4dGVuZHMgR2VuZXJhdGlvbkNodW5rIHtcblx0bWVzc2FnZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1lc3NhZ2UgPSBmaWVsZHMubWVzc2FnZTtcblx0fVxuXHRjb25jYXQoY2h1bmspIHtcblx0XHRyZXR1cm4gbmV3IENoYXRHZW5lcmF0aW9uQ2h1bmsoe1xuXHRcdFx0dGV4dDogdGhpcy50ZXh0ICsgY2h1bmsudGV4dCxcblx0XHRcdGdlbmVyYXRpb25JbmZvOiB7XG5cdFx0XHRcdC4uLnRoaXMuZ2VuZXJhdGlvbkluZm8sXG5cdFx0XHRcdC4uLmNodW5rLmdlbmVyYXRpb25JbmZvXG5cdFx0XHR9LFxuXHRcdFx0bWVzc2FnZTogdGhpcy5tZXNzYWdlLmNvbmNhdChjaHVuay5tZXNzYWdlKVxuXHRcdH0pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQ2hhdEdlbmVyYXRpb25DaHVuayA9IENoYXRHZW5lcmF0aW9uQ2h1bms7XG5leHBvcnRzLkdlbmVyYXRpb25DaHVuayA9IEdlbmVyYXRpb25DaHVuaztcbmV4cG9ydHMuUlVOX0tFWSA9IFJVTl9LRVk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ291dHB1dHNfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG91dHB1dHNfZXhwb3J0cztcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vdXRwdXRzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/outputs.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/prompt_values.cjs":
/*!*************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/prompt_values.cjs ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ./_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_load_serializable = __webpack_require__(/*! ./load/serializable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs\");\nconst require_human = __webpack_require__(/*! ./messages/human.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/human.cjs\");\nconst require_utils = __webpack_require__(/*! ./messages/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/utils.cjs\");\n\n//#region src/prompt_values.ts\nvar prompt_values_exports = {};\nrequire_rolldown_runtime.__export(prompt_values_exports, {\n\tBasePromptValue: () => BasePromptValue,\n\tChatPromptValue: () => ChatPromptValue,\n\tImagePromptValue: () => ImagePromptValue,\n\tStringPromptValue: () => StringPromptValue\n});\n/**\n* Base PromptValue class. All prompt values should extend this class.\n*/\nvar BasePromptValue = class extends require_load_serializable.Serializable {};\n/**\n* Represents a prompt value as a string. It extends the BasePromptValue\n* class and overrides the toString and toChatMessages methods.\n*/\nvar StringPromptValue = class extends BasePromptValue {\n\tstatic lc_name() {\n\t\treturn \"StringPromptValue\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tvalue;\n\tconstructor(value) {\n\t\tsuper({ value });\n\t\tthis.value = value;\n\t}\n\ttoString() {\n\t\treturn this.value;\n\t}\n\ttoChatMessages() {\n\t\treturn [new require_human.HumanMessage(this.value)];\n\t}\n};\n/**\n* Class that represents a chat prompt value. It extends the\n* BasePromptValue and includes an array of BaseMessage instances.\n*/\nvar ChatPromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ChatPromptValue\";\n\t}\n\tmessages;\n\tconstructor(fields) {\n\t\tif (Array.isArray(fields)) fields = { messages: fields };\n\t\tsuper(fields);\n\t\tthis.messages = fields.messages;\n\t}\n\ttoString() {\n\t\treturn require_utils.getBufferString(this.messages);\n\t}\n\ttoChatMessages() {\n\t\treturn this.messages;\n\t}\n};\n/**\n* Class that represents an image prompt value. It extends the\n* BasePromptValue and includes an ImageURL instance.\n*/\nvar ImagePromptValue = class extends BasePromptValue {\n\tlc_namespace = [\"langchain_core\", \"prompt_values\"];\n\tlc_serializable = true;\n\tstatic lc_name() {\n\t\treturn \"ImagePromptValue\";\n\t}\n\timageUrl;\n\t/** @ignore */\n\tvalue;\n\tconstructor(fields) {\n\t\tif (!(\"imageUrl\" in fields)) fields = { imageUrl: fields };\n\t\tsuper(fields);\n\t\tthis.imageUrl = fields.imageUrl;\n\t}\n\ttoString() {\n\t\treturn this.imageUrl.url;\n\t}\n\ttoChatMessages() {\n\t\treturn [new require_human.HumanMessage({ content: [{\n\t\t\ttype: \"image_url\",\n\t\t\timage_url: {\n\t\t\t\tdetail: this.imageUrl.detail,\n\t\t\t\turl: this.imageUrl.url\n\t\t\t}\n\t\t}] })];\n\t}\n};\n\n//#endregion\nexports.BasePromptValue = BasePromptValue;\nexports.ChatPromptValue = ChatPromptValue;\nexports.ImagePromptValue = ImagePromptValue;\nexports.StringPromptValue = StringPromptValue;\nObject.defineProperty(exports, \"prompt_values_exports\", ({\n  enumerable: true,\n  get: function () {\n    return prompt_values_exports;\n  }\n}));\n//# sourceMappingURL=prompt_values.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9wcm9tcHRfdmFsdWVzLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQywySEFBaUM7QUFDMUUsa0NBQWtDLG1CQUFPLENBQUMsMkdBQXlCO0FBQ25FLHNCQUFzQixtQkFBTyxDQUFDLHFHQUFzQjtBQUNwRCxzQkFBc0IsbUJBQU8sQ0FBQyxxR0FBc0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekIseURBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Byb21wdF92YWx1ZXMuY2pzP2Q0NDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV9sb2FkX3NlcmlhbGl6YWJsZSA9IHJlcXVpcmUoJy4vbG9hZC9zZXJpYWxpemFibGUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2h1bWFuID0gcmVxdWlyZSgnLi9tZXNzYWdlcy9odW1hbi5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuL21lc3NhZ2VzL3V0aWxzLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3Byb21wdF92YWx1ZXMudHNcbnZhciBwcm9tcHRfdmFsdWVzX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChwcm9tcHRfdmFsdWVzX2V4cG9ydHMsIHtcblx0QmFzZVByb21wdFZhbHVlOiAoKSA9PiBCYXNlUHJvbXB0VmFsdWUsXG5cdENoYXRQcm9tcHRWYWx1ZTogKCkgPT4gQ2hhdFByb21wdFZhbHVlLFxuXHRJbWFnZVByb21wdFZhbHVlOiAoKSA9PiBJbWFnZVByb21wdFZhbHVlLFxuXHRTdHJpbmdQcm9tcHRWYWx1ZTogKCkgPT4gU3RyaW5nUHJvbXB0VmFsdWVcbn0pO1xuLyoqXG4qIEJhc2UgUHJvbXB0VmFsdWUgY2xhc3MuIEFsbCBwcm9tcHQgdmFsdWVzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcy5cbiovXG52YXIgQmFzZVByb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2xvYWRfc2VyaWFsaXphYmxlLlNlcmlhbGl6YWJsZSB7fTtcbi8qKlxuKiBSZXByZXNlbnRzIGEgcHJvbXB0IHZhbHVlIGFzIGEgc3RyaW5nLiBJdCBleHRlbmRzIHRoZSBCYXNlUHJvbXB0VmFsdWVcbiogY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgdG9TdHJpbmcgYW5kIHRvQ2hhdE1lc3NhZ2VzIG1ldGhvZHMuXG4qL1xudmFyIFN0cmluZ1Byb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJTdHJpbmdQcm9tcHRWYWx1ZVwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicHJvbXB0X3ZhbHVlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0dmFsdWU7XG5cdGNvbnN0cnVjdG9yKHZhbHVlKSB7XG5cdFx0c3VwZXIoeyB2YWx1ZSB9KTtcblx0XHR0aGlzLnZhbHVlID0gdmFsdWU7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWU7XG5cdH1cblx0dG9DaGF0TWVzc2FnZXMoKSB7XG5cdFx0cmV0dXJuIFtuZXcgcmVxdWlyZV9odW1hbi5IdW1hbk1lc3NhZ2UodGhpcy52YWx1ZSldO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGNoYXQgcHJvbXB0IHZhbHVlLiBJdCBleHRlbmRzIHRoZVxuKiBCYXNlUHJvbXB0VmFsdWUgYW5kIGluY2x1ZGVzIGFuIGFycmF5IG9mIEJhc2VNZXNzYWdlIGluc3RhbmNlcy5cbiovXG52YXIgQ2hhdFByb21wdFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBCYXNlUHJvbXB0VmFsdWUge1xuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInByb21wdF92YWx1ZXNcIl07XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkNoYXRQcm9tcHRWYWx1ZVwiO1xuXHR9XG5cdG1lc3NhZ2VzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7IG1lc3NhZ2VzOiBmaWVsZHMgfTtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubWVzc2FnZXMgPSBmaWVsZHMubWVzc2FnZXM7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHJlcXVpcmVfdXRpbHMuZ2V0QnVmZmVyU3RyaW5nKHRoaXMubWVzc2FnZXMpO1xuXHR9XG5cdHRvQ2hhdE1lc3NhZ2VzKCkge1xuXHRcdHJldHVybiB0aGlzLm1lc3NhZ2VzO1xuXHR9XG59O1xuLyoqXG4qIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBwcm9tcHQgdmFsdWUuIEl0IGV4dGVuZHMgdGhlXG4qIEJhc2VQcm9tcHRWYWx1ZSBhbmQgaW5jbHVkZXMgYW4gSW1hZ2VVUkwgaW5zdGFuY2UuXG4qL1xudmFyIEltYWdlUHJvbXB0VmFsdWUgPSBjbGFzcyBleHRlbmRzIEJhc2VQcm9tcHRWYWx1ZSB7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicHJvbXB0X3ZhbHVlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSW1hZ2VQcm9tcHRWYWx1ZVwiO1xuXHR9XG5cdGltYWdlVXJsO1xuXHQvKiogQGlnbm9yZSAqL1xuXHR2YWx1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKCEoXCJpbWFnZVVybFwiIGluIGZpZWxkcykpIGZpZWxkcyA9IHsgaW1hZ2VVcmw6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5pbWFnZVVybCA9IGZpZWxkcy5pbWFnZVVybDtcblx0fVxuXHR0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5pbWFnZVVybC51cmw7XG5cdH1cblx0dG9DaGF0TWVzc2FnZXMoKSB7XG5cdFx0cmV0dXJuIFtuZXcgcmVxdWlyZV9odW1hbi5IdW1hbk1lc3NhZ2UoeyBjb250ZW50OiBbe1xuXHRcdFx0dHlwZTogXCJpbWFnZV91cmxcIixcblx0XHRcdGltYWdlX3VybDoge1xuXHRcdFx0XHRkZXRhaWw6IHRoaXMuaW1hZ2VVcmwuZGV0YWlsLFxuXHRcdFx0XHR1cmw6IHRoaXMuaW1hZ2VVcmwudXJsXG5cdFx0XHR9XG5cdFx0fV0gfSldO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuQmFzZVByb21wdFZhbHVlID0gQmFzZVByb21wdFZhbHVlO1xuZXhwb3J0cy5DaGF0UHJvbXB0VmFsdWUgPSBDaGF0UHJvbXB0VmFsdWU7XG5leHBvcnRzLkltYWdlUHJvbXB0VmFsdWUgPSBJbWFnZVByb21wdFZhbHVlO1xuZXhwb3J0cy5TdHJpbmdQcm9tcHRWYWx1ZSA9IFN0cmluZ1Byb21wdFZhbHVlO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdwcm9tcHRfdmFsdWVzX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9tcHRfdmFsdWVzX2V4cG9ydHM7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbXB0X3ZhbHVlcy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/prompt_values.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/base.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/base.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_load_serializable = __webpack_require__(/*! ../load/serializable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/load/serializable.cjs\");\nconst require_utils = __webpack_require__(/*! ../tools/utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tools/utils.cjs\");\nconst require_index = __webpack_require__(/*! ../singletons/async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n__webpack_require__(/*! ../singletons/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\");\nconst require_config = __webpack_require__(/*! ./config.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs\");\nconst require_signal = __webpack_require__(/*! ../utils/signal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs\");\nconst require_utils_stream = __webpack_require__(/*! ../utils/stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs\");\nconst require_tracers_log_stream = __webpack_require__(/*! ../tracers/log_stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/log_stream.cjs\");\nconst require_event_stream = __webpack_require__(/*! ../tracers/event_stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/event_stream.cjs\");\nconst require_index$1 = __webpack_require__(/*! ../utils/p-retry/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/p-retry/index.cjs\");\nconst require_utils_async_caller = __webpack_require__(/*! ../utils/async_caller.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/async_caller.cjs\");\nconst require_root_listener = __webpack_require__(/*! ../tracers/root_listener.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/root_listener.cjs\");\nconst require_utils$1 = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/utils.cjs\");\nconst require_zod = __webpack_require__(/*! ../utils/types/zod.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs\");\nconst require_runnables_graph = __webpack_require__(/*! ./graph.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/graph.cjs\");\nconst require_wrappers = __webpack_require__(/*! ./wrappers.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/wrappers.cjs\");\nconst require_iter = __webpack_require__(/*! ./iter.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/iter.cjs\");\nconst zod_v3 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v3 */ \"(action-browser)/./node_modules/zod/v3/index.cjs\"));\nconst uuid = require_rolldown_runtime.__toESM(__webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js\"));\nconst langsmith_singletons_traceable = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith/singletons/traceable */ \"(action-browser)/./node_modules/langsmith/singletons/traceable.cjs\"));\n\n//#region src/runnables/base.ts\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && !(value instanceof Date) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\n/**\n* A Runnable is a generic unit of work that can be invoked, batched, streamed, and/or\n* transformed.\n*/\nvar Runnable = class extends require_load_serializable.Serializable {\n\tlc_runnable = true;\n\tname;\n\tgetName(suffix) {\n\t\tconst name = this.name ?? this.constructor.lc_name() ?? this.constructor.name;\n\t\treturn suffix ? `${name}${suffix}` : name;\n\t}\n\t/**\n\t* Add retry logic to an existing runnable.\n\t* @param fields.stopAfterAttempt The number of attempts to retry.\n\t* @param fields.onFailedAttempt A function that is called when a retry fails.\n\t* @returns A new RunnableRetry that, when invoked, will retry according to the parameters.\n\t*/\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this,\n\t\t\tkwargs: {},\n\t\t\tconfig: {},\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\t/**\n\t* Bind config to a Runnable, returning a new Runnable.\n\t* @param config New configuration parameters to attach to the new runnable.\n\t* @returns A new RunnableBinding with a config matching what's passed.\n\t*/\n\twithConfig(config) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig,\n\t\t\tkwargs: {}\n\t\t});\n\t}\n\t/**\n\t* Create a new runnable from the current one that will try invoking\n\t* other passed fallback runnables if the initial invocation fails.\n\t* @param fields.fallbacks Other runnables to call if the runnable errors.\n\t* @returns A new RunnableWithFallbacks.\n\t*/\n\twithFallbacks(fields) {\n\t\tconst fallbacks = Array.isArray(fields) ? fields : fields.fallbacks;\n\t\treturn new RunnableWithFallbacks({\n\t\t\trunnable: this,\n\t\t\tfallbacks\n\t\t});\n\t}\n\t_getOptionsList(options, length = 0) {\n\t\tif (Array.isArray(options) && options.length !== length) throw new Error(`Passed \"options\" must be an array with the same length as the inputs, but got ${options.length} options for ${length} inputs`);\n\t\tif (Array.isArray(options)) return options.map(require_config.ensureConfig);\n\t\tif (length > 1 && !Array.isArray(options) && options.runId) {\n\t\t\tconsole.warn(\"Provided runId will be used only for the first element of the batch.\");\n\t\t\tconst subsequent = Object.fromEntries(Object.entries(options).filter(([key]) => key !== \"runId\"));\n\t\t\treturn Array.from({ length }, (_, i) => require_config.ensureConfig(i === 0 ? options : subsequent));\n\t\t}\n\t\treturn Array.from({ length }, () => require_config.ensureConfig(options));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst maxConcurrency = configList[0]?.maxConcurrency ?? batchOptions?.maxConcurrency;\n\t\tconst caller = new require_utils_async_caller.AsyncCaller({\n\t\t\tmaxConcurrency,\n\t\t\tonFailedAttempt: (e) => {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t});\n\t\tconst batchCalls = inputs.map((input, i) => caller.call(async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await this.invoke(input, configList[i]);\n\t\t\t\treturn result;\n\t\t\t} catch (e) {\n\t\t\t\tif (batchOptions?.returnExceptions) return e;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}));\n\t\treturn Promise.all(batchCalls);\n\t}\n\t/**\n\t* Default streaming implementation.\n\t* Subclasses should override this method if they support streaming output.\n\t* @param input\n\t* @param options\n\t*/\n\tasync *_streamIterator(input, options) {\n\t\tyield this.invoke(input, options);\n\t}\n\t/**\n\t* Stream output in chunks.\n\t* @param input\n\t* @param options\n\t* @returns A readable stream that is also an iterable.\n\t*/\n\tasync stream(input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst wrappedGenerator = new require_utils_stream.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this._streamIterator(input, config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n\t_separateRunnableConfigFromCallOptions(options) {\n\t\tlet runnableConfig;\n\t\tif (options === void 0) runnableConfig = require_config.ensureConfig(options);\n\t\telse runnableConfig = require_config.ensureConfig({\n\t\t\tcallbacks: options.callbacks,\n\t\t\ttags: options.tags,\n\t\t\tmetadata: options.metadata,\n\t\t\trunName: options.runName,\n\t\t\tconfigurable: options.configurable,\n\t\t\trecursionLimit: options.recursionLimit,\n\t\t\tmaxConcurrency: options.maxConcurrency,\n\t\t\trunId: options.runId,\n\t\t\ttimeout: options.timeout,\n\t\t\tsignal: options.signal\n\t\t});\n\t\tconst callOptions = { ...options };\n\t\tdelete callOptions.callbacks;\n\t\tdelete callOptions.tags;\n\t\tdelete callOptions.metadata;\n\t\tdelete callOptions.runName;\n\t\tdelete callOptions.configurable;\n\t\tdelete callOptions.recursionLimit;\n\t\tdelete callOptions.maxConcurrency;\n\t\tdelete callOptions.runId;\n\t\tdelete callOptions.timeout;\n\t\tdelete callOptions.signal;\n\t\treturn [runnableConfig, callOptions];\n\t}\n\tasync _callWithConfig(func, input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, config?.runType, void 0, void 0, config?.runName ?? this.getName());\n\t\tdelete config.runId;\n\t\tlet output;\n\t\ttry {\n\t\t\tconst promise = func.call(this, input, config, runManager);\n\t\t\toutput = await require_signal.raceWithSignal(promise, options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\treturn output;\n\t}\n\t/**\n\t* Internal method that handles batching and configuration for a runnable\n\t* It takes a function, input values, and optional configuration, and\n\t* returns a promise that resolves to the output values.\n\t* @param func The function to be executed for each input value.\n\t* @param input The input values to be processed.\n\t* @param config Optional configuration for the function execution.\n\t* @returns A promise that resolves to the output values.\n\t*/\n\tasync _batchWithConfig(func, inputs, options, batchOptions) {\n\t\tconst optionsList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(optionsList.map(require_config.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), optionsList[i].runId, optionsList[i].runType, void 0, void 0, optionsList[i].runName ?? this.getName());\n\t\t\tdelete optionsList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet outputs;\n\t\ttry {\n\t\t\tconst promise = func.call(this, inputs, optionsList, runManagers, batchOptions);\n\t\t\toutputs = await require_signal.raceWithSignal(promise, optionsList?.[0]?.signal);\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(outputs, \"output\"))));\n\t\treturn outputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn require_utils_stream.concat(first, second);\n\t}\n\t/**\n\t* Helper method to transform an Iterator of Input values into an Iterator of\n\t* Output values, with callbacks.\n\t* Use this to implement `stream()` or `transform()` in Runnable subclasses.\n\t*/\n\tasync *_transformStreamWithConfig(inputGenerator, transformer, options) {\n\t\tlet finalInput;\n\t\tlet finalInputSupported = true;\n\t\tlet finalOutput;\n\t\tlet finalOutputSupported = true;\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst outerThis = this;\n\t\tasync function* wrapInputForTracing() {\n\t\t\tfor await (const chunk of inputGenerator) {\n\t\t\t\tif (finalInputSupported) if (finalInput === void 0) finalInput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalInput = outerThis._concatOutputChunks(finalInput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalInput = void 0;\n\t\t\t\t\tfinalInputSupported = false;\n\t\t\t\t}\n\t\t\t\tyield chunk;\n\t\t\t}\n\t\t}\n\t\tlet runManager;\n\t\ttry {\n\t\t\tconst pipe = await require_utils_stream.pipeGeneratorWithSetup(transformer.bind(this), wrapInputForTracing(), async () => callbackManager_?.handleChainStart(this.toJSON(), { input: \"\" }, config.runId, config.runType, void 0, void 0, config.runName ?? this.getName(), void 0, { lc_defers_inputs: true }), options?.signal, config);\n\t\t\tdelete config.runId;\n\t\t\trunManager = pipe.setup;\n\t\t\tconst streamEventsHandler = runManager?.handlers.find(require_event_stream.isStreamEventsHandler);\n\t\t\tlet iterator = pipe.output;\n\t\t\tif (streamEventsHandler !== void 0 && runManager !== void 0) iterator = streamEventsHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tconst streamLogHandler = runManager?.handlers.find(require_tracers_log_stream.isLogStreamHandler);\n\t\t\tif (streamLogHandler !== void 0 && runManager !== void 0) iterator = streamLogHandler.tapOutputIterable(runManager.runId, iterator);\n\t\t\tfor await (const chunk of iterator) {\n\t\t\t\tyield chunk;\n\t\t\t\tif (finalOutputSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tfinalOutputSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(finalOutput ?? {}, void 0, void 0, void 0, { inputs: _coerceToDict(finalInput, \"input\") });\n\t}\n\tgetGraph(_) {\n\t\tconst graph = new require_runnables_graph.Graph();\n\t\tconst inputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Input`,\n\t\t\tschema: zod_v3.z.any()\n\t\t});\n\t\tconst runnableNode = graph.addNode(this);\n\t\tconst outputNode = graph.addNode({\n\t\t\tname: `${this.getName()}Output`,\n\t\t\tschema: zod_v3.z.any()\n\t\t});\n\t\tgraph.addEdge(inputNode, runnableNode);\n\t\tgraph.addEdge(runnableNode, outputNode);\n\t\treturn graph;\n\t}\n\t/**\n\t* Create a new runnable sequence that runs each individual runnable in series,\n\t* piping the output of one runnable into another runnable or runnable-like.\n\t* @param coerceable A runnable, function, or object whose values are functions or runnables.\n\t* @returns A new runnable sequence.\n\t*/\n\tpipe(coerceable) {\n\t\treturn new RunnableSequence({\n\t\t\tfirst: this,\n\t\t\tlast: _coerceToRunnable(coerceable)\n\t\t});\n\t}\n\t/**\n\t* Pick keys from the dict output of this runnable. Returns a new runnable.\n\t*/\n\tpick(keys) {\n\t\treturn this.pipe(new RunnablePick(keys));\n\t}\n\t/**\n\t* Assigns new fields to the dict output of this runnable. Returns a new runnable.\n\t*/\n\tassign(mapping) {\n\t\treturn this.pipe(new RunnableAssign(new RunnableMap({ steps: mapping })));\n\t}\n\t/**\n\t* Default implementation of transform, which buffers input and then calls stream.\n\t* Subclasses should override this method if they can start producing output while\n\t* input is still being generated.\n\t* @param generator\n\t* @param options\n\t*/\n\tasync *transform(generator, options) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse finalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\tyield* this._streamIterator(finalChunk, require_config.ensureConfig(options));\n\t}\n\t/**\n\t* Stream all output from a runnable, as reported to the callback system.\n\t* This includes all inner runs of LLMs, Retrievers, Tools, etc.\n\t* Output is streamed as Log objects, which include a list of\n\t* jsonpatch ops that describe how the state of the run has changed in each\n\t* step, and the final state of the run.\n\t* The jsonpatch ops can be applied in order to construct state.\n\t* @param input\n\t* @param options\n\t* @param streamOptions\n\t*/\n\tasync *streamLog(input, options, streamOptions) {\n\t\tconst logStreamCallbackHandler = new require_tracers_log_stream.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"original\"\n\t\t});\n\t\tconst config = require_config.ensureConfig(options);\n\t\tyield* this._streamLog(input, logStreamCallbackHandler, config);\n\t}\n\tasync *_streamLog(input, logStreamCallbackHandler, config) {\n\t\tconst { callbacks } = config;\n\t\tif (callbacks === void 0) config.callbacks = [logStreamCallbackHandler];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat([logStreamCallbackHandler]);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(logStreamCallbackHandler, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst runnableStreamPromise = this.stream(input, config);\n\t\tasync function consumeRunnableStream() {\n\t\t\ttry {\n\t\t\t\tconst runnableStream = await runnableStreamPromise;\n\t\t\t\tfor await (const chunk of runnableStream) {\n\t\t\t\t\tconst patch = new require_tracers_log_stream.RunLogPatch({ ops: [{\n\t\t\t\t\t\top: \"add\",\n\t\t\t\t\t\tpath: \"/streamed_output/-\",\n\t\t\t\t\t\tvalue: chunk\n\t\t\t\t\t}] });\n\t\t\t\t\tawait logStreamCallbackHandler.writer.write(patch);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tawait logStreamCallbackHandler.writer.close();\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\ttry {\n\t\t\tfor await (const log of logStreamCallbackHandler) yield log;\n\t\t} finally {\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tlet stream;\n\t\tif (options.version === \"v1\") stream = this._streamEventsV1(input, options, streamOptions);\n\t\telse if (options.version === \"v2\") stream = this._streamEventsV2(input, options, streamOptions);\n\t\telse throw new Error(`Only versions \"v1\" and \"v2\" of the schema are currently supported.`);\n\t\tif (options.encoding === \"text/event-stream\") return require_wrappers.convertToHttpEventStream(stream);\n\t\telse return require_utils_stream.IterableReadableStream.fromAsyncGenerator(stream);\n\t}\n\tasync *_streamEventsV2(input, options, streamOptions) {\n\t\tconst eventStreamer = new require_event_stream.EventStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false\n\t\t});\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst runId = config.runId ?? (0, uuid.v4)();\n\t\tconfig.runId = runId;\n\t\tconst callbacks = config.callbacks;\n\t\tif (callbacks === void 0) config.callbacks = [eventStreamer];\n\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat(eventStreamer);\n\t\telse {\n\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\tcopiedCallbacks.addHandler(eventStreamer, true);\n\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t}\n\t\tconst abortController = new AbortController();\n\t\tconst outerThis = this;\n\t\tasync function consumeRunnableStream() {\n\t\t\tlet signal;\n\t\t\tlet listener = null;\n\t\t\ttry {\n\t\t\t\tif (options?.signal) if (\"any\" in AbortSignal) signal = AbortSignal.any([abortController.signal, options.signal]);\n\t\t\t\telse {\n\t\t\t\t\tsignal = options.signal;\n\t\t\t\t\tlistener = () => {\n\t\t\t\t\t\tabortController.abort();\n\t\t\t\t\t};\n\t\t\t\t\toptions.signal.addEventListener(\"abort\", listener, { once: true });\n\t\t\t\t}\n\t\t\t\telse signal = abortController.signal;\n\t\t\t\tconst runnableStream = await outerThis.stream(input, {\n\t\t\t\t\t...config,\n\t\t\t\t\tsignal\n\t\t\t\t});\n\t\t\t\tconst tappedStream = eventStreamer.tapOutputIterable(runId, runnableStream);\n\t\t\t\tfor await (const _ of tappedStream) if (abortController.signal.aborted) break;\n\t\t\t} finally {\n\t\t\t\tawait eventStreamer.finish();\n\t\t\t\tif (signal && listener) signal.removeEventListener(\"abort\", listener);\n\t\t\t}\n\t\t}\n\t\tconst runnableStreamConsumePromise = consumeRunnableStream();\n\t\tlet firstEventSent = false;\n\t\tlet firstEventRunId;\n\t\ttry {\n\t\t\tfor await (const event of eventStreamer) {\n\t\t\t\tif (!firstEventSent) {\n\t\t\t\t\tevent.data.input = input;\n\t\t\t\t\tfirstEventSent = true;\n\t\t\t\t\tfirstEventRunId = event.run_id;\n\t\t\t\t\tyield event;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (event.run_id === firstEventRunId && event.event.endsWith(\"_end\")) {\n\t\t\t\t\tif (event.data?.input) delete event.data.input;\n\t\t\t\t}\n\t\t\t\tyield event;\n\t\t\t}\n\t\t} finally {\n\t\t\tabortController.abort();\n\t\t\tawait runnableStreamConsumePromise;\n\t\t}\n\t}\n\tasync *_streamEventsV1(input, options, streamOptions) {\n\t\tlet runLog;\n\t\tlet hasEncounteredStartEvent = false;\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst rootTags = config.tags ?? [];\n\t\tconst rootMetadata = config.metadata ?? {};\n\t\tconst rootName = config.runName ?? this.getName();\n\t\tconst logStreamCallbackHandler = new require_tracers_log_stream.LogStreamCallbackHandler({\n\t\t\t...streamOptions,\n\t\t\tautoClose: false,\n\t\t\t_schemaFormat: \"streaming_events\"\n\t\t});\n\t\tconst rootEventFilter = new require_utils$1._RootEventFilter({ ...streamOptions });\n\t\tconst logStream = this._streamLog(input, logStreamCallbackHandler, config);\n\t\tfor await (const log of logStream) {\n\t\t\tif (!runLog) runLog = require_tracers_log_stream.RunLog.fromRunLogPatch(log);\n\t\t\telse runLog = runLog.concat(log);\n\t\t\tif (runLog.state === void 0) throw new Error(`Internal error: \"streamEvents\" state is missing. Please open a bug report.`);\n\t\t\tif (!hasEncounteredStartEvent) {\n\t\t\t\thasEncounteredStartEvent = true;\n\t\t\t\tconst state$2 = { ...runLog.state };\n\t\t\t\tconst event = {\n\t\t\t\t\trun_id: state$2.id,\n\t\t\t\t\tevent: `on_${state$2.type}_start`,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tdata: { input }\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$2.type)) yield event;\n\t\t\t}\n\t\t\tconst paths = log.ops.filter((op) => op.path.startsWith(\"/logs/\")).map((op) => op.path.split(\"/\")[2]);\n\t\t\tconst dedupedPaths = [...new Set(paths)];\n\t\t\tfor (const path of dedupedPaths) {\n\t\t\t\tlet eventType;\n\t\t\t\tlet data = {};\n\t\t\t\tconst logEntry = runLog.state.logs[path];\n\t\t\t\tif (logEntry.end_time === void 0) if (logEntry.streamed_output.length > 0) eventType = \"stream\";\n\t\t\t\telse eventType = \"start\";\n\t\t\t\telse eventType = \"end\";\n\t\t\t\tif (eventType === \"start\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t} else if (eventType === \"end\") {\n\t\t\t\t\tif (logEntry.inputs !== void 0) data.input = logEntry.inputs;\n\t\t\t\t\tdata.output = logEntry.final_output;\n\t\t\t\t} else if (eventType === \"stream\") {\n\t\t\t\t\tconst chunkCount = logEntry.streamed_output.length;\n\t\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${logEntry.name}\"`);\n\t\t\t\t\tdata = { chunk: logEntry.streamed_output[0] };\n\t\t\t\t\tlogEntry.streamed_output = [];\n\t\t\t\t}\n\t\t\t\tyield {\n\t\t\t\t\tevent: `on_${logEntry.type}_${eventType}`,\n\t\t\t\t\tname: logEntry.name,\n\t\t\t\t\trun_id: logEntry.id,\n\t\t\t\t\ttags: logEntry.tags,\n\t\t\t\t\tmetadata: logEntry.metadata,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { state: state$1 } = runLog;\n\t\t\tif (state$1.streamed_output.length > 0) {\n\t\t\t\tconst chunkCount = state$1.streamed_output.length;\n\t\t\t\tif (chunkCount !== 1) throw new Error(`Expected exactly one chunk of streamed output, got ${chunkCount} instead. Encountered in: \"${state$1.name}\"`);\n\t\t\t\tconst data = { chunk: state$1.streamed_output[0] };\n\t\t\t\tstate$1.streamed_output = [];\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${state$1.type}_stream`,\n\t\t\t\t\trun_id: state$1.id,\n\t\t\t\t\ttags: rootTags,\n\t\t\t\t\tmetadata: rootMetadata,\n\t\t\t\t\tname: rootName,\n\t\t\t\t\tdata\n\t\t\t\t};\n\t\t\t\tif (rootEventFilter.includeEvent(event, state$1.type)) yield event;\n\t\t\t}\n\t\t}\n\t\tconst state = runLog?.state;\n\t\tif (state !== void 0) {\n\t\t\tconst event = {\n\t\t\t\tevent: `on_${state.type}_end`,\n\t\t\t\tname: rootName,\n\t\t\t\trun_id: state.id,\n\t\t\t\ttags: rootTags,\n\t\t\t\tmetadata: rootMetadata,\n\t\t\t\tdata: { output: state.final_output }\n\t\t\t};\n\t\t\tif (rootEventFilter.includeEvent(event, state.type)) yield event;\n\t\t}\n\t}\n\tstatic isRunnable(thing) {\n\t\treturn require_utils$1.isRunnableInterface(thing);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this,\n\t\t\tconfig: {},\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new require_root_listener.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n\t/**\n\t* Convert a runnable to a tool. Return a new instance of `RunnableToolLike`\n\t* which contains the runnable, name, description and schema.\n\t*\n\t* @template {T extends RunInput = RunInput} RunInput - The input type of the runnable. Should be the same as the `RunInput` type of the runnable.\n\t*\n\t* @param fields\n\t* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n\t* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n\t* @param {z.ZodType<T>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n\t* @returns {RunnableToolLike<z.ZodType<T>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n\t*/\n\tasTool(fields) {\n\t\treturn convertRunnableToTool(this, fields);\n\t}\n};\n/**\n* Wraps a runnable and applies partial config upon invocation.\n*\n* @example\n* ```typescript\n* import {\n*   type RunnableConfig,\n*   RunnableLambda,\n* } from \"@langchain/core/runnables\";\n*\n* const enhanceProfile = (\n*   profile: Record<string, any>,\n*   config?: RunnableConfig\n* ) => {\n*   if (config?.configurable?.role) {\n*     return { ...profile, role: config.configurable.role };\n*   }\n*   return profile;\n* };\n*\n* const runnable = RunnableLambda.from(enhanceProfile);\n*\n* // Bind configuration to the runnable to set the user's role dynamically\n* const adminRunnable = runnable.withConfig({ configurable: { role: \"Admin\" } });\n* const userRunnable = runnable.withConfig({ configurable: { role: \"User\" } });\n*\n* const result1 = await adminRunnable.invoke({\n*   name: \"Alice\",\n*   email: \"alice@example.com\"\n* });\n*\n* // { name: \"Alice\", email: \"alice@example.com\", role: \"Admin\" }\n*\n* const result2 = await userRunnable.invoke({\n*   name: \"Bob\",\n*   email: \"bob@example.com\"\n* });\n*\n* // { name: \"Bob\", email: \"bob@example.com\", role: \"User\" }\n* ```\n*/\nvar RunnableBinding = class RunnableBinding extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableBinding\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tbound;\n\tconfig;\n\tkwargs;\n\tconfigFactories;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t\tthis.kwargs = fields.kwargs;\n\t\tthis.config = fields.config;\n\t\tthis.configFactories = fields.configFactories;\n\t}\n\tgetName(suffix) {\n\t\treturn this.bound.getName(suffix);\n\t}\n\tasync _mergeConfig(...options) {\n\t\tconst config = require_config.mergeConfigs(this.config, ...options);\n\t\treturn require_config.mergeConfigs(config, ...this.configFactories ? await Promise.all(this.configFactories.map(async (configFactory) => await configFactory(config))) : []);\n\t}\n\twithConfig(config) {\n\t\treturn new this.constructor({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: {\n\t\t\t\t...this.config,\n\t\t\t\t...config\n\t\t\t}\n\t\t});\n\t}\n\twithRetry(fields) {\n\t\treturn new RunnableRetry({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tmaxAttemptNumber: fields?.stopAfterAttempt,\n\t\t\t...fields\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this.bound.invoke(input, await this._mergeConfig(options, this.kwargs));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst mergedOptions = Array.isArray(options) ? await Promise.all(options.map(async (individualOption) => this._mergeConfig(require_config.ensureConfig(individualOption), this.kwargs))) : await this._mergeConfig(require_config.ensureConfig(options), this.kwargs);\n\t\treturn this.bound.batch(inputs, mergedOptions, batchOptions);\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.bound._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tyield* this.bound._streamIterator(input, await this._mergeConfig(require_config.ensureConfig(options), this.kwargs));\n\t}\n\tasync stream(input, options) {\n\t\treturn this.bound.stream(input, await this._mergeConfig(require_config.ensureConfig(options), this.kwargs));\n\t}\n\tasync *transform(generator, options) {\n\t\tyield* this.bound.transform(generator, await this._mergeConfig(require_config.ensureConfig(options), this.kwargs));\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tconst outerThis = this;\n\t\tconst generator = async function* () {\n\t\t\tyield* outerThis.bound.streamEvents(input, {\n\t\t\t\t...await outerThis._mergeConfig(require_config.ensureConfig(options), outerThis.kwargs),\n\t\t\t\tversion: options.version\n\t\t\t}, streamOptions);\n\t\t};\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(generator());\n\t}\n\tstatic isRunnableBinding(thing) {\n\t\treturn thing.bound && Runnable.isRunnable(thing.bound);\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableBinding({\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tconfigFactories: [(config) => ({ callbacks: [new require_root_listener.RootListenersTracer({\n\t\t\t\tconfig,\n\t\t\t\tonStart,\n\t\t\t\tonEnd,\n\t\t\t\tonError\n\t\t\t})] })]\n\t\t});\n\t}\n};\n/**\n* A runnable that delegates calls to another runnable\n* with each element of the input sequence.\n* @example\n* ```typescript\n* import { RunnableEach, RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const toUpperCase = (input: string): string => input.toUpperCase();\n* const addGreeting = (input: string): string => `Hello, ${input}!`;\n*\n* const upperCaseLambda = RunnableLambda.from(toUpperCase);\n* const greetingLambda = RunnableLambda.from(addGreeting);\n*\n* const chain = new RunnableEach({\n*   bound: upperCaseLambda.pipe(greetingLambda),\n* });\n*\n* const result = await chain.invoke([\"alice\", \"bob\", \"carol\"])\n*\n* // [\"Hello, ALICE!\", \"Hello, BOB!\", \"Hello, CAROL!\"]\n* ```\n*/\nvar RunnableEach = class RunnableEach extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableEach\";\n\t}\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tbound;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.bound = fields.bound;\n\t}\n\t/**\n\t* Invokes the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(inputs, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), inputs, config);\n\t}\n\t/**\n\t* A helper method that is used to invoke the runnable with the specified input and configuration.\n\t* @param input The input to invoke the runnable with.\n\t* @param config The configuration to invoke the runnable with.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync _invoke(inputs, config, runManager) {\n\t\treturn this.bound.batch(inputs, require_config.patchConfig(config, { callbacks: runManager?.getChild() }));\n\t}\n\t/**\n\t* Bind lifecycle listeners to a Runnable, returning a new Runnable.\n\t* The Run object contains information about the run, including its id,\n\t* type, input, output, error, startTime, endTime, and any tags or metadata\n\t* added to the run.\n\t*\n\t* @param {Object} params - The object containing the callback functions.\n\t* @param {(run: Run) => void} params.onStart - Called before the runnable starts running, with the Run object.\n\t* @param {(run: Run) => void} params.onEnd - Called after the runnable finishes running, with the Run object.\n\t* @param {(run: Run) => void} params.onError - Called if the runnable throws an error, with the Run object.\n\t*/\n\twithListeners({ onStart, onEnd, onError }) {\n\t\treturn new RunnableEach({ bound: this.bound.withListeners({\n\t\t\tonStart,\n\t\t\tonEnd,\n\t\t\tonError\n\t\t}) });\n\t}\n};\n/**\n* Base class for runnables that can be retried a\n* specified number of times.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableRetry,\n* } from \"@langchain/core/runnables\";\n*\n* // Simulate an API call that fails\n* const simulateApiCall = (input: string): string => {\n*   console.log(`Attempting API call with input: ${input}`);\n*   throw new Error(\"API call failed due to network issue\");\n* };\n*\n* const apiCallLambda = RunnableLambda.from(simulateApiCall);\n*\n* // Apply retry logic using the .withRetry() method\n* const apiCallWithRetry = apiCallLambda.withRetry({ stopAfterAttempt: 3 });\n*\n* // Alternatively, create a RunnableRetry instance manually\n* const manualRetry = new RunnableRetry({\n*   bound: apiCallLambda,\n*   maxAttemptNumber: 3,\n*   config: {},\n* });\n*\n* // Example invocation using the .withRetry() method\n* const res = await apiCallWithRetry\n*   .invoke(\"Request 1\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n*\n* // Example invocation using the manual retry instance\n* const res2 = await manualRetry\n*   .invoke(\"Request 2\")\n*   .catch((error) => {\n*     console.error(\"Failed after multiple retries:\", error.message);\n*   });\n* ```\n*/\nvar RunnableRetry = class extends RunnableBinding {\n\tstatic lc_name() {\n\t\treturn \"RunnableRetry\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tmaxAttemptNumber = 3;\n\tonFailedAttempt = () => {};\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.maxAttemptNumber = fields.maxAttemptNumber ?? this.maxAttemptNumber;\n\t\tthis.onFailedAttempt = fields.onFailedAttempt ?? this.onFailedAttempt;\n\t}\n\t_patchConfigForRetry(attempt, config, runManager) {\n\t\tconst tag = attempt > 1 ? `retry:attempt:${attempt}` : void 0;\n\t\treturn require_config.patchConfig(config, { callbacks: runManager?.getChild(tag) });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn require_index$1.pRetry((attemptNumber) => super.invoke(input, this._patchConfigForRetry(attemptNumber, config, runManager)), {\n\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt(error, input),\n\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\trandomize: true\n\t\t});\n\t}\n\t/**\n\t* Method that invokes the runnable with the specified input, run manager,\n\t* and config. It handles the retry logic by catching any errors and\n\t* recursively invoking itself with the updated config for the next retry\n\t* attempt.\n\t* @param input The input for the runnable.\n\t* @param runManager The run manager for the runnable.\n\t* @param config The config for the runnable.\n\t* @returns A promise that resolves to the output of the runnable.\n\t*/\n\tasync invoke(input, config) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, config);\n\t}\n\tasync _batch(inputs, configs, runManagers, batchOptions) {\n\t\tconst resultsMap = {};\n\t\ttry {\n\t\t\tawait require_index$1.pRetry(async (attemptNumber) => {\n\t\t\t\tconst remainingIndexes = inputs.map((_, i) => i).filter((i) => resultsMap[i.toString()] === void 0 || resultsMap[i.toString()] instanceof Error);\n\t\t\t\tconst remainingInputs = remainingIndexes.map((i) => inputs[i]);\n\t\t\t\tconst patchedConfigs = remainingIndexes.map((i) => this._patchConfigForRetry(attemptNumber, configs?.[i], runManagers?.[i]));\n\t\t\t\tconst results = await super.batch(remainingInputs, patchedConfigs, {\n\t\t\t\t\t...batchOptions,\n\t\t\t\t\treturnExceptions: true\n\t\t\t\t});\n\t\t\t\tlet firstException;\n\t\t\t\tfor (let i = 0; i < results.length; i += 1) {\n\t\t\t\t\tconst result = results[i];\n\t\t\t\t\tconst resultMapIndex = remainingIndexes[i];\n\t\t\t\t\tif (result instanceof Error) {\n\t\t\t\t\t\tif (firstException === void 0) {\n\t\t\t\t\t\t\tfirstException = result;\n\t\t\t\t\t\t\tfirstException.input = remainingInputs[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresultsMap[resultMapIndex.toString()] = result;\n\t\t\t\t}\n\t\t\t\tif (firstException) throw firstException;\n\t\t\t\treturn results;\n\t\t\t}, {\n\t\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt(error, error.input),\n\t\t\t\tretries: Math.max(this.maxAttemptNumber - 1, 0),\n\t\t\t\trandomize: true\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (batchOptions?.returnExceptions !== true) throw e;\n\t\t}\n\t\treturn Object.keys(resultsMap).sort((a, b) => parseInt(a, 10) - parseInt(b, 10)).map((key) => resultsMap[parseInt(key, 10)]);\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\treturn this._batchWithConfig(this._batch.bind(this), inputs, options, batchOptions);\n\t}\n};\n/**\n* A sequence of runnables, where the output of each is the input of the next.\n* @example\n* ```typescript\n* const promptTemplate = PromptTemplate.fromTemplate(\n*   \"Tell me a joke about {topic}\",\n* );\n* const chain = RunnableSequence.from([promptTemplate, new ChatOpenAI({ model: \"gpt-4o-mini\" })]);\n* const result = await chain.invoke({ topic: \"bears\" });\n* ```\n*/\nvar RunnableSequence = class RunnableSequence extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableSequence\";\n\t}\n\tfirst;\n\tmiddle = [];\n\tlast;\n\tomitSequenceTags = false;\n\tlc_serializable = true;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.first = fields.first;\n\t\tthis.middle = fields.middle ?? this.middle;\n\t\tthis.last = fields.last;\n\t\tthis.name = fields.name;\n\t\tthis.omitSequenceTags = fields.omitSequenceTags ?? this.omitSequenceTags;\n\t}\n\tget steps() {\n\t\treturn [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tlet nextStepInput = input;\n\t\tlet finalOutput;\n\t\ttry {\n\t\t\tconst initialSteps = [this.first, ...this.middle];\n\t\t\tfor (let i = 0; i < initialSteps.length; i += 1) {\n\t\t\t\tconst step = initialSteps[i];\n\t\t\t\tconst promise = step.invoke(nextStepInput, require_config.patchConfig(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t\tnextStepInput = await require_signal.raceWithSignal(promise, options?.signal);\n\t\t\t}\n\t\t\tif (options?.signal?.aborted) throw require_signal.getAbortSignalError(options.signal);\n\t\t\tfinalOutput = await this.last.invoke(nextStepInput, require_config.patchConfig(config, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${this.steps.length}`) }));\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t\treturn finalOutput;\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map(require_config.getCallbackManagerForConfig));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet nextStepInputs = inputs;\n\t\ttry {\n\t\t\tfor (let i = 0; i < this.steps.length; i += 1) {\n\t\t\t\tconst step = this.steps[i];\n\t\t\t\tconst promise = step.batch(nextStepInputs, runManagers.map((runManager, j) => {\n\t\t\t\t\tconst childRunManager = runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`);\n\t\t\t\t\treturn require_config.patchConfig(configList[j], { callbacks: childRunManager });\n\t\t\t\t}), batchOptions);\n\t\t\t\tnextStepInputs = await require_signal.raceWithSignal(promise, configList[0]?.signal);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(e)));\n\t\t\tthrow e;\n\t\t}\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainEnd(_coerceToDict(nextStepInputs, \"output\"))));\n\t\treturn nextStepInputs;\n\t}\n\t/** @internal */\n\t_concatOutputChunks(first, second) {\n\t\treturn this.last._concatOutputChunks(first, second);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(options);\n\t\tconst { runId,...otherOptions } = options ?? {};\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherOptions?.runName);\n\t\tconst steps = [\n\t\t\tthis.first,\n\t\t\t...this.middle,\n\t\t\tthis.last\n\t\t];\n\t\tlet concatSupported = true;\n\t\tlet finalOutput;\n\t\tasync function* inputGenerator() {\n\t\t\tyield input;\n\t\t}\n\t\ttry {\n\t\t\tlet finalGenerator = steps[0].transform(inputGenerator(), require_config.patchConfig(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:1`) }));\n\t\t\tfor (let i = 1; i < steps.length; i += 1) {\n\t\t\t\tconst step = steps[i];\n\t\t\t\tfinalGenerator = await step.transform(finalGenerator, require_config.patchConfig(otherOptions, { callbacks: runManager?.getChild(this.omitSequenceTags ? void 0 : `seq:step:${i + 1}`) }));\n\t\t\t}\n\t\t\tfor await (const chunk of finalGenerator) {\n\t\t\t\toptions?.signal?.throwIfAborted();\n\t\t\t\tyield chunk;\n\t\t\t\tif (concatSupported) if (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\telse try {\n\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\tfinalOutput = void 0;\n\t\t\t\t\tconcatSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(finalOutput, \"output\"));\n\t}\n\tgetGraph(config) {\n\t\tconst graph = new require_runnables_graph.Graph();\n\t\tlet currentLastNode = null;\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tconst stepGraph = step.getGraph(config);\n\t\t\tif (index !== 0) stepGraph.trimFirstNode();\n\t\t\tif (index !== this.steps.length - 1) stepGraph.trimLastNode();\n\t\t\tgraph.extend(stepGraph);\n\t\t\tconst stepFirstNode = stepGraph.firstNode();\n\t\t\tif (!stepFirstNode) throw new Error(`Runnable ${step} has no first node`);\n\t\t\tif (currentLastNode) graph.addEdge(currentLastNode, stepFirstNode);\n\t\t\tcurrentLastNode = stepGraph.lastNode();\n\t\t});\n\t\treturn graph;\n\t}\n\tpipe(coerceable) {\n\t\tif (RunnableSequence.isRunnableSequence(coerceable)) return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: this.middle.concat([\n\t\t\t\tthis.last,\n\t\t\t\tcoerceable.first,\n\t\t\t\t...coerceable.middle\n\t\t\t]),\n\t\t\tlast: coerceable.last,\n\t\t\tname: this.name ?? coerceable.name\n\t\t});\n\t\telse return new RunnableSequence({\n\t\t\tfirst: this.first,\n\t\t\tmiddle: [...this.middle, this.last],\n\t\t\tlast: _coerceToRunnable(coerceable),\n\t\t\tname: this.name\n\t\t});\n\t}\n\tstatic isRunnableSequence(thing) {\n\t\treturn Array.isArray(thing.middle) && Runnable.isRunnable(thing);\n\t}\n\tstatic from([first, ...runnables], nameOrFields) {\n\t\tlet extra = {};\n\t\tif (typeof nameOrFields === \"string\") extra.name = nameOrFields;\n\t\telse if (nameOrFields !== void 0) extra = nameOrFields;\n\t\treturn new RunnableSequence({\n\t\t\t...extra,\n\t\t\tfirst: _coerceToRunnable(first),\n\t\t\tmiddle: runnables.slice(0, -1).map(_coerceToRunnable),\n\t\t\tlast: _coerceToRunnable(runnables[runnables.length - 1])\n\t\t});\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* const mapChain = RunnableMap.from({\n*   joke: PromptTemplate.fromTemplate(\"Tell me a joke about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n*   poem: PromptTemplate.fromTemplate(\"write a 2-line poem about {topic}\").pipe(\n*     new ChatAnthropic({}),\n*   ),\n* });\n* const result = await mapChain.invoke({ topic: \"bear\" });\n* ```\n*/\nvar RunnableMap = class RunnableMap extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableMap\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tsteps;\n\tgetStepsKeys() {\n\t\treturn Object.keys(this.steps);\n\t}\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.steps = {};\n\t\tfor (const [key, value] of Object.entries(fields.steps)) this.steps[key] = _coerceToRunnable(value);\n\t}\n\tstatic from(steps) {\n\t\treturn new RunnableMap({ steps });\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), { input }, config.runId, void 0, void 0, void 0, config?.runName);\n\t\tdelete config.runId;\n\t\tconst output = {};\n\t\ttry {\n\t\t\tconst promises = Object.entries(this.steps).map(async ([key, runnable]) => {\n\t\t\t\toutput[key] = await runnable.invoke(input, require_config.patchConfig(config, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\t});\n\t\t\tawait require_signal.raceWithSignal(Promise.all(promises), options?.signal);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(output);\n\t\treturn output;\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst steps = { ...this.steps };\n\t\tconst inputCopies = require_utils_stream.atee(generator, Object.keys(steps).length);\n\t\tconst tasks = new Map(Object.entries(steps).map(([key, runnable], i) => {\n\t\t\tconst gen = runnable.transform(inputCopies[i], require_config.patchConfig(options, { callbacks: runManager?.getChild(`map:key:${key}`) }));\n\t\t\treturn [key, gen.next().then((result) => ({\n\t\t\t\tkey,\n\t\t\t\tgen,\n\t\t\t\tresult\n\t\t\t}))];\n\t\t}));\n\t\twhile (tasks.size) {\n\t\t\tconst promise = Promise.race(tasks.values());\n\t\t\tconst { key, result, gen } = await require_signal.raceWithSignal(promise, options?.signal);\n\t\t\ttasks.delete(key);\n\t\t\tif (!result.done) {\n\t\t\t\tyield { [key]: result.value };\n\t\t\t\ttasks.set(key, gen.next().then((result$1) => ({\n\t\t\t\t\tkey,\n\t\t\t\t\tgen,\n\t\t\t\t\tresult: result$1\n\t\t\t\t})));\n\t\t\t}\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst wrappedGenerator = new require_utils_stream.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that wraps a traced LangSmith function.\n*/\nvar RunnableTraceable = class RunnableTraceable extends Runnable {\n\tlc_serializable = false;\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tif (!(0, langsmith_singletons_traceable.isTraceableFunction)(fields.func)) throw new Error(\"RunnableTraceable requires a function that is wrapped in traceable higher-order function\");\n\t\tthis.func = fields.func;\n\t}\n\tasync invoke(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst callbacks = await require_config.getCallbackManagerForConfig(config);\n\t\tconst promise = this.func(require_config.patchConfig(config, { callbacks }), input);\n\t\treturn require_signal.raceWithSignal(promise, config?.signal);\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst [config] = this._getOptionsList(options ?? {}, 1);\n\t\tconst result = await this.invoke(input, options);\n\t\tif (require_iter.isAsyncIterable(result)) {\n\t\t\tfor await (const item of result) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tyield item;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (require_iter.isIterator(result)) {\n\t\t\twhile (true) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\tconst state = result.next();\n\t\t\t\tif (state.done) break;\n\t\t\t\tyield state.value;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tyield result;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableTraceable({ func });\n\t}\n};\nfunction assertNonTraceableFunction(func) {\n\tif ((0, langsmith_singletons_traceable.isTraceableFunction)(func)) throw new Error(\"RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.\");\n}\n/**\n* A runnable that wraps an arbitrary function that takes a single argument.\n* @example\n* ```typescript\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n*\n* const add = (input: { x: number; y: number }) => input.x + input.y;\n*\n* const multiply = (input: { value: number; multiplier: number }) =>\n*   input.value * input.multiplier;\n*\n* // Create runnables for the functions\n* const addLambda = RunnableLambda.from(add);\n* const multiplyLambda = RunnableLambda.from(multiply);\n*\n* // Chain the lambdas for a mathematical operation\n* const chainedLambda = addLambda.pipe((result) =>\n*   multiplyLambda.invoke({ value: result, multiplier: 2 })\n* );\n*\n* // Example invocation of the chainedLambda\n* const result = await chainedLambda.invoke({ x: 2, y: 3 });\n*\n* // Will log \"10\" (since (2 + 3) * 2 = 10)\n* ```\n*/\nvar RunnableLambda = class RunnableLambda extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableLambda\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tfunc;\n\tconstructor(fields) {\n\t\tif ((0, langsmith_singletons_traceable.isTraceableFunction)(fields.func)) return RunnableTraceable.from(fields.func);\n\t\tsuper(fields);\n\t\tassertNonTraceableFunction(fields.func);\n\t\tthis.func = fields.func;\n\t}\n\tstatic from(func) {\n\t\treturn new RunnableLambda({ func });\n\t}\n\tasync _invoke(input, config, runManager) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst childConfig = require_config.patchConfig(config, {\n\t\t\t\tcallbacks: runManager?.getChild(),\n\t\t\t\trecursionLimit: (config?.recursionLimit ?? require_config.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t});\n\t\t\trequire_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tlet output = await this.func(input, { ...childConfig });\n\t\t\t\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\t\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\t\t\t\toutput = await output.invoke(input, {\n\t\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\t\trecursionLimit: (childConfig.recursionLimit ?? require_config.DEFAULT_RECURSION_LIMIT) - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (require_iter.isAsyncIterable(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor await (const chunk of require_iter.consumeAsyncIterableInContext(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t} else if (require_iter.isIterableIterator(output)) {\n\t\t\t\t\t\tlet finalOutput;\n\t\t\t\t\t\tfor (const chunk of require_iter.consumeIteratorInContext(childConfig, output)) {\n\t\t\t\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\t\t\t\tif (finalOutput === void 0) finalOutput = chunk;\n\t\t\t\t\t\t\telse try {\n\t\t\t\t\t\t\t\tfinalOutput = this._concatOutputChunks(finalOutput, chunk);\n\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\tfinalOutput = chunk;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\toutput = finalOutput;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(output);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._invoke.bind(this), input, options);\n\t}\n\tasync *_transform(generator, runManager, config) {\n\t\tlet finalChunk;\n\t\tfor await (const chunk of generator) if (finalChunk === void 0) finalChunk = chunk;\n\t\telse try {\n\t\t\tfinalChunk = this._concatOutputChunks(finalChunk, chunk);\n\t\t} catch {\n\t\t\tfinalChunk = chunk;\n\t\t}\n\t\tconst childConfig = require_config.patchConfig(config, {\n\t\t\tcallbacks: runManager?.getChild(),\n\t\t\trecursionLimit: (config?.recursionLimit ?? require_config.DEFAULT_RECURSION_LIMIT) - 1\n\t\t});\n\t\tconst output = await new Promise((resolve, reject) => {\n\t\t\trequire_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(childConfig), async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await this.func(finalChunk, {\n\t\t\t\t\t\t...childConfig,\n\t\t\t\t\t\tconfig: childConfig\n\t\t\t\t\t});\n\t\t\t\t\tresolve(res);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tif (output && Runnable.isRunnable(output)) {\n\t\t\tif (config?.recursionLimit === 0) throw new Error(\"Recursion limit reached.\");\n\t\t\tconst stream = await output.stream(finalChunk, childConfig);\n\t\t\tfor await (const chunk of stream) yield chunk;\n\t\t} else if (require_iter.isAsyncIterable(output)) for await (const chunk of require_iter.consumeAsyncIterableInContext(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse if (require_iter.isIterableIterator(output)) for (const chunk of require_iter.consumeIteratorInContext(childConfig, output)) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tyield chunk;\n\t\t}\n\t\telse yield output;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst wrappedGenerator = new require_utils_stream.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that runs a mapping of runnables in parallel,\n* and returns a mapping of their outputs.\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const addYears = (age: number): number => age + 5;\n* const yearsToFifty = (age: number): number => 50 - age;\n* const yearsToHundred = (age: number): number => 100 - age;\n*\n* const addYearsLambda = RunnableLambda.from(addYears);\n* const milestoneFiftyLambda = RunnableLambda.from(yearsToFifty);\n* const milestoneHundredLambda = RunnableLambda.from(yearsToHundred);\n*\n* // Pipe will coerce objects into RunnableParallel by default, but we\n* // explicitly instantiate one here to demonstrate\n* const sequence = addYearsLambda.pipe(\n*   RunnableParallel.from({\n*     years_to_fifty: milestoneFiftyLambda,\n*     years_to_hundred: milestoneHundredLambda,\n*   })\n* );\n*\n* // Invoke the sequence with a single age input\n* const res = await sequence.invoke(25);\n*\n* // { years_to_fifty: 20, years_to_hundred: 70 }\n* ```\n*/\nvar RunnableParallel = class extends RunnableMap {};\n/**\n* A Runnable that can fallback to other Runnables if it fails.\n* External APIs (e.g., APIs for a language model) may at times experience\n* degraded performance or even downtime.\n*\n* In these cases, it can be useful to have a fallback Runnable that can be\n* used in place of the original Runnable (e.g., fallback to another LLM provider).\n*\n* Fallbacks can be defined at the level of a single Runnable, or at the level\n* of a chain of Runnables. Fallbacks are tried in order until one succeeds or\n* all fail.\n*\n* While you can instantiate a `RunnableWithFallbacks` directly, it is usually\n* more convenient to use the `withFallbacks` method on an existing Runnable.\n*\n* When streaming, fallbacks will only be called on failures during the initial\n* stream creation. Errors that occur after a stream starts will not fallback\n* to the next Runnable.\n*\n* @example\n* ```typescript\n* import {\n*   RunnableLambda,\n*   RunnableWithFallbacks,\n* } from \"@langchain/core/runnables\";\n*\n* const primaryOperation = (input: string): string => {\n*   if (input !== \"safe\") {\n*     throw new Error(\"Primary operation failed due to unsafe input\");\n*   }\n*   return `Processed: ${input}`;\n* };\n*\n* // Define a fallback operation that processes the input differently\n* const fallbackOperation = (input: string): string =>\n*   `Fallback processed: ${input}`;\n*\n* const primaryRunnable = RunnableLambda.from(primaryOperation);\n* const fallbackRunnable = RunnableLambda.from(fallbackOperation);\n*\n* // Apply the fallback logic using the .withFallbacks() method\n* const runnableWithFallback = primaryRunnable.withFallbacks([fallbackRunnable]);\n*\n* // Alternatively, create a RunnableWithFallbacks instance manually\n* const manualFallbackChain = new RunnableWithFallbacks({\n*   runnable: primaryRunnable,\n*   fallbacks: [fallbackRunnable],\n* });\n*\n* // Example invocation using .withFallbacks()\n* const res = await runnableWithFallback\n*   .invoke(\"unsafe input\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Fallback processed: unsafe input\"\n*\n* // Example invocation using manual instantiation\n* const res = await manualFallbackChain\n*   .invoke(\"safe\")\n*   .catch((error) => {\n*     console.error(\"Failed after all attempts:\", error.message);\n*   });\n*\n* // \"Processed: safe\"\n* ```\n*/\nvar RunnableWithFallbacks = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableWithFallbacks\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\trunnable;\n\tfallbacks;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.runnable = fields.runnable;\n\t\tthis.fallbacks = fields.fallbacks;\n\t}\n\t*runnables() {\n\t\tyield this.runnable;\n\t\tfor (const fallback of this.fallbacks) yield fallback;\n\t}\n\tasync invoke(input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tconst childConfig = require_config.patchConfig(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\tconst res = await require_index.AsyncLocalStorageProviderSingleton.runWithConfig(childConfig, async () => {\n\t\t\tlet firstError;\n\t\t\tfor (const runnable of this.runnables()) {\n\t\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\t\ttry {\n\t\t\t\t\tconst output = await runnable.invoke(input, childConfig);\n\t\t\t\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t\t\t\t\treturn output;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (firstError === void 0) throw new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(firstError);\n\t\t\tthrow firstError;\n\t\t});\n\t\treturn res;\n\t}\n\tasync *_streamIterator(input, options) {\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst callbackManager_ = await require_config.getCallbackManagerForConfig(config);\n\t\tconst { runId,...otherConfigFields } = config;\n\t\tconst runManager = await callbackManager_?.handleChainStart(this.toJSON(), _coerceToDict(input, \"input\"), runId, void 0, void 0, void 0, otherConfigFields?.runName);\n\t\tlet firstError;\n\t\tlet stream;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfig?.signal?.throwIfAborted();\n\t\t\tconst childConfig = require_config.patchConfig(otherConfigFields, { callbacks: runManager?.getChild() });\n\t\t\ttry {\n\t\t\t\tconst originalStream = await runnable.stream(input, childConfig);\n\t\t\t\tstream = require_iter.consumeAsyncIterableInContext(childConfig, originalStream);\n\t\t\t\tbreak;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (stream === void 0) {\n\t\t\tconst error = firstError ?? /* @__PURE__ */ new Error(\"No error stored at end of fallback.\");\n\t\t\tawait runManager?.handleChainError(error);\n\t\t\tthrow error;\n\t\t}\n\t\tlet output;\n\t\ttry {\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tyield chunk;\n\t\t\t\ttry {\n\t\t\t\t\toutput = output === void 0 ? output : this._concatOutputChunks(output, chunk);\n\t\t\t\t} catch {\n\t\t\t\t\toutput = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tawait runManager?.handleChainEnd(_coerceToDict(output, \"output\"));\n\t}\n\tasync batch(inputs, options, batchOptions) {\n\t\tif (batchOptions?.returnExceptions) throw new Error(\"Not implemented.\");\n\t\tconst configList = this._getOptionsList(options ?? {}, inputs.length);\n\t\tconst callbackManagers = await Promise.all(configList.map((config) => require_config.getCallbackManagerForConfig(config)));\n\t\tconst runManagers = await Promise.all(callbackManagers.map(async (callbackManager, i) => {\n\t\t\tconst handleStartRes = await callbackManager?.handleChainStart(this.toJSON(), _coerceToDict(inputs[i], \"input\"), configList[i].runId, void 0, void 0, void 0, configList[i].runName);\n\t\t\tdelete configList[i].runId;\n\t\t\treturn handleStartRes;\n\t\t}));\n\t\tlet firstError;\n\t\tfor (const runnable of this.runnables()) {\n\t\t\tconfigList[0].signal?.throwIfAborted();\n\t\t\ttry {\n\t\t\t\tconst outputs = await runnable.batch(inputs, runManagers.map((runManager, j) => require_config.patchConfig(configList[j], { callbacks: runManager?.getChild() })), batchOptions);\n\t\t\t\tawait Promise.all(runManagers.map((runManager, i) => runManager?.handleChainEnd(_coerceToDict(outputs[i], \"output\"))));\n\t\t\t\treturn outputs;\n\t\t\t} catch (e) {\n\t\t\t\tif (firstError === void 0) firstError = e;\n\t\t\t}\n\t\t}\n\t\tif (!firstError) throw new Error(\"No error stored at end of fallbacks.\");\n\t\tawait Promise.all(runManagers.map((runManager) => runManager?.handleChainError(firstError)));\n\t\tthrow firstError;\n\t}\n};\nfunction _coerceToRunnable(coerceable) {\n\tif (typeof coerceable === \"function\") return new RunnableLambda({ func: coerceable });\n\telse if (Runnable.isRunnable(coerceable)) return coerceable;\n\telse if (!Array.isArray(coerceable) && typeof coerceable === \"object\") {\n\t\tconst runnables = {};\n\t\tfor (const [key, value] of Object.entries(coerceable)) runnables[key] = _coerceToRunnable(value);\n\t\treturn new RunnableMap({ steps: runnables });\n\t} else throw new Error(`Expected a Runnable, function or object.\\nInstead got an unsupported type.`);\n}\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* @example\n* ```typescript\n* import {\n*   RunnableAssign,\n*   RunnableLambda,\n*   RunnableParallel,\n* } from \"@langchain/core/runnables\";\n*\n* const calculateAge = (x: { birthYear: number }): { age: number } => {\n*   const currentYear = new Date().getFullYear();\n*   return { age: currentYear - x.birthYear };\n* };\n*\n* const createGreeting = (x: { name: string }): { greeting: string } => {\n*   return { greeting: `Hello, ${x.name}!` };\n* };\n*\n* const mapper = RunnableParallel.from({\n*   age_step: RunnableLambda.from(calculateAge),\n*   greeting_step: RunnableLambda.from(createGreeting),\n* });\n*\n* const runnableAssign = new RunnableAssign({ mapper });\n*\n* const res = await runnableAssign.invoke({ name: \"Alice\", birthYear: 1990 });\n*\n* // { name: \"Alice\", birthYear: 1990, age_step: { age: 34 }, greeting_step: { greeting: \"Hello, Alice!\" } }\n* ```\n*/\nvar RunnableAssign = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnableAssign\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tmapper;\n\tconstructor(fields) {\n\t\tif (fields instanceof RunnableMap) fields = { mapper: fields };\n\t\tsuper(fields);\n\t\tthis.mapper = fields.mapper;\n\t}\n\tasync invoke(input, options) {\n\t\tconst mapperResult = await this.mapper.invoke(input, options);\n\t\treturn {\n\t\t\t...input,\n\t\t\t...mapperResult\n\t\t};\n\t}\n\tasync *_transform(generator, runManager, options) {\n\t\tconst mapperKeys = this.mapper.getStepsKeys();\n\t\tconst [forPassthrough, forMapper] = require_utils_stream.atee(generator);\n\t\tconst mapperOutput = this.mapper.transform(forMapper, require_config.patchConfig(options, { callbacks: runManager?.getChild() }));\n\t\tconst firstMapperChunkPromise = mapperOutput.next();\n\t\tfor await (const chunk of forPassthrough) {\n\t\t\tif (typeof chunk !== \"object\" || Array.isArray(chunk)) throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof chunk}`);\n\t\t\tconst filtered = Object.fromEntries(Object.entries(chunk).filter(([key]) => !mapperKeys.includes(key)));\n\t\t\tif (Object.keys(filtered).length > 0) yield filtered;\n\t\t}\n\t\tyield (await firstMapperChunkPromise).value;\n\t\tfor await (const chunk of mapperOutput) yield chunk;\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst wrappedGenerator = new require_utils_stream.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\n/**\n* A runnable that assigns key-value pairs to inputs of type `Record<string, unknown>`.\n* Useful for streaming, can be automatically created and chained by calling `runnable.pick();`.\n* @example\n* ```typescript\n* import { RunnablePick } from \"@langchain/core/runnables\";\n*\n* const inputData = {\n*   name: \"John\",\n*   age: 30,\n*   city: \"New York\",\n*   country: \"USA\",\n*   email: \"john.doe@example.com\",\n*   phone: \"+1234567890\",\n* };\n*\n* const basicInfoRunnable = new RunnablePick([\"name\", \"city\"]);\n*\n* // Example invocation\n* const res = await basicInfoRunnable.invoke(inputData);\n*\n* // { name: 'John', city: 'New York' }\n* ```\n*/\nvar RunnablePick = class extends Runnable {\n\tstatic lc_name() {\n\t\treturn \"RunnablePick\";\n\t}\n\tlc_namespace = [\"langchain_core\", \"runnables\"];\n\tlc_serializable = true;\n\tkeys;\n\tconstructor(fields) {\n\t\tif (typeof fields === \"string\" || Array.isArray(fields)) fields = { keys: fields };\n\t\tsuper(fields);\n\t\tthis.keys = fields.keys;\n\t}\n\tasync _pick(input) {\n\t\tif (typeof this.keys === \"string\") return input[this.keys];\n\t\telse {\n\t\t\tconst picked = this.keys.map((key) => [key, input[key]]).filter((v) => v[1] !== void 0);\n\t\t\treturn picked.length === 0 ? void 0 : Object.fromEntries(picked);\n\t\t}\n\t}\n\tasync invoke(input, options) {\n\t\treturn this._callWithConfig(this._pick.bind(this), input, options);\n\t}\n\tasync *_transform(generator) {\n\t\tfor await (const chunk of generator) {\n\t\t\tconst picked = await this._pick(chunk);\n\t\t\tif (picked !== void 0) yield picked;\n\t\t}\n\t}\n\ttransform(generator, options) {\n\t\treturn this._transformStreamWithConfig(generator, this._transform.bind(this), options);\n\t}\n\tasync stream(input, options) {\n\t\tasync function* generator() {\n\t\t\tyield input;\n\t\t}\n\t\tconst config = require_config.ensureConfig(options);\n\t\tconst wrappedGenerator = new require_utils_stream.AsyncGeneratorWithSetup({\n\t\t\tgenerator: this.transform(generator(), config),\n\t\t\tconfig\n\t\t});\n\t\tawait wrappedGenerator.setup;\n\t\treturn require_utils_stream.IterableReadableStream.fromAsyncGenerator(wrappedGenerator);\n\t}\n};\nvar RunnableToolLike = class extends RunnableBinding {\n\tname;\n\tdescription;\n\tschema;\n\tconstructor(fields) {\n\t\tconst sequence = RunnableSequence.from([RunnableLambda.from(async (input) => {\n\t\t\tlet toolInput;\n\t\t\tif (require_utils._isToolCall(input)) try {\n\t\t\t\ttoolInput = await require_zod.interopParseAsync(this.schema, input.args);\n\t\t\t} catch {\n\t\t\t\tthrow new require_utils.ToolInputParsingException(`Received tool input did not match expected schema`, JSON.stringify(input.args));\n\t\t\t}\n\t\t\telse toolInput = input;\n\t\t\treturn toolInput;\n\t\t}).withConfig({ runName: `${fields.name}:parse_input` }), fields.bound]).withConfig({ runName: fields.name });\n\t\tsuper({\n\t\t\tbound: sequence,\n\t\t\tconfig: fields.config ?? {}\n\t\t});\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.schema = fields.schema;\n\t}\n\tstatic lc_name() {\n\t\treturn \"RunnableToolLike\";\n\t}\n};\n/**\n* Given a runnable and a Zod schema, convert the runnable to a tool.\n*\n* @template RunInput The input type for the runnable.\n* @template RunOutput The output type for the runnable.\n*\n* @param {Runnable<RunInput, RunOutput>} runnable The runnable to convert to a tool.\n* @param fields\n* @param {string | undefined} [fields.name] The name of the tool. If not provided, it will default to the name of the runnable.\n* @param {string | undefined} [fields.description] The description of the tool. Falls back to the description on the Zod schema if not provided, or undefined if neither are provided.\n* @param {InteropZodType<RunInput>} [fields.schema] The Zod schema for the input of the tool. Infers the Zod type from the input type of the runnable.\n* @returns {RunnableToolLike<InteropZodType<RunInput>, RunOutput>} An instance of `RunnableToolLike` which is a runnable that can be used as a tool.\n*/\nfunction convertRunnableToTool(runnable, fields) {\n\tconst name = fields.name ?? runnable.getName();\n\tconst description = fields.description ?? require_zod.getSchemaDescription(fields.schema);\n\tif (require_zod.isSimpleStringZodSchema(fields.schema)) return new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: zod_v3.z.object({ input: zod_v3.z.string() }).transform((input) => input.input),\n\t\tbound: runnable\n\t});\n\treturn new RunnableToolLike({\n\t\tname,\n\t\tdescription,\n\t\tschema: fields.schema,\n\t\tbound: runnable\n\t});\n}\n\n//#endregion\nexports.Runnable = Runnable;\nexports.RunnableAssign = RunnableAssign;\nexports.RunnableBinding = RunnableBinding;\nexports.RunnableEach = RunnableEach;\nexports.RunnableLambda = RunnableLambda;\nexports.RunnableMap = RunnableMap;\nexports.RunnableParallel = RunnableParallel;\nexports.RunnablePick = RunnablePick;\nexports.RunnableRetry = RunnableRetry;\nexports.RunnableSequence = RunnableSequence;\nexports.RunnableToolLike = RunnableToolLike;\nexports.RunnableWithFallbacks = RunnableWithFallbacks;\nexports._coerceToDict = _coerceToDict;\nexports._coerceToRunnable = _coerceToRunnable;\n//# sourceMappingURL=base.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvYmFzZS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLGtDQUFrQyxtQkFBTyxDQUFDLDRHQUEwQjtBQUNwRSxzQkFBc0IsbUJBQU8sQ0FBQyxnR0FBb0I7QUFDbEQsc0JBQXNCLG1CQUFPLENBQUMsa0pBQTZDO0FBQzNFLG1CQUFPLENBQUMsMEdBQXlCO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLCtGQUFjO0FBQzdDLHVCQUF1QixtQkFBTyxDQUFDLGtHQUFxQjtBQUNwRCw2QkFBNkIsbUJBQU8sQ0FBQyxrR0FBcUI7QUFDMUQsbUNBQW1DLG1CQUFPLENBQUMsOEdBQTJCO0FBQ3RFLDZCQUE2QixtQkFBTyxDQUFDLGtIQUE2QjtBQUNsRSx3QkFBd0IsbUJBQU8sQ0FBQyxnSEFBNEI7QUFDNUQsbUNBQW1DLG1CQUFPLENBQUMsOEdBQTJCO0FBQ3RFLDhCQUE4QixtQkFBTyxDQUFDLG9IQUE4QjtBQUNwRSx3QkFBd0IsbUJBQU8sQ0FBQyw2RkFBYTtBQUM3QyxvQkFBb0IsbUJBQU8sQ0FBQyx3R0FBd0I7QUFDcEQsZ0NBQWdDLG1CQUFPLENBQUMsNkZBQWE7QUFDckQseUJBQXlCLG1CQUFPLENBQUMsbUdBQWdCO0FBQ2pELHFCQUFxQixtQkFBTyxDQUFDLDJGQUFZO0FBQ3pDLGdEQUFnRCxtQkFBTyxDQUFDLGdFQUFRO0FBQ2hFLDhDQUE4QyxtQkFBTyxDQUFDLHNHQUFNO0FBQzVELHdFQUF3RSxtQkFBTyxDQUFDLDBHQUFnQzs7QUFFaEg7QUFDQTtBQUNBLDRHQUE0RztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixLQUFLLEVBQUUsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixhQUFhO0FBQ2I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNEpBQTRKLGdCQUFnQixjQUFjLFFBQVE7QUFDbE07QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUxBQWlMLFdBQVcsNEZBQTRGLHdCQUF3QjtBQUNoVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osbUVBQW1FLDRDQUE0QztBQUMvRztBQUNBO0FBQ0Esb0RBQW9ELDRCQUE0Qiw0Q0FBNEM7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsTUFBTSxHQUFHO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpRUFBaUUsa0JBQWtCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsaUdBQWlHLFlBQVksNEJBQTRCLGNBQWM7QUFDdkosY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjLEdBQUcsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQSxnR0FBZ0csWUFBWSw0QkFBNEIsYUFBYTtBQUNySixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixXQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBO0FBQ0EsYUFBYTtBQUNiLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywrQkFBK0I7QUFDN0M7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsY0FBYztBQUN6QixhQUFhLDJDQUEyQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCLGlCQUFpQjtBQUMvRSw2Q0FBNkMsZ0JBQWdCLGdCQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQSxpQkFBaUIseUJBQXlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQTtBQUNBLDJEQUEyRCxNQUFNO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsbUNBQW1DO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQyw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELE1BQU07QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHFCQUFxQjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JELDhDQUE4QyxzQ0FBc0M7QUFDcEY7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSix3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0Esd0VBQXdFLHNCQUFzQjtBQUM5RixzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUM7QUFDQSxvRkFBb0YsNkVBQTZFLE1BQU0sSUFBSTtBQUMzSztBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsNkVBQTZFLGtCQUFrQixJQUFJO0FBQy9MLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQSwrRkFBK0YsTUFBTTtBQUNyRyx3REFBd0QsNEJBQTRCO0FBQ3BGLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdHQUF3RyxnRkFBZ0Y7QUFDeEwsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBLHFHQUFxRyw2RUFBNkUsTUFBTSxJQUFJO0FBQzVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsTUFBTTtBQUN6RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsTUFBTTtBQUNuRSwwQkFBMEI7QUFDMUI7QUFDQSxrRUFBa0UsTUFBTTtBQUN4RSwwQkFBMEI7QUFDMUI7QUFDQSxHQUFHO0FBQ0gseUNBQXlDLGVBQWU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsT0FBTztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRiwyQ0FBMkMsSUFBSSxJQUFJO0FBQ3ZJLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esd0ZBQXdGLDJDQUEyQyxJQUFJLElBQUk7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBLGlFQUFpRSxXQUFXO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLE1BQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSx3QkFBd0IsV0FBVyxXQUFXO0FBQzlDO0FBQ0EsNkJBQTZCLGVBQWUsb0JBQW9CO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsTUFBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDJDQUEyQyxnQkFBZ0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsTUFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0Esc0VBQXNFLG1DQUFtQztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxtQ0FBbUM7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdJQUFnSSxtQ0FBbUM7QUFDbks7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0JBQWtCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkJBQTZCLG1CQUFtQixLQUFLLGNBQWM7QUFDbkU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLCtCQUErQixjQUFjLEtBQUssbUJBQW1CO0FBQ3JFLGFBQWEsb0JBQW9CLE9BQU87QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0EsNENBQTRDLGdDQUFnQztBQUM1RTtBQUNBLE9BQU8sNENBQTRDLFNBQVMsbUJBQW1CO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLG1DQUFtQztBQUNqSTtBQUNBO0FBQ0Esd0lBQXdJLGFBQWE7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxlQUFlLFlBQVksWUFBWSxlQUFlLCtCQUErQixzQkFBc0I7QUFDOUc7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLCtCQUErQjtBQUN6QztBQUNBLFVBQVUsb0JBQW9CO0FBQzlCLFVBQVUsb0JBQW9CO0FBQzlCLFVBQVUsMEJBQTBCO0FBQ3BDLFlBQVksdURBQXVEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCLHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckIsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4Qiw2QkFBNkI7QUFDN0IscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL2Jhc2UuY2pzP2RlNTgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfbG9hZF9zZXJpYWxpemFibGUgPSByZXF1aXJlKCcuLi9sb2FkL3NlcmlhbGl6YWJsZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHMgPSByZXF1aXJlKCcuLi90b29scy91dGlscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzJyk7XG5yZXF1aXJlKCcuLi9zaW5nbGV0b25zL2luZGV4LmNqcycpO1xuY29uc3QgcmVxdWlyZV9jb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5janMnKTtcbmNvbnN0IHJlcXVpcmVfc2lnbmFsID0gcmVxdWlyZSgnLi4vdXRpbHMvc2lnbmFsLmNqcycpO1xuY29uc3QgcmVxdWlyZV91dGlsc19zdHJlYW0gPSByZXF1aXJlKCcuLi91dGlscy9zdHJlYW0uY2pzJyk7XG5jb25zdCByZXF1aXJlX3RyYWNlcnNfbG9nX3N0cmVhbSA9IHJlcXVpcmUoJy4uL3RyYWNlcnMvbG9nX3N0cmVhbS5janMnKTtcbmNvbnN0IHJlcXVpcmVfZXZlbnRfc3RyZWFtID0gcmVxdWlyZSgnLi4vdHJhY2Vycy9ldmVudF9zdHJlYW0uY2pzJyk7XG5jb25zdCByZXF1aXJlX2luZGV4JDEgPSByZXF1aXJlKCcuLi91dGlscy9wLXJldHJ5L2luZGV4LmNqcycpO1xuY29uc3QgcmVxdWlyZV91dGlsc19hc3luY19jYWxsZXIgPSByZXF1aXJlKCcuLi91dGlscy9hc3luY19jYWxsZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX3Jvb3RfbGlzdGVuZXIgPSByZXF1aXJlKCcuLi90cmFjZXJzL3Jvb3RfbGlzdGVuZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzJDEgPSByZXF1aXJlKCcuL3V0aWxzLmNqcycpO1xuY29uc3QgcmVxdWlyZV96b2QgPSByZXF1aXJlKCcuLi91dGlscy90eXBlcy96b2QuY2pzJyk7XG5jb25zdCByZXF1aXJlX3J1bm5hYmxlc19ncmFwaCA9IHJlcXVpcmUoJy4vZ3JhcGguY2pzJyk7XG5jb25zdCByZXF1aXJlX3dyYXBwZXJzID0gcmVxdWlyZSgnLi93cmFwcGVycy5janMnKTtcbmNvbnN0IHJlcXVpcmVfaXRlciA9IHJlcXVpcmUoJy4vaXRlci5janMnKTtcbmNvbnN0IHpvZF92MyA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJ6b2QvdjNcIikpO1xuY29uc3QgdXVpZCA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJ1dWlkXCIpKTtcbmNvbnN0IGxhbmdzbWl0aF9zaW5nbGV0b25zX3RyYWNlYWJsZSA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGgvc2luZ2xldG9ucy90cmFjZWFibGVcIikpO1xuXG4vLyNyZWdpb24gc3JjL3J1bm5hYmxlcy9iYXNlLnRzXG5mdW5jdGlvbiBfY29lcmNlVG9EaWN0KHZhbHVlLCBkZWZhdWx0S2V5KSB7XG5cdHJldHVybiB2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IHZhbHVlIDogeyBbZGVmYXVsdEtleV06IHZhbHVlIH07XG59XG4vKipcbiogQSBSdW5uYWJsZSBpcyBhIGdlbmVyaWMgdW5pdCBvZiB3b3JrIHRoYXQgY2FuIGJlIGludm9rZWQsIGJhdGNoZWQsIHN0cmVhbWVkLCBhbmQvb3JcbiogdHJhbnNmb3JtZWQuXG4qL1xudmFyIFJ1bm5hYmxlID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2xvYWRfc2VyaWFsaXphYmxlLlNlcmlhbGl6YWJsZSB7XG5cdGxjX3J1bm5hYmxlID0gdHJ1ZTtcblx0bmFtZTtcblx0Z2V0TmFtZShzdWZmaXgpIHtcblx0XHRjb25zdCBuYW1lID0gdGhpcy5uYW1lID8/IHRoaXMuY29uc3RydWN0b3IubGNfbmFtZSgpID8/IHRoaXMuY29uc3RydWN0b3IubmFtZTtcblx0XHRyZXR1cm4gc3VmZml4ID8gYCR7bmFtZX0ke3N1ZmZpeH1gIDogbmFtZTtcblx0fVxuXHQvKipcblx0KiBBZGQgcmV0cnkgbG9naWMgdG8gYW4gZXhpc3RpbmcgcnVubmFibGUuXG5cdCogQHBhcmFtIGZpZWxkcy5zdG9wQWZ0ZXJBdHRlbXB0IFRoZSBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmV0cnkuXG5cdCogQHBhcmFtIGZpZWxkcy5vbkZhaWxlZEF0dGVtcHQgQSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIGEgcmV0cnkgZmFpbHMuXG5cdCogQHJldHVybnMgQSBuZXcgUnVubmFibGVSZXRyeSB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgcmV0cnkgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJzLlxuXHQqL1xuXHR3aXRoUmV0cnkoZmllbGRzKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVJldHJ5KHtcblx0XHRcdGJvdW5kOiB0aGlzLFxuXHRcdFx0a3dhcmdzOiB7fSxcblx0XHRcdGNvbmZpZzoge30sXG5cdFx0XHRtYXhBdHRlbXB0TnVtYmVyOiBmaWVsZHM/LnN0b3BBZnRlckF0dGVtcHQsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGNvbmZpZyB0byBhIFJ1bm5hYmxlLCByZXR1cm5pbmcgYSBuZXcgUnVubmFibGUuXG5cdCogQHBhcmFtIGNvbmZpZyBOZXcgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIHRvIGF0dGFjaCB0byB0aGUgbmV3IHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIEEgbmV3IFJ1bm5hYmxlQmluZGluZyB3aXRoIGEgY29uZmlnIG1hdGNoaW5nIHdoYXQncyBwYXNzZWQuXG5cdCovXG5cdHdpdGhDb25maWcoY29uZmlnKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZUJpbmRpbmcoe1xuXHRcdFx0Ym91bmQ6IHRoaXMsXG5cdFx0XHRjb25maWcsXG5cdFx0XHRrd2FyZ3M6IHt9XG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIGZyb20gdGhlIGN1cnJlbnQgb25lIHRoYXQgd2lsbCB0cnkgaW52b2tpbmdcblx0KiBvdGhlciBwYXNzZWQgZmFsbGJhY2sgcnVubmFibGVzIGlmIHRoZSBpbml0aWFsIGludm9jYXRpb24gZmFpbHMuXG5cdCogQHBhcmFtIGZpZWxkcy5mYWxsYmFja3MgT3RoZXIgcnVubmFibGVzIHRvIGNhbGwgaWYgdGhlIHJ1bm5hYmxlIGVycm9ycy5cblx0KiBAcmV0dXJucyBBIG5ldyBSdW5uYWJsZVdpdGhGYWxsYmFja3MuXG5cdCovXG5cdHdpdGhGYWxsYmFja3MoZmllbGRzKSB7XG5cdFx0Y29uc3QgZmFsbGJhY2tzID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogZmllbGRzLmZhbGxiYWNrcztcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyh7XG5cdFx0XHRydW5uYWJsZTogdGhpcyxcblx0XHRcdGZhbGxiYWNrc1xuXHRcdH0pO1xuXHR9XG5cdF9nZXRPcHRpb25zTGlzdChvcHRpb25zLCBsZW5ndGggPSAwKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5sZW5ndGggIT09IGxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBQYXNzZWQgXCJvcHRpb25zXCIgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHRoZSBzYW1lIGxlbmd0aCBhcyB0aGUgaW5wdXRzLCBidXQgZ290ICR7b3B0aW9ucy5sZW5ndGh9IG9wdGlvbnMgZm9yICR7bGVuZ3RofSBpbnB1dHNgKTtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zKSkgcmV0dXJuIG9wdGlvbnMubWFwKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyk7XG5cdFx0aWYgKGxlbmd0aCA+IDEgJiYgIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5ydW5JZCkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiUHJvdmlkZWQgcnVuSWQgd2lsbCBiZSB1c2VkIG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBiYXRjaC5cIik7XG5cdFx0XHRjb25zdCBzdWJzZXF1ZW50ID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpLmZpbHRlcigoW2tleV0pID0+IGtleSAhPT0gXCJydW5JZFwiKSk7XG5cdFx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoXywgaSkgPT4gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKGkgPT09IDAgPyBvcHRpb25zIDogc3Vic2VxdWVudCkpO1xuXHRcdH1cblx0XHRyZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiByZXF1aXJlX2NvbmZpZy5lbnN1cmVDb25maWcob3B0aW9ucykpO1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IG1heENvbmN1cnJlbmN5ID0gY29uZmlnTGlzdFswXT8ubWF4Q29uY3VycmVuY3kgPz8gYmF0Y2hPcHRpb25zPy5tYXhDb25jdXJyZW5jeTtcblx0XHRjb25zdCBjYWxsZXIgPSBuZXcgcmVxdWlyZV91dGlsc19hc3luY19jYWxsZXIuQXN5bmNDYWxsZXIoe1xuXHRcdFx0bWF4Q29uY3VycmVuY3ksXG5cdFx0XHRvbkZhaWxlZEF0dGVtcHQ6IChlKSA9PiB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc3QgYmF0Y2hDYWxscyA9IGlucHV0cy5tYXAoKGlucHV0LCBpKSA9PiBjYWxsZXIuY2FsbChhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmludm9rZShpbnB1dCwgY29uZmlnTGlzdFtpXSk7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMpIHJldHVybiBlO1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoYmF0Y2hDYWxscyk7XG5cdH1cblx0LyoqXG5cdCogRGVmYXVsdCBzdHJlYW1pbmcgaW1wbGVtZW50YXRpb24uXG5cdCogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBzdXBwb3J0IHN0cmVhbWluZyBvdXRwdXQuXG5cdCogQHBhcmFtIGlucHV0XG5cdCogQHBhcmFtIG9wdGlvbnNcblx0Ki9cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdHlpZWxkIHRoaXMuaW52b2tlKGlucHV0LCBvcHRpb25zKTtcblx0fVxuXHQvKipcblx0KiBTdHJlYW0gb3V0cHV0IGluIGNodW5rcy5cblx0KiBAcGFyYW0gaW5wdXRcblx0KiBAcGFyYW0gb3B0aW9uc1xuXHQqIEByZXR1cm5zIEEgcmVhZGFibGUgc3RyZWFtIHRoYXQgaXMgYWxzbyBhbiBpdGVyYWJsZS5cblx0Ki9cblx0YXN5bmMgc3RyZWFtKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgcmVxdWlyZV91dGlsc19zdHJlYW0uQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIHJlcXVpcmVfdXRpbHNfc3RyZWFtLkl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG5cdF9zZXBhcmF0ZVJ1bm5hYmxlQ29uZmlnRnJvbUNhbGxPcHRpb25zKG9wdGlvbnMpIHtcblx0XHRsZXQgcnVubmFibGVDb25maWc7XG5cdFx0aWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgcnVubmFibGVDb25maWcgPSByZXF1aXJlX2NvbmZpZy5lbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0ZWxzZSBydW5uYWJsZUNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyh7XG5cdFx0XHRjYWxsYmFja3M6IG9wdGlvbnMuY2FsbGJhY2tzLFxuXHRcdFx0dGFnczogb3B0aW9ucy50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IG9wdGlvbnMubWV0YWRhdGEsXG5cdFx0XHRydW5OYW1lOiBvcHRpb25zLnJ1bk5hbWUsXG5cdFx0XHRjb25maWd1cmFibGU6IG9wdGlvbnMuY29uZmlndXJhYmxlLFxuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IG9wdGlvbnMucmVjdXJzaW9uTGltaXQsXG5cdFx0XHRtYXhDb25jdXJyZW5jeTogb3B0aW9ucy5tYXhDb25jdXJyZW5jeSxcblx0XHRcdHJ1bklkOiBvcHRpb25zLnJ1bklkLFxuXHRcdFx0dGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuXHRcdFx0c2lnbmFsOiBvcHRpb25zLnNpZ25hbFxuXHRcdH0pO1xuXHRcdGNvbnN0IGNhbGxPcHRpb25zID0geyAuLi5vcHRpb25zIH07XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNhbGxiYWNrcztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGFncztcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMubWV0YWRhdGE7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLnJ1bk5hbWU7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLmNvbmZpZ3VyYWJsZTtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMucmVjdXJzaW9uTGltaXQ7XG5cdFx0ZGVsZXRlIGNhbGxPcHRpb25zLm1heENvbmN1cnJlbmN5O1xuXHRcdGRlbGV0ZSBjYWxsT3B0aW9ucy5ydW5JZDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMudGltZW91dDtcblx0XHRkZWxldGUgY2FsbE9wdGlvbnMuc2lnbmFsO1xuXHRcdHJldHVybiBbcnVubmFibGVDb25maWcsIGNhbGxPcHRpb25zXTtcblx0fVxuXHRhc3luYyBfY2FsbFdpdGhDb25maWcoZnVuYywgaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjb25maWcgPSByZXF1aXJlX2NvbmZpZy5lbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IHJlcXVpcmVfY29uZmlnLmdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXQsIFwiaW5wdXRcIiksIGNvbmZpZy5ydW5JZCwgY29uZmlnPy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGxldCBvdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcik7XG5cdFx0XHRvdXRwdXQgPSBhd2FpdCByZXF1aXJlX3NpZ25hbC5yYWNlV2l0aFNpZ25hbChwcm9taXNlLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KG91dHB1dCwgXCJvdXRwdXRcIikpO1xuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblx0LyoqXG5cdCogSW50ZXJuYWwgbWV0aG9kIHRoYXQgaGFuZGxlcyBiYXRjaGluZyBhbmQgY29uZmlndXJhdGlvbiBmb3IgYSBydW5uYWJsZVxuXHQqIEl0IHRha2VzIGEgZnVuY3Rpb24sIGlucHV0IHZhbHVlcywgYW5kIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb24sIGFuZFxuXHQqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCogQHBhcmFtIGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGlucHV0IHZhbHVlLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdmFsdWVzIHRvIGJlIHByb2Nlc3NlZC5cblx0KiBAcGFyYW0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG5cdCogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG91dHB1dCB2YWx1ZXMuXG5cdCovXG5cdGFzeW5jIF9iYXRjaFdpdGhDb25maWcoZnVuYywgaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRjb25zdCBvcHRpb25zTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChvcHRpb25zTGlzdC5tYXAocmVxdWlyZV9jb25maWcuZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKSk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWxsYmFja01hbmFnZXJzLm1hcChhc3luYyAoY2FsbGJhY2tNYW5hZ2VyLCBpKSA9PiB7XG5cdFx0XHRjb25zdCBoYW5kbGVTdGFydFJlcyA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0c1tpXSwgXCJpbnB1dFwiKSwgb3B0aW9uc0xpc3RbaV0ucnVuSWQsIG9wdGlvbnNMaXN0W2ldLnJ1blR5cGUsIHZvaWQgMCwgdm9pZCAwLCBvcHRpb25zTGlzdFtpXS5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRcdGRlbGV0ZSBvcHRpb25zTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IG91dHB1dHM7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHByb21pc2UgPSBmdW5jLmNhbGwodGhpcywgaW5wdXRzLCBvcHRpb25zTGlzdCwgcnVuTWFuYWdlcnMsIGJhdGNoT3B0aW9ucyk7XG5cdFx0XHRvdXRwdXRzID0gYXdhaXQgcmVxdWlyZV9zaWduYWwucmFjZVdpdGhTaWduYWwocHJvbWlzZSwgb3B0aW9uc0xpc3Q/LlswXT8uc2lnbmFsKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSkpKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdGF3YWl0IFByb21pc2UuYWxsKHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlcikgPT4gcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKSkpKTtcblx0XHRyZXR1cm4gb3V0cHV0cztcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdHJldHVybiByZXF1aXJlX3V0aWxzX3N0cmVhbS5jb25jYXQoZmlyc3QsIHNlY29uZCk7XG5cdH1cblx0LyoqXG5cdCogSGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW4gSXRlcmF0b3Igb2YgSW5wdXQgdmFsdWVzIGludG8gYW4gSXRlcmF0b3Igb2Zcblx0KiBPdXRwdXQgdmFsdWVzLCB3aXRoIGNhbGxiYWNrcy5cblx0KiBVc2UgdGhpcyB0byBpbXBsZW1lbnQgYHN0cmVhbSgpYCBvciBgdHJhbnNmb3JtKClgIGluIFJ1bm5hYmxlIHN1YmNsYXNzZXMuXG5cdCovXG5cdGFzeW5jICpfdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhpbnB1dEdlbmVyYXRvciwgdHJhbnNmb3JtZXIsIG9wdGlvbnMpIHtcblx0XHRsZXQgZmluYWxJbnB1dDtcblx0XHRsZXQgZmluYWxJbnB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiB3cmFwSW5wdXRGb3JUcmFjaW5nKCkge1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpbnB1dEdlbmVyYXRvcikge1xuXHRcdFx0XHRpZiAoZmluYWxJbnB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsSW5wdXQgPT09IHZvaWQgMCkgZmluYWxJbnB1dCA9IGNodW5rO1xuXHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IG91dGVyVGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpbmFsSW5wdXQsIGNodW5rKTtcblx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0ZmluYWxJbnB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbElucHV0U3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGxldCBydW5NYW5hZ2VyO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwaXBlID0gYXdhaXQgcmVxdWlyZV91dGlsc19zdHJlYW0ucGlwZUdlbmVyYXRvcldpdGhTZXR1cCh0cmFuc2Zvcm1lci5iaW5kKHRoaXMpLCB3cmFwSW5wdXRGb3JUcmFjaW5nKCksIGFzeW5jICgpID0+IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgeyBpbnB1dDogXCJcIiB9LCBjb25maWcucnVuSWQsIGNvbmZpZy5ydW5UeXBlLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnLnJ1bk5hbWUgPz8gdGhpcy5nZXROYW1lKCksIHZvaWQgMCwgeyBsY19kZWZlcnNfaW5wdXRzOiB0cnVlIH0pLCBvcHRpb25zPy5zaWduYWwsIGNvbmZpZyk7XG5cdFx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdFx0cnVuTWFuYWdlciA9IHBpcGUuc2V0dXA7XG5cdFx0XHRjb25zdCBzdHJlYW1FdmVudHNIYW5kbGVyID0gcnVuTWFuYWdlcj8uaGFuZGxlcnMuZmluZChyZXF1aXJlX2V2ZW50X3N0cmVhbS5pc1N0cmVhbUV2ZW50c0hhbmRsZXIpO1xuXHRcdFx0bGV0IGl0ZXJhdG9yID0gcGlwZS5vdXRwdXQ7XG5cdFx0XHRpZiAoc3RyZWFtRXZlbnRzSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1FdmVudHNIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGNvbnN0IHN0cmVhbUxvZ0hhbmRsZXIgPSBydW5NYW5hZ2VyPy5oYW5kbGVycy5maW5kKHJlcXVpcmVfdHJhY2Vyc19sb2dfc3RyZWFtLmlzTG9nU3RyZWFtSGFuZGxlcik7XG5cdFx0XHRpZiAoc3RyZWFtTG9nSGFuZGxlciAhPT0gdm9pZCAwICYmIHJ1bk1hbmFnZXIgIT09IHZvaWQgMCkgaXRlcmF0b3IgPSBzdHJlYW1Mb2dIYW5kbGVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bk1hbmFnZXIucnVuSWQsIGl0ZXJhdG9yKTtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcblx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdGlmIChmaW5hbE91dHB1dFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRmaW5hbE91dHB1dFN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB7IGlucHV0czogX2NvZXJjZVRvRGljdChmaW5hbElucHV0LCBcImlucHV0XCIpIH0pO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoZmluYWxPdXRwdXQgPz8ge30sIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHsgaW5wdXRzOiBfY29lcmNlVG9EaWN0KGZpbmFsSW5wdXQsIFwiaW5wdXRcIikgfSk7XG5cdH1cblx0Z2V0R3JhcGgoXykge1xuXHRcdGNvbnN0IGdyYXBoID0gbmV3IHJlcXVpcmVfcnVubmFibGVzX2dyYXBoLkdyYXBoKCk7XG5cdFx0Y29uc3QgaW5wdXROb2RlID0gZ3JhcGguYWRkTm9kZSh7XG5cdFx0XHRuYW1lOiBgJHt0aGlzLmdldE5hbWUoKX1JbnB1dGAsXG5cdFx0XHRzY2hlbWE6IHpvZF92My56LmFueSgpXG5cdFx0fSk7XG5cdFx0Y29uc3QgcnVubmFibGVOb2RlID0gZ3JhcGguYWRkTm9kZSh0aGlzKTtcblx0XHRjb25zdCBvdXRwdXROb2RlID0gZ3JhcGguYWRkTm9kZSh7XG5cdFx0XHRuYW1lOiBgJHt0aGlzLmdldE5hbWUoKX1PdXRwdXRgLFxuXHRcdFx0c2NoZW1hOiB6b2RfdjMuei5hbnkoKVxuXHRcdH0pO1xuXHRcdGdyYXBoLmFkZEVkZ2UoaW5wdXROb2RlLCBydW5uYWJsZU5vZGUpO1xuXHRcdGdyYXBoLmFkZEVkZ2UocnVubmFibGVOb2RlLCBvdXRwdXROb2RlKTtcblx0XHRyZXR1cm4gZ3JhcGg7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGEgbmV3IHJ1bm5hYmxlIHNlcXVlbmNlIHRoYXQgcnVucyBlYWNoIGluZGl2aWR1YWwgcnVubmFibGUgaW4gc2VyaWVzLFxuXHQqIHBpcGluZyB0aGUgb3V0cHV0IG9mIG9uZSBydW5uYWJsZSBpbnRvIGFub3RoZXIgcnVubmFibGUgb3IgcnVubmFibGUtbGlrZS5cblx0KiBAcGFyYW0gY29lcmNlYWJsZSBBIHJ1bm5hYmxlLCBmdW5jdGlvbiwgb3Igb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZnVuY3Rpb25zIG9yIHJ1bm5hYmxlcy5cblx0KiBAcmV0dXJucyBBIG5ldyBydW5uYWJsZSBzZXF1ZW5jZS5cblx0Ki9cblx0cGlwZShjb2VyY2VhYmxlKSB7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcblx0XHRcdGZpcnN0OiB0aGlzLFxuXHRcdFx0bGFzdDogX2NvZXJjZVRvUnVubmFibGUoY29lcmNlYWJsZSlcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBQaWNrIGtleXMgZnJvbSB0aGUgZGljdCBvdXRwdXQgb2YgdGhpcyBydW5uYWJsZS4gUmV0dXJucyBhIG5ldyBydW5uYWJsZS5cblx0Ki9cblx0cGljayhrZXlzKSB7XG5cdFx0cmV0dXJuIHRoaXMucGlwZShuZXcgUnVubmFibGVQaWNrKGtleXMpKTtcblx0fVxuXHQvKipcblx0KiBBc3NpZ25zIG5ldyBmaWVsZHMgdG8gdGhlIGRpY3Qgb3V0cHV0IG9mIHRoaXMgcnVubmFibGUuIFJldHVybnMgYSBuZXcgcnVubmFibGUuXG5cdCovXG5cdGFzc2lnbihtYXBwaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMucGlwZShuZXcgUnVubmFibGVBc3NpZ24obmV3IFJ1bm5hYmxlTWFwKHsgc3RlcHM6IG1hcHBpbmcgfSkpKTtcblx0fVxuXHQvKipcblx0KiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRyYW5zZm9ybSwgd2hpY2ggYnVmZmVycyBpbnB1dCBhbmQgdGhlbiBjYWxscyBzdHJlYW0uXG5cdCogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgdGhleSBjYW4gc3RhcnQgcHJvZHVjaW5nIG91dHB1dCB3aGlsZVxuXHQqIGlucHV0IGlzIHN0aWxsIGJlaW5nIGdlbmVyYXRlZC5cblx0KiBAcGFyYW0gZ2VuZXJhdG9yXG5cdCogQHBhcmFtIG9wdGlvbnNcblx0Ki9cblx0YXN5bmMgKnRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRsZXQgZmluYWxDaHVuaztcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikgaWYgKGZpbmFsQ2h1bmsgPT09IHZvaWQgMCkgZmluYWxDaHVuayA9IGNodW5rO1xuXHRcdGVsc2UgZmluYWxDaHVuayA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbENodW5rLCBjaHVuayk7XG5cdFx0eWllbGQqIHRoaXMuX3N0cmVhbUl0ZXJhdG9yKGZpbmFsQ2h1bmssIHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKSk7XG5cdH1cblx0LyoqXG5cdCogU3RyZWFtIGFsbCBvdXRwdXQgZnJvbSBhIHJ1bm5hYmxlLCBhcyByZXBvcnRlZCB0byB0aGUgY2FsbGJhY2sgc3lzdGVtLlxuXHQqIFRoaXMgaW5jbHVkZXMgYWxsIGlubmVyIHJ1bnMgb2YgTExNcywgUmV0cmlldmVycywgVG9vbHMsIGV0Yy5cblx0KiBPdXRwdXQgaXMgc3RyZWFtZWQgYXMgTG9nIG9iamVjdHMsIHdoaWNoIGluY2x1ZGUgYSBsaXN0IG9mXG5cdCoganNvbnBhdGNoIG9wcyB0aGF0IGRlc2NyaWJlIGhvdyB0aGUgc3RhdGUgb2YgdGhlIHJ1biBoYXMgY2hhbmdlZCBpbiBlYWNoXG5cdCogc3RlcCwgYW5kIHRoZSBmaW5hbCBzdGF0ZSBvZiB0aGUgcnVuLlxuXHQqIFRoZSBqc29ucGF0Y2ggb3BzIGNhbiBiZSBhcHBsaWVkIGluIG9yZGVyIHRvIGNvbnN0cnVjdCBzdGF0ZS5cblx0KiBAcGFyYW0gaW5wdXRcblx0KiBAcGFyYW0gb3B0aW9uc1xuXHQqIEBwYXJhbSBzdHJlYW1PcHRpb25zXG5cdCovXG5cdGFzeW5jICpzdHJlYW1Mb2coaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRjb25zdCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIgPSBuZXcgcmVxdWlyZV90cmFjZXJzX2xvZ19zdHJlYW0uTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyKHtcblx0XHRcdC4uLnN0cmVhbU9wdGlvbnMsXG5cdFx0XHRhdXRvQ2xvc2U6IGZhbHNlLFxuXHRcdFx0X3NjaGVtYUZvcm1hdDogXCJvcmlnaW5hbFwiXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdHlpZWxkKiB0aGlzLl9zdHJlYW1Mb2coaW5wdXQsIGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgY29uZmlnKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUxvZyhpbnB1dCwgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBjb25maWcpIHtcblx0XHRjb25zdCB7IGNhbGxiYWNrcyB9ID0gY29uZmlnO1xuXHRcdGlmIChjYWxsYmFja3MgPT09IHZvaWQgMCkgY29uZmlnLmNhbGxiYWNrcyA9IFtsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXJdO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkgY29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb25jYXQoW2xvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcl0pO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgY29waWVkQ2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvcHkoKTtcblx0XHRcdGNvcGllZENhbGxiYWNrcy5hZGRIYW5kbGVyKGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlciwgdHJ1ZSk7XG5cdFx0XHRjb25maWcuY2FsbGJhY2tzID0gY29waWVkQ2FsbGJhY2tzO1xuXHRcdH1cblx0XHRjb25zdCBydW5uYWJsZVN0cmVhbVByb21pc2UgPSB0aGlzLnN0cmVhbShpbnB1dCwgY29uZmlnKTtcblx0XHRhc3luYyBmdW5jdGlvbiBjb25zdW1lUnVubmFibGVTdHJlYW0oKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBydW5uYWJsZVN0cmVhbSA9IGF3YWl0IHJ1bm5hYmxlU3RyZWFtUHJvbWlzZTtcblx0XHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBydW5uYWJsZVN0cmVhbSkge1xuXHRcdFx0XHRcdGNvbnN0IHBhdGNoID0gbmV3IHJlcXVpcmVfdHJhY2Vyc19sb2dfc3RyZWFtLlJ1bkxvZ1BhdGNoKHsgb3BzOiBbe1xuXHRcdFx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdFx0XHRwYXRoOiBcIi9zdHJlYW1lZF9vdXRwdXQvLVwiLFxuXHRcdFx0XHRcdFx0dmFsdWU6IGNodW5rXG5cdFx0XHRcdFx0fV0gfSk7XG5cdFx0XHRcdFx0YXdhaXQgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLndyaXRlci53cml0ZShwYXRjaCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGF3YWl0IGxvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlci53cml0ZXIuY2xvc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgcnVubmFibGVTdHJlYW1Db25zdW1lUHJvbWlzZSA9IGNvbnN1bWVSdW5uYWJsZVN0cmVhbSgpO1xuXHRcdHRyeSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGxvZyBvZiBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIpIHlpZWxkIGxvZztcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YXdhaXQgcnVubmFibGVTdHJlYW1Db25zdW1lUHJvbWlzZTtcblx0XHR9XG5cdH1cblx0c3RyZWFtRXZlbnRzKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0bGV0IHN0cmVhbTtcblx0XHRpZiAob3B0aW9ucy52ZXJzaW9uID09PSBcInYxXCIpIHN0cmVhbSA9IHRoaXMuX3N0cmVhbUV2ZW50c1YxKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKTtcblx0XHRlbHNlIGlmIChvcHRpb25zLnZlcnNpb24gPT09IFwidjJcIikgc3RyZWFtID0gdGhpcy5fc3RyZWFtRXZlbnRzVjIoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpO1xuXHRcdGVsc2UgdGhyb3cgbmV3IEVycm9yKGBPbmx5IHZlcnNpb25zIFwidjFcIiBhbmQgXCJ2MlwiIG9mIHRoZSBzY2hlbWEgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQuYCk7XG5cdFx0aWYgKG9wdGlvbnMuZW5jb2RpbmcgPT09IFwidGV4dC9ldmVudC1zdHJlYW1cIikgcmV0dXJuIHJlcXVpcmVfd3JhcHBlcnMuY29udmVydFRvSHR0cEV2ZW50U3RyZWFtKHN0cmVhbSk7XG5cdFx0ZWxzZSByZXR1cm4gcmVxdWlyZV91dGlsc19zdHJlYW0uSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tQXN5bmNHZW5lcmF0b3Ioc3RyZWFtKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUV2ZW50c1YyKGlucHV0LCBvcHRpb25zLCBzdHJlYW1PcHRpb25zKSB7XG5cdFx0Y29uc3QgZXZlbnRTdHJlYW1lciA9IG5ldyByZXF1aXJlX2V2ZW50X3N0cmVhbS5FdmVudFN0cmVhbUNhbGxiYWNrSGFuZGxlcih7XG5cdFx0XHQuLi5zdHJlYW1PcHRpb25zLFxuXHRcdFx0YXV0b0Nsb3NlOiBmYWxzZVxuXHRcdH0pO1xuXHRcdGNvbnN0IGNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCBydW5JZCA9IGNvbmZpZy5ydW5JZCA/PyAoMCwgdXVpZC52NCkoKTtcblx0XHRjb25maWcucnVuSWQgPSBydW5JZDtcblx0XHRjb25zdCBjYWxsYmFja3MgPSBjb25maWcuY2FsbGJhY2tzO1xuXHRcdGlmIChjYWxsYmFja3MgPT09IHZvaWQgMCkgY29uZmlnLmNhbGxiYWNrcyA9IFtldmVudFN0cmVhbWVyXTtcblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrcykpIGNvbmZpZy5jYWxsYmFja3MgPSBjYWxsYmFja3MuY29uY2F0KGV2ZW50U3RyZWFtZXIpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgY29waWVkQ2FsbGJhY2tzID0gY2FsbGJhY2tzLmNvcHkoKTtcblx0XHRcdGNvcGllZENhbGxiYWNrcy5hZGRIYW5kbGVyKGV2ZW50U3RyZWFtZXIsIHRydWUpO1xuXHRcdFx0Y29uZmlnLmNhbGxiYWNrcyA9IGNvcGllZENhbGxiYWNrcztcblx0XHR9XG5cdFx0Y29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXHRcdGNvbnN0IG91dGVyVGhpcyA9IHRoaXM7XG5cdFx0YXN5bmMgZnVuY3Rpb24gY29uc3VtZVJ1bm5hYmxlU3RyZWFtKCkge1xuXHRcdFx0bGV0IHNpZ25hbDtcblx0XHRcdGxldCBsaXN0ZW5lciA9IG51bGw7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAob3B0aW9ucz8uc2lnbmFsKSBpZiAoXCJhbnlcIiBpbiBBYm9ydFNpZ25hbCkgc2lnbmFsID0gQWJvcnRTaWduYWwuYW55KFthYm9ydENvbnRyb2xsZXIuc2lnbmFsLCBvcHRpb25zLnNpZ25hbF0pO1xuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRzaWduYWwgPSBvcHRpb25zLnNpZ25hbDtcblx0XHRcdFx0XHRsaXN0ZW5lciA9ICgpID0+IHtcblx0XHRcdFx0XHRcdGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0b3B0aW9ucy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBzaWduYWwgPSBhYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuXHRcdFx0XHRjb25zdCBydW5uYWJsZVN0cmVhbSA9IGF3YWl0IG91dGVyVGhpcy5zdHJlYW0oaW5wdXQsIHtcblx0XHRcdFx0XHQuLi5jb25maWcsXG5cdFx0XHRcdFx0c2lnbmFsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCB0YXBwZWRTdHJlYW0gPSBldmVudFN0cmVhbWVyLnRhcE91dHB1dEl0ZXJhYmxlKHJ1bklkLCBydW5uYWJsZVN0cmVhbSk7XG5cdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgXyBvZiB0YXBwZWRTdHJlYW0pIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIGJyZWFrO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YXdhaXQgZXZlbnRTdHJlYW1lci5maW5pc2goKTtcblx0XHRcdFx0aWYgKHNpZ25hbCAmJiBsaXN0ZW5lcikgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2UgPSBjb25zdW1lUnVubmFibGVTdHJlYW0oKTtcblx0XHRsZXQgZmlyc3RFdmVudFNlbnQgPSBmYWxzZTtcblx0XHRsZXQgZmlyc3RFdmVudFJ1bklkO1xuXHRcdHRyeSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIGV2ZW50U3RyZWFtZXIpIHtcblx0XHRcdFx0aWYgKCFmaXJzdEV2ZW50U2VudCkge1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEuaW5wdXQgPSBpbnB1dDtcblx0XHRcdFx0XHRmaXJzdEV2ZW50U2VudCA9IHRydWU7XG5cdFx0XHRcdFx0Zmlyc3RFdmVudFJ1bklkID0gZXZlbnQucnVuX2lkO1xuXHRcdFx0XHRcdHlpZWxkIGV2ZW50O1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChldmVudC5ydW5faWQgPT09IGZpcnN0RXZlbnRSdW5JZCAmJiBldmVudC5ldmVudC5lbmRzV2l0aChcIl9lbmRcIikpIHtcblx0XHRcdFx0XHRpZiAoZXZlbnQuZGF0YT8uaW5wdXQpIGRlbGV0ZSBldmVudC5kYXRhLmlucHV0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHlpZWxkIGV2ZW50O1xuXHRcdFx0fVxuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblx0XHRcdGF3YWl0IHJ1bm5hYmxlU3RyZWFtQ29uc3VtZVByb21pc2U7XG5cdFx0fVxuXHR9XG5cdGFzeW5jICpfc3RyZWFtRXZlbnRzVjEoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRsZXQgcnVuTG9nO1xuXHRcdGxldCBoYXNFbmNvdW50ZXJlZFN0YXJ0RXZlbnQgPSBmYWxzZTtcblx0XHRjb25zdCBjb25maWcgPSByZXF1aXJlX2NvbmZpZy5lbnN1cmVDb25maWcob3B0aW9ucyk7XG5cdFx0Y29uc3Qgcm9vdFRhZ3MgPSBjb25maWcudGFncyA/PyBbXTtcblx0XHRjb25zdCByb290TWV0YWRhdGEgPSBjb25maWcubWV0YWRhdGEgPz8ge307XG5cdFx0Y29uc3Qgcm9vdE5hbWUgPSBjb25maWcucnVuTmFtZSA/PyB0aGlzLmdldE5hbWUoKTtcblx0XHRjb25zdCBsb2dTdHJlYW1DYWxsYmFja0hhbmRsZXIgPSBuZXcgcmVxdWlyZV90cmFjZXJzX2xvZ19zdHJlYW0uTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyKHtcblx0XHRcdC4uLnN0cmVhbU9wdGlvbnMsXG5cdFx0XHRhdXRvQ2xvc2U6IGZhbHNlLFxuXHRcdFx0X3NjaGVtYUZvcm1hdDogXCJzdHJlYW1pbmdfZXZlbnRzXCJcblx0XHR9KTtcblx0XHRjb25zdCByb290RXZlbnRGaWx0ZXIgPSBuZXcgcmVxdWlyZV91dGlscyQxLl9Sb290RXZlbnRGaWx0ZXIoeyAuLi5zdHJlYW1PcHRpb25zIH0pO1xuXHRcdGNvbnN0IGxvZ1N0cmVhbSA9IHRoaXMuX3N0cmVhbUxvZyhpbnB1dCwgbG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyLCBjb25maWcpO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgbG9nIG9mIGxvZ1N0cmVhbSkge1xuXHRcdFx0aWYgKCFydW5Mb2cpIHJ1bkxvZyA9IHJlcXVpcmVfdHJhY2Vyc19sb2dfc3RyZWFtLlJ1bkxvZy5mcm9tUnVuTG9nUGF0Y2gobG9nKTtcblx0XHRcdGVsc2UgcnVuTG9nID0gcnVuTG9nLmNvbmNhdChsb2cpO1xuXHRcdFx0aWYgKHJ1bkxvZy5zdGF0ZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIGVycm9yOiBcInN0cmVhbUV2ZW50c1wiIHN0YXRlIGlzIG1pc3NpbmcuIFBsZWFzZSBvcGVuIGEgYnVnIHJlcG9ydC5gKTtcblx0XHRcdGlmICghaGFzRW5jb3VudGVyZWRTdGFydEV2ZW50KSB7XG5cdFx0XHRcdGhhc0VuY291bnRlcmVkU3RhcnRFdmVudCA9IHRydWU7XG5cdFx0XHRcdGNvbnN0IHN0YXRlJDIgPSB7IC4uLnJ1bkxvZy5zdGF0ZSB9O1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRydW5faWQ6IHN0YXRlJDIuaWQsXG5cdFx0XHRcdFx0ZXZlbnQ6IGBvbl8ke3N0YXRlJDIudHlwZX1fc3RhcnRgLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiByb290TWV0YWRhdGEsXG5cdFx0XHRcdFx0ZGF0YTogeyBpbnB1dCB9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChyb290RXZlbnRGaWx0ZXIuaW5jbHVkZUV2ZW50KGV2ZW50LCBzdGF0ZSQyLnR5cGUpKSB5aWVsZCBldmVudDtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHBhdGhzID0gbG9nLm9wcy5maWx0ZXIoKG9wKSA9PiBvcC5wYXRoLnN0YXJ0c1dpdGgoXCIvbG9ncy9cIikpLm1hcCgob3ApID0+IG9wLnBhdGguc3BsaXQoXCIvXCIpWzJdKTtcblx0XHRcdGNvbnN0IGRlZHVwZWRQYXRocyA9IFsuLi5uZXcgU2V0KHBhdGhzKV07XG5cdFx0XHRmb3IgKGNvbnN0IHBhdGggb2YgZGVkdXBlZFBhdGhzKSB7XG5cdFx0XHRcdGxldCBldmVudFR5cGU7XG5cdFx0XHRcdGxldCBkYXRhID0ge307XG5cdFx0XHRcdGNvbnN0IGxvZ0VudHJ5ID0gcnVuTG9nLnN0YXRlLmxvZ3NbcGF0aF07XG5cdFx0XHRcdGlmIChsb2dFbnRyeS5lbmRfdGltZSA9PT0gdm9pZCAwKSBpZiAobG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0Lmxlbmd0aCA+IDApIGV2ZW50VHlwZSA9IFwic3RyZWFtXCI7XG5cdFx0XHRcdGVsc2UgZXZlbnRUeXBlID0gXCJzdGFydFwiO1xuXHRcdFx0XHRlbHNlIGV2ZW50VHlwZSA9IFwiZW5kXCI7XG5cdFx0XHRcdGlmIChldmVudFR5cGUgPT09IFwic3RhcnRcIikge1xuXHRcdFx0XHRcdGlmIChsb2dFbnRyeS5pbnB1dHMgIT09IHZvaWQgMCkgZGF0YS5pbnB1dCA9IGxvZ0VudHJ5LmlucHV0cztcblx0XHRcdFx0fSBlbHNlIGlmIChldmVudFR5cGUgPT09IFwiZW5kXCIpIHtcblx0XHRcdFx0XHRpZiAobG9nRW50cnkuaW5wdXRzICE9PSB2b2lkIDApIGRhdGEuaW5wdXQgPSBsb2dFbnRyeS5pbnB1dHM7XG5cdFx0XHRcdFx0ZGF0YS5vdXRwdXQgPSBsb2dFbnRyeS5maW5hbF9vdXRwdXQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBcInN0cmVhbVwiKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2h1bmtDb3VudCA9IGxvZ0VudHJ5LnN0cmVhbWVkX291dHB1dC5sZW5ndGg7XG5cdFx0XHRcdFx0aWYgKGNodW5rQ291bnQgIT09IDEpIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgZXhhY3RseSBvbmUgY2h1bmsgb2Ygc3RyZWFtZWQgb3V0cHV0LCBnb3QgJHtjaHVua0NvdW50fSBpbnN0ZWFkLiBFbmNvdW50ZXJlZCBpbjogXCIke2xvZ0VudHJ5Lm5hbWV9XCJgKTtcblx0XHRcdFx0XHRkYXRhID0geyBjaHVuazogbG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0WzBdIH07XG5cdFx0XHRcdFx0bG9nRW50cnkuc3RyZWFtZWRfb3V0cHV0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0eWllbGQge1xuXHRcdFx0XHRcdGV2ZW50OiBgb25fJHtsb2dFbnRyeS50eXBlfV8ke2V2ZW50VHlwZX1gLFxuXHRcdFx0XHRcdG5hbWU6IGxvZ0VudHJ5Lm5hbWUsXG5cdFx0XHRcdFx0cnVuX2lkOiBsb2dFbnRyeS5pZCxcblx0XHRcdFx0XHR0YWdzOiBsb2dFbnRyeS50YWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiBsb2dFbnRyeS5tZXRhZGF0YSxcblx0XHRcdFx0XHRkYXRhXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB7IHN0YXRlOiBzdGF0ZSQxIH0gPSBydW5Mb2c7XG5cdFx0XHRpZiAoc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBjaHVua0NvdW50ID0gc3RhdGUkMS5zdHJlYW1lZF9vdXRwdXQubGVuZ3RoO1xuXHRcdFx0XHRpZiAoY2h1bmtDb3VudCAhPT0gMSkgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBleGFjdGx5IG9uZSBjaHVuayBvZiBzdHJlYW1lZCBvdXRwdXQsIGdvdCAke2NodW5rQ291bnR9IGluc3RlYWQuIEVuY291bnRlcmVkIGluOiBcIiR7c3RhdGUkMS5uYW1lfVwiYCk7XG5cdFx0XHRcdGNvbnN0IGRhdGEgPSB7IGNodW5rOiBzdGF0ZSQxLnN0cmVhbWVkX291dHB1dFswXSB9O1xuXHRcdFx0XHRzdGF0ZSQxLnN0cmVhbWVkX291dHB1dCA9IFtdO1xuXHRcdFx0XHRjb25zdCBldmVudCA9IHtcblx0XHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUkMS50eXBlfV9zdHJlYW1gLFxuXHRcdFx0XHRcdHJ1bl9pZDogc3RhdGUkMS5pZCxcblx0XHRcdFx0XHR0YWdzOiByb290VGFncyxcblx0XHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRcdG5hbWU6IHJvb3ROYW1lLFxuXHRcdFx0XHRcdGRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKHJvb3RFdmVudEZpbHRlci5pbmNsdWRlRXZlbnQoZXZlbnQsIHN0YXRlJDEudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzdGF0ZSA9IHJ1bkxvZz8uc3RhdGU7XG5cdFx0aWYgKHN0YXRlICE9PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IGV2ZW50ID0ge1xuXHRcdFx0XHRldmVudDogYG9uXyR7c3RhdGUudHlwZX1fZW5kYCxcblx0XHRcdFx0bmFtZTogcm9vdE5hbWUsXG5cdFx0XHRcdHJ1bl9pZDogc3RhdGUuaWQsXG5cdFx0XHRcdHRhZ3M6IHJvb3RUYWdzLFxuXHRcdFx0XHRtZXRhZGF0YTogcm9vdE1ldGFkYXRhLFxuXHRcdFx0XHRkYXRhOiB7IG91dHB1dDogc3RhdGUuZmluYWxfb3V0cHV0IH1cblx0XHRcdH07XG5cdFx0XHRpZiAocm9vdEV2ZW50RmlsdGVyLmluY2x1ZGVFdmVudChldmVudCwgc3RhdGUudHlwZSkpIHlpZWxkIGV2ZW50O1xuXHRcdH1cblx0fVxuXHRzdGF0aWMgaXNSdW5uYWJsZSh0aGluZykge1xuXHRcdHJldHVybiByZXF1aXJlX3V0aWxzJDEuaXNSdW5uYWJsZUludGVyZmFjZSh0aGluZyk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlQmluZGluZyh7XG5cdFx0XHRib3VuZDogdGhpcyxcblx0XHRcdGNvbmZpZzoge30sXG5cdFx0XHRjb25maWdGYWN0b3JpZXM6IFsoY29uZmlnKSA9PiAoeyBjYWxsYmFja3M6IFtuZXcgcmVxdWlyZV9yb290X2xpc3RlbmVyLlJvb3RMaXN0ZW5lcnNUcmFjZXIoe1xuXHRcdFx0XHRjb25maWcsXG5cdFx0XHRcdG9uU3RhcnQsXG5cdFx0XHRcdG9uRW5kLFxuXHRcdFx0XHRvbkVycm9yXG5cdFx0XHR9KV0gfSldXG5cdFx0fSk7XG5cdH1cblx0LyoqXG5cdCogQ29udmVydCBhIHJ1bm5hYmxlIHRvIGEgdG9vbC4gUmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGBSdW5uYWJsZVRvb2xMaWtlYFxuXHQqIHdoaWNoIGNvbnRhaW5zIHRoZSBydW5uYWJsZSwgbmFtZSwgZGVzY3JpcHRpb24gYW5kIHNjaGVtYS5cblx0KlxuXHQqIEB0ZW1wbGF0ZSB7VCBleHRlbmRzIFJ1bklucHV0ID0gUnVuSW5wdXR9IFJ1bklucHV0IC0gVGhlIGlucHV0IHR5cGUgb2YgdGhlIHJ1bm5hYmxlLiBTaG91bGQgYmUgdGhlIHNhbWUgYXMgdGhlIGBSdW5JbnB1dGAgdHlwZSBvZiB0aGUgcnVubmFibGUuXG5cdCpcblx0KiBAcGFyYW0gZmllbGRzXG5cdCogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtmaWVsZHMubmFtZV0gVGhlIG5hbWUgb2YgdGhlIHRvb2wuIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBuYW1lIG9mIHRoZSBydW5uYWJsZS5cblx0KiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW2ZpZWxkcy5kZXNjcmlwdGlvbl0gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sLiBGYWxscyBiYWNrIHRvIHRoZSBkZXNjcmlwdGlvbiBvbiB0aGUgWm9kIHNjaGVtYSBpZiBub3QgcHJvdmlkZWQsIG9yIHVuZGVmaW5lZCBpZiBuZWl0aGVyIGFyZSBwcm92aWRlZC5cblx0KiBAcGFyYW0ge3ouWm9kVHlwZTxUPn0gW2ZpZWxkcy5zY2hlbWFdIFRoZSBab2Qgc2NoZW1hIGZvciB0aGUgaW5wdXQgb2YgdGhlIHRvb2wuIEluZmVycyB0aGUgWm9kIHR5cGUgZnJvbSB0aGUgaW5wdXQgdHlwZSBvZiB0aGUgcnVubmFibGUuXG5cdCogQHJldHVybnMge1J1bm5hYmxlVG9vbExpa2U8ei5ab2RUeXBlPFQ+LCBSdW5PdXRwdXQ+fSBBbiBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWAgd2hpY2ggaXMgYSBydW5uYWJsZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgdG9vbC5cblx0Ki9cblx0YXNUb29sKGZpZWxkcykge1xuXHRcdHJldHVybiBjb252ZXJ0UnVubmFibGVUb1Rvb2wodGhpcywgZmllbGRzKTtcblx0fVxufTtcbi8qKlxuKiBXcmFwcyBhIHJ1bm5hYmxlIGFuZCBhcHBsaWVzIHBhcnRpYWwgY29uZmlnIHVwb24gaW52b2NhdGlvbi5cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIHR5cGUgUnVubmFibGVDb25maWcsXG4qICAgUnVubmFibGVMYW1iZGEsXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgZW5oYW5jZVByb2ZpbGUgPSAoXG4qICAgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgYW55PixcbiogICBjb25maWc/OiBSdW5uYWJsZUNvbmZpZ1xuKiApID0+IHtcbiogICBpZiAoY29uZmlnPy5jb25maWd1cmFibGU/LnJvbGUpIHtcbiogICAgIHJldHVybiB7IC4uLnByb2ZpbGUsIHJvbGU6IGNvbmZpZy5jb25maWd1cmFibGUucm9sZSB9O1xuKiAgIH1cbiogICByZXR1cm4gcHJvZmlsZTtcbiogfTtcbipcbiogY29uc3QgcnVubmFibGUgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGVuaGFuY2VQcm9maWxlKTtcbipcbiogLy8gQmluZCBjb25maWd1cmF0aW9uIHRvIHRoZSBydW5uYWJsZSB0byBzZXQgdGhlIHVzZXIncyByb2xlIGR5bmFtaWNhbGx5XG4qIGNvbnN0IGFkbWluUnVubmFibGUgPSBydW5uYWJsZS53aXRoQ29uZmlnKHsgY29uZmlndXJhYmxlOiB7IHJvbGU6IFwiQWRtaW5cIiB9IH0pO1xuKiBjb25zdCB1c2VyUnVubmFibGUgPSBydW5uYWJsZS53aXRoQ29uZmlnKHsgY29uZmlndXJhYmxlOiB7IHJvbGU6IFwiVXNlclwiIH0gfSk7XG4qXG4qIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBhZG1pblJ1bm5hYmxlLmludm9rZSh7XG4qICAgbmFtZTogXCJBbGljZVwiLFxuKiAgIGVtYWlsOiBcImFsaWNlQGV4YW1wbGUuY29tXCJcbiogfSk7XG4qXG4qIC8vIHsgbmFtZTogXCJBbGljZVwiLCBlbWFpbDogXCJhbGljZUBleGFtcGxlLmNvbVwiLCByb2xlOiBcIkFkbWluXCIgfVxuKlxuKiBjb25zdCByZXN1bHQyID0gYXdhaXQgdXNlclJ1bm5hYmxlLmludm9rZSh7XG4qICAgbmFtZTogXCJCb2JcIixcbiogICBlbWFpbDogXCJib2JAZXhhbXBsZS5jb21cIlxuKiB9KTtcbipcbiogLy8geyBuYW1lOiBcIkJvYlwiLCBlbWFpbDogXCJib2JAZXhhbXBsZS5jb21cIiwgcm9sZTogXCJVc2VyXCIgfVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVCaW5kaW5nID0gY2xhc3MgUnVubmFibGVCaW5kaW5nIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZUJpbmRpbmdcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0Ym91bmQ7XG5cdGNvbmZpZztcblx0a3dhcmdzO1xuXHRjb25maWdGYWN0b3JpZXM7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5ib3VuZCA9IGZpZWxkcy5ib3VuZDtcblx0XHR0aGlzLmt3YXJncyA9IGZpZWxkcy5rd2FyZ3M7XG5cdFx0dGhpcy5jb25maWcgPSBmaWVsZHMuY29uZmlnO1xuXHRcdHRoaXMuY29uZmlnRmFjdG9yaWVzID0gZmllbGRzLmNvbmZpZ0ZhY3Rvcmllcztcblx0fVxuXHRnZXROYW1lKHN1ZmZpeCkge1xuXHRcdHJldHVybiB0aGlzLmJvdW5kLmdldE5hbWUoc3VmZml4KTtcblx0fVxuXHRhc3luYyBfbWVyZ2VDb25maWcoLi4ub3B0aW9ucykge1xuXHRcdGNvbnN0IGNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLm1lcmdlQ29uZmlncyh0aGlzLmNvbmZpZywgLi4ub3B0aW9ucyk7XG5cdFx0cmV0dXJuIHJlcXVpcmVfY29uZmlnLm1lcmdlQ29uZmlncyhjb25maWcsIC4uLnRoaXMuY29uZmlnRmFjdG9yaWVzID8gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5jb25maWdGYWN0b3JpZXMubWFwKGFzeW5jIChjb25maWdGYWN0b3J5KSA9PiBhd2FpdCBjb25maWdGYWN0b3J5KGNvbmZpZykpKSA6IFtdKTtcblx0fVxuXHR3aXRoQ29uZmlnKGNvbmZpZykge1xuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7XG5cdFx0XHRib3VuZDogdGhpcy5ib3VuZCxcblx0XHRcdGt3YXJnczogdGhpcy5rd2FyZ3MsXG5cdFx0XHRjb25maWc6IHtcblx0XHRcdFx0Li4udGhpcy5jb25maWcsXG5cdFx0XHRcdC4uLmNvbmZpZ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdHdpdGhSZXRyeShmaWVsZHMpIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlUmV0cnkoe1xuXHRcdFx0Ym91bmQ6IHRoaXMuYm91bmQsXG5cdFx0XHRrd2FyZ3M6IHRoaXMua3dhcmdzLFxuXHRcdFx0Y29uZmlnOiB0aGlzLmNvbmZpZyxcblx0XHRcdG1heEF0dGVtcHROdW1iZXI6IGZpZWxkcz8uc3RvcEFmdGVyQXR0ZW1wdCxcblx0XHRcdC4uLmZpZWxkc1xuXHRcdH0pO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmJvdW5kLmludm9rZShpbnB1dCwgYXdhaXQgdGhpcy5fbWVyZ2VDb25maWcob3B0aW9ucywgdGhpcy5rd2FyZ3MpKTtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gYXdhaXQgUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKGluZGl2aWR1YWxPcHRpb24pID0+IHRoaXMuX21lcmdlQ29uZmlnKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhpbmRpdmlkdWFsT3B0aW9uKSwgdGhpcy5rd2FyZ3MpKSkgOiBhd2FpdCB0aGlzLl9tZXJnZUNvbmZpZyhyZXF1aXJlX2NvbmZpZy5lbnN1cmVDb25maWcob3B0aW9ucyksIHRoaXMua3dhcmdzKTtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5iYXRjaChpbnB1dHMsIG1lcmdlZE9wdGlvbnMsIGJhdGNoT3B0aW9ucyk7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpcnN0LCBzZWNvbmQpO1xuXHR9XG5cdGFzeW5jICpfc3RyZWFtSXRlcmF0b3IoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHR5aWVsZCogdGhpcy5ib3VuZC5fc3RyZWFtSXRlcmF0b3IoaW5wdXQsIGF3YWl0IHRoaXMuX21lcmdlQ29uZmlnKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKSwgdGhpcy5rd2FyZ3MpKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5ib3VuZC5zdHJlYW0oaW5wdXQsIGF3YWl0IHRoaXMuX21lcmdlQ29uZmlnKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKSwgdGhpcy5rd2FyZ3MpKTtcblx0fVxuXHRhc3luYyAqdHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHlpZWxkKiB0aGlzLmJvdW5kLnRyYW5zZm9ybShnZW5lcmF0b3IsIGF3YWl0IHRoaXMuX21lcmdlQ29uZmlnKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKSwgdGhpcy5rd2FyZ3MpKTtcblx0fVxuXHRzdHJlYW1FdmVudHMoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRjb25zdCBvdXRlclRoaXMgPSB0aGlzO1xuXHRcdGNvbnN0IGdlbmVyYXRvciA9IGFzeW5jIGZ1bmN0aW9uKiAoKSB7XG5cdFx0XHR5aWVsZCogb3V0ZXJUaGlzLmJvdW5kLnN0cmVhbUV2ZW50cyhpbnB1dCwge1xuXHRcdFx0XHQuLi5hd2FpdCBvdXRlclRoaXMuX21lcmdlQ29uZmlnKHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKSwgb3V0ZXJUaGlzLmt3YXJncyksXG5cdFx0XHRcdHZlcnNpb246IG9wdGlvbnMudmVyc2lvblxuXHRcdFx0fSwgc3RyZWFtT3B0aW9ucyk7XG5cdFx0fTtcblx0XHRyZXR1cm4gcmVxdWlyZV91dGlsc19zdHJlYW0uSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tQXN5bmNHZW5lcmF0b3IoZ2VuZXJhdG9yKCkpO1xuXHR9XG5cdHN0YXRpYyBpc1J1bm5hYmxlQmluZGluZyh0aGluZykge1xuXHRcdHJldHVybiB0aGluZy5ib3VuZCAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKHRoaW5nLmJvdW5kKTtcblx0fVxuXHQvKipcblx0KiBCaW5kIGxpZmVjeWNsZSBsaXN0ZW5lcnMgdG8gYSBSdW5uYWJsZSwgcmV0dXJuaW5nIGEgbmV3IFJ1bm5hYmxlLlxuXHQqIFRoZSBSdW4gb2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBydW4sIGluY2x1ZGluZyBpdHMgaWQsXG5cdCogdHlwZSwgaW5wdXQsIG91dHB1dCwgZXJyb3IsIHN0YXJ0VGltZSwgZW5kVGltZSwgYW5kIGFueSB0YWdzIG9yIG1ldGFkYXRhXG5cdCogYWRkZWQgdG8gdGhlIHJ1bi5cblx0KlxuXHQqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhbGxiYWNrIGZ1bmN0aW9ucy5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uU3RhcnQgLSBDYWxsZWQgYmVmb3JlIHRoZSBydW5uYWJsZSBzdGFydHMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRW5kIC0gQ2FsbGVkIGFmdGVyIHRoZSBydW5uYWJsZSBmaW5pc2hlcyBydW5uaW5nLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqIEBwYXJhbSB7KHJ1bjogUnVuKSA9PiB2b2lkfSBwYXJhbXMub25FcnJvciAtIENhbGxlZCBpZiB0aGUgcnVubmFibGUgdGhyb3dzIGFuIGVycm9yLCB3aXRoIHRoZSBSdW4gb2JqZWN0LlxuXHQqL1xuXHR3aXRoTGlzdGVuZXJzKHsgb25TdGFydCwgb25FbmQsIG9uRXJyb3IgfSkge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVCaW5kaW5nKHtcblx0XHRcdGJvdW5kOiB0aGlzLmJvdW5kLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdGNvbmZpZzogdGhpcy5jb25maWcsXG5cdFx0XHRjb25maWdGYWN0b3JpZXM6IFsoY29uZmlnKSA9PiAoeyBjYWxsYmFja3M6IFtuZXcgcmVxdWlyZV9yb290X2xpc3RlbmVyLlJvb3RMaXN0ZW5lcnNUcmFjZXIoe1xuXHRcdFx0XHRjb25maWcsXG5cdFx0XHRcdG9uU3RhcnQsXG5cdFx0XHRcdG9uRW5kLFxuXHRcdFx0XHRvbkVycm9yXG5cdFx0XHR9KV0gfSldXG5cdFx0fSk7XG5cdH1cbn07XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IGRlbGVnYXRlcyBjYWxscyB0byBhbm90aGVyIHJ1bm5hYmxlXG4qIHdpdGggZWFjaCBlbGVtZW50IG9mIHRoZSBpbnB1dCBzZXF1ZW5jZS5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBSdW5uYWJsZUVhY2gsIFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgdG9VcHBlckNhc2UgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiBpbnB1dC50b1VwcGVyQ2FzZSgpO1xuKiBjb25zdCBhZGRHcmVldGluZyA9IChpbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IGBIZWxsbywgJHtpbnB1dH0hYDtcbipcbiogY29uc3QgdXBwZXJDYXNlTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbSh0b1VwcGVyQ2FzZSk7XG4qIGNvbnN0IGdyZWV0aW5nTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShhZGRHcmVldGluZyk7XG4qXG4qIGNvbnN0IGNoYWluID0gbmV3IFJ1bm5hYmxlRWFjaCh7XG4qICAgYm91bmQ6IHVwcGVyQ2FzZUxhbWJkYS5waXBlKGdyZWV0aW5nTGFtYmRhKSxcbiogfSk7XG4qXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluLmludm9rZShbXCJhbGljZVwiLCBcImJvYlwiLCBcImNhcm9sXCJdKVxuKlxuKiAvLyBbXCJIZWxsbywgQUxJQ0UhXCIsIFwiSGVsbG8sIEJPQiFcIiwgXCJIZWxsbywgQ0FST0whXCJdXG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUVhY2ggPSBjbGFzcyBSdW5uYWJsZUVhY2ggZXh0ZW5kcyBSdW5uYWJsZSB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIlJ1bm5hYmxlRWFjaFwiO1xuXHR9XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRib3VuZDtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLmJvdW5kID0gZmllbGRzLmJvdW5kO1xuXHR9XG5cdC8qKlxuXHQqIEludm9rZXMgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0cywgY29uZmlnKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dHMsIGNvbmZpZyk7XG5cdH1cblx0LyoqXG5cdCogQSBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbnZva2UgdGhlIHJ1bm5hYmxlIHdpdGggdGhlIHNwZWNpZmllZCBpbnB1dCBhbmQgY29uZmlndXJhdGlvbi5cblx0KiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIHRvIGludm9rZSB0aGUgcnVubmFibGUgd2l0aC5cblx0KiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgb3V0cHV0IG9mIHRoZSBydW5uYWJsZS5cblx0Ki9cblx0YXN5bmMgX2ludm9rZShpbnB1dHMsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiB0aGlzLmJvdW5kLmJhdGNoKGlucHV0cywgcmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KSk7XG5cdH1cblx0LyoqXG5cdCogQmluZCBsaWZlY3ljbGUgbGlzdGVuZXJzIHRvIGEgUnVubmFibGUsIHJldHVybmluZyBhIG5ldyBSdW5uYWJsZS5cblx0KiBUaGUgUnVuIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcnVuLCBpbmNsdWRpbmcgaXRzIGlkLFxuXHQqIHR5cGUsIGlucHV0LCBvdXRwdXQsIGVycm9yLCBzdGFydFRpbWUsIGVuZFRpbWUsIGFuZCBhbnkgdGFncyBvciBtZXRhZGF0YVxuXHQqIGFkZGVkIHRvIHRoZSBydW4uXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbnMuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vblN0YXJ0IC0gQ2FsbGVkIGJlZm9yZSB0aGUgcnVubmFibGUgc3RhcnRzIHJ1bm5pbmcsIHdpdGggdGhlIFJ1biBvYmplY3QuXG5cdCogQHBhcmFtIHsocnVuOiBSdW4pID0+IHZvaWR9IHBhcmFtcy5vbkVuZCAtIENhbGxlZCBhZnRlciB0aGUgcnVubmFibGUgZmluaXNoZXMgcnVubmluZywgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0KiBAcGFyYW0geyhydW46IFJ1bikgPT4gdm9pZH0gcGFyYW1zLm9uRXJyb3IgLSBDYWxsZWQgaWYgdGhlIHJ1bm5hYmxlIHRocm93cyBhbiBlcnJvciwgd2l0aCB0aGUgUnVuIG9iamVjdC5cblx0Ki9cblx0d2l0aExpc3RlbmVycyh7IG9uU3RhcnQsIG9uRW5kLCBvbkVycm9yIH0pIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlRWFjaCh7IGJvdW5kOiB0aGlzLmJvdW5kLndpdGhMaXN0ZW5lcnMoe1xuXHRcdFx0b25TdGFydCxcblx0XHRcdG9uRW5kLFxuXHRcdFx0b25FcnJvclxuXHRcdH0pIH0pO1xuXHR9XG59O1xuLyoqXG4qIEJhc2UgY2xhc3MgZm9yIHJ1bm5hYmxlcyB0aGF0IGNhbiBiZSByZXRyaWVkIGFcbiogc3BlY2lmaWVkIG51bWJlciBvZiB0aW1lcy5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiAgIFJ1bm5hYmxlUmV0cnksXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogLy8gU2ltdWxhdGUgYW4gQVBJIGNhbGwgdGhhdCBmYWlsc1xuKiBjb25zdCBzaW11bGF0ZUFwaUNhbGwgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4qICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgQVBJIGNhbGwgd2l0aCBpbnB1dDogJHtpbnB1dH1gKTtcbiogICB0aHJvdyBuZXcgRXJyb3IoXCJBUEkgY2FsbCBmYWlsZWQgZHVlIHRvIG5ldHdvcmsgaXNzdWVcIik7XG4qIH07XG4qXG4qIGNvbnN0IGFwaUNhbGxMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHNpbXVsYXRlQXBpQ2FsbCk7XG4qXG4qIC8vIEFwcGx5IHJldHJ5IGxvZ2ljIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IGFwaUNhbGxXaXRoUmV0cnkgPSBhcGlDYWxsTGFtYmRhLndpdGhSZXRyeSh7IHN0b3BBZnRlckF0dGVtcHQ6IDMgfSk7XG4qXG4qIC8vIEFsdGVybmF0aXZlbHksIGNyZWF0ZSBhIFJ1bm5hYmxlUmV0cnkgaW5zdGFuY2UgbWFudWFsbHlcbiogY29uc3QgbWFudWFsUmV0cnkgPSBuZXcgUnVubmFibGVSZXRyeSh7XG4qICAgYm91bmQ6IGFwaUNhbGxMYW1iZGEsXG4qICAgbWF4QXR0ZW1wdE51bWJlcjogMyxcbiogICBjb25maWc6IHt9LFxuKiB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSAud2l0aFJldHJ5KCkgbWV0aG9kXG4qIGNvbnN0IHJlcyA9IGF3YWl0IGFwaUNhbGxXaXRoUmV0cnlcbiogICAuaW52b2tlKFwiUmVxdWVzdCAxXCIpXG4qICAgLmNhdGNoKChlcnJvcikgPT4ge1xuKiAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCBhZnRlciBtdWx0aXBsZSByZXRyaWVzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIHVzaW5nIHRoZSBtYW51YWwgcmV0cnkgaW5zdGFuY2VcbiogY29uc3QgcmVzMiA9IGF3YWl0IG1hbnVhbFJldHJ5XG4qICAgLmludm9rZShcIlJlcXVlc3QgMlwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgbXVsdGlwbGUgcmV0cmllczpcIiwgZXJyb3IubWVzc2FnZSk7XG4qICAgfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZVJldHJ5ID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVJldHJ5XCI7XG5cdH1cblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdG1heEF0dGVtcHROdW1iZXIgPSAzO1xuXHRvbkZhaWxlZEF0dGVtcHQgPSAoKSA9PiB7fTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLm1heEF0dGVtcHROdW1iZXIgPSBmaWVsZHMubWF4QXR0ZW1wdE51bWJlciA/PyB0aGlzLm1heEF0dGVtcHROdW1iZXI7XG5cdFx0dGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBmaWVsZHMub25GYWlsZWRBdHRlbXB0ID8/IHRoaXMub25GYWlsZWRBdHRlbXB0O1xuXHR9XG5cdF9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdGNvbnN0IHRhZyA9IGF0dGVtcHQgPiAxID8gYHJldHJ5OmF0dGVtcHQ6JHthdHRlbXB0fWAgOiB2b2lkIDA7XG5cdFx0cmV0dXJuIHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKGNvbmZpZywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRhZykgfSk7XG5cdH1cblx0YXN5bmMgX2ludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0cmV0dXJuIHJlcXVpcmVfaW5kZXgkMS5wUmV0cnkoKGF0dGVtcHROdW1iZXIpID0+IHN1cGVyLmludm9rZShpbnB1dCwgdGhpcy5fcGF0Y2hDb25maWdGb3JSZXRyeShhdHRlbXB0TnVtYmVyLCBjb25maWcsIHJ1bk1hbmFnZXIpKSwge1xuXHRcdFx0b25GYWlsZWRBdHRlbXB0OiAoeyBlcnJvciB9KSA9PiB0aGlzLm9uRmFpbGVkQXR0ZW1wdChlcnJvciwgaW5wdXQpLFxuXHRcdFx0cmV0cmllczogTWF0aC5tYXgodGhpcy5tYXhBdHRlbXB0TnVtYmVyIC0gMSwgMCksXG5cdFx0XHRyYW5kb21pemU6IHRydWVcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdGhhdCBpbnZva2VzIHRoZSBydW5uYWJsZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW5wdXQsIHJ1biBtYW5hZ2VyLFxuXHQqIGFuZCBjb25maWcuIEl0IGhhbmRsZXMgdGhlIHJldHJ5IGxvZ2ljIGJ5IGNhdGNoaW5nIGFueSBlcnJvcnMgYW5kXG5cdCogcmVjdXJzaXZlbHkgaW52b2tpbmcgaXRzZWxmIHdpdGggdGhlIHVwZGF0ZWQgY29uZmlnIGZvciB0aGUgbmV4dCByZXRyeVxuXHQqIGF0dGVtcHQuXG5cdCogQHBhcmFtIGlucHV0IFRoZSBpbnB1dCBmb3IgdGhlIHJ1bm5hYmxlLlxuXHQqIEBwYXJhbSBydW5NYW5hZ2VyIFRoZSBydW4gbWFuYWdlciBmb3IgdGhlIHJ1bm5hYmxlLlxuXHQqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZyBmb3IgdGhlIHJ1bm5hYmxlLlxuXHQqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBvdXRwdXQgb2YgdGhlIHJ1bm5hYmxlLlxuXHQqL1xuXHRhc3luYyBpbnZva2UoaW5wdXQsIGNvbmZpZykge1xuXHRcdHJldHVybiB0aGlzLl9jYWxsV2l0aENvbmZpZyh0aGlzLl9pbnZva2UuYmluZCh0aGlzKSwgaW5wdXQsIGNvbmZpZyk7XG5cdH1cblx0YXN5bmMgX2JhdGNoKGlucHV0cywgY29uZmlncywgcnVuTWFuYWdlcnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGNvbnN0IHJlc3VsdHNNYXAgPSB7fTtcblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgcmVxdWlyZV9pbmRleCQxLnBSZXRyeShhc3luYyAoYXR0ZW1wdE51bWJlcikgPT4ge1xuXHRcdFx0XHRjb25zdCByZW1haW5pbmdJbmRleGVzID0gaW5wdXRzLm1hcCgoXywgaSkgPT4gaSkuZmlsdGVyKChpKSA9PiByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gPT09IHZvaWQgMCB8fCByZXN1bHRzTWFwW2kudG9TdHJpbmcoKV0gaW5zdGFuY2VvZiBFcnJvcik7XG5cdFx0XHRcdGNvbnN0IHJlbWFpbmluZ0lucHV0cyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiBpbnB1dHNbaV0pO1xuXHRcdFx0XHRjb25zdCBwYXRjaGVkQ29uZmlncyA9IHJlbWFpbmluZ0luZGV4ZXMubWFwKChpKSA9PiB0aGlzLl9wYXRjaENvbmZpZ0ZvclJldHJ5KGF0dGVtcHROdW1iZXIsIGNvbmZpZ3M/LltpXSwgcnVuTWFuYWdlcnM/LltpXSkpO1xuXHRcdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgc3VwZXIuYmF0Y2gocmVtYWluaW5nSW5wdXRzLCBwYXRjaGVkQ29uZmlncywge1xuXHRcdFx0XHRcdC4uLmJhdGNoT3B0aW9ucyxcblx0XHRcdFx0XHRyZXR1cm5FeGNlcHRpb25zOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsZXQgZmlyc3RFeGNlcHRpb247XG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaV07XG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0TWFwSW5kZXggPSByZW1haW5pbmdJbmRleGVzW2ldO1xuXHRcdFx0XHRcdGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHRcdFx0aWYgKGZpcnN0RXhjZXB0aW9uID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRcdFx0Zmlyc3RFeGNlcHRpb24gPSByZXN1bHQ7XG5cdFx0XHRcdFx0XHRcdGZpcnN0RXhjZXB0aW9uLmlucHV0ID0gcmVtYWluaW5nSW5wdXRzW2ldO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXN1bHRzTWFwW3Jlc3VsdE1hcEluZGV4LnRvU3RyaW5nKCldID0gcmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChmaXJzdEV4Y2VwdGlvbikgdGhyb3cgZmlyc3RFeGNlcHRpb247XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0fSwge1xuXHRcdFx0XHRvbkZhaWxlZEF0dGVtcHQ6ICh7IGVycm9yIH0pID0+IHRoaXMub25GYWlsZWRBdHRlbXB0KGVycm9yLCBlcnJvci5pbnB1dCksXG5cdFx0XHRcdHJldHJpZXM6IE1hdGgubWF4KHRoaXMubWF4QXR0ZW1wdE51bWJlciAtIDEsIDApLFxuXHRcdFx0XHRyYW5kb21pemU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMgIT09IHRydWUpIHRocm93IGU7XG5cdFx0fVxuXHRcdHJldHVybiBPYmplY3Qua2V5cyhyZXN1bHRzTWFwKS5zb3J0KChhLCBiKSA9PiBwYXJzZUludChhLCAxMCkgLSBwYXJzZUludChiLCAxMCkpLm1hcCgoa2V5KSA9PiByZXN1bHRzTWFwW3BhcnNlSW50KGtleSwgMTApXSk7XG5cdH1cblx0YXN5bmMgYmF0Y2goaW5wdXRzLCBvcHRpb25zLCBiYXRjaE9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fYmF0Y2hXaXRoQ29uZmlnKHRoaXMuX2JhdGNoLmJpbmQodGhpcyksIGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKTtcblx0fVxufTtcbi8qKlxuKiBBIHNlcXVlbmNlIG9mIHJ1bm5hYmxlcywgd2hlcmUgdGhlIG91dHB1dCBvZiBlYWNoIGlzIHRoZSBpbnB1dCBvZiB0aGUgbmV4dC5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBwcm9tcHRUZW1wbGF0ZSA9IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcbiogICBcIlRlbGwgbWUgYSBqb2tlIGFib3V0IHt0b3BpY31cIixcbiogKTtcbiogY29uc3QgY2hhaW4gPSBSdW5uYWJsZVNlcXVlbmNlLmZyb20oW3Byb21wdFRlbXBsYXRlLCBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsOiBcImdwdC00by1taW5pXCIgfSldKTtcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhaW4uaW52b2tlKHsgdG9waWM6IFwiYmVhcnNcIiB9KTtcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlU2VxdWVuY2UgPSBjbGFzcyBSdW5uYWJsZVNlcXVlbmNlIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVNlcXVlbmNlXCI7XG5cdH1cblx0Zmlyc3Q7XG5cdG1pZGRsZSA9IFtdO1xuXHRsYXN0O1xuXHRvbWl0U2VxdWVuY2VUYWdzID0gZmFsc2U7XG5cdGxjX3NlcmlhbGl6YWJsZSA9IHRydWU7XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuZmlyc3QgPSBmaWVsZHMuZmlyc3Q7XG5cdFx0dGhpcy5taWRkbGUgPSBmaWVsZHMubWlkZGxlID8/IHRoaXMubWlkZGxlO1xuXHRcdHRoaXMubGFzdCA9IGZpZWxkcy5sYXN0O1xuXHRcdHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuXHRcdHRoaXMub21pdFNlcXVlbmNlVGFncyA9IGZpZWxkcy5vbWl0U2VxdWVuY2VUYWdzID8/IHRoaXMub21pdFNlcXVlbmNlVGFncztcblx0fVxuXHRnZXQgc3RlcHMoKSB7XG5cdFx0cmV0dXJuIFtcblx0XHRcdHRoaXMuZmlyc3QsXG5cdFx0XHQuLi50aGlzLm1pZGRsZSxcblx0XHRcdHRoaXMubGFzdFxuXHRcdF07XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0LCBcImlucHV0XCIpLCBjb25maWcucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZz8ucnVuTmFtZSk7XG5cdFx0ZGVsZXRlIGNvbmZpZy5ydW5JZDtcblx0XHRsZXQgbmV4dFN0ZXBJbnB1dCA9IGlucHV0O1xuXHRcdGxldCBmaW5hbE91dHB1dDtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgaW5pdGlhbFN0ZXBzID0gW3RoaXMuZmlyc3QsIC4uLnRoaXMubWlkZGxlXTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5pdGlhbFN0ZXBzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IHN0ZXAgPSBpbml0aWFsU3RlcHNbaV07XG5cdFx0XHRcdGNvbnN0IHByb21pc2UgPSBzdGVwLmludm9rZShuZXh0U3RlcElucHV0LCByZXF1aXJlX2NvbmZpZy5wYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCh0aGlzLm9taXRTZXF1ZW5jZVRhZ3MgPyB2b2lkIDAgOiBgc2VxOnN0ZXA6JHtpICsgMX1gKSB9KSk7XG5cdFx0XHRcdG5leHRTdGVwSW5wdXQgPSBhd2FpdCByZXF1aXJlX3NpZ25hbC5yYWNlV2l0aFNpZ25hbChwcm9taXNlLCBvcHRpb25zPy5zaWduYWwpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbnM/LnNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgcmVxdWlyZV9zaWduYWwuZ2V0QWJvcnRTaWduYWxFcnJvcihvcHRpb25zLnNpZ25hbCk7XG5cdFx0XHRmaW5hbE91dHB1dCA9IGF3YWl0IHRoaXMubGFzdC5pbnZva2UobmV4dFN0ZXBJbnB1dCwgcmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGhpcy5vbWl0U2VxdWVuY2VUYWdzID8gdm9pZCAwIDogYHNlcTpzdGVwOiR7dGhpcy5zdGVwcy5sZW5ndGh9YCkgfSkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KGZpbmFsT3V0cHV0LCBcIm91dHB1dFwiKSk7XG5cdFx0cmV0dXJuIGZpbmFsT3V0cHV0O1xuXHR9XG5cdGFzeW5jIGJhdGNoKGlucHV0cywgb3B0aW9ucywgYmF0Y2hPcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25maWdMaXN0Lm1hcChyZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcpKTtcblx0XHRjb25zdCBydW5NYW5hZ2VycyA9IGF3YWl0IFByb21pc2UuYWxsKGNhbGxiYWNrTWFuYWdlcnMubWFwKGFzeW5jIChjYWxsYmFja01hbmFnZXIsIGkpID0+IHtcblx0XHRcdGNvbnN0IGhhbmRsZVN0YXJ0UmVzID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIF9jb2VyY2VUb0RpY3QoaW5wdXRzW2ldLCBcImlucHV0XCIpLCBjb25maWdMaXN0W2ldLnJ1bklkLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBjb25maWdMaXN0W2ldLnJ1bk5hbWUpO1xuXHRcdFx0ZGVsZXRlIGNvbmZpZ0xpc3RbaV0ucnVuSWQ7XG5cdFx0XHRyZXR1cm4gaGFuZGxlU3RhcnRSZXM7XG5cdFx0fSkpO1xuXHRcdGxldCBuZXh0U3RlcElucHV0cyA9IGlucHV0cztcblx0XHR0cnkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0ZXBzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IHN0ZXAgPSB0aGlzLnN0ZXBzW2ldO1xuXHRcdFx0XHRjb25zdCBwcm9taXNlID0gc3RlcC5iYXRjaChuZXh0U3RlcElucHV0cywgcnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyLCBqKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRSdW5NYW5hZ2VyID0gcnVuTWFuYWdlcj8uZ2V0Q2hpbGQodGhpcy5vbWl0U2VxdWVuY2VUYWdzID8gdm9pZCAwIDogYHNlcTpzdGVwOiR7aSArIDF9YCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKGNvbmZpZ0xpc3Rbal0sIHsgY2FsbGJhY2tzOiBjaGlsZFJ1bk1hbmFnZXIgfSk7XG5cdFx0XHRcdH0pLCBiYXRjaE9wdGlvbnMpO1xuXHRcdFx0XHRuZXh0U3RlcElucHV0cyA9IGF3YWl0IHJlcXVpcmVfc2lnbmFsLnJhY2VXaXRoU2lnbmFsKHByb21pc2UsIGNvbmZpZ0xpc3RbMF0/LnNpZ25hbCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpKSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3QobmV4dFN0ZXBJbnB1dHMsIFwib3V0cHV0XCIpKSkpO1xuXHRcdHJldHVybiBuZXh0U3RlcElucHV0cztcblx0fVxuXHQvKiogQGludGVybmFsICovXG5cdF9jb25jYXRPdXRwdXRDaHVua3MoZmlyc3QsIHNlY29uZCkge1xuXHRcdHJldHVybiB0aGlzLmxhc3QuX2NvbmNhdE91dHB1dENodW5rcyhmaXJzdCwgc2Vjb25kKTtcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IHJlcXVpcmVfY29uZmlnLmdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLm90aGVyT3B0aW9ucyB9ID0gb3B0aW9ucyA/PyB7fTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0LCBcImlucHV0XCIpLCBydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgb3RoZXJPcHRpb25zPy5ydW5OYW1lKTtcblx0XHRjb25zdCBzdGVwcyA9IFtcblx0XHRcdHRoaXMuZmlyc3QsXG5cdFx0XHQuLi50aGlzLm1pZGRsZSxcblx0XHRcdHRoaXMubGFzdFxuXHRcdF07XG5cdFx0bGV0IGNvbmNhdFN1cHBvcnRlZCA9IHRydWU7XG5cdFx0bGV0IGZpbmFsT3V0cHV0O1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBpbnB1dEdlbmVyYXRvcigpIHtcblx0XHRcdHlpZWxkIGlucHV0O1xuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0bGV0IGZpbmFsR2VuZXJhdG9yID0gc3RlcHNbMF0udHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yKCksIHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKG90aGVyT3B0aW9ucywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRoaXMub21pdFNlcXVlbmNlVGFncyA/IHZvaWQgMCA6IGBzZXE6c3RlcDoxYCkgfSkpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCBzdGVwcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBzdGVwID0gc3RlcHNbaV07XG5cdFx0XHRcdGZpbmFsR2VuZXJhdG9yID0gYXdhaXQgc3RlcC50cmFuc2Zvcm0oZmluYWxHZW5lcmF0b3IsIHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKG90aGVyT3B0aW9ucywgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKHRoaXMub21pdFNlcXVlbmNlVGFncyA/IHZvaWQgMCA6IGBzZXE6c3RlcDoke2kgKyAxfWApIH0pKTtcblx0XHRcdH1cblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgZmluYWxHZW5lcmF0b3IpIHtcblx0XHRcdFx0b3B0aW9ucz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0XHR5aWVsZCBjaHVuaztcblx0XHRcdFx0aWYgKGNvbmNhdFN1cHBvcnRlZCkgaWYgKGZpbmFsT3V0cHV0ID09PSB2b2lkIDApIGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdGVsc2UgdHJ5IHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHRoaXMuX2NvbmNhdE91dHB1dENodW5rcyhmaW5hbE91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRmaW5hbE91dHB1dCA9IHZvaWQgMDtcblx0XHRcdFx0XHRjb25jYXRTdXBwb3J0ZWQgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVuZChfY29lcmNlVG9EaWN0KGZpbmFsT3V0cHV0LCBcIm91dHB1dFwiKSk7XG5cdH1cblx0Z2V0R3JhcGgoY29uZmlnKSB7XG5cdFx0Y29uc3QgZ3JhcGggPSBuZXcgcmVxdWlyZV9ydW5uYWJsZXNfZ3JhcGguR3JhcGgoKTtcblx0XHRsZXQgY3VycmVudExhc3ROb2RlID0gbnVsbDtcblx0XHR0aGlzLnN0ZXBzLmZvckVhY2goKHN0ZXAsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBzdGVwR3JhcGggPSBzdGVwLmdldEdyYXBoKGNvbmZpZyk7XG5cdFx0XHRpZiAoaW5kZXggIT09IDApIHN0ZXBHcmFwaC50cmltRmlyc3ROb2RlKCk7XG5cdFx0XHRpZiAoaW5kZXggIT09IHRoaXMuc3RlcHMubGVuZ3RoIC0gMSkgc3RlcEdyYXBoLnRyaW1MYXN0Tm9kZSgpO1xuXHRcdFx0Z3JhcGguZXh0ZW5kKHN0ZXBHcmFwaCk7XG5cdFx0XHRjb25zdCBzdGVwRmlyc3ROb2RlID0gc3RlcEdyYXBoLmZpcnN0Tm9kZSgpO1xuXHRcdFx0aWYgKCFzdGVwRmlyc3ROb2RlKSB0aHJvdyBuZXcgRXJyb3IoYFJ1bm5hYmxlICR7c3RlcH0gaGFzIG5vIGZpcnN0IG5vZGVgKTtcblx0XHRcdGlmIChjdXJyZW50TGFzdE5vZGUpIGdyYXBoLmFkZEVkZ2UoY3VycmVudExhc3ROb2RlLCBzdGVwRmlyc3ROb2RlKTtcblx0XHRcdGN1cnJlbnRMYXN0Tm9kZSA9IHN0ZXBHcmFwaC5sYXN0Tm9kZSgpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBncmFwaDtcblx0fVxuXHRwaXBlKGNvZXJjZWFibGUpIHtcblx0XHRpZiAoUnVubmFibGVTZXF1ZW5jZS5pc1J1bm5hYmxlU2VxdWVuY2UoY29lcmNlYWJsZSkpIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHRmaXJzdDogdGhpcy5maXJzdCxcblx0XHRcdG1pZGRsZTogdGhpcy5taWRkbGUuY29uY2F0KFtcblx0XHRcdFx0dGhpcy5sYXN0LFxuXHRcdFx0XHRjb2VyY2VhYmxlLmZpcnN0LFxuXHRcdFx0XHQuLi5jb2VyY2VhYmxlLm1pZGRsZVxuXHRcdFx0XSksXG5cdFx0XHRsYXN0OiBjb2VyY2VhYmxlLmxhc3QsXG5cdFx0XHRuYW1lOiB0aGlzLm5hbWUgPz8gY29lcmNlYWJsZS5uYW1lXG5cdFx0fSk7XG5cdFx0ZWxzZSByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuXHRcdFx0Zmlyc3Q6IHRoaXMuZmlyc3QsXG5cdFx0XHRtaWRkbGU6IFsuLi50aGlzLm1pZGRsZSwgdGhpcy5sYXN0XSxcblx0XHRcdGxhc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lXG5cdFx0fSk7XG5cdH1cblx0c3RhdGljIGlzUnVubmFibGVTZXF1ZW5jZSh0aGluZykge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KHRoaW5nLm1pZGRsZSkgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh0aGluZyk7XG5cdH1cblx0c3RhdGljIGZyb20oW2ZpcnN0LCAuLi5ydW5uYWJsZXNdLCBuYW1lT3JGaWVsZHMpIHtcblx0XHRsZXQgZXh0cmEgPSB7fTtcblx0XHRpZiAodHlwZW9mIG5hbWVPckZpZWxkcyA9PT0gXCJzdHJpbmdcIikgZXh0cmEubmFtZSA9IG5hbWVPckZpZWxkcztcblx0XHRlbHNlIGlmIChuYW1lT3JGaWVsZHMgIT09IHZvaWQgMCkgZXh0cmEgPSBuYW1lT3JGaWVsZHM7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZVNlcXVlbmNlKHtcblx0XHRcdC4uLmV4dHJhLFxuXHRcdFx0Zmlyc3Q6IF9jb2VyY2VUb1J1bm5hYmxlKGZpcnN0KSxcblx0XHRcdG1pZGRsZTogcnVubmFibGVzLnNsaWNlKDAsIC0xKS5tYXAoX2NvZXJjZVRvUnVubmFibGUpLFxuXHRcdFx0bGFzdDogX2NvZXJjZVRvUnVubmFibGUocnVubmFibGVzW3J1bm5hYmxlcy5sZW5ndGggLSAxXSlcblx0XHR9KTtcblx0fVxufTtcbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgcnVucyBhIG1hcHBpbmcgb2YgcnVubmFibGVzIGluIHBhcmFsbGVsLFxuKiBhbmQgcmV0dXJucyBhIG1hcHBpbmcgb2YgdGhlaXIgb3V0cHV0cy5cbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBtYXBDaGFpbiA9IFJ1bm5hYmxlTWFwLmZyb20oe1xuKiAgIGpva2U6IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIlRlbGwgbWUgYSBqb2tlIGFib3V0IHt0b3BpY31cIikucGlwZShcbiogICAgIG5ldyBDaGF0QW50aHJvcGljKHt9KSxcbiogICApLFxuKiAgIHBvZW06IFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIndyaXRlIGEgMi1saW5lIHBvZW0gYWJvdXQge3RvcGljfVwiKS5waXBlKFxuKiAgICAgbmV3IENoYXRBbnRocm9waWMoe30pLFxuKiAgICksXG4qIH0pO1xuKiBjb25zdCByZXN1bHQgPSBhd2FpdCBtYXBDaGFpbi5pbnZva2UoeyB0b3BpYzogXCJiZWFyXCIgfSk7XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZU1hcCA9IGNsYXNzIFJ1bm5hYmxlTWFwIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZU1hcFwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRzdGVwcztcblx0Z2V0U3RlcHNLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0ZXBzKTtcblx0fVxuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMuc3RlcHMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmaWVsZHMuc3RlcHMpKSB0aGlzLnN0ZXBzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG5cdH1cblx0c3RhdGljIGZyb20oc3RlcHMpIHtcblx0XHRyZXR1cm4gbmV3IFJ1bm5hYmxlTWFwKHsgc3RlcHMgfSk7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCBydW5NYW5hZ2VyID0gYXdhaXQgY2FsbGJhY2tNYW5hZ2VyXz8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCB7IGlucHV0IH0sIGNvbmZpZy5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lKTtcblx0XHRkZWxldGUgY29uZmlnLnJ1bklkO1xuXHRcdGNvbnN0IG91dHB1dCA9IHt9O1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwcm9taXNlcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3RlcHMpLm1hcChhc3luYyAoW2tleSwgcnVubmFibGVdKSA9PiB7XG5cdFx0XHRcdG91dHB1dFtrZXldID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCByZXF1aXJlX2NvbmZpZy5wYXRjaENvbmZpZyhjb25maWcsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZChgbWFwOmtleToke2tleX1gKSB9KSk7XG5cdFx0XHR9KTtcblx0XHRcdGF3YWl0IHJlcXVpcmVfc2lnbmFsLnJhY2VXaXRoU2lnbmFsKFByb21pc2UuYWxsKHByb21pc2VzKSwgb3B0aW9ucz8uc2lnbmFsKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQob3V0cHV0KTtcblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cdGFzeW5jICpfdHJhbnNmb3JtKGdlbmVyYXRvciwgcnVuTWFuYWdlciwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHN0ZXBzID0geyAuLi50aGlzLnN0ZXBzIH07XG5cdFx0Y29uc3QgaW5wdXRDb3BpZXMgPSByZXF1aXJlX3V0aWxzX3N0cmVhbS5hdGVlKGdlbmVyYXRvciwgT2JqZWN0LmtleXMoc3RlcHMpLmxlbmd0aCk7XG5cdFx0Y29uc3QgdGFza3MgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHN0ZXBzKS5tYXAoKFtrZXksIHJ1bm5hYmxlXSwgaSkgPT4ge1xuXHRcdFx0Y29uc3QgZ2VuID0gcnVubmFibGUudHJhbnNmb3JtKGlucHV0Q29waWVzW2ldLCByZXF1aXJlX2NvbmZpZy5wYXRjaENvbmZpZyhvcHRpb25zLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYG1hcDprZXk6JHtrZXl9YCkgfSkpO1xuXHRcdFx0cmV0dXJuIFtrZXksIGdlbi5uZXh0KCkudGhlbigocmVzdWx0KSA9PiAoe1xuXHRcdFx0XHRrZXksXG5cdFx0XHRcdGdlbixcblx0XHRcdFx0cmVzdWx0XG5cdFx0XHR9KSldO1xuXHRcdH0pKTtcblx0XHR3aGlsZSAodGFza3Muc2l6ZSkge1xuXHRcdFx0Y29uc3QgcHJvbWlzZSA9IFByb21pc2UucmFjZSh0YXNrcy52YWx1ZXMoKSk7XG5cdFx0XHRjb25zdCB7IGtleSwgcmVzdWx0LCBnZW4gfSA9IGF3YWl0IHJlcXVpcmVfc2lnbmFsLnJhY2VXaXRoU2lnbmFsKHByb21pc2UsIG9wdGlvbnM/LnNpZ25hbCk7XG5cdFx0XHR0YXNrcy5kZWxldGUoa2V5KTtcblx0XHRcdGlmICghcmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0eWllbGQgeyBba2V5XTogcmVzdWx0LnZhbHVlIH07XG5cdFx0XHRcdHRhc2tzLnNldChrZXksIGdlbi5uZXh0KCkudGhlbigocmVzdWx0JDEpID0+ICh7XG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGdlbixcblx0XHRcdFx0XHRyZXN1bHQ6IHJlc3VsdCQxXG5cdFx0XHRcdH0pKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhnZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB3cmFwcGVkR2VuZXJhdG9yID0gbmV3IHJlcXVpcmVfdXRpbHNfc3RyZWFtLkFzeW5jR2VuZXJhdG9yV2l0aFNldHVwKHtcblx0XHRcdGdlbmVyYXRvcjogdGhpcy50cmFuc2Zvcm0oZ2VuZXJhdG9yKCksIGNvbmZpZyksXG5cdFx0XHRjb25maWdcblx0XHR9KTtcblx0XHRhd2FpdCB3cmFwcGVkR2VuZXJhdG9yLnNldHVwO1xuXHRcdHJldHVybiByZXF1aXJlX3V0aWxzX3N0cmVhbS5JdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih3cmFwcGVkR2VuZXJhdG9yKTtcblx0fVxufTtcbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgd3JhcHMgYSB0cmFjZWQgTGFuZ1NtaXRoIGZ1bmN0aW9uLlxuKi9cbnZhciBSdW5uYWJsZVRyYWNlYWJsZSA9IGNsYXNzIFJ1bm5hYmxlVHJhY2VhYmxlIGV4dGVuZHMgUnVubmFibGUge1xuXHRsY19zZXJpYWxpemFibGUgPSBmYWxzZTtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2NoYWluX2NvcmVcIiwgXCJydW5uYWJsZXNcIl07XG5cdGZ1bmM7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0aWYgKCEoMCwgbGFuZ3NtaXRoX3NpbmdsZXRvbnNfdHJhY2VhYmxlLmlzVHJhY2VhYmxlRnVuY3Rpb24pKGZpZWxkcy5mdW5jKSkgdGhyb3cgbmV3IEVycm9yKFwiUnVubmFibGVUcmFjZWFibGUgcmVxdWlyZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHdyYXBwZWQgaW4gdHJhY2VhYmxlIGhpZ2hlci1vcmRlciBmdW5jdGlvblwiKTtcblx0XHR0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBbY29uZmlnXSA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIDEpO1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGF3YWl0IHJlcXVpcmVfY29uZmlnLmdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpO1xuXHRcdGNvbnN0IHByb21pc2UgPSB0aGlzLmZ1bmMocmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrcyB9KSwgaW5wdXQpO1xuXHRcdHJldHVybiByZXF1aXJlX3NpZ25hbC5yYWNlV2l0aFNpZ25hbChwcm9taXNlLCBjb25maWc/LnNpZ25hbCk7XG5cdH1cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IFtjb25maWddID0gdGhpcy5fZ2V0T3B0aW9uc0xpc3Qob3B0aW9ucyA/PyB7fSwgMSk7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5pbnZva2UoaW5wdXQsIG9wdGlvbnMpO1xuXHRcdGlmIChyZXF1aXJlX2l0ZXIuaXNBc3luY0l0ZXJhYmxlKHJlc3VsdCkpIHtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiByZXN1bHQpIHtcblx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdHlpZWxkIGl0ZW07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChyZXF1aXJlX2l0ZXIuaXNJdGVyYXRvcihyZXN1bHQpKSB7XG5cdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdFx0Y29uc3Qgc3RhdGUgPSByZXN1bHQubmV4dCgpO1xuXHRcdFx0XHRpZiAoc3RhdGUuZG9uZSkgYnJlYWs7XG5cdFx0XHRcdHlpZWxkIHN0YXRlLnZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR5aWVsZCByZXN1bHQ7XG5cdH1cblx0c3RhdGljIGZyb20oZnVuYykge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVUcmFjZWFibGUoeyBmdW5jIH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gYXNzZXJ0Tm9uVHJhY2VhYmxlRnVuY3Rpb24oZnVuYykge1xuXHRpZiAoKDAsIGxhbmdzbWl0aF9zaW5nbGV0b25zX3RyYWNlYWJsZS5pc1RyYWNlYWJsZUZ1bmN0aW9uKShmdW5jKSkgdGhyb3cgbmV3IEVycm9yKFwiUnVubmFibGVMYW1iZGEgcmVxdWlyZXMgYSBmdW5jdGlvbiB0aGF0IGlzIG5vdCB3cmFwcGVkIGluIHRyYWNlYWJsZSBoaWdoZXItb3JkZXIgZnVuY3Rpb24uIFRoaXMgc2hvdWxkbid0IGhhcHBlbi5cIik7XG59XG4vKipcbiogQSBydW5uYWJsZSB0aGF0IHdyYXBzIGFuIGFyYml0cmFyeSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IFJ1bm5hYmxlTGFtYmRhIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgYWRkID0gKGlucHV0OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IGlucHV0LnggKyBpbnB1dC55O1xuKlxuKiBjb25zdCBtdWx0aXBseSA9IChpbnB1dDogeyB2YWx1ZTogbnVtYmVyOyBtdWx0aXBsaWVyOiBudW1iZXIgfSkgPT5cbiogICBpbnB1dC52YWx1ZSAqIGlucHV0Lm11bHRpcGxpZXI7XG4qXG4qIC8vIENyZWF0ZSBydW5uYWJsZXMgZm9yIHRoZSBmdW5jdGlvbnNcbiogY29uc3QgYWRkTGFtYmRhID0gUnVubmFibGVMYW1iZGEuZnJvbShhZGQpO1xuKiBjb25zdCBtdWx0aXBseUxhbWJkYSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20obXVsdGlwbHkpO1xuKlxuKiAvLyBDaGFpbiB0aGUgbGFtYmRhcyBmb3IgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uXG4qIGNvbnN0IGNoYWluZWRMYW1iZGEgPSBhZGRMYW1iZGEucGlwZSgocmVzdWx0KSA9PlxuKiAgIG11bHRpcGx5TGFtYmRhLmludm9rZSh7IHZhbHVlOiByZXN1bHQsIG11bHRpcGxpZXI6IDIgfSlcbiogKTtcbipcbiogLy8gRXhhbXBsZSBpbnZvY2F0aW9uIG9mIHRoZSBjaGFpbmVkTGFtYmRhXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYWluZWRMYW1iZGEuaW52b2tlKHsgeDogMiwgeTogMyB9KTtcbipcbiogLy8gV2lsbCBsb2cgXCIxMFwiIChzaW5jZSAoMiArIDMpICogMiA9IDEwKVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVMYW1iZGEgPSBjbGFzcyBSdW5uYWJsZUxhbWJkYSBleHRlbmRzIFJ1bm5hYmxlIHtcblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUnVubmFibGVMYW1iZGFcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0ZnVuYztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKCgwLCBsYW5nc21pdGhfc2luZ2xldG9uc190cmFjZWFibGUuaXNUcmFjZWFibGVGdW5jdGlvbikoZmllbGRzLmZ1bmMpKSByZXR1cm4gUnVubmFibGVUcmFjZWFibGUuZnJvbShmaWVsZHMuZnVuYyk7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHRhc3NlcnROb25UcmFjZWFibGVGdW5jdGlvbihmaWVsZHMuZnVuYyk7XG5cdFx0dGhpcy5mdW5jID0gZmllbGRzLmZ1bmM7XG5cdH1cblx0c3RhdGljIGZyb20oZnVuYykge1xuXHRcdHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoeyBmdW5jIH0pO1xuXHR9XG5cdGFzeW5jIF9pbnZva2UoaW5wdXQsIGNvbmZpZywgcnVuTWFuYWdlcikge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKGNvbmZpZywge1xuXHRcdFx0XHRjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCksXG5cdFx0XHRcdHJlY3Vyc2lvbkxpbWl0OiAoY29uZmlnPy5yZWN1cnNpb25MaW1pdCA/PyByZXF1aXJlX2NvbmZpZy5ERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVCkgLSAxXG5cdFx0XHR9KTtcblx0XHRcdHJlcXVpcmVfaW5kZXguQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHJlcXVpcmVfY29uZmlnLnBpY2tSdW5uYWJsZUNvbmZpZ0tleXMoY2hpbGRDb25maWcpLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IG91dHB1dCA9IGF3YWl0IHRoaXMuZnVuYyhpbnB1dCwgeyAuLi5jaGlsZENvbmZpZyB9KTtcblx0XHRcdFx0XHRpZiAob3V0cHV0ICYmIFJ1bm5hYmxlLmlzUnVubmFibGUob3V0cHV0KSkge1xuXHRcdFx0XHRcdFx0aWYgKGNvbmZpZz8ucmVjdXJzaW9uTGltaXQgPT09IDApIHRocm93IG5ldyBFcnJvcihcIlJlY3Vyc2lvbiBsaW1pdCByZWFjaGVkLlwiKTtcblx0XHRcdFx0XHRcdG91dHB1dCA9IGF3YWl0IG91dHB1dC5pbnZva2UoaW5wdXQsIHtcblx0XHRcdFx0XHRcdFx0Li4uY2hpbGRDb25maWcsXG5cdFx0XHRcdFx0XHRcdHJlY3Vyc2lvbkxpbWl0OiAoY2hpbGRDb25maWcucmVjdXJzaW9uTGltaXQgPz8gcmVxdWlyZV9jb25maWcuREVGQVVMVF9SRUNVUlNJT05fTElNSVQpIC0gMVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1aXJlX2l0ZXIuaXNBc3luY0l0ZXJhYmxlKG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdGxldCBmaW5hbE91dHB1dDtcblx0XHRcdFx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVxdWlyZV9pdGVyLmNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0KGNoaWxkQ29uZmlnLCBvdXRwdXQpKSB7XG5cdFx0XHRcdFx0XHRcdGNvbmZpZz8uc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZmluYWxPdXRwdXQgPT09IHZvaWQgMCkgZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0XHRcdFx0ZWxzZSB0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gdGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKGZpbmFsT3V0cHV0LCBjaHVuayk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0XHRcdGZpbmFsT3V0cHV0ID0gY2h1bms7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG91dHB1dCA9IGZpbmFsT3V0cHV0O1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWlyZV9pdGVyLmlzSXRlcmFibGVJdGVyYXRvcihvdXRwdXQpKSB7XG5cdFx0XHRcdFx0XHRsZXQgZmluYWxPdXRwdXQ7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGNodW5rIG9mIHJlcXVpcmVfaXRlci5jb25zdW1lSXRlcmF0b3JJbkNvbnRleHQoY2hpbGRDb25maWcsIG91dHB1dCkpIHtcblx0XHRcdFx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChmaW5hbE91dHB1dCA9PT0gdm9pZCAwKSBmaW5hbE91dHB1dCA9IGNodW5rO1xuXHRcdFx0XHRcdFx0XHRlbHNlIHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxPdXRwdXQsIGNodW5rKTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdFx0XHRcdFx0ZmluYWxPdXRwdXQgPSBjaHVuaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b3V0cHV0ID0gZmluYWxPdXRwdXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc29sdmUob3V0cHV0KTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhbGxXaXRoQ29uZmlnKHRoaXMuX2ludm9rZS5iaW5kKHRoaXMpLCBpbnB1dCwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oZ2VuZXJhdG9yLCBydW5NYW5hZ2VyLCBjb25maWcpIHtcblx0XHRsZXQgZmluYWxDaHVuaztcblx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGdlbmVyYXRvcikgaWYgKGZpbmFsQ2h1bmsgPT09IHZvaWQgMCkgZmluYWxDaHVuayA9IGNodW5rO1xuXHRcdGVsc2UgdHJ5IHtcblx0XHRcdGZpbmFsQ2h1bmsgPSB0aGlzLl9jb25jYXRPdXRwdXRDaHVua3MoZmluYWxDaHVuaywgY2h1bmspO1xuXHRcdH0gY2F0Y2gge1xuXHRcdFx0ZmluYWxDaHVuayA9IGNodW5rO1xuXHRcdH1cblx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKGNvbmZpZywge1xuXHRcdFx0Y2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpLFxuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IChjb25maWc/LnJlY3Vyc2lvbkxpbWl0ID8/IHJlcXVpcmVfY29uZmlnLkRFRkFVTFRfUkVDVVJTSU9OX0xJTUlUKSAtIDFcblx0XHR9KTtcblx0XHRjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRyZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhyZXF1aXJlX2NvbmZpZy5waWNrUnVubmFibGVDb25maWdLZXlzKGNoaWxkQ29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZnVuYyhmaW5hbENodW5rLCB7XG5cdFx0XHRcdFx0XHQuLi5jaGlsZENvbmZpZyxcblx0XHRcdFx0XHRcdGNvbmZpZzogY2hpbGRDb25maWdcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXNvbHZlKHJlcyk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdGlmIChvdXRwdXQgJiYgUnVubmFibGUuaXNSdW5uYWJsZShvdXRwdXQpKSB7XG5cdFx0XHRpZiAoY29uZmlnPy5yZWN1cnNpb25MaW1pdCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiUmVjdXJzaW9uIGxpbWl0IHJlYWNoZWQuXCIpO1xuXHRcdFx0Y29uc3Qgc3RyZWFtID0gYXdhaXQgb3V0cHV0LnN0cmVhbShmaW5hbENodW5rLCBjaGlsZENvbmZpZyk7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkgeWllbGQgY2h1bms7XG5cdFx0fSBlbHNlIGlmIChyZXF1aXJlX2l0ZXIuaXNBc3luY0l0ZXJhYmxlKG91dHB1dCkpIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVxdWlyZV9pdGVyLmNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0KGNoaWxkQ29uZmlnLCBvdXRwdXQpKSB7XG5cdFx0XHRjb25maWc/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdH1cblx0XHRlbHNlIGlmIChyZXF1aXJlX2l0ZXIuaXNJdGVyYWJsZUl0ZXJhdG9yKG91dHB1dCkpIGZvciAoY29uc3QgY2h1bmsgb2YgcmVxdWlyZV9pdGVyLmNvbnN1bWVJdGVyYXRvckluQ29udGV4dChjaGlsZENvbmZpZywgb3V0cHV0KSkge1xuXHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHR9XG5cdFx0ZWxzZSB5aWVsZCBvdXRwdXQ7XG5cdH1cblx0dHJhbnNmb3JtKGdlbmVyYXRvciwgb3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1TdHJlYW1XaXRoQ29uZmlnKGdlbmVyYXRvciwgdGhpcy5fdHJhbnNmb3JtLmJpbmQodGhpcyksIG9wdGlvbnMpO1xuXHR9XG5cdGFzeW5jIHN0cmVhbShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGFzeW5jIGZ1bmN0aW9uKiBnZW5lcmF0b3IoKSB7XG5cdFx0XHR5aWVsZCBpbnB1dDtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IHdyYXBwZWRHZW5lcmF0b3IgPSBuZXcgcmVxdWlyZV91dGlsc19zdHJlYW0uQXN5bmNHZW5lcmF0b3JXaXRoU2V0dXAoe1xuXHRcdFx0Z2VuZXJhdG9yOiB0aGlzLnRyYW5zZm9ybShnZW5lcmF0b3IoKSwgY29uZmlnKSxcblx0XHRcdGNvbmZpZ1xuXHRcdH0pO1xuXHRcdGF3YWl0IHdyYXBwZWRHZW5lcmF0b3Iuc2V0dXA7XG5cdFx0cmV0dXJuIHJlcXVpcmVfdXRpbHNfc3RyZWFtLkl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbUFzeW5jR2VuZXJhdG9yKHdyYXBwZWRHZW5lcmF0b3IpO1xuXHR9XG59O1xuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBydW5zIGEgbWFwcGluZyBvZiBydW5uYWJsZXMgaW4gcGFyYWxsZWwsXG4qIGFuZCByZXR1cm5zIGEgbWFwcGluZyBvZiB0aGVpciBvdXRwdXRzLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7XG4qICAgUnVubmFibGVMYW1iZGEsXG4qICAgUnVubmFibGVQYXJhbGxlbCxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBhZGRZZWFycyA9IChhZ2U6IG51bWJlcik6IG51bWJlciA9PiBhZ2UgKyA1O1xuKiBjb25zdCB5ZWFyc1RvRmlmdHkgPSAoYWdlOiBudW1iZXIpOiBudW1iZXIgPT4gNTAgLSBhZ2U7XG4qIGNvbnN0IHllYXJzVG9IdW5kcmVkID0gKGFnZTogbnVtYmVyKTogbnVtYmVyID0+IDEwMCAtIGFnZTtcbipcbiogY29uc3QgYWRkWWVhcnNMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGFkZFllYXJzKTtcbiogY29uc3QgbWlsZXN0b25lRmlmdHlMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHllYXJzVG9GaWZ0eSk7XG4qIGNvbnN0IG1pbGVzdG9uZUh1bmRyZWRMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKHllYXJzVG9IdW5kcmVkKTtcbipcbiogLy8gUGlwZSB3aWxsIGNvZXJjZSBvYmplY3RzIGludG8gUnVubmFibGVQYXJhbGxlbCBieSBkZWZhdWx0LCBidXQgd2VcbiogLy8gZXhwbGljaXRseSBpbnN0YW50aWF0ZSBvbmUgaGVyZSB0byBkZW1vbnN0cmF0ZVxuKiBjb25zdCBzZXF1ZW5jZSA9IGFkZFllYXJzTGFtYmRhLnBpcGUoXG4qICAgUnVubmFibGVQYXJhbGxlbC5mcm9tKHtcbiogICAgIHllYXJzX3RvX2ZpZnR5OiBtaWxlc3RvbmVGaWZ0eUxhbWJkYSxcbiogICAgIHllYXJzX3RvX2h1bmRyZWQ6IG1pbGVzdG9uZUh1bmRyZWRMYW1iZGEsXG4qICAgfSlcbiogKTtcbipcbiogLy8gSW52b2tlIHRoZSBzZXF1ZW5jZSB3aXRoIGEgc2luZ2xlIGFnZSBpbnB1dFxuKiBjb25zdCByZXMgPSBhd2FpdCBzZXF1ZW5jZS5pbnZva2UoMjUpO1xuKlxuKiAvLyB7IHllYXJzX3RvX2ZpZnR5OiAyMCwgeWVhcnNfdG9faHVuZHJlZDogNzAgfVxuKiBgYGBcbiovXG52YXIgUnVubmFibGVQYXJhbGxlbCA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGVNYXAge307XG4vKipcbiogQSBSdW5uYWJsZSB0aGF0IGNhbiBmYWxsYmFjayB0byBvdGhlciBSdW5uYWJsZXMgaWYgaXQgZmFpbHMuXG4qIEV4dGVybmFsIEFQSXMgKGUuZy4sIEFQSXMgZm9yIGEgbGFuZ3VhZ2UgbW9kZWwpIG1heSBhdCB0aW1lcyBleHBlcmllbmNlXG4qIGRlZ3JhZGVkIHBlcmZvcm1hbmNlIG9yIGV2ZW4gZG93bnRpbWUuXG4qXG4qIEluIHRoZXNlIGNhc2VzLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGhhdmUgYSBmYWxsYmFjayBSdW5uYWJsZSB0aGF0IGNhbiBiZVxuKiB1c2VkIGluIHBsYWNlIG9mIHRoZSBvcmlnaW5hbCBSdW5uYWJsZSAoZS5nLiwgZmFsbGJhY2sgdG8gYW5vdGhlciBMTE0gcHJvdmlkZXIpLlxuKlxuKiBGYWxsYmFja3MgY2FuIGJlIGRlZmluZWQgYXQgdGhlIGxldmVsIG9mIGEgc2luZ2xlIFJ1bm5hYmxlLCBvciBhdCB0aGUgbGV2ZWxcbiogb2YgYSBjaGFpbiBvZiBSdW5uYWJsZXMuIEZhbGxiYWNrcyBhcmUgdHJpZWQgaW4gb3JkZXIgdW50aWwgb25lIHN1Y2NlZWRzIG9yXG4qIGFsbCBmYWlsLlxuKlxuKiBXaGlsZSB5b3UgY2FuIGluc3RhbnRpYXRlIGEgYFJ1bm5hYmxlV2l0aEZhbGxiYWNrc2AgZGlyZWN0bHksIGl0IGlzIHVzdWFsbHlcbiogbW9yZSBjb252ZW5pZW50IHRvIHVzZSB0aGUgYHdpdGhGYWxsYmFja3NgIG1ldGhvZCBvbiBhbiBleGlzdGluZyBSdW5uYWJsZS5cbipcbiogV2hlbiBzdHJlYW1pbmcsIGZhbGxiYWNrcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uIGZhaWx1cmVzIGR1cmluZyB0aGUgaW5pdGlhbFxuKiBzdHJlYW0gY3JlYXRpb24uIEVycm9ycyB0aGF0IG9jY3VyIGFmdGVyIGEgc3RyZWFtIHN0YXJ0cyB3aWxsIG5vdCBmYWxsYmFja1xuKiB0byB0aGUgbmV4dCBSdW5uYWJsZS5cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQge1xuKiAgIFJ1bm5hYmxlTGFtYmRhLFxuKiAgIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBwcmltYXJ5T3BlcmF0aW9uID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuKiAgIGlmIChpbnB1dCAhPT0gXCJzYWZlXCIpIHtcbiogICAgIHRocm93IG5ldyBFcnJvcihcIlByaW1hcnkgb3BlcmF0aW9uIGZhaWxlZCBkdWUgdG8gdW5zYWZlIGlucHV0XCIpO1xuKiAgIH1cbiogICByZXR1cm4gYFByb2Nlc3NlZDogJHtpbnB1dH1gO1xuKiB9O1xuKlxuKiAvLyBEZWZpbmUgYSBmYWxsYmFjayBvcGVyYXRpb24gdGhhdCBwcm9jZXNzZXMgdGhlIGlucHV0IGRpZmZlcmVudGx5XG4qIGNvbnN0IGZhbGxiYWNrT3BlcmF0aW9uID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT5cbiogICBgRmFsbGJhY2sgcHJvY2Vzc2VkOiAke2lucHV0fWA7XG4qXG4qIGNvbnN0IHByaW1hcnlSdW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20ocHJpbWFyeU9wZXJhdGlvbik7XG4qIGNvbnN0IGZhbGxiYWNrUnVubmFibGUgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGZhbGxiYWNrT3BlcmF0aW9uKTtcbipcbiogLy8gQXBwbHkgdGhlIGZhbGxiYWNrIGxvZ2ljIHVzaW5nIHRoZSAud2l0aEZhbGxiYWNrcygpIG1ldGhvZFxuKiBjb25zdCBydW5uYWJsZVdpdGhGYWxsYmFjayA9IHByaW1hcnlSdW5uYWJsZS53aXRoRmFsbGJhY2tzKFtmYWxsYmFja1J1bm5hYmxlXSk7XG4qXG4qIC8vIEFsdGVybmF0aXZlbHksIGNyZWF0ZSBhIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyBpbnN0YW5jZSBtYW51YWxseVxuKiBjb25zdCBtYW51YWxGYWxsYmFja0NoYWluID0gbmV3IFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyh7XG4qICAgcnVubmFibGU6IHByaW1hcnlSdW5uYWJsZSxcbiogICBmYWxsYmFja3M6IFtmYWxsYmFja1J1bm5hYmxlXSxcbiogfSk7XG4qXG4qIC8vIEV4YW1wbGUgaW52b2NhdGlvbiB1c2luZyAud2l0aEZhbGxiYWNrcygpXG4qIGNvbnN0IHJlcyA9IGF3YWl0IHJ1bm5hYmxlV2l0aEZhbGxiYWNrXG4qICAgLmludm9rZShcInVuc2FmZSBpbnB1dFwiKVxuKiAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiogICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgYWZ0ZXIgYWxsIGF0dGVtcHRzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiogICB9KTtcbipcbiogLy8gXCJGYWxsYmFjayBwcm9jZXNzZWQ6IHVuc2FmZSBpbnB1dFwiXG4qXG4qIC8vIEV4YW1wbGUgaW52b2NhdGlvbiB1c2luZyBtYW51YWwgaW5zdGFudGlhdGlvblxuKiBjb25zdCByZXMgPSBhd2FpdCBtYW51YWxGYWxsYmFja0NoYWluXG4qICAgLmludm9rZShcInNhZmVcIilcbiogICAuY2F0Y2goKGVycm9yKSA9PiB7XG4qICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIGFmdGVyIGFsbCBhdHRlbXB0czpcIiwgZXJyb3IubWVzc2FnZSk7XG4qICAgfSk7XG4qXG4qIC8vIFwiUHJvY2Vzc2VkOiBzYWZlXCJcbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlV2l0aEZhbGxiYWNrcyA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVdpdGhGYWxsYmFja3NcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0cnVubmFibGU7XG5cdGZhbGxiYWNrcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnJ1bm5hYmxlID0gZmllbGRzLnJ1bm5hYmxlO1xuXHRcdHRoaXMuZmFsbGJhY2tzID0gZmllbGRzLmZhbGxiYWNrcztcblx0fVxuXHQqcnVubmFibGVzKCkge1xuXHRcdHlpZWxkIHRoaXMucnVubmFibGU7XG5cdFx0Zm9yIChjb25zdCBmYWxsYmFjayBvZiB0aGlzLmZhbGxiYWNrcykgeWllbGQgZmFsbGJhY2s7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLm90aGVyQ29uZmlnRmllbGRzIH0gPSBjb25maWc7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIG90aGVyQ29uZmlnRmllbGRzPy5ydW5OYW1lKTtcblx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKG90aGVyQ29uZmlnRmllbGRzLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRjb25zdCByZXMgPSBhd2FpdCByZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhjaGlsZENvbmZpZywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0bGV0IGZpcnN0RXJyb3I7XG5cdFx0XHRmb3IgKGNvbnN0IHJ1bm5hYmxlIG9mIHRoaXMucnVubmFibGVzKCkpIHtcblx0XHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3V0cHV0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKGlucHV0LCBjaGlsZENvbmZpZyk7XG5cdFx0XHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0XHRcdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0aWYgKGZpcnN0RXJyb3IgPT09IHZvaWQgMCkgZmlyc3RFcnJvciA9IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChmaXJzdEVycm9yID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihcIk5vIGVycm9yIHN0b3JlZCBhdCBlbmQgb2YgZmFsbGJhY2suXCIpO1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihmaXJzdEVycm9yKTtcblx0XHRcdHRocm93IGZpcnN0RXJyb3I7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlcztcblx0fVxuXHRhc3luYyAqX3N0cmVhbUl0ZXJhdG9yKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jb25maWcuZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcl8gPSBhd2FpdCByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLm90aGVyQ29uZmlnRmllbGRzIH0gPSBjb25maWc7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dCwgXCJpbnB1dFwiKSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIG90aGVyQ29uZmlnRmllbGRzPy5ydW5OYW1lKTtcblx0XHRsZXQgZmlyc3RFcnJvcjtcblx0XHRsZXQgc3RyZWFtO1xuXHRcdGZvciAoY29uc3QgcnVubmFibGUgb2YgdGhpcy5ydW5uYWJsZXMoKSkge1xuXHRcdFx0Y29uZmlnPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRjb25zdCBjaGlsZENvbmZpZyA9IHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKG90aGVyQ29uZmlnRmllbGRzLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG9yaWdpbmFsU3RyZWFtID0gYXdhaXQgcnVubmFibGUuc3RyZWFtKGlucHV0LCBjaGlsZENvbmZpZyk7XG5cdFx0XHRcdHN0cmVhbSA9IHJlcXVpcmVfaXRlci5jb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dChjaGlsZENvbmZpZywgb3JpZ2luYWxTdHJlYW0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aWYgKGZpcnN0RXJyb3IgPT09IHZvaWQgMCkgZmlyc3RFcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzdHJlYW0gPT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgZXJyb3IgPSBmaXJzdEVycm9yID8/IC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrLlwiKTtcblx0XHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZXJyb3IpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHRcdGxldCBvdXRwdXQ7XG5cdFx0dHJ5IHtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdHlpZWxkIGNodW5rO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdG91dHB1dCA9IG91dHB1dCA9PT0gdm9pZCAwID8gb3V0cHV0IDogdGhpcy5fY29uY2F0T3V0cHV0Q2h1bmtzKG91dHB1dCwgY2h1bmspO1xuXHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRvdXRwdXQgPSB2b2lkIDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQoX2NvZXJjZVRvRGljdChvdXRwdXQsIFwib3V0cHV0XCIpKTtcblx0fVxuXHRhc3luYyBiYXRjaChpbnB1dHMsIG9wdGlvbnMsIGJhdGNoT3B0aW9ucykge1xuXHRcdGlmIChiYXRjaE9wdGlvbnM/LnJldHVybkV4Y2VwdGlvbnMpIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG5cdFx0Y29uc3QgY29uZmlnTGlzdCA9IHRoaXMuX2dldE9wdGlvbnNMaXN0KG9wdGlvbnMgPz8ge30sIGlucHV0cy5sZW5ndGgpO1xuXHRcdGNvbnN0IGNhbGxiYWNrTWFuYWdlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChjb25maWdMaXN0Lm1hcCgoY29uZmlnKSA9PiByZXF1aXJlX2NvbmZpZy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcoY29uZmlnKSkpO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXJzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FsbGJhY2tNYW5hZ2Vycy5tYXAoYXN5bmMgKGNhbGxiYWNrTWFuYWdlciwgaSkgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlU3RhcnRSZXMgPSBhd2FpdCBjYWxsYmFja01hbmFnZXI/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgX2NvZXJjZVRvRGljdChpbnB1dHNbaV0sIFwiaW5wdXRcIiksIGNvbmZpZ0xpc3RbaV0ucnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGNvbmZpZ0xpc3RbaV0ucnVuTmFtZSk7XG5cdFx0XHRkZWxldGUgY29uZmlnTGlzdFtpXS5ydW5JZDtcblx0XHRcdHJldHVybiBoYW5kbGVTdGFydFJlcztcblx0XHR9KSk7XG5cdFx0bGV0IGZpcnN0RXJyb3I7XG5cdFx0Zm9yIChjb25zdCBydW5uYWJsZSBvZiB0aGlzLnJ1bm5hYmxlcygpKSB7XG5cdFx0XHRjb25maWdMaXN0WzBdLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dHMgPSBhd2FpdCBydW5uYWJsZS5iYXRjaChpbnB1dHMsIHJ1bk1hbmFnZXJzLm1hcCgocnVuTWFuYWdlciwgaikgPT4gcmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnTGlzdFtqXSwgeyBjYWxsYmFja3M6IHJ1bk1hbmFnZXI/LmdldENoaWxkKCkgfSkpLCBiYXRjaE9wdGlvbnMpO1xuXHRcdFx0XHRhd2FpdCBQcm9taXNlLmFsbChydW5NYW5hZ2Vycy5tYXAoKHJ1bk1hbmFnZXIsIGkpID0+IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKF9jb2VyY2VUb0RpY3Qob3V0cHV0c1tpXSwgXCJvdXRwdXRcIikpKSk7XG5cdFx0XHRcdHJldHVybiBvdXRwdXRzO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRpZiAoZmlyc3RFcnJvciA9PT0gdm9pZCAwKSBmaXJzdEVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFmaXJzdEVycm9yKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBlcnJvciBzdG9yZWQgYXQgZW5kIG9mIGZhbGxiYWNrcy5cIik7XG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwocnVuTWFuYWdlcnMubWFwKChydW5NYW5hZ2VyKSA9PiBydW5NYW5hZ2VyPy5oYW5kbGVDaGFpbkVycm9yKGZpcnN0RXJyb3IpKSk7XG5cdFx0dGhyb3cgZmlyc3RFcnJvcjtcblx0fVxufTtcbmZ1bmN0aW9uIF9jb2VyY2VUb1J1bm5hYmxlKGNvZXJjZWFibGUpIHtcblx0aWYgKHR5cGVvZiBjb2VyY2VhYmxlID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBuZXcgUnVubmFibGVMYW1iZGEoeyBmdW5jOiBjb2VyY2VhYmxlIH0pO1xuXHRlbHNlIGlmIChSdW5uYWJsZS5pc1J1bm5hYmxlKGNvZXJjZWFibGUpKSByZXR1cm4gY29lcmNlYWJsZTtcblx0ZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoY29lcmNlYWJsZSkgJiYgdHlwZW9mIGNvZXJjZWFibGUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCBydW5uYWJsZXMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb2VyY2VhYmxlKSkgcnVubmFibGVzW2tleV0gPSBfY29lcmNlVG9SdW5uYWJsZSh2YWx1ZSk7XG5cdFx0cmV0dXJuIG5ldyBSdW5uYWJsZU1hcCh7IHN0ZXBzOiBydW5uYWJsZXMgfSk7XG5cdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGEgUnVubmFibGUsIGZ1bmN0aW9uIG9yIG9iamVjdC5cXG5JbnN0ZWFkIGdvdCBhbiB1bnN1cHBvcnRlZCB0eXBlLmApO1xufVxuLyoqXG4qIEEgcnVubmFibGUgdGhhdCBhc3NpZ25zIGtleS12YWx1ZSBwYWlycyB0byBpbnB1dHMgb2YgdHlwZSBgUmVjb3JkPHN0cmluZywgdW5rbm93bj5gLlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7XG4qICAgUnVubmFibGVBc3NpZ24sXG4qICAgUnVubmFibGVMYW1iZGEsXG4qICAgUnVubmFibGVQYXJhbGxlbCxcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKlxuKiBjb25zdCBjYWxjdWxhdGVBZ2UgPSAoeDogeyBiaXJ0aFllYXI6IG51bWJlciB9KTogeyBhZ2U6IG51bWJlciB9ID0+IHtcbiogICBjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiogICByZXR1cm4geyBhZ2U6IGN1cnJlbnRZZWFyIC0geC5iaXJ0aFllYXIgfTtcbiogfTtcbipcbiogY29uc3QgY3JlYXRlR3JlZXRpbmcgPSAoeDogeyBuYW1lOiBzdHJpbmcgfSk6IHsgZ3JlZXRpbmc6IHN0cmluZyB9ID0+IHtcbiogICByZXR1cm4geyBncmVldGluZzogYEhlbGxvLCAke3gubmFtZX0hYCB9O1xuKiB9O1xuKlxuKiBjb25zdCBtYXBwZXIgPSBSdW5uYWJsZVBhcmFsbGVsLmZyb20oe1xuKiAgIGFnZV9zdGVwOiBSdW5uYWJsZUxhbWJkYS5mcm9tKGNhbGN1bGF0ZUFnZSksXG4qICAgZ3JlZXRpbmdfc3RlcDogUnVubmFibGVMYW1iZGEuZnJvbShjcmVhdGVHcmVldGluZyksXG4qIH0pO1xuKlxuKiBjb25zdCBydW5uYWJsZUFzc2lnbiA9IG5ldyBSdW5uYWJsZUFzc2lnbih7IG1hcHBlciB9KTtcbipcbiogY29uc3QgcmVzID0gYXdhaXQgcnVubmFibGVBc3NpZ24uaW52b2tlKHsgbmFtZTogXCJBbGljZVwiLCBiaXJ0aFllYXI6IDE5OTAgfSk7XG4qXG4qIC8vIHsgbmFtZTogXCJBbGljZVwiLCBiaXJ0aFllYXI6IDE5OTAsIGFnZV9zdGVwOiB7IGFnZTogMzQgfSwgZ3JlZXRpbmdfc3RlcDogeyBncmVldGluZzogXCJIZWxsbywgQWxpY2UhXCIgfSB9XG4qIGBgYFxuKi9cbnZhciBSdW5uYWJsZUFzc2lnbiA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZUFzc2lnblwiO1xuXHR9XG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdjaGFpbl9jb3JlXCIsIFwicnVubmFibGVzXCJdO1xuXHRsY19zZXJpYWxpemFibGUgPSB0cnVlO1xuXHRtYXBwZXI7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdGlmIChmaWVsZHMgaW5zdGFuY2VvZiBSdW5uYWJsZU1hcCkgZmllbGRzID0geyBtYXBwZXI6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5tYXBwZXIgPSBmaWVsZHMubWFwcGVyO1xuXHR9XG5cdGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IG1hcHBlclJlc3VsdCA9IGF3YWl0IHRoaXMubWFwcGVyLmludm9rZShpbnB1dCwgb3B0aW9ucyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLmlucHV0LFxuXHRcdFx0Li4ubWFwcGVyUmVzdWx0XG5cdFx0fTtcblx0fVxuXHRhc3luYyAqX3RyYW5zZm9ybShnZW5lcmF0b3IsIHJ1bk1hbmFnZXIsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBtYXBwZXJLZXlzID0gdGhpcy5tYXBwZXIuZ2V0U3RlcHNLZXlzKCk7XG5cdFx0Y29uc3QgW2ZvclBhc3N0aHJvdWdoLCBmb3JNYXBwZXJdID0gcmVxdWlyZV91dGlsc19zdHJlYW0uYXRlZShnZW5lcmF0b3IpO1xuXHRcdGNvbnN0IG1hcHBlck91dHB1dCA9IHRoaXMubWFwcGVyLnRyYW5zZm9ybShmb3JNYXBwZXIsIHJlcXVpcmVfY29uZmlnLnBhdGNoQ29uZmlnKG9wdGlvbnMsIHsgY2FsbGJhY2tzOiBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpIH0pKTtcblx0XHRjb25zdCBmaXJzdE1hcHBlckNodW5rUHJvbWlzZSA9IG1hcHBlck91dHB1dC5uZXh0KCk7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBmb3JQYXNzdGhyb3VnaCkge1xuXHRcdFx0aWYgKHR5cGVvZiBjaHVuayAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KGNodW5rKSkgdGhyb3cgbmV3IEVycm9yKGBSdW5uYWJsZUFzc2lnbiBjYW4gb25seSBiZSB1c2VkIHdpdGggb2JqZWN0cyBhcyBpbnB1dCwgZ290ICR7dHlwZW9mIGNodW5rfWApO1xuXHRcdFx0Y29uc3QgZmlsdGVyZWQgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY2h1bmspLmZpbHRlcigoW2tleV0pID0+ICFtYXBwZXJLZXlzLmluY2x1ZGVzKGtleSkpKTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhmaWx0ZXJlZCkubGVuZ3RoID4gMCkgeWllbGQgZmlsdGVyZWQ7XG5cdFx0fVxuXHRcdHlpZWxkIChhd2FpdCBmaXJzdE1hcHBlckNodW5rUHJvbWlzZSkudmFsdWU7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBtYXBwZXJPdXRwdXQpIHlpZWxkIGNodW5rO1xuXHR9XG5cdHRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhnZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB3cmFwcGVkR2VuZXJhdG9yID0gbmV3IHJlcXVpcmVfdXRpbHNfc3RyZWFtLkFzeW5jR2VuZXJhdG9yV2l0aFNldHVwKHtcblx0XHRcdGdlbmVyYXRvcjogdGhpcy50cmFuc2Zvcm0oZ2VuZXJhdG9yKCksIGNvbmZpZyksXG5cdFx0XHRjb25maWdcblx0XHR9KTtcblx0XHRhd2FpdCB3cmFwcGVkR2VuZXJhdG9yLnNldHVwO1xuXHRcdHJldHVybiByZXF1aXJlX3V0aWxzX3N0cmVhbS5JdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih3cmFwcGVkR2VuZXJhdG9yKTtcblx0fVxufTtcbi8qKlxuKiBBIHJ1bm5hYmxlIHRoYXQgYXNzaWducyBrZXktdmFsdWUgcGFpcnMgdG8gaW5wdXRzIG9mIHR5cGUgYFJlY29yZDxzdHJpbmcsIHVua25vd24+YC5cbiogVXNlZnVsIGZvciBzdHJlYW1pbmcsIGNhbiBiZSBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYW5kIGNoYWluZWQgYnkgY2FsbGluZyBgcnVubmFibGUucGljaygpO2AuXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgUnVubmFibGVQaWNrIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbipcbiogY29uc3QgaW5wdXREYXRhID0ge1xuKiAgIG5hbWU6IFwiSm9oblwiLFxuKiAgIGFnZTogMzAsXG4qICAgY2l0eTogXCJOZXcgWW9ya1wiLFxuKiAgIGNvdW50cnk6IFwiVVNBXCIsXG4qICAgZW1haWw6IFwiam9obi5kb2VAZXhhbXBsZS5jb21cIixcbiogICBwaG9uZTogXCIrMTIzNDU2Nzg5MFwiLFxuKiB9O1xuKlxuKiBjb25zdCBiYXNpY0luZm9SdW5uYWJsZSA9IG5ldyBSdW5uYWJsZVBpY2soW1wibmFtZVwiLCBcImNpdHlcIl0pO1xuKlxuKiAvLyBFeGFtcGxlIGludm9jYXRpb25cbiogY29uc3QgcmVzID0gYXdhaXQgYmFzaWNJbmZvUnVubmFibGUuaW52b2tlKGlucHV0RGF0YSk7XG4qXG4qIC8vIHsgbmFtZTogJ0pvaG4nLCBjaXR5OiAnTmV3IFlvcmsnIH1cbiogYGBgXG4qL1xudmFyIFJ1bm5hYmxlUGljayA9IGNsYXNzIGV4dGVuZHMgUnVubmFibGUge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVBpY2tcIjtcblx0fVxuXHRsY19uYW1lc3BhY2UgPSBbXCJsYW5nY2hhaW5fY29yZVwiLCBcInJ1bm5hYmxlc1wiXTtcblx0bGNfc2VyaWFsaXphYmxlID0gdHJ1ZTtcblx0a2V5cztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0aWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShmaWVsZHMpKSBmaWVsZHMgPSB7IGtleXM6IGZpZWxkcyB9O1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5rZXlzID0gZmllbGRzLmtleXM7XG5cdH1cblx0YXN5bmMgX3BpY2soaW5wdXQpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMua2V5cyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGlucHV0W3RoaXMua2V5c107XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCBwaWNrZWQgPSB0aGlzLmtleXMubWFwKChrZXkpID0+IFtrZXksIGlucHV0W2tleV1dKS5maWx0ZXIoKHYpID0+IHZbMV0gIT09IHZvaWQgMCk7XG5cdFx0XHRyZXR1cm4gcGlja2VkLmxlbmd0aCA9PT0gMCA/IHZvaWQgMCA6IE9iamVjdC5mcm9tRW50cmllcyhwaWNrZWQpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5fcGljay5iaW5kKHRoaXMpLCBpbnB1dCwgb3B0aW9ucyk7XG5cdH1cblx0YXN5bmMgKl90cmFuc2Zvcm0oZ2VuZXJhdG9yKSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBnZW5lcmF0b3IpIHtcblx0XHRcdGNvbnN0IHBpY2tlZCA9IGF3YWl0IHRoaXMuX3BpY2soY2h1bmspO1xuXHRcdFx0aWYgKHBpY2tlZCAhPT0gdm9pZCAwKSB5aWVsZCBwaWNrZWQ7XG5cdFx0fVxuXHR9XG5cdHRyYW5zZm9ybShnZW5lcmF0b3IsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RyZWFtV2l0aENvbmZpZyhnZW5lcmF0b3IsIHRoaXMuX3RyYW5zZm9ybS5iaW5kKHRoaXMpLCBvcHRpb25zKTtcblx0fVxuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRhc3luYyBmdW5jdGlvbiogZ2VuZXJhdG9yKCkge1xuXHRcdFx0eWllbGQgaW5wdXQ7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCB3cmFwcGVkR2VuZXJhdG9yID0gbmV3IHJlcXVpcmVfdXRpbHNfc3RyZWFtLkFzeW5jR2VuZXJhdG9yV2l0aFNldHVwKHtcblx0XHRcdGdlbmVyYXRvcjogdGhpcy50cmFuc2Zvcm0oZ2VuZXJhdG9yKCksIGNvbmZpZyksXG5cdFx0XHRjb25maWdcblx0XHR9KTtcblx0XHRhd2FpdCB3cmFwcGVkR2VuZXJhdG9yLnNldHVwO1xuXHRcdHJldHVybiByZXF1aXJlX3V0aWxzX3N0cmVhbS5JdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21Bc3luY0dlbmVyYXRvcih3cmFwcGVkR2VuZXJhdG9yKTtcblx0fVxufTtcbnZhciBSdW5uYWJsZVRvb2xMaWtlID0gY2xhc3MgZXh0ZW5kcyBSdW5uYWJsZUJpbmRpbmcge1xuXHRuYW1lO1xuXHRkZXNjcmlwdGlvbjtcblx0c2NoZW1hO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRjb25zdCBzZXF1ZW5jZSA9IFJ1bm5hYmxlU2VxdWVuY2UuZnJvbShbUnVubmFibGVMYW1iZGEuZnJvbShhc3luYyAoaW5wdXQpID0+IHtcblx0XHRcdGxldCB0b29sSW5wdXQ7XG5cdFx0XHRpZiAocmVxdWlyZV91dGlscy5faXNUb29sQ2FsbChpbnB1dCkpIHRyeSB7XG5cdFx0XHRcdHRvb2xJbnB1dCA9IGF3YWl0IHJlcXVpcmVfem9kLmludGVyb3BQYXJzZUFzeW5jKHRoaXMuc2NoZW1hLCBpbnB1dC5hcmdzKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHR0aHJvdyBuZXcgcmVxdWlyZV91dGlscy5Ub29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uKGBSZWNlaXZlZCB0b29sIGlucHV0IGRpZCBub3QgbWF0Y2ggZXhwZWN0ZWQgc2NoZW1hYCwgSlNPTi5zdHJpbmdpZnkoaW5wdXQuYXJncykpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB0b29sSW5wdXQgPSBpbnB1dDtcblx0XHRcdHJldHVybiB0b29sSW5wdXQ7XG5cdFx0fSkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IGAke2ZpZWxkcy5uYW1lfTpwYXJzZV9pbnB1dGAgfSksIGZpZWxkcy5ib3VuZF0pLndpdGhDb25maWcoeyBydW5OYW1lOiBmaWVsZHMubmFtZSB9KTtcblx0XHRzdXBlcih7XG5cdFx0XHRib3VuZDogc2VxdWVuY2UsXG5cdFx0XHRjb25maWc6IGZpZWxkcy5jb25maWcgPz8ge31cblx0XHR9KTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLmRlc2NyaXB0aW9uID0gZmllbGRzLmRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuc2NoZW1hID0gZmllbGRzLnNjaGVtYTtcblx0fVxuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSdW5uYWJsZVRvb2xMaWtlXCI7XG5cdH1cbn07XG4vKipcbiogR2l2ZW4gYSBydW5uYWJsZSBhbmQgYSBab2Qgc2NoZW1hLCBjb252ZXJ0IHRoZSBydW5uYWJsZSB0byBhIHRvb2wuXG4qXG4qIEB0ZW1wbGF0ZSBSdW5JbnB1dCBUaGUgaW5wdXQgdHlwZSBmb3IgdGhlIHJ1bm5hYmxlLlxuKiBAdGVtcGxhdGUgUnVuT3V0cHV0IFRoZSBvdXRwdXQgdHlwZSBmb3IgdGhlIHJ1bm5hYmxlLlxuKlxuKiBAcGFyYW0ge1J1bm5hYmxlPFJ1bklucHV0LCBSdW5PdXRwdXQ+fSBydW5uYWJsZSBUaGUgcnVubmFibGUgdG8gY29udmVydCB0byBhIHRvb2wuXG4qIEBwYXJhbSBmaWVsZHNcbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtmaWVsZHMubmFtZV0gVGhlIG5hbWUgb2YgdGhlIHRvb2wuIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBuYW1lIG9mIHRoZSBydW5uYWJsZS5cbiogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtmaWVsZHMuZGVzY3JpcHRpb25dIFRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbC4gRmFsbHMgYmFjayB0byB0aGUgZGVzY3JpcHRpb24gb24gdGhlIFpvZCBzY2hlbWEgaWYgbm90IHByb3ZpZGVkLCBvciB1bmRlZmluZWQgaWYgbmVpdGhlciBhcmUgcHJvdmlkZWQuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZFR5cGU8UnVuSW5wdXQ+fSBbZmllbGRzLnNjaGVtYV0gVGhlIFpvZCBzY2hlbWEgZm9yIHRoZSBpbnB1dCBvZiB0aGUgdG9vbC4gSW5mZXJzIHRoZSBab2QgdHlwZSBmcm9tIHRoZSBpbnB1dCB0eXBlIG9mIHRoZSBydW5uYWJsZS5cbiogQHJldHVybnMge1J1bm5hYmxlVG9vbExpa2U8SW50ZXJvcFpvZFR5cGU8UnVuSW5wdXQ+LCBSdW5PdXRwdXQ+fSBBbiBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWAgd2hpY2ggaXMgYSBydW5uYWJsZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgdG9vbC5cbiovXG5mdW5jdGlvbiBjb252ZXJ0UnVubmFibGVUb1Rvb2wocnVubmFibGUsIGZpZWxkcykge1xuXHRjb25zdCBuYW1lID0gZmllbGRzLm5hbWUgPz8gcnVubmFibGUuZ2V0TmFtZSgpO1xuXHRjb25zdCBkZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbiA/PyByZXF1aXJlX3pvZC5nZXRTY2hlbWFEZXNjcmlwdGlvbihmaWVsZHMuc2NoZW1hKTtcblx0aWYgKHJlcXVpcmVfem9kLmlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hKGZpZWxkcy5zY2hlbWEpKSByZXR1cm4gbmV3IFJ1bm5hYmxlVG9vbExpa2Uoe1xuXHRcdG5hbWUsXG5cdFx0ZGVzY3JpcHRpb24sXG5cdFx0c2NoZW1hOiB6b2RfdjMuei5vYmplY3QoeyBpbnB1dDogem9kX3YzLnouc3RyaW5nKCkgfSkudHJhbnNmb3JtKChpbnB1dCkgPT4gaW5wdXQuaW5wdXQpLFxuXHRcdGJvdW5kOiBydW5uYWJsZVxuXHR9KTtcblx0cmV0dXJuIG5ldyBSdW5uYWJsZVRvb2xMaWtlKHtcblx0XHRuYW1lLFxuXHRcdGRlc2NyaXB0aW9uLFxuXHRcdHNjaGVtYTogZmllbGRzLnNjaGVtYSxcblx0XHRib3VuZDogcnVubmFibGVcblx0fSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5SdW5uYWJsZSA9IFJ1bm5hYmxlO1xuZXhwb3J0cy5SdW5uYWJsZUFzc2lnbiA9IFJ1bm5hYmxlQXNzaWduO1xuZXhwb3J0cy5SdW5uYWJsZUJpbmRpbmcgPSBSdW5uYWJsZUJpbmRpbmc7XG5leHBvcnRzLlJ1bm5hYmxlRWFjaCA9IFJ1bm5hYmxlRWFjaDtcbmV4cG9ydHMuUnVubmFibGVMYW1iZGEgPSBSdW5uYWJsZUxhbWJkYTtcbmV4cG9ydHMuUnVubmFibGVNYXAgPSBSdW5uYWJsZU1hcDtcbmV4cG9ydHMuUnVubmFibGVQYXJhbGxlbCA9IFJ1bm5hYmxlUGFyYWxsZWw7XG5leHBvcnRzLlJ1bm5hYmxlUGljayA9IFJ1bm5hYmxlUGljaztcbmV4cG9ydHMuUnVubmFibGVSZXRyeSA9IFJ1bm5hYmxlUmV0cnk7XG5leHBvcnRzLlJ1bm5hYmxlU2VxdWVuY2UgPSBSdW5uYWJsZVNlcXVlbmNlO1xuZXhwb3J0cy5SdW5uYWJsZVRvb2xMaWtlID0gUnVubmFibGVUb29sTGlrZTtcbmV4cG9ydHMuUnVubmFibGVXaXRoRmFsbGJhY2tzID0gUnVubmFibGVXaXRoRmFsbGJhY2tzO1xuZXhwb3J0cy5fY29lcmNlVG9EaWN0ID0gX2NvZXJjZVRvRGljdDtcbmV4cG9ydHMuX2NvZXJjZVRvUnVubmFibGUgPSBfY29lcmNlVG9SdW5uYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/base.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs":
/*!****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/config.cjs ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_callbacks_manager = __webpack_require__(/*! ../callbacks/manager.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/manager.cjs\");\nconst require_index = __webpack_require__(/*! ../singletons/async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n__webpack_require__(/*! ../singletons/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\");\n\n//#region src/runnables/config.ts\nconst DEFAULT_RECURSION_LIMIT = 25;\nasync function getCallbackManagerForConfig(config) {\n\treturn require_callbacks_manager.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n}\nfunction mergeConfigs(...configs) {\n\tconst copy = {};\n\tfor (const options of configs.filter((c) => !!c)) for (const key of Object.keys(options)) if (key === \"metadata\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"tags\") {\n\t\tconst baseKeys = copy[key] ?? [];\n\t\tcopy[key] = [...new Set(baseKeys.concat(options[key] ?? []))];\n\t} else if (key === \"configurable\") copy[key] = {\n\t\t...copy[key],\n\t\t...options[key]\n\t};\n\telse if (key === \"timeout\") {\n\t\tif (copy.timeout === void 0) copy.timeout = options.timeout;\n\t\telse if (options.timeout !== void 0) copy.timeout = Math.min(copy.timeout, options.timeout);\n\t} else if (key === \"signal\") {\n\t\tif (copy.signal === void 0) copy.signal = options.signal;\n\t\telse if (options.signal !== void 0) if (\"any\" in AbortSignal) copy.signal = AbortSignal.any([copy.signal, options.signal]);\n\t\telse copy.signal = options.signal;\n\t} else if (key === \"callbacks\") {\n\t\tconst baseCallbacks = copy.callbacks;\n\t\tconst providedCallbacks = options.callbacks;\n\t\tif (Array.isArray(providedCallbacks)) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) copy.callbacks = baseCallbacks.concat(providedCallbacks);\n\t\telse {\n\t\t\tconst manager = baseCallbacks.copy();\n\t\t\tfor (const callback of providedCallbacks) manager.addHandler(require_callbacks_manager.ensureHandler(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t}\n\t\telse if (providedCallbacks) if (!baseCallbacks) copy.callbacks = providedCallbacks;\n\t\telse if (Array.isArray(baseCallbacks)) {\n\t\t\tconst manager = providedCallbacks.copy();\n\t\t\tfor (const callback of baseCallbacks) manager.addHandler(require_callbacks_manager.ensureHandler(callback), true);\n\t\t\tcopy.callbacks = manager;\n\t\t} else copy.callbacks = new require_callbacks_manager.CallbackManager(providedCallbacks._parentRunId, {\n\t\t\thandlers: baseCallbacks.handlers.concat(providedCallbacks.handlers),\n\t\t\tinheritableHandlers: baseCallbacks.inheritableHandlers.concat(providedCallbacks.inheritableHandlers),\n\t\t\ttags: Array.from(new Set(baseCallbacks.tags.concat(providedCallbacks.tags))),\n\t\t\tinheritableTags: Array.from(new Set(baseCallbacks.inheritableTags.concat(providedCallbacks.inheritableTags))),\n\t\t\tmetadata: {\n\t\t\t\t...baseCallbacks.metadata,\n\t\t\t\t...providedCallbacks.metadata\n\t\t\t}\n\t\t});\n\t} else {\n\t\tconst typedKey = key;\n\t\tcopy[typedKey] = options[typedKey] ?? copy[typedKey];\n\t}\n\treturn copy;\n}\nconst PRIMITIVES = new Set([\n\t\"string\",\n\t\"number\",\n\t\"boolean\"\n]);\n/**\n* Ensure that a passed config is an object with all required keys present.\n*/\nfunction ensureConfig(config) {\n\tconst implicitConfig = require_index.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tlet empty = {\n\t\ttags: [],\n\t\tmetadata: {},\n\t\trecursionLimit: 25,\n\t\trunId: void 0\n\t};\n\tif (implicitConfig) {\n\t\tconst { runId, runName,...rest } = implicitConfig;\n\t\tempty = Object.entries(rest).reduce((currentConfig, [key, value]) => {\n\t\t\tif (value !== void 0) currentConfig[key] = value;\n\t\t\treturn currentConfig;\n\t\t}, empty);\n\t}\n\tif (config) empty = Object.entries(config).reduce((currentConfig, [key, value]) => {\n\t\tif (value !== void 0) currentConfig[key] = value;\n\t\treturn currentConfig;\n\t}, empty);\n\tif (empty?.configurable) {\n\t\tfor (const key of Object.keys(empty.configurable)) if (PRIMITIVES.has(typeof empty.configurable[key]) && !empty.metadata?.[key]) {\n\t\t\tif (!empty.metadata) empty.metadata = {};\n\t\t\tempty.metadata[key] = empty.configurable[key];\n\t\t}\n\t}\n\tif (empty.timeout !== void 0) {\n\t\tif (empty.timeout <= 0) throw new Error(\"Timeout must be a positive number\");\n\t\tconst originalTimeoutMs = empty.timeout;\n\t\tconst timeoutSignal = AbortSignal.timeout(originalTimeoutMs);\n\t\tif (!empty.metadata) empty.metadata = {};\n\t\tif (empty.metadata.timeoutMs === void 0) empty.metadata.timeoutMs = originalTimeoutMs;\n\t\tif (empty.signal !== void 0) {\n\t\t\tif (\"any\" in AbortSignal) empty.signal = AbortSignal.any([empty.signal, timeoutSignal]);\n\t\t} else empty.signal = timeoutSignal;\n\t\t/**\n\t\t* We are deleting the timeout key for the following reasons:\n\t\t* - Idempotent normalization: ensureConfig may be called multiple times down the stack. If timeout remains,\n\t\t*   each call would synthesize new timeout signals and combine them, changing the effective timeout unpredictably.\n\t\t* - Single enforcement path: downstream code relies on signal to enforce cancellation. Leaving timeout means two\n\t\t*   competing mechanisms (numeric timeout and signal) can be applied, sometimes with different semantics.\n\t\t* - Propagation to children: pickRunnableConfigKeys would keep forwarding timeout to nested runnables, causing\n\t\t*   repeated re-normalization and stacked timeouts.\n\t\t* - Backward compatibility: a lot of components and tests assume ensureConfig removes timeout post-normalization;\n\t\t*   changing that would be a breaking change.\n\t\t*/\n\t\tdelete empty.timeout;\n\t}\n\treturn empty;\n}\n/**\n* Helper function that patches runnable configs with updated properties.\n*/\nfunction patchConfig(config = {}, { callbacks, maxConcurrency, recursionLimit, runName, configurable, runId } = {}) {\n\tconst newConfig = ensureConfig(config);\n\tif (callbacks !== void 0) {\n\t\t/**\n\t\t* If we're replacing callbacks we need to unset runName\n\t\t* since that should apply only to the same run as the original callbacks\n\t\t*/\n\t\tdelete newConfig.runName;\n\t\tnewConfig.callbacks = callbacks;\n\t}\n\tif (recursionLimit !== void 0) newConfig.recursionLimit = recursionLimit;\n\tif (maxConcurrency !== void 0) newConfig.maxConcurrency = maxConcurrency;\n\tif (runName !== void 0) newConfig.runName = runName;\n\tif (configurable !== void 0) newConfig.configurable = {\n\t\t...newConfig.configurable,\n\t\t...configurable\n\t};\n\tif (runId !== void 0) delete newConfig.runId;\n\treturn newConfig;\n}\nfunction pickRunnableConfigKeys(config) {\n\tif (!config) return void 0;\n\treturn {\n\t\tconfigurable: config.configurable,\n\t\trecursionLimit: config.recursionLimit,\n\t\tcallbacks: config.callbacks,\n\t\ttags: config.tags,\n\t\tmetadata: config.metadata,\n\t\tmaxConcurrency: config.maxConcurrency,\n\t\ttimeout: config.timeout,\n\t\tsignal: config.signal,\n\t\tstore: config.store\n\t};\n}\n\n//#endregion\nexports.DEFAULT_RECURSION_LIMIT = DEFAULT_RECURSION_LIMIT;\nexports.ensureConfig = ensureConfig;\nexports.getCallbackManagerForConfig = getCallbackManagerForConfig;\nexports.mergeConfigs = mergeConfigs;\nexports.patchConfig = patchConfig;\nexports.pickRunnableConfigKeys = pickRunnableConfigKeys;\n//# sourceMappingURL=config.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvY29uZmlnLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0MsbUJBQU8sQ0FBQyw0R0FBMEI7QUFDcEUsc0JBQXNCLG1CQUFPLENBQUMsa0pBQTZDO0FBQzNFLG1CQUFPLENBQUMsMEdBQXlCOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5QkFBeUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLElBQUksMEVBQTBFLElBQUk7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCO0FBQy9CLG9CQUFvQjtBQUNwQixtQ0FBbUM7QUFDbkMsb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQiw4QkFBOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9jb25maWcuY2pzPzY5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9jYWxsYmFja3NfbWFuYWdlciA9IHJlcXVpcmUoJy4uL2NhbGxiYWNrcy9tYW5hZ2VyLmNqcycpO1xuY29uc3QgcmVxdWlyZV9pbmRleCA9IHJlcXVpcmUoJy4uL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC5janMnKTtcbnJlcXVpcmUoJy4uL3NpbmdsZXRvbnMvaW5kZXguY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2NvbmZpZy50c1xuY29uc3QgREVGQVVMVF9SRUNVUlNJT05fTElNSVQgPSAyNTtcbmFzeW5jIGZ1bmN0aW9uIGdldENhbGxiYWNrTWFuYWdlckZvckNvbmZpZyhjb25maWcpIHtcblx0cmV0dXJuIHJlcXVpcmVfY2FsbGJhY2tzX21hbmFnZXIuQ2FsbGJhY2tNYW5hZ2VyLl9jb25maWd1cmVTeW5jKGNvbmZpZz8uY2FsbGJhY2tzLCB2b2lkIDAsIGNvbmZpZz8udGFncywgdm9pZCAwLCBjb25maWc/Lm1ldGFkYXRhKTtcbn1cbmZ1bmN0aW9uIG1lcmdlQ29uZmlncyguLi5jb25maWdzKSB7XG5cdGNvbnN0IGNvcHkgPSB7fTtcblx0Zm9yIChjb25zdCBvcHRpb25zIG9mIGNvbmZpZ3MuZmlsdGVyKChjKSA9PiAhIWMpKSBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkgaWYgKGtleSA9PT0gXCJtZXRhZGF0YVwiKSBjb3B5W2tleV0gPSB7XG5cdFx0Li4uY29weVtrZXldLFxuXHRcdC4uLm9wdGlvbnNba2V5XVxuXHR9O1xuXHRlbHNlIGlmIChrZXkgPT09IFwidGFnc1wiKSB7XG5cdFx0Y29uc3QgYmFzZUtleXMgPSBjb3B5W2tleV0gPz8gW107XG5cdFx0Y29weVtrZXldID0gWy4uLm5ldyBTZXQoYmFzZUtleXMuY29uY2F0KG9wdGlvbnNba2V5XSA/PyBbXSkpXTtcblx0fSBlbHNlIGlmIChrZXkgPT09IFwiY29uZmlndXJhYmxlXCIpIGNvcHlba2V5XSA9IHtcblx0XHQuLi5jb3B5W2tleV0sXG5cdFx0Li4ub3B0aW9uc1trZXldXG5cdH07XG5cdGVsc2UgaWYgKGtleSA9PT0gXCJ0aW1lb3V0XCIpIHtcblx0XHRpZiAoY29weS50aW1lb3V0ID09PSB2b2lkIDApIGNvcHkudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcblx0XHRlbHNlIGlmIChvcHRpb25zLnRpbWVvdXQgIT09IHZvaWQgMCkgY29weS50aW1lb3V0ID0gTWF0aC5taW4oY29weS50aW1lb3V0LCBvcHRpb25zLnRpbWVvdXQpO1xuXHR9IGVsc2UgaWYgKGtleSA9PT0gXCJzaWduYWxcIikge1xuXHRcdGlmIChjb3B5LnNpZ25hbCA9PT0gdm9pZCAwKSBjb3B5LnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsO1xuXHRcdGVsc2UgaWYgKG9wdGlvbnMuc2lnbmFsICE9PSB2b2lkIDApIGlmIChcImFueVwiIGluIEFib3J0U2lnbmFsKSBjb3B5LnNpZ25hbCA9IEFib3J0U2lnbmFsLmFueShbY29weS5zaWduYWwsIG9wdGlvbnMuc2lnbmFsXSk7XG5cdFx0ZWxzZSBjb3B5LnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsO1xuXHR9IGVsc2UgaWYgKGtleSA9PT0gXCJjYWxsYmFja3NcIikge1xuXHRcdGNvbnN0IGJhc2VDYWxsYmFja3MgPSBjb3B5LmNhbGxiYWNrcztcblx0XHRjb25zdCBwcm92aWRlZENhbGxiYWNrcyA9IG9wdGlvbnMuY2FsbGJhY2tzO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHByb3ZpZGVkQ2FsbGJhY2tzKSkgaWYgKCFiYXNlQ2FsbGJhY2tzKSBjb3B5LmNhbGxiYWNrcyA9IHByb3ZpZGVkQ2FsbGJhY2tzO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYmFzZUNhbGxiYWNrcykpIGNvcHkuY2FsbGJhY2tzID0gYmFzZUNhbGxiYWNrcy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MpO1xuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc3QgbWFuYWdlciA9IGJhc2VDYWxsYmFja3MuY29weSgpO1xuXHRcdFx0Zm9yIChjb25zdCBjYWxsYmFjayBvZiBwcm92aWRlZENhbGxiYWNrcykgbWFuYWdlci5hZGRIYW5kbGVyKHJlcXVpcmVfY2FsbGJhY2tzX21hbmFnZXIuZW5zdXJlSGFuZGxlcihjYWxsYmFjayksIHRydWUpO1xuXHRcdFx0Y29weS5jYWxsYmFja3MgPSBtYW5hZ2VyO1xuXHRcdH1cblx0XHRlbHNlIGlmIChwcm92aWRlZENhbGxiYWNrcykgaWYgKCFiYXNlQ2FsbGJhY2tzKSBjb3B5LmNhbGxiYWNrcyA9IHByb3ZpZGVkQ2FsbGJhY2tzO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYmFzZUNhbGxiYWNrcykpIHtcblx0XHRcdGNvbnN0IG1hbmFnZXIgPSBwcm92aWRlZENhbGxiYWNrcy5jb3B5KCk7XG5cdFx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGJhc2VDYWxsYmFja3MpIG1hbmFnZXIuYWRkSGFuZGxlcihyZXF1aXJlX2NhbGxiYWNrc19tYW5hZ2VyLmVuc3VyZUhhbmRsZXIoY2FsbGJhY2spLCB0cnVlKTtcblx0XHRcdGNvcHkuY2FsbGJhY2tzID0gbWFuYWdlcjtcblx0XHR9IGVsc2UgY29weS5jYWxsYmFja3MgPSBuZXcgcmVxdWlyZV9jYWxsYmFja3NfbWFuYWdlci5DYWxsYmFja01hbmFnZXIocHJvdmlkZWRDYWxsYmFja3MuX3BhcmVudFJ1bklkLCB7XG5cdFx0XHRoYW5kbGVyczogYmFzZUNhbGxiYWNrcy5oYW5kbGVycy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MuaGFuZGxlcnMpLFxuXHRcdFx0aW5oZXJpdGFibGVIYW5kbGVyczogYmFzZUNhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzLmNvbmNhdChwcm92aWRlZENhbGxiYWNrcy5pbmhlcml0YWJsZUhhbmRsZXJzKSxcblx0XHRcdHRhZ3M6IEFycmF5LmZyb20obmV3IFNldChiYXNlQ2FsbGJhY2tzLnRhZ3MuY29uY2F0KHByb3ZpZGVkQ2FsbGJhY2tzLnRhZ3MpKSksXG5cdFx0XHRpbmhlcml0YWJsZVRhZ3M6IEFycmF5LmZyb20obmV3IFNldChiYXNlQ2FsbGJhY2tzLmluaGVyaXRhYmxlVGFncy5jb25jYXQocHJvdmlkZWRDYWxsYmFja3MuaW5oZXJpdGFibGVUYWdzKSkpLFxuXHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0Li4uYmFzZUNhbGxiYWNrcy5tZXRhZGF0YSxcblx0XHRcdFx0Li4ucHJvdmlkZWRDYWxsYmFja3MubWV0YWRhdGFcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRjb25zdCB0eXBlZEtleSA9IGtleTtcblx0XHRjb3B5W3R5cGVkS2V5XSA9IG9wdGlvbnNbdHlwZWRLZXldID8/IGNvcHlbdHlwZWRLZXldO1xuXHR9XG5cdHJldHVybiBjb3B5O1xufVxuY29uc3QgUFJJTUlUSVZFUyA9IG5ldyBTZXQoW1xuXHRcInN0cmluZ1wiLFxuXHRcIm51bWJlclwiLFxuXHRcImJvb2xlYW5cIlxuXSk7XG4vKipcbiogRW5zdXJlIHRoYXQgYSBwYXNzZWQgY29uZmlnIGlzIGFuIG9iamVjdCB3aXRoIGFsbCByZXF1aXJlZCBrZXlzIHByZXNlbnQuXG4qL1xuZnVuY3Rpb24gZW5zdXJlQ29uZmlnKGNvbmZpZykge1xuXHRjb25zdCBpbXBsaWNpdENvbmZpZyA9IHJlcXVpcmVfaW5kZXguQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5nZXRSdW5uYWJsZUNvbmZpZygpO1xuXHRsZXQgZW1wdHkgPSB7XG5cdFx0dGFnczogW10sXG5cdFx0bWV0YWRhdGE6IHt9LFxuXHRcdHJlY3Vyc2lvbkxpbWl0OiAyNSxcblx0XHRydW5JZDogdm9pZCAwXG5cdH07XG5cdGlmIChpbXBsaWNpdENvbmZpZykge1xuXHRcdGNvbnN0IHsgcnVuSWQsIHJ1bk5hbWUsLi4ucmVzdCB9ID0gaW1wbGljaXRDb25maWc7XG5cdFx0ZW1wdHkgPSBPYmplY3QuZW50cmllcyhyZXN0KS5yZWR1Y2UoKGN1cnJlbnRDb25maWcsIFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdFx0aWYgKHZhbHVlICE9PSB2b2lkIDApIGN1cnJlbnRDb25maWdba2V5XSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIGN1cnJlbnRDb25maWc7XG5cdFx0fSwgZW1wdHkpO1xuXHR9XG5cdGlmIChjb25maWcpIGVtcHR5ID0gT2JqZWN0LmVudHJpZXMoY29uZmlnKS5yZWR1Y2UoKGN1cnJlbnRDb25maWcsIFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdGlmICh2YWx1ZSAhPT0gdm9pZCAwKSBjdXJyZW50Q29uZmlnW2tleV0gPSB2YWx1ZTtcblx0XHRyZXR1cm4gY3VycmVudENvbmZpZztcblx0fSwgZW1wdHkpO1xuXHRpZiAoZW1wdHk/LmNvbmZpZ3VyYWJsZSkge1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGVtcHR5LmNvbmZpZ3VyYWJsZSkpIGlmIChQUklNSVRJVkVTLmhhcyh0eXBlb2YgZW1wdHkuY29uZmlndXJhYmxlW2tleV0pICYmICFlbXB0eS5tZXRhZGF0YT8uW2tleV0pIHtcblx0XHRcdGlmICghZW1wdHkubWV0YWRhdGEpIGVtcHR5Lm1ldGFkYXRhID0ge307XG5cdFx0XHRlbXB0eS5tZXRhZGF0YVtrZXldID0gZW1wdHkuY29uZmlndXJhYmxlW2tleV07XG5cdFx0fVxuXHR9XG5cdGlmIChlbXB0eS50aW1lb3V0ICE9PSB2b2lkIDApIHtcblx0XHRpZiAoZW1wdHkudGltZW91dCA8PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJUaW1lb3V0IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG5cdFx0Y29uc3Qgb3JpZ2luYWxUaW1lb3V0TXMgPSBlbXB0eS50aW1lb3V0O1xuXHRcdGNvbnN0IHRpbWVvdXRTaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KG9yaWdpbmFsVGltZW91dE1zKTtcblx0XHRpZiAoIWVtcHR5Lm1ldGFkYXRhKSBlbXB0eS5tZXRhZGF0YSA9IHt9O1xuXHRcdGlmIChlbXB0eS5tZXRhZGF0YS50aW1lb3V0TXMgPT09IHZvaWQgMCkgZW1wdHkubWV0YWRhdGEudGltZW91dE1zID0gb3JpZ2luYWxUaW1lb3V0TXM7XG5cdFx0aWYgKGVtcHR5LnNpZ25hbCAhPT0gdm9pZCAwKSB7XG5cdFx0XHRpZiAoXCJhbnlcIiBpbiBBYm9ydFNpZ25hbCkgZW1wdHkuc2lnbmFsID0gQWJvcnRTaWduYWwuYW55KFtlbXB0eS5zaWduYWwsIHRpbWVvdXRTaWduYWxdKTtcblx0XHR9IGVsc2UgZW1wdHkuc2lnbmFsID0gdGltZW91dFNpZ25hbDtcblx0XHQvKipcblx0XHQqIFdlIGFyZSBkZWxldGluZyB0aGUgdGltZW91dCBrZXkgZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcblx0XHQqIC0gSWRlbXBvdGVudCBub3JtYWxpemF0aW9uOiBlbnN1cmVDb25maWcgbWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBkb3duIHRoZSBzdGFjay4gSWYgdGltZW91dCByZW1haW5zLFxuXHRcdCogICBlYWNoIGNhbGwgd291bGQgc3ludGhlc2l6ZSBuZXcgdGltZW91dCBzaWduYWxzIGFuZCBjb21iaW5lIHRoZW0sIGNoYW5naW5nIHRoZSBlZmZlY3RpdmUgdGltZW91dCB1bnByZWRpY3RhYmx5LlxuXHRcdCogLSBTaW5nbGUgZW5mb3JjZW1lbnQgcGF0aDogZG93bnN0cmVhbSBjb2RlIHJlbGllcyBvbiBzaWduYWwgdG8gZW5mb3JjZSBjYW5jZWxsYXRpb24uIExlYXZpbmcgdGltZW91dCBtZWFucyB0d29cblx0XHQqICAgY29tcGV0aW5nIG1lY2hhbmlzbXMgKG51bWVyaWMgdGltZW91dCBhbmQgc2lnbmFsKSBjYW4gYmUgYXBwbGllZCwgc29tZXRpbWVzIHdpdGggZGlmZmVyZW50IHNlbWFudGljcy5cblx0XHQqIC0gUHJvcGFnYXRpb24gdG8gY2hpbGRyZW46IHBpY2tSdW5uYWJsZUNvbmZpZ0tleXMgd291bGQga2VlcCBmb3J3YXJkaW5nIHRpbWVvdXQgdG8gbmVzdGVkIHJ1bm5hYmxlcywgY2F1c2luZ1xuXHRcdCogICByZXBlYXRlZCByZS1ub3JtYWxpemF0aW9uIGFuZCBzdGFja2VkIHRpbWVvdXRzLlxuXHRcdCogLSBCYWNrd2FyZCBjb21wYXRpYmlsaXR5OiBhIGxvdCBvZiBjb21wb25lbnRzIGFuZCB0ZXN0cyBhc3N1bWUgZW5zdXJlQ29uZmlnIHJlbW92ZXMgdGltZW91dCBwb3N0LW5vcm1hbGl6YXRpb247XG5cdFx0KiAgIGNoYW5naW5nIHRoYXQgd291bGQgYmUgYSBicmVha2luZyBjaGFuZ2UuXG5cdFx0Ki9cblx0XHRkZWxldGUgZW1wdHkudGltZW91dDtcblx0fVxuXHRyZXR1cm4gZW1wdHk7XG59XG4vKipcbiogSGVscGVyIGZ1bmN0aW9uIHRoYXQgcGF0Y2hlcyBydW5uYWJsZSBjb25maWdzIHdpdGggdXBkYXRlZCBwcm9wZXJ0aWVzLlxuKi9cbmZ1bmN0aW9uIHBhdGNoQ29uZmlnKGNvbmZpZyA9IHt9LCB7IGNhbGxiYWNrcywgbWF4Q29uY3VycmVuY3ksIHJlY3Vyc2lvbkxpbWl0LCBydW5OYW1lLCBjb25maWd1cmFibGUsIHJ1bklkIH0gPSB7fSkge1xuXHRjb25zdCBuZXdDb25maWcgPSBlbnN1cmVDb25maWcoY29uZmlnKTtcblx0aWYgKGNhbGxiYWNrcyAhPT0gdm9pZCAwKSB7XG5cdFx0LyoqXG5cdFx0KiBJZiB3ZSdyZSByZXBsYWNpbmcgY2FsbGJhY2tzIHdlIG5lZWQgdG8gdW5zZXQgcnVuTmFtZVxuXHRcdCogc2luY2UgdGhhdCBzaG91bGQgYXBwbHkgb25seSB0byB0aGUgc2FtZSBydW4gYXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrc1xuXHRcdCovXG5cdFx0ZGVsZXRlIG5ld0NvbmZpZy5ydW5OYW1lO1xuXHRcdG5ld0NvbmZpZy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG5cdH1cblx0aWYgKHJlY3Vyc2lvbkxpbWl0ICE9PSB2b2lkIDApIG5ld0NvbmZpZy5yZWN1cnNpb25MaW1pdCA9IHJlY3Vyc2lvbkxpbWl0O1xuXHRpZiAobWF4Q29uY3VycmVuY3kgIT09IHZvaWQgMCkgbmV3Q29uZmlnLm1heENvbmN1cnJlbmN5ID0gbWF4Q29uY3VycmVuY3k7XG5cdGlmIChydW5OYW1lICE9PSB2b2lkIDApIG5ld0NvbmZpZy5ydW5OYW1lID0gcnVuTmFtZTtcblx0aWYgKGNvbmZpZ3VyYWJsZSAhPT0gdm9pZCAwKSBuZXdDb25maWcuY29uZmlndXJhYmxlID0ge1xuXHRcdC4uLm5ld0NvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0Li4uY29uZmlndXJhYmxlXG5cdH07XG5cdGlmIChydW5JZCAhPT0gdm9pZCAwKSBkZWxldGUgbmV3Q29uZmlnLnJ1bklkO1xuXHRyZXR1cm4gbmV3Q29uZmlnO1xufVxuZnVuY3Rpb24gcGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjb25maWcpIHtcblx0aWYgKCFjb25maWcpIHJldHVybiB2b2lkIDA7XG5cdHJldHVybiB7XG5cdFx0Y29uZmlndXJhYmxlOiBjb25maWcuY29uZmlndXJhYmxlLFxuXHRcdHJlY3Vyc2lvbkxpbWl0OiBjb25maWcucmVjdXJzaW9uTGltaXQsXG5cdFx0Y2FsbGJhY2tzOiBjb25maWcuY2FsbGJhY2tzLFxuXHRcdHRhZ3M6IGNvbmZpZy50YWdzLFxuXHRcdG1ldGFkYXRhOiBjb25maWcubWV0YWRhdGEsXG5cdFx0bWF4Q29uY3VycmVuY3k6IGNvbmZpZy5tYXhDb25jdXJyZW5jeSxcblx0XHR0aW1lb3V0OiBjb25maWcudGltZW91dCxcblx0XHRzaWduYWw6IGNvbmZpZy5zaWduYWwsXG5cdFx0c3RvcmU6IGNvbmZpZy5zdG9yZVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuREVGQVVMVF9SRUNVUlNJT05fTElNSVQgPSBERUZBVUxUX1JFQ1VSU0lPTl9MSU1JVDtcbmV4cG9ydHMuZW5zdXJlQ29uZmlnID0gZW5zdXJlQ29uZmlnO1xuZXhwb3J0cy5nZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWcgPSBnZXRDYWxsYmFja01hbmFnZXJGb3JDb25maWc7XG5leHBvcnRzLm1lcmdlQ29uZmlncyA9IG1lcmdlQ29uZmlncztcbmV4cG9ydHMucGF0Y2hDb25maWcgPSBwYXRjaENvbmZpZztcbmV4cG9ydHMucGlja1J1bm5hYmxlQ29uZmlnS2V5cyA9IHBpY2tSdW5uYWJsZUNvbmZpZ0tleXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/graph.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/graph.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/utils.cjs\");\nconst require_graph_mermaid = __webpack_require__(/*! ./graph_mermaid.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/graph_mermaid.cjs\");\nconst require_utils_json_schema = __webpack_require__(/*! ../utils/json_schema.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/json_schema.cjs\");\nconst uuid = require_rolldown_runtime.__toESM(__webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/@langchain/core/node_modules/uuid/dist/esm-node/index.js\"));\n\n//#region src/runnables/graph.ts\nvar graph_exports = {};\nrequire_rolldown_runtime.__export(graph_exports, { Graph: () => Graph });\nfunction nodeDataStr(id, data) {\n\tif (id !== void 0 && !(0, uuid.validate)(id)) return id;\n\telse if (require_utils.isRunnableInterface(data)) try {\n\t\tlet dataStr = data.getName();\n\t\tdataStr = dataStr.startsWith(\"Runnable\") ? dataStr.slice(8) : dataStr;\n\t\treturn dataStr;\n\t} catch {\n\t\treturn data.getName();\n\t}\n\telse return data.name ?? \"UnknownSchema\";\n}\nfunction nodeDataJson(node) {\n\tif (require_utils.isRunnableInterface(node.data)) return {\n\t\ttype: \"runnable\",\n\t\tdata: {\n\t\t\tid: node.data.lc_id,\n\t\t\tname: node.data.getName()\n\t\t}\n\t};\n\telse return {\n\t\ttype: \"schema\",\n\t\tdata: {\n\t\t\t...require_utils_json_schema.toJsonSchema(node.data.schema),\n\t\t\ttitle: node.data.name\n\t\t}\n\t};\n}\nvar Graph = class Graph {\n\tnodes = {};\n\tedges = [];\n\tconstructor(params) {\n\t\tthis.nodes = params?.nodes ?? this.nodes;\n\t\tthis.edges = params?.edges ?? this.edges;\n\t}\n\ttoJSON() {\n\t\tconst stableNodeIds = {};\n\t\tObject.values(this.nodes).forEach((node, i) => {\n\t\t\tstableNodeIds[node.id] = (0, uuid.validate)(node.id) ? i : node.id;\n\t\t});\n\t\treturn {\n\t\t\tnodes: Object.values(this.nodes).map((node) => ({\n\t\t\t\tid: stableNodeIds[node.id],\n\t\t\t\t...nodeDataJson(node)\n\t\t\t})),\n\t\t\tedges: this.edges.map((edge) => {\n\t\t\t\tconst item = {\n\t\t\t\t\tsource: stableNodeIds[edge.source],\n\t\t\t\t\ttarget: stableNodeIds[edge.target]\n\t\t\t\t};\n\t\t\t\tif (typeof edge.data !== \"undefined\") item.data = edge.data;\n\t\t\t\tif (typeof edge.conditional !== \"undefined\") item.conditional = edge.conditional;\n\t\t\t\treturn item;\n\t\t\t})\n\t\t};\n\t}\n\taddNode(data, id, metadata) {\n\t\tif (id !== void 0 && this.nodes[id] !== void 0) throw new Error(`Node with id ${id} already exists`);\n\t\tconst nodeId = id ?? (0, uuid.v4)();\n\t\tconst node = {\n\t\t\tid: nodeId,\n\t\t\tdata,\n\t\t\tname: nodeDataStr(id, data),\n\t\t\tmetadata\n\t\t};\n\t\tthis.nodes[nodeId] = node;\n\t\treturn node;\n\t}\n\tremoveNode(node) {\n\t\tdelete this.nodes[node.id];\n\t\tthis.edges = this.edges.filter((edge) => edge.source !== node.id && edge.target !== node.id);\n\t}\n\taddEdge(source, target, data, conditional) {\n\t\tif (this.nodes[source.id] === void 0) throw new Error(`Source node ${source.id} not in graph`);\n\t\tif (this.nodes[target.id] === void 0) throw new Error(`Target node ${target.id} not in graph`);\n\t\tconst edge = {\n\t\t\tsource: source.id,\n\t\t\ttarget: target.id,\n\t\t\tdata,\n\t\t\tconditional\n\t\t};\n\t\tthis.edges.push(edge);\n\t\treturn edge;\n\t}\n\tfirstNode() {\n\t\treturn _firstNode(this);\n\t}\n\tlastNode() {\n\t\treturn _lastNode(this);\n\t}\n\t/**\n\t* Add all nodes and edges from another graph.\n\t* Note this doesn't check for duplicates, nor does it connect the graphs.\n\t*/\n\textend(graph, prefix = \"\") {\n\t\tlet finalPrefix = prefix;\n\t\tconst nodeIds = Object.values(graph.nodes).map((node) => node.id);\n\t\tif (nodeIds.every(uuid.validate)) finalPrefix = \"\";\n\t\tconst prefixed = (id) => {\n\t\t\treturn finalPrefix ? `${finalPrefix}:${id}` : id;\n\t\t};\n\t\tObject.entries(graph.nodes).forEach(([key, value]) => {\n\t\t\tthis.nodes[prefixed(key)] = {\n\t\t\t\t...value,\n\t\t\t\tid: prefixed(key)\n\t\t\t};\n\t\t});\n\t\tconst newEdges = graph.edges.map((edge) => {\n\t\t\treturn {\n\t\t\t\t...edge,\n\t\t\t\tsource: prefixed(edge.source),\n\t\t\t\ttarget: prefixed(edge.target)\n\t\t\t};\n\t\t});\n\t\tthis.edges = [...this.edges, ...newEdges];\n\t\tconst first = graph.firstNode();\n\t\tconst last = graph.lastNode();\n\t\treturn [first ? {\n\t\t\tid: prefixed(first.id),\n\t\t\tdata: first.data\n\t\t} : void 0, last ? {\n\t\t\tid: prefixed(last.id),\n\t\t\tdata: last.data\n\t\t} : void 0];\n\t}\n\ttrimFirstNode() {\n\t\tconst firstNode = this.firstNode();\n\t\tif (firstNode && _firstNode(this, [firstNode.id])) this.removeNode(firstNode);\n\t}\n\ttrimLastNode() {\n\t\tconst lastNode = this.lastNode();\n\t\tif (lastNode && _lastNode(this, [lastNode.id])) this.removeNode(lastNode);\n\t}\n\t/**\n\t* Return a new graph with all nodes re-identified,\n\t* using their unique, readable names where possible.\n\t*/\n\treid() {\n\t\tconst nodeLabels = Object.fromEntries(Object.values(this.nodes).map((node) => [node.id, node.name]));\n\t\tconst nodeLabelCounts = /* @__PURE__ */ new Map();\n\t\tObject.values(nodeLabels).forEach((label) => {\n\t\t\tnodeLabelCounts.set(label, (nodeLabelCounts.get(label) || 0) + 1);\n\t\t});\n\t\tconst getNodeId = (nodeId) => {\n\t\t\tconst label = nodeLabels[nodeId];\n\t\t\tif ((0, uuid.validate)(nodeId) && nodeLabelCounts.get(label) === 1) return label;\n\t\t\telse return nodeId;\n\t\t};\n\t\treturn new Graph({\n\t\t\tnodes: Object.fromEntries(Object.entries(this.nodes).map(([id, node]) => [getNodeId(id), {\n\t\t\t\t...node,\n\t\t\t\tid: getNodeId(id)\n\t\t\t}])),\n\t\t\tedges: this.edges.map((edge) => ({\n\t\t\t\t...edge,\n\t\t\t\tsource: getNodeId(edge.source),\n\t\t\t\ttarget: getNodeId(edge.target)\n\t\t\t}))\n\t\t});\n\t}\n\tdrawMermaid(params) {\n\t\tconst { withStyles, curveStyle, nodeColors = {\n\t\t\tdefault: \"fill:#f2f0ff,line-height:1.2\",\n\t\t\tfirst: \"fill-opacity:0\",\n\t\t\tlast: \"fill:#bfb6fc\"\n\t\t}, wrapLabelNWords } = params ?? {};\n\t\tconst graph = this.reid();\n\t\tconst firstNode = graph.firstNode();\n\t\tconst lastNode = graph.lastNode();\n\t\treturn require_graph_mermaid.drawMermaid(graph.nodes, graph.edges, {\n\t\t\tfirstNode: firstNode?.id,\n\t\t\tlastNode: lastNode?.id,\n\t\t\twithStyles,\n\t\t\tcurveStyle,\n\t\t\tnodeColors,\n\t\t\twrapLabelNWords\n\t\t});\n\t}\n\tasync drawMermaidPng(params) {\n\t\tconst mermaidSyntax = this.drawMermaid(params);\n\t\treturn require_graph_mermaid.drawMermaidImage(mermaidSyntax, { backgroundColor: params?.backgroundColor });\n\t}\n};\n/**\n* Find the single node that is not a target of any edge.\n* Exclude nodes/sources with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the origin.\n*/\nfunction _firstNode(graph, exclude = []) {\n\tconst targets = new Set(graph.edges.filter((edge) => !exclude.includes(edge.source)).map((edge) => edge.target));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !targets.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n/**\n* Find the single node that is not a source of any edge.\n* Exclude nodes/targets with ids in the exclude list.\n* If there is no such node, or there are multiple, return undefined.\n* When drawing the graph, this node would be the destination.\n*/\nfunction _lastNode(graph, exclude = []) {\n\tconst sources = new Set(graph.edges.filter((edge) => !exclude.includes(edge.target)).map((edge) => edge.source));\n\tconst found = [];\n\tfor (const node of Object.values(graph.nodes)) if (!exclude.includes(node.id) && !sources.has(node.id)) found.push(node);\n\treturn found.length === 1 ? found[0] : void 0;\n}\n\n//#endregion\nexports.Graph = Graph;\nObject.defineProperty(exports, \"graph_exports\", ({\n  enumerable: true,\n  get: function () {\n    return graph_exports;\n  }\n}));\n//# sourceMappingURL=graph.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvZ3JhcGguY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSxzQkFBc0IsbUJBQU8sQ0FBQyw2RkFBYTtBQUMzQyw4QkFBOEIsbUJBQU8sQ0FBQyw2R0FBcUI7QUFDM0Qsa0NBQWtDLG1CQUFPLENBQUMsNEdBQTBCO0FBQ3BFLDhDQUE4QyxtQkFBTyxDQUFDLHNHQUFNOztBQUU1RDtBQUNBO0FBQ0EsbURBQW1ELG9CQUFvQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsSUFBSTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsV0FBVztBQUNsRix1RUFBdUUsV0FBVztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWSxHQUFHLEdBQUc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEdBQUcsb0JBQW9CO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSwwQ0FBMEM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYixpREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL2dyYXBoLmNqcz9jMGRjIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfZ3JhcGhfbWVybWFpZCA9IHJlcXVpcmUoJy4vZ3JhcGhfbWVybWFpZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHNfanNvbl9zY2hlbWEgPSByZXF1aXJlKCcuLi91dGlscy9qc29uX3NjaGVtYS5janMnKTtcbmNvbnN0IHV1aWQgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwidXVpZFwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL2dyYXBoLnRzXG52YXIgZ3JhcGhfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGdyYXBoX2V4cG9ydHMsIHsgR3JhcGg6ICgpID0+IEdyYXBoIH0pO1xuZnVuY3Rpb24gbm9kZURhdGFTdHIoaWQsIGRhdGEpIHtcblx0aWYgKGlkICE9PSB2b2lkIDAgJiYgISgwLCB1dWlkLnZhbGlkYXRlKShpZCkpIHJldHVybiBpZDtcblx0ZWxzZSBpZiAocmVxdWlyZV91dGlscy5pc1J1bm5hYmxlSW50ZXJmYWNlKGRhdGEpKSB0cnkge1xuXHRcdGxldCBkYXRhU3RyID0gZGF0YS5nZXROYW1lKCk7XG5cdFx0ZGF0YVN0ciA9IGRhdGFTdHIuc3RhcnRzV2l0aChcIlJ1bm5hYmxlXCIpID8gZGF0YVN0ci5zbGljZSg4KSA6IGRhdGFTdHI7XG5cdFx0cmV0dXJuIGRhdGFTdHI7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBkYXRhLmdldE5hbWUoKTtcblx0fVxuXHRlbHNlIHJldHVybiBkYXRhLm5hbWUgPz8gXCJVbmtub3duU2NoZW1hXCI7XG59XG5mdW5jdGlvbiBub2RlRGF0YUpzb24obm9kZSkge1xuXHRpZiAocmVxdWlyZV91dGlscy5pc1J1bm5hYmxlSW50ZXJmYWNlKG5vZGUuZGF0YSkpIHJldHVybiB7XG5cdFx0dHlwZTogXCJydW5uYWJsZVwiLFxuXHRcdGRhdGE6IHtcblx0XHRcdGlkOiBub2RlLmRhdGEubGNfaWQsXG5cdFx0XHRuYW1lOiBub2RlLmRhdGEuZ2V0TmFtZSgpXG5cdFx0fVxuXHR9O1xuXHRlbHNlIHJldHVybiB7XG5cdFx0dHlwZTogXCJzY2hlbWFcIixcblx0XHRkYXRhOiB7XG5cdFx0XHQuLi5yZXF1aXJlX3V0aWxzX2pzb25fc2NoZW1hLnRvSnNvblNjaGVtYShub2RlLmRhdGEuc2NoZW1hKSxcblx0XHRcdHRpdGxlOiBub2RlLmRhdGEubmFtZVxuXHRcdH1cblx0fTtcbn1cbnZhciBHcmFwaCA9IGNsYXNzIEdyYXBoIHtcblx0bm9kZXMgPSB7fTtcblx0ZWRnZXMgPSBbXTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0dGhpcy5ub2RlcyA9IHBhcmFtcz8ubm9kZXMgPz8gdGhpcy5ub2Rlcztcblx0XHR0aGlzLmVkZ2VzID0gcGFyYW1zPy5lZGdlcyA/PyB0aGlzLmVkZ2VzO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRjb25zdCBzdGFibGVOb2RlSWRzID0ge307XG5cdFx0T2JqZWN0LnZhbHVlcyh0aGlzLm5vZGVzKS5mb3JFYWNoKChub2RlLCBpKSA9PiB7XG5cdFx0XHRzdGFibGVOb2RlSWRzW25vZGUuaWRdID0gKDAsIHV1aWQudmFsaWRhdGUpKG5vZGUuaWQpID8gaSA6IG5vZGUuaWQ7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5vZGVzOiBPYmplY3QudmFsdWVzKHRoaXMubm9kZXMpLm1hcCgobm9kZSkgPT4gKHtcblx0XHRcdFx0aWQ6IHN0YWJsZU5vZGVJZHNbbm9kZS5pZF0sXG5cdFx0XHRcdC4uLm5vZGVEYXRhSnNvbihub2RlKVxuXHRcdFx0fSkpLFxuXHRcdFx0ZWRnZXM6IHRoaXMuZWRnZXMubWFwKChlZGdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSB7XG5cdFx0XHRcdFx0c291cmNlOiBzdGFibGVOb2RlSWRzW2VkZ2Uuc291cmNlXSxcblx0XHRcdFx0XHR0YXJnZXQ6IHN0YWJsZU5vZGVJZHNbZWRnZS50YXJnZXRdXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmICh0eXBlb2YgZWRnZS5kYXRhICE9PSBcInVuZGVmaW5lZFwiKSBpdGVtLmRhdGEgPSBlZGdlLmRhdGE7XG5cdFx0XHRcdGlmICh0eXBlb2YgZWRnZS5jb25kaXRpb25hbCAhPT0gXCJ1bmRlZmluZWRcIikgaXRlbS5jb25kaXRpb25hbCA9IGVkZ2UuY29uZGl0aW9uYWw7XG5cdFx0XHRcdHJldHVybiBpdGVtO1xuXHRcdFx0fSlcblx0XHR9O1xuXHR9XG5cdGFkZE5vZGUoZGF0YSwgaWQsIG1ldGFkYXRhKSB7XG5cdFx0aWYgKGlkICE9PSB2b2lkIDAgJiYgdGhpcy5ub2Rlc1tpZF0gIT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBOb2RlIHdpdGggaWQgJHtpZH0gYWxyZWFkeSBleGlzdHNgKTtcblx0XHRjb25zdCBub2RlSWQgPSBpZCA/PyAoMCwgdXVpZC52NCkoKTtcblx0XHRjb25zdCBub2RlID0ge1xuXHRcdFx0aWQ6IG5vZGVJZCxcblx0XHRcdGRhdGEsXG5cdFx0XHRuYW1lOiBub2RlRGF0YVN0cihpZCwgZGF0YSksXG5cdFx0XHRtZXRhZGF0YVxuXHRcdH07XG5cdFx0dGhpcy5ub2Rlc1tub2RlSWRdID0gbm9kZTtcblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXHRyZW1vdmVOb2RlKG5vZGUpIHtcblx0XHRkZWxldGUgdGhpcy5ub2Rlc1tub2RlLmlkXTtcblx0XHR0aGlzLmVkZ2VzID0gdGhpcy5lZGdlcy5maWx0ZXIoKGVkZ2UpID0+IGVkZ2Uuc291cmNlICE9PSBub2RlLmlkICYmIGVkZ2UudGFyZ2V0ICE9PSBub2RlLmlkKTtcblx0fVxuXHRhZGRFZGdlKHNvdXJjZSwgdGFyZ2V0LCBkYXRhLCBjb25kaXRpb25hbCkge1xuXHRcdGlmICh0aGlzLm5vZGVzW3NvdXJjZS5pZF0gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBTb3VyY2Ugbm9kZSAke3NvdXJjZS5pZH0gbm90IGluIGdyYXBoYCk7XG5cdFx0aWYgKHRoaXMubm9kZXNbdGFyZ2V0LmlkXSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYFRhcmdldCBub2RlICR7dGFyZ2V0LmlkfSBub3QgaW4gZ3JhcGhgKTtcblx0XHRjb25zdCBlZGdlID0ge1xuXHRcdFx0c291cmNlOiBzb3VyY2UuaWQsXG5cdFx0XHR0YXJnZXQ6IHRhcmdldC5pZCxcblx0XHRcdGRhdGEsXG5cdFx0XHRjb25kaXRpb25hbFxuXHRcdH07XG5cdFx0dGhpcy5lZGdlcy5wdXNoKGVkZ2UpO1xuXHRcdHJldHVybiBlZGdlO1xuXHR9XG5cdGZpcnN0Tm9kZSgpIHtcblx0XHRyZXR1cm4gX2ZpcnN0Tm9kZSh0aGlzKTtcblx0fVxuXHRsYXN0Tm9kZSgpIHtcblx0XHRyZXR1cm4gX2xhc3ROb2RlKHRoaXMpO1xuXHR9XG5cdC8qKlxuXHQqIEFkZCBhbGwgbm9kZXMgYW5kIGVkZ2VzIGZyb20gYW5vdGhlciBncmFwaC5cblx0KiBOb3RlIHRoaXMgZG9lc24ndCBjaGVjayBmb3IgZHVwbGljYXRlcywgbm9yIGRvZXMgaXQgY29ubmVjdCB0aGUgZ3JhcGhzLlxuXHQqL1xuXHRleHRlbmQoZ3JhcGgsIHByZWZpeCA9IFwiXCIpIHtcblx0XHRsZXQgZmluYWxQcmVmaXggPSBwcmVmaXg7XG5cdFx0Y29uc3Qgbm9kZUlkcyA9IE9iamVjdC52YWx1ZXMoZ3JhcGgubm9kZXMpLm1hcCgobm9kZSkgPT4gbm9kZS5pZCk7XG5cdFx0aWYgKG5vZGVJZHMuZXZlcnkodXVpZC52YWxpZGF0ZSkpIGZpbmFsUHJlZml4ID0gXCJcIjtcblx0XHRjb25zdCBwcmVmaXhlZCA9IChpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIGZpbmFsUHJlZml4ID8gYCR7ZmluYWxQcmVmaXh9OiR7aWR9YCA6IGlkO1xuXHRcdH07XG5cdFx0T2JqZWN0LmVudHJpZXMoZ3JhcGgubm9kZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdFx0dGhpcy5ub2Rlc1twcmVmaXhlZChrZXkpXSA9IHtcblx0XHRcdFx0Li4udmFsdWUsXG5cdFx0XHRcdGlkOiBwcmVmaXhlZChrZXkpXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHRcdGNvbnN0IG5ld0VkZ2VzID0gZ3JhcGguZWRnZXMubWFwKChlZGdlKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5lZGdlLFxuXHRcdFx0XHRzb3VyY2U6IHByZWZpeGVkKGVkZ2Uuc291cmNlKSxcblx0XHRcdFx0dGFyZ2V0OiBwcmVmaXhlZChlZGdlLnRhcmdldClcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0dGhpcy5lZGdlcyA9IFsuLi50aGlzLmVkZ2VzLCAuLi5uZXdFZGdlc107XG5cdFx0Y29uc3QgZmlyc3QgPSBncmFwaC5maXJzdE5vZGUoKTtcblx0XHRjb25zdCBsYXN0ID0gZ3JhcGgubGFzdE5vZGUoKTtcblx0XHRyZXR1cm4gW2ZpcnN0ID8ge1xuXHRcdFx0aWQ6IHByZWZpeGVkKGZpcnN0LmlkKSxcblx0XHRcdGRhdGE6IGZpcnN0LmRhdGFcblx0XHR9IDogdm9pZCAwLCBsYXN0ID8ge1xuXHRcdFx0aWQ6IHByZWZpeGVkKGxhc3QuaWQpLFxuXHRcdFx0ZGF0YTogbGFzdC5kYXRhXG5cdFx0fSA6IHZvaWQgMF07XG5cdH1cblx0dHJpbUZpcnN0Tm9kZSgpIHtcblx0XHRjb25zdCBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZSgpO1xuXHRcdGlmIChmaXJzdE5vZGUgJiYgX2ZpcnN0Tm9kZSh0aGlzLCBbZmlyc3ROb2RlLmlkXSkpIHRoaXMucmVtb3ZlTm9kZShmaXJzdE5vZGUpO1xuXHR9XG5cdHRyaW1MYXN0Tm9kZSgpIHtcblx0XHRjb25zdCBsYXN0Tm9kZSA9IHRoaXMubGFzdE5vZGUoKTtcblx0XHRpZiAobGFzdE5vZGUgJiYgX2xhc3ROb2RlKHRoaXMsIFtsYXN0Tm9kZS5pZF0pKSB0aGlzLnJlbW92ZU5vZGUobGFzdE5vZGUpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybiBhIG5ldyBncmFwaCB3aXRoIGFsbCBub2RlcyByZS1pZGVudGlmaWVkLFxuXHQqIHVzaW5nIHRoZWlyIHVuaXF1ZSwgcmVhZGFibGUgbmFtZXMgd2hlcmUgcG9zc2libGUuXG5cdCovXG5cdHJlaWQoKSB7XG5cdFx0Y29uc3Qgbm9kZUxhYmVscyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QudmFsdWVzKHRoaXMubm9kZXMpLm1hcCgobm9kZSkgPT4gW25vZGUuaWQsIG5vZGUubmFtZV0pKTtcblx0XHRjb25zdCBub2RlTGFiZWxDb3VudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRcdE9iamVjdC52YWx1ZXMobm9kZUxhYmVscykuZm9yRWFjaCgobGFiZWwpID0+IHtcblx0XHRcdG5vZGVMYWJlbENvdW50cy5zZXQobGFiZWwsIChub2RlTGFiZWxDb3VudHMuZ2V0KGxhYmVsKSB8fCAwKSArIDEpO1xuXHRcdH0pO1xuXHRcdGNvbnN0IGdldE5vZGVJZCA9IChub2RlSWQpID0+IHtcblx0XHRcdGNvbnN0IGxhYmVsID0gbm9kZUxhYmVsc1tub2RlSWRdO1xuXHRcdFx0aWYgKCgwLCB1dWlkLnZhbGlkYXRlKShub2RlSWQpICYmIG5vZGVMYWJlbENvdW50cy5nZXQobGFiZWwpID09PSAxKSByZXR1cm4gbGFiZWw7XG5cdFx0XHRlbHNlIHJldHVybiBub2RlSWQ7XG5cdFx0fTtcblx0XHRyZXR1cm4gbmV3IEdyYXBoKHtcblx0XHRcdG5vZGVzOiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5ub2RlcykubWFwKChbaWQsIG5vZGVdKSA9PiBbZ2V0Tm9kZUlkKGlkKSwge1xuXHRcdFx0XHQuLi5ub2RlLFxuXHRcdFx0XHRpZDogZ2V0Tm9kZUlkKGlkKVxuXHRcdFx0fV0pKSxcblx0XHRcdGVkZ2VzOiB0aGlzLmVkZ2VzLm1hcCgoZWRnZSkgPT4gKHtcblx0XHRcdFx0Li4uZWRnZSxcblx0XHRcdFx0c291cmNlOiBnZXROb2RlSWQoZWRnZS5zb3VyY2UpLFxuXHRcdFx0XHR0YXJnZXQ6IGdldE5vZGVJZChlZGdlLnRhcmdldClcblx0XHRcdH0pKVxuXHRcdH0pO1xuXHR9XG5cdGRyYXdNZXJtYWlkKHBhcmFtcykge1xuXHRcdGNvbnN0IHsgd2l0aFN0eWxlcywgY3VydmVTdHlsZSwgbm9kZUNvbG9ycyA9IHtcblx0XHRcdGRlZmF1bHQ6IFwiZmlsbDojZjJmMGZmLGxpbmUtaGVpZ2h0OjEuMlwiLFxuXHRcdFx0Zmlyc3Q6IFwiZmlsbC1vcGFjaXR5OjBcIixcblx0XHRcdGxhc3Q6IFwiZmlsbDojYmZiNmZjXCJcblx0XHR9LCB3cmFwTGFiZWxOV29yZHMgfSA9IHBhcmFtcyA/PyB7fTtcblx0XHRjb25zdCBncmFwaCA9IHRoaXMucmVpZCgpO1xuXHRcdGNvbnN0IGZpcnN0Tm9kZSA9IGdyYXBoLmZpcnN0Tm9kZSgpO1xuXHRcdGNvbnN0IGxhc3ROb2RlID0gZ3JhcGgubGFzdE5vZGUoKTtcblx0XHRyZXR1cm4gcmVxdWlyZV9ncmFwaF9tZXJtYWlkLmRyYXdNZXJtYWlkKGdyYXBoLm5vZGVzLCBncmFwaC5lZGdlcywge1xuXHRcdFx0Zmlyc3ROb2RlOiBmaXJzdE5vZGU/LmlkLFxuXHRcdFx0bGFzdE5vZGU6IGxhc3ROb2RlPy5pZCxcblx0XHRcdHdpdGhTdHlsZXMsXG5cdFx0XHRjdXJ2ZVN0eWxlLFxuXHRcdFx0bm9kZUNvbG9ycyxcblx0XHRcdHdyYXBMYWJlbE5Xb3Jkc1xuXHRcdH0pO1xuXHR9XG5cdGFzeW5jIGRyYXdNZXJtYWlkUG5nKHBhcmFtcykge1xuXHRcdGNvbnN0IG1lcm1haWRTeW50YXggPSB0aGlzLmRyYXdNZXJtYWlkKHBhcmFtcyk7XG5cdFx0cmV0dXJuIHJlcXVpcmVfZ3JhcGhfbWVybWFpZC5kcmF3TWVybWFpZEltYWdlKG1lcm1haWRTeW50YXgsIHsgYmFja2dyb3VuZENvbG9yOiBwYXJhbXM/LmJhY2tncm91bmRDb2xvciB9KTtcblx0fVxufTtcbi8qKlxuKiBGaW5kIHRoZSBzaW5nbGUgbm9kZSB0aGF0IGlzIG5vdCBhIHRhcmdldCBvZiBhbnkgZWRnZS5cbiogRXhjbHVkZSBub2Rlcy9zb3VyY2VzIHdpdGggaWRzIGluIHRoZSBleGNsdWRlIGxpc3QuXG4qIElmIHRoZXJlIGlzIG5vIHN1Y2ggbm9kZSwgb3IgdGhlcmUgYXJlIG11bHRpcGxlLCByZXR1cm4gdW5kZWZpbmVkLlxuKiBXaGVuIGRyYXdpbmcgdGhlIGdyYXBoLCB0aGlzIG5vZGUgd291bGQgYmUgdGhlIG9yaWdpbi5cbiovXG5mdW5jdGlvbiBfZmlyc3ROb2RlKGdyYXBoLCBleGNsdWRlID0gW10pIHtcblx0Y29uc3QgdGFyZ2V0cyA9IG5ldyBTZXQoZ3JhcGguZWRnZXMuZmlsdGVyKChlZGdlKSA9PiAhZXhjbHVkZS5pbmNsdWRlcyhlZGdlLnNvdXJjZSkpLm1hcCgoZWRnZSkgPT4gZWRnZS50YXJnZXQpKTtcblx0Y29uc3QgZm91bmQgPSBbXTtcblx0Zm9yIChjb25zdCBub2RlIG9mIE9iamVjdC52YWx1ZXMoZ3JhcGgubm9kZXMpKSBpZiAoIWV4Y2x1ZGUuaW5jbHVkZXMobm9kZS5pZCkgJiYgIXRhcmdldHMuaGFzKG5vZGUuaWQpKSBmb3VuZC5wdXNoKG5vZGUpO1xuXHRyZXR1cm4gZm91bmQubGVuZ3RoID09PSAxID8gZm91bmRbMF0gOiB2b2lkIDA7XG59XG4vKipcbiogRmluZCB0aGUgc2luZ2xlIG5vZGUgdGhhdCBpcyBub3QgYSBzb3VyY2Ugb2YgYW55IGVkZ2UuXG4qIEV4Y2x1ZGUgbm9kZXMvdGFyZ2V0cyB3aXRoIGlkcyBpbiB0aGUgZXhjbHVkZSBsaXN0LlxuKiBJZiB0aGVyZSBpcyBubyBzdWNoIG5vZGUsIG9yIHRoZXJlIGFyZSBtdWx0aXBsZSwgcmV0dXJuIHVuZGVmaW5lZC5cbiogV2hlbiBkcmF3aW5nIHRoZSBncmFwaCwgdGhpcyBub2RlIHdvdWxkIGJlIHRoZSBkZXN0aW5hdGlvbi5cbiovXG5mdW5jdGlvbiBfbGFzdE5vZGUoZ3JhcGgsIGV4Y2x1ZGUgPSBbXSkge1xuXHRjb25zdCBzb3VyY2VzID0gbmV3IFNldChncmFwaC5lZGdlcy5maWx0ZXIoKGVkZ2UpID0+ICFleGNsdWRlLmluY2x1ZGVzKGVkZ2UudGFyZ2V0KSkubWFwKChlZGdlKSA9PiBlZGdlLnNvdXJjZSkpO1xuXHRjb25zdCBmb3VuZCA9IFtdO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgT2JqZWN0LnZhbHVlcyhncmFwaC5ub2RlcykpIGlmICghZXhjbHVkZS5pbmNsdWRlcyhub2RlLmlkKSAmJiAhc291cmNlcy5oYXMobm9kZS5pZCkpIGZvdW5kLnB1c2gobm9kZSk7XG5cdHJldHVybiBmb3VuZC5sZW5ndGggPT09IDEgPyBmb3VuZFswXSA6IHZvaWQgMDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkdyYXBoID0gR3JhcGg7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2dyYXBoX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBncmFwaF9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/graph.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/graph_mermaid.cjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/graph_mermaid.cjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/utils.cjs\");\n\n//#region src/runnables/graph_mermaid.ts\nfunction _escapeNodeLabel(nodeLabel) {\n\treturn nodeLabel.replace(/[^a-zA-Z-_0-9]/g, \"_\");\n}\nconst MARKDOWN_SPECIAL_CHARS = [\n\t\"*\",\n\t\"_\",\n\t\"`\"\n];\nfunction _generateMermaidGraphStyles(nodeColors) {\n\tlet styles = \"\";\n\tfor (const [className, color] of Object.entries(nodeColors)) styles += `\\tclassDef ${className} ${color};\\n`;\n\treturn styles;\n}\n/**\n* Draws a Mermaid graph using the provided graph data\n*/\nfunction drawMermaid(nodes, edges, config) {\n\tconst { firstNode, lastNode, nodeColors, withStyles = true, curveStyle = \"linear\", wrapLabelNWords = 9 } = config ?? {};\n\tlet mermaidGraph = withStyles ? `%%{init: {'flowchart': {'curve': '${curveStyle}'}}}%%\\ngraph TD;\\n` : \"graph TD;\\n\";\n\tif (withStyles) {\n\t\tconst defaultClassLabel = \"default\";\n\t\tconst formatDict = { [defaultClassLabel]: \"{0}({1})\" };\n\t\tif (firstNode !== void 0) formatDict[firstNode] = \"{0}([{1}]):::first\";\n\t\tif (lastNode !== void 0) formatDict[lastNode] = \"{0}([{1}]):::last\";\n\t\tfor (const [key, node] of Object.entries(nodes)) {\n\t\t\tconst nodeName = node.name.split(\":\").pop() ?? \"\";\n\t\t\tconst label = MARKDOWN_SPECIAL_CHARS.some((char) => nodeName.startsWith(char) && nodeName.endsWith(char)) ? `<p>${nodeName}</p>` : nodeName;\n\t\t\tlet finalLabel = label;\n\t\t\tif (Object.keys(node.metadata ?? {}).length) finalLabel += `<hr/><small><em>${Object.entries(node.metadata ?? {}).map(([k, v]) => `${k} = ${v}`).join(\"\\n\")}</em></small>`;\n\t\t\tconst nodeLabel = (formatDict[key] ?? formatDict[defaultClassLabel]).replace(\"{0}\", _escapeNodeLabel(key)).replace(\"{1}\", finalLabel);\n\t\t\tmermaidGraph += `\\t${nodeLabel}\\n`;\n\t\t}\n\t}\n\tconst edgeGroups = {};\n\tfor (const edge of edges) {\n\t\tconst srcParts = edge.source.split(\":\");\n\t\tconst tgtParts = edge.target.split(\":\");\n\t\tconst commonPrefix = srcParts.filter((src, i) => src === tgtParts[i]).join(\":\");\n\t\tif (!edgeGroups[commonPrefix]) edgeGroups[commonPrefix] = [];\n\t\tedgeGroups[commonPrefix].push(edge);\n\t}\n\tconst seenSubgraphs = /* @__PURE__ */ new Set();\n\tfunction sortPrefixesByDepth(prefixes) {\n\t\treturn [...prefixes].sort((a, b) => {\n\t\t\treturn a.split(\":\").length - b.split(\":\").length;\n\t\t});\n\t}\n\tfunction addSubgraph(edges$1, prefix) {\n\t\tconst selfLoop = edges$1.length === 1 && edges$1[0].source === edges$1[0].target;\n\t\tif (prefix && !selfLoop) {\n\t\t\tconst subgraph = prefix.split(\":\").pop();\n\t\t\tif (seenSubgraphs.has(prefix)) throw new Error(`Found duplicate subgraph '${subgraph}' at '${prefix} -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);\n\t\t\tseenSubgraphs.add(prefix);\n\t\t\tmermaidGraph += `\\tsubgraph ${subgraph}\\n`;\n\t\t}\n\t\tconst nestedPrefixes = sortPrefixesByDepth(Object.keys(edgeGroups).filter((nestedPrefix) => nestedPrefix.startsWith(`${prefix}:`) && nestedPrefix !== prefix && nestedPrefix.split(\":\").length === prefix.split(\":\").length + 1));\n\t\tfor (const nestedPrefix of nestedPrefixes) addSubgraph(edgeGroups[nestedPrefix], nestedPrefix);\n\t\tfor (const edge of edges$1) {\n\t\t\tconst { source, target, data, conditional } = edge;\n\t\t\tlet edgeLabel = \"\";\n\t\t\tif (data !== void 0) {\n\t\t\t\tlet edgeData = data;\n\t\t\t\tconst words = edgeData.split(\" \");\n\t\t\t\tif (words.length > wrapLabelNWords) edgeData = Array.from({ length: Math.ceil(words.length / wrapLabelNWords) }, (_, i) => words.slice(i * wrapLabelNWords, (i + 1) * wrapLabelNWords).join(\" \")).join(\"&nbsp;<br>&nbsp;\");\n\t\t\t\tedgeLabel = conditional ? ` -. &nbsp;${edgeData}&nbsp; .-> ` : ` -- &nbsp;${edgeData}&nbsp; --> `;\n\t\t\t} else edgeLabel = conditional ? \" -.-> \" : \" --> \";\n\t\t\tmermaidGraph += `\\t${_escapeNodeLabel(source)}${edgeLabel}${_escapeNodeLabel(target)};\\n`;\n\t\t}\n\t\tif (prefix && !selfLoop) mermaidGraph += \"\tend\\n\";\n\t}\n\taddSubgraph(edgeGroups[\"\"] ?? [], \"\");\n\tfor (const prefix in edgeGroups) if (!prefix.includes(\":\") && prefix !== \"\") addSubgraph(edgeGroups[prefix], prefix);\n\tif (withStyles) mermaidGraph += _generateMermaidGraphStyles(nodeColors ?? {});\n\treturn mermaidGraph;\n}\n/**\n* Renders Mermaid graph using the Mermaid.INK API.\n*\n* @example\n* ```javascript\n* const image = await drawMermaidImage(mermaidSyntax, {\n*   backgroundColor: \"white\",\n*   imageType: \"png\",\n* });\n* fs.writeFileSync(\"image.png\", image);\n* ```\n*\n* @param mermaidSyntax - The Mermaid syntax to render.\n* @param config - The configuration for the image.\n* @returns The image as a Blob.\n*/\nasync function drawMermaidImage(mermaidSyntax, config) {\n\tlet backgroundColor = config?.backgroundColor ?? \"white\";\n\tconst imageType = config?.imageType ?? \"png\";\n\tconst mermaidSyntaxEncoded = require_utils.toBase64Url(mermaidSyntax);\n\tif (backgroundColor !== void 0) {\n\t\tconst hexColorPattern = /^#(?:[0-9a-fA-F]{3}){1,2}$/;\n\t\tif (!hexColorPattern.test(backgroundColor)) backgroundColor = `!${backgroundColor}`;\n\t}\n\tconst imageUrl = `https://mermaid.ink/img/${mermaidSyntaxEncoded}?bgColor=${backgroundColor}&type=${imageType}`;\n\tconst res = await fetch(imageUrl);\n\tif (!res.ok) throw new Error([\n\t\t`Failed to render the graph using the Mermaid.INK API.`,\n\t\t`Status code: ${res.status}`,\n\t\t`Status text: ${res.statusText}`\n\t].join(\"\\n\"));\n\tconst content = await res.blob();\n\treturn content;\n}\n\n//#endregion\nexports.drawMermaid = drawMermaid;\nexports.drawMermaidImage = drawMermaidImage;\n//# sourceMappingURL=graph_mermaid.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvZ3JhcGhfbWVybWFpZC5janMiLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMsNkZBQWE7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsV0FBVyxFQUFFLE9BQU87QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpR0FBaUc7QUFDMUcscUNBQXFDLE9BQU8sY0FBYyxZQUFZLFdBQVcsSUFBSSxhQUFhLGdCQUFnQjtBQUNsSDtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QixFQUFFLEVBQUUsRUFBRTtBQUNwRCxzREFBc0QsRUFBRSxHQUFHLEVBQUU7QUFDN0Qsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO0FBQzNEO0FBQ0E7QUFDQSxxSEFBcUgsU0FBUztBQUM5SDtBQUNBLHNDQUFzQywyQ0FBMkMsa0NBQWtDLHFCQUFxQixHQUFHLElBQUksRUFBRSxjQUFjO0FBQy9KLGtGQUFrRixFQUFFLG9DQUFvQyxFQUFFO0FBQzFILHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxTQUFTLFFBQVEsUUFBUTtBQUN4RztBQUNBLGlDQUFpQyxTQUFTO0FBQzFDO0FBQ0EseUhBQXlILE9BQU87QUFDaEk7QUFDQTtBQUNBLFdBQVcsb0NBQW9DO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG1EQUFtRCwrRkFBK0YsVUFBVTtBQUM1Tix5Q0FBeUMsRUFBRSxTQUFTLE9BQU8sbUJBQW1CLEVBQUUsU0FBUyxPQUFPO0FBQ2hHLEtBQUs7QUFDTCx3QkFBd0IseUJBQXlCLEVBQUUsVUFBVSxFQUFFLDBCQUEwQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxFQUFFLEVBQUUsSUFBSTtBQUNwRCxvRUFBb0UsZ0JBQWdCO0FBQ3BGO0FBQ0EsNkNBQTZDLHFCQUFxQixXQUFXLGdCQUFnQixRQUFRLFVBQVU7QUFDL0c7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0Isa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIsd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvZ3JhcGhfbWVybWFpZC5janM/ZjFkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvZ3JhcGhfbWVybWFpZC50c1xuZnVuY3Rpb24gX2VzY2FwZU5vZGVMYWJlbChub2RlTGFiZWwpIHtcblx0cmV0dXJuIG5vZGVMYWJlbC5yZXBsYWNlKC9bXmEtekEtWi1fMC05XS9nLCBcIl9cIik7XG59XG5jb25zdCBNQVJLRE9XTl9TUEVDSUFMX0NIQVJTID0gW1xuXHRcIipcIixcblx0XCJfXCIsXG5cdFwiYFwiXG5dO1xuZnVuY3Rpb24gX2dlbmVyYXRlTWVybWFpZEdyYXBoU3R5bGVzKG5vZGVDb2xvcnMpIHtcblx0bGV0IHN0eWxlcyA9IFwiXCI7XG5cdGZvciAoY29uc3QgW2NsYXNzTmFtZSwgY29sb3JdIG9mIE9iamVjdC5lbnRyaWVzKG5vZGVDb2xvcnMpKSBzdHlsZXMgKz0gYFxcdGNsYXNzRGVmICR7Y2xhc3NOYW1lfSAke2NvbG9yfTtcXG5gO1xuXHRyZXR1cm4gc3R5bGVzO1xufVxuLyoqXG4qIERyYXdzIGEgTWVybWFpZCBncmFwaCB1c2luZyB0aGUgcHJvdmlkZWQgZ3JhcGggZGF0YVxuKi9cbmZ1bmN0aW9uIGRyYXdNZXJtYWlkKG5vZGVzLCBlZGdlcywgY29uZmlnKSB7XG5cdGNvbnN0IHsgZmlyc3ROb2RlLCBsYXN0Tm9kZSwgbm9kZUNvbG9ycywgd2l0aFN0eWxlcyA9IHRydWUsIGN1cnZlU3R5bGUgPSBcImxpbmVhclwiLCB3cmFwTGFiZWxOV29yZHMgPSA5IH0gPSBjb25maWcgPz8ge307XG5cdGxldCBtZXJtYWlkR3JhcGggPSB3aXRoU3R5bGVzID8gYCUle2luaXQ6IHsnZmxvd2NoYXJ0JzogeydjdXJ2ZSc6ICcke2N1cnZlU3R5bGV9J319fSUlXFxuZ3JhcGggVEQ7XFxuYCA6IFwiZ3JhcGggVEQ7XFxuXCI7XG5cdGlmICh3aXRoU3R5bGVzKSB7XG5cdFx0Y29uc3QgZGVmYXVsdENsYXNzTGFiZWwgPSBcImRlZmF1bHRcIjtcblx0XHRjb25zdCBmb3JtYXREaWN0ID0geyBbZGVmYXVsdENsYXNzTGFiZWxdOiBcInswfSh7MX0pXCIgfTtcblx0XHRpZiAoZmlyc3ROb2RlICE9PSB2b2lkIDApIGZvcm1hdERpY3RbZmlyc3ROb2RlXSA9IFwiezB9KFt7MX1dKTo6OmZpcnN0XCI7XG5cdFx0aWYgKGxhc3ROb2RlICE9PSB2b2lkIDApIGZvcm1hdERpY3RbbGFzdE5vZGVdID0gXCJ7MH0oW3sxfV0pOjo6bGFzdFwiO1xuXHRcdGZvciAoY29uc3QgW2tleSwgbm9kZV0gb2YgT2JqZWN0LmVudHJpZXMobm9kZXMpKSB7XG5cdFx0XHRjb25zdCBub2RlTmFtZSA9IG5vZGUubmFtZS5zcGxpdChcIjpcIikucG9wKCkgPz8gXCJcIjtcblx0XHRcdGNvbnN0IGxhYmVsID0gTUFSS0RPV05fU1BFQ0lBTF9DSEFSUy5zb21lKChjaGFyKSA9PiBub2RlTmFtZS5zdGFydHNXaXRoKGNoYXIpICYmIG5vZGVOYW1lLmVuZHNXaXRoKGNoYXIpKSA/IGA8cD4ke25vZGVOYW1lfTwvcD5gIDogbm9kZU5hbWU7XG5cdFx0XHRsZXQgZmluYWxMYWJlbCA9IGxhYmVsO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKG5vZGUubWV0YWRhdGEgPz8ge30pLmxlbmd0aCkgZmluYWxMYWJlbCArPSBgPGhyLz48c21hbGw+PGVtPiR7T2JqZWN0LmVudHJpZXMobm9kZS5tZXRhZGF0YSA/PyB7fSkubWFwKChbaywgdl0pID0+IGAke2t9ID0gJHt2fWApLmpvaW4oXCJcXG5cIil9PC9lbT48L3NtYWxsPmA7XG5cdFx0XHRjb25zdCBub2RlTGFiZWwgPSAoZm9ybWF0RGljdFtrZXldID8/IGZvcm1hdERpY3RbZGVmYXVsdENsYXNzTGFiZWxdKS5yZXBsYWNlKFwiezB9XCIsIF9lc2NhcGVOb2RlTGFiZWwoa2V5KSkucmVwbGFjZShcInsxfVwiLCBmaW5hbExhYmVsKTtcblx0XHRcdG1lcm1haWRHcmFwaCArPSBgXFx0JHtub2RlTGFiZWx9XFxuYDtcblx0XHR9XG5cdH1cblx0Y29uc3QgZWRnZUdyb3VwcyA9IHt9O1xuXHRmb3IgKGNvbnN0IGVkZ2Ugb2YgZWRnZXMpIHtcblx0XHRjb25zdCBzcmNQYXJ0cyA9IGVkZ2Uuc291cmNlLnNwbGl0KFwiOlwiKTtcblx0XHRjb25zdCB0Z3RQYXJ0cyA9IGVkZ2UudGFyZ2V0LnNwbGl0KFwiOlwiKTtcblx0XHRjb25zdCBjb21tb25QcmVmaXggPSBzcmNQYXJ0cy5maWx0ZXIoKHNyYywgaSkgPT4gc3JjID09PSB0Z3RQYXJ0c1tpXSkuam9pbihcIjpcIik7XG5cdFx0aWYgKCFlZGdlR3JvdXBzW2NvbW1vblByZWZpeF0pIGVkZ2VHcm91cHNbY29tbW9uUHJlZml4XSA9IFtdO1xuXHRcdGVkZ2VHcm91cHNbY29tbW9uUHJlZml4XS5wdXNoKGVkZ2UpO1xuXHR9XG5cdGNvbnN0IHNlZW5TdWJncmFwaHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRmdW5jdGlvbiBzb3J0UHJlZml4ZXNCeURlcHRoKHByZWZpeGVzKSB7XG5cdFx0cmV0dXJuIFsuLi5wcmVmaXhlc10uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0cmV0dXJuIGEuc3BsaXQoXCI6XCIpLmxlbmd0aCAtIGIuc3BsaXQoXCI6XCIpLmxlbmd0aDtcblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiBhZGRTdWJncmFwaChlZGdlcyQxLCBwcmVmaXgpIHtcblx0XHRjb25zdCBzZWxmTG9vcCA9IGVkZ2VzJDEubGVuZ3RoID09PSAxICYmIGVkZ2VzJDFbMF0uc291cmNlID09PSBlZGdlcyQxWzBdLnRhcmdldDtcblx0XHRpZiAocHJlZml4ICYmICFzZWxmTG9vcCkge1xuXHRcdFx0Y29uc3Qgc3ViZ3JhcGggPSBwcmVmaXguc3BsaXQoXCI6XCIpLnBvcCgpO1xuXHRcdFx0aWYgKHNlZW5TdWJncmFwaHMuaGFzKHByZWZpeCkpIHRocm93IG5ldyBFcnJvcihgRm91bmQgZHVwbGljYXRlIHN1YmdyYXBoICcke3N1YmdyYXBofScgYXQgJyR7cHJlZml4fSAtLSB0aGlzIGxpa2VseSBtZWFucyB0aGF0IHlvdSdyZSByZXVzaW5nIGEgc3ViZ3JhcGggbm9kZSB3aXRoIHRoZSBzYW1lIG5hbWUuIFBsZWFzZSBhZGp1c3QgeW91ciBncmFwaCB0byBoYXZlIHN1YmdyYXBoIG5vZGVzIHdpdGggdW5pcXVlIG5hbWVzLmApO1xuXHRcdFx0c2VlblN1YmdyYXBocy5hZGQocHJlZml4KTtcblx0XHRcdG1lcm1haWRHcmFwaCArPSBgXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xuXHRcdH1cblx0XHRjb25zdCBuZXN0ZWRQcmVmaXhlcyA9IHNvcnRQcmVmaXhlc0J5RGVwdGgoT2JqZWN0LmtleXMoZWRnZUdyb3VwcykuZmlsdGVyKChuZXN0ZWRQcmVmaXgpID0+IG5lc3RlZFByZWZpeC5zdGFydHNXaXRoKGAke3ByZWZpeH06YCkgJiYgbmVzdGVkUHJlZml4ICE9PSBwcmVmaXggJiYgbmVzdGVkUHJlZml4LnNwbGl0KFwiOlwiKS5sZW5ndGggPT09IHByZWZpeC5zcGxpdChcIjpcIikubGVuZ3RoICsgMSkpO1xuXHRcdGZvciAoY29uc3QgbmVzdGVkUHJlZml4IG9mIG5lc3RlZFByZWZpeGVzKSBhZGRTdWJncmFwaChlZGdlR3JvdXBzW25lc3RlZFByZWZpeF0sIG5lc3RlZFByZWZpeCk7XG5cdFx0Zm9yIChjb25zdCBlZGdlIG9mIGVkZ2VzJDEpIHtcblx0XHRcdGNvbnN0IHsgc291cmNlLCB0YXJnZXQsIGRhdGEsIGNvbmRpdGlvbmFsIH0gPSBlZGdlO1xuXHRcdFx0bGV0IGVkZ2VMYWJlbCA9IFwiXCI7XG5cdFx0XHRpZiAoZGF0YSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGxldCBlZGdlRGF0YSA9IGRhdGE7XG5cdFx0XHRcdGNvbnN0IHdvcmRzID0gZWRnZURhdGEuc3BsaXQoXCIgXCIpO1xuXHRcdFx0XHRpZiAod29yZHMubGVuZ3RoID4gd3JhcExhYmVsTldvcmRzKSBlZGdlRGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IE1hdGguY2VpbCh3b3Jkcy5sZW5ndGggLyB3cmFwTGFiZWxOV29yZHMpIH0sIChfLCBpKSA9PiB3b3Jkcy5zbGljZShpICogd3JhcExhYmVsTldvcmRzLCAoaSArIDEpICogd3JhcExhYmVsTldvcmRzKS5qb2luKFwiIFwiKSkuam9pbihcIiZuYnNwOzxicj4mbmJzcDtcIik7XG5cdFx0XHRcdGVkZ2VMYWJlbCA9IGNvbmRpdGlvbmFsID8gYCAtLiAmbmJzcDske2VkZ2VEYXRhfSZuYnNwOyAuLT4gYCA6IGAgLS0gJm5ic3A7JHtlZGdlRGF0YX0mbmJzcDsgLS0+IGA7XG5cdFx0XHR9IGVsc2UgZWRnZUxhYmVsID0gY29uZGl0aW9uYWwgPyBcIiAtLi0+IFwiIDogXCIgLS0+IFwiO1xuXHRcdFx0bWVybWFpZEdyYXBoICs9IGBcXHQke19lc2NhcGVOb2RlTGFiZWwoc291cmNlKX0ke2VkZ2VMYWJlbH0ke19lc2NhcGVOb2RlTGFiZWwodGFyZ2V0KX07XFxuYDtcblx0XHR9XG5cdFx0aWYgKHByZWZpeCAmJiAhc2VsZkxvb3ApIG1lcm1haWRHcmFwaCArPSBcIlx0ZW5kXFxuXCI7XG5cdH1cblx0YWRkU3ViZ3JhcGgoZWRnZUdyb3Vwc1tcIlwiXSA/PyBbXSwgXCJcIik7XG5cdGZvciAoY29uc3QgcHJlZml4IGluIGVkZ2VHcm91cHMpIGlmICghcHJlZml4LmluY2x1ZGVzKFwiOlwiKSAmJiBwcmVmaXggIT09IFwiXCIpIGFkZFN1YmdyYXBoKGVkZ2VHcm91cHNbcHJlZml4XSwgcHJlZml4KTtcblx0aWYgKHdpdGhTdHlsZXMpIG1lcm1haWRHcmFwaCArPSBfZ2VuZXJhdGVNZXJtYWlkR3JhcGhTdHlsZXMobm9kZUNvbG9ycyA/PyB7fSk7XG5cdHJldHVybiBtZXJtYWlkR3JhcGg7XG59XG4vKipcbiogUmVuZGVycyBNZXJtYWlkIGdyYXBoIHVzaW5nIHRoZSBNZXJtYWlkLklOSyBBUEkuXG4qXG4qIEBleGFtcGxlXG4qIGBgYGphdmFzY3JpcHRcbiogY29uc3QgaW1hZ2UgPSBhd2FpdCBkcmF3TWVybWFpZEltYWdlKG1lcm1haWRTeW50YXgsIHtcbiogICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiogICBpbWFnZVR5cGU6IFwicG5nXCIsXG4qIH0pO1xuKiBmcy53cml0ZUZpbGVTeW5jKFwiaW1hZ2UucG5nXCIsIGltYWdlKTtcbiogYGBgXG4qXG4qIEBwYXJhbSBtZXJtYWlkU3ludGF4IC0gVGhlIE1lcm1haWQgc3ludGF4IHRvIHJlbmRlci5cbiogQHBhcmFtIGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgaW1hZ2UuXG4qIEByZXR1cm5zIFRoZSBpbWFnZSBhcyBhIEJsb2IuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZHJhd01lcm1haWRJbWFnZShtZXJtYWlkU3ludGF4LCBjb25maWcpIHtcblx0bGV0IGJhY2tncm91bmRDb2xvciA9IGNvbmZpZz8uYmFja2dyb3VuZENvbG9yID8/IFwid2hpdGVcIjtcblx0Y29uc3QgaW1hZ2VUeXBlID0gY29uZmlnPy5pbWFnZVR5cGUgPz8gXCJwbmdcIjtcblx0Y29uc3QgbWVybWFpZFN5bnRheEVuY29kZWQgPSByZXF1aXJlX3V0aWxzLnRvQmFzZTY0VXJsKG1lcm1haWRTeW50YXgpO1xuXHRpZiAoYmFja2dyb3VuZENvbG9yICE9PSB2b2lkIDApIHtcblx0XHRjb25zdCBoZXhDb2xvclBhdHRlcm4gPSAvXiMoPzpbMC05YS1mQS1GXXszfSl7MSwyfSQvO1xuXHRcdGlmICghaGV4Q29sb3JQYXR0ZXJuLnRlc3QoYmFja2dyb3VuZENvbG9yKSkgYmFja2dyb3VuZENvbG9yID0gYCEke2JhY2tncm91bmRDb2xvcn1gO1xuXHR9XG5cdGNvbnN0IGltYWdlVXJsID0gYGh0dHBzOi8vbWVybWFpZC5pbmsvaW1nLyR7bWVybWFpZFN5bnRheEVuY29kZWR9P2JnQ29sb3I9JHtiYWNrZ3JvdW5kQ29sb3J9JnR5cGU9JHtpbWFnZVR5cGV9YDtcblx0Y29uc3QgcmVzID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpO1xuXHRpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKFtcblx0XHRgRmFpbGVkIHRvIHJlbmRlciB0aGUgZ3JhcGggdXNpbmcgdGhlIE1lcm1haWQuSU5LIEFQSS5gLFxuXHRcdGBTdGF0dXMgY29kZTogJHtyZXMuc3RhdHVzfWAsXG5cdFx0YFN0YXR1cyB0ZXh0OiAke3Jlcy5zdGF0dXNUZXh0fWBcblx0XS5qb2luKFwiXFxuXCIpKTtcblx0Y29uc3QgY29udGVudCA9IGF3YWl0IHJlcy5ibG9iKCk7XG5cdHJldHVybiBjb250ZW50O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuZHJhd01lcm1haWQgPSBkcmF3TWVybWFpZDtcbmV4cG9ydHMuZHJhd01lcm1haWRJbWFnZSA9IGRyYXdNZXJtYWlkSW1hZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaF9tZXJtYWlkLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/graph_mermaid.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/iter.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/iter.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_index = __webpack_require__(/*! ../singletons/async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n__webpack_require__(/*! ../singletons/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\");\nconst require_config = __webpack_require__(/*! ./config.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs\");\n\n//#region src/runnables/iter.ts\nfunction isIterableIterator(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.iterator] === \"function\" && typeof thing.next === \"function\";\n}\nconst isIterator = (x) => x != null && typeof x === \"object\" && \"next\" in x && typeof x.next === \"function\";\nfunction isAsyncIterable(thing) {\n\treturn typeof thing === \"object\" && thing !== null && typeof thing[Symbol.asyncIterator] === \"function\";\n}\nfunction* consumeIteratorInContext(context, iter) {\n\twhile (true) {\n\t\tconst { value, done } = require_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(context), iter.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\nasync function* consumeAsyncIterableInContext(context, iter) {\n\tconst iterator = iter[Symbol.asyncIterator]();\n\twhile (true) {\n\t\tconst { value, done } = await require_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(context), iterator.next.bind(iter), true);\n\t\tif (done) break;\n\t\telse yield value;\n\t}\n}\n\n//#endregion\nexports.consumeAsyncIterableInContext = consumeAsyncIterableInContext;\nexports.consumeIteratorInContext = consumeIteratorInContext;\nexports.isAsyncIterable = isAsyncIterable;\nexports.isIterableIterator = isIterableIterator;\nexports.isIterator = isIterator;\n//# sourceMappingURL=iter.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvaXRlci5janMiLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMsa0pBQTZDO0FBQzNFLG1CQUFPLENBQUMsMEdBQXlCO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLCtGQUFjOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQyxnQ0FBZ0M7QUFDaEMsdUJBQXVCO0FBQ3ZCLDBCQUEwQjtBQUMxQixrQkFBa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3J1bm5hYmxlcy9pdGVyLmNqcz84M2I4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzJyk7XG5yZXF1aXJlKCcuLi9zaW5nbGV0b25zL2luZGV4LmNqcycpO1xuY29uc3QgcmVxdWlyZV9jb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvaXRlci50c1xuZnVuY3Rpb24gaXNJdGVyYWJsZUl0ZXJhdG9yKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgdGhpbmcubmV4dCA9PT0gXCJmdW5jdGlvblwiO1xufVxuY29uc3QgaXNJdGVyYXRvciA9ICh4KSA9PiB4ICE9IG51bGwgJiYgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgXCJuZXh0XCIgaW4geCAmJiB0eXBlb2YgeC5uZXh0ID09PSBcImZ1bmN0aW9uXCI7XG5mdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUodGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gXCJvYmplY3RcIiAmJiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmdbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiogY29uc3VtZUl0ZXJhdG9ySW5Db250ZXh0KGNvbnRleHQsIGl0ZXIpIHtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSByZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhyZXF1aXJlX2NvbmZpZy5waWNrUnVubmFibGVDb25maWdLZXlzKGNvbnRleHQpLCBpdGVyLm5leHQuYmluZChpdGVyKSwgdHJ1ZSk7XG5cdFx0aWYgKGRvbmUpIGJyZWFrO1xuXHRcdGVsc2UgeWllbGQgdmFsdWU7XG5cdH1cbn1cbmFzeW5jIGZ1bmN0aW9uKiBjb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dChjb250ZXh0LCBpdGVyKSB7XG5cdGNvbnN0IGl0ZXJhdG9yID0gaXRlcltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhyZXF1aXJlX2NvbmZpZy5waWNrUnVubmFibGVDb25maWdLZXlzKGNvbnRleHQpLCBpdGVyYXRvci5uZXh0LmJpbmQoaXRlciksIHRydWUpO1xuXHRcdGlmIChkb25lKSBicmVhaztcblx0XHRlbHNlIHlpZWxkIHZhbHVlO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5jb25zdW1lQXN5bmNJdGVyYWJsZUluQ29udGV4dCA9IGNvbnN1bWVBc3luY0l0ZXJhYmxlSW5Db250ZXh0O1xuZXhwb3J0cy5jb25zdW1lSXRlcmF0b3JJbkNvbnRleHQgPSBjb25zdW1lSXRlcmF0b3JJbkNvbnRleHQ7XG5leHBvcnRzLmlzQXN5bmNJdGVyYWJsZSA9IGlzQXN5bmNJdGVyYWJsZTtcbmV4cG9ydHMuaXNJdGVyYWJsZUl0ZXJhdG9yID0gaXNJdGVyYWJsZUl0ZXJhdG9yO1xuZXhwb3J0cy5pc0l0ZXJhdG9yID0gaXNJdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXIuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/iter.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/utils.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/utils.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/runnables/utils.ts\nfunction isRunnableInterface(thing) {\n\treturn thing ? thing.lc_runnable : false;\n}\n/**\n* Utility to filter the root event in the streamEvents implementation.\n* This is simply binding the arguments to the namespace to make save on\n* a bit of typing in the streamEvents implementation.\n*\n* TODO: Refactor and remove.\n*/\nvar _RootEventFilter = class {\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\tconstructor(fields) {\n\t\tthis.includeNames = fields.includeNames;\n\t\tthis.includeTypes = fields.includeTypes;\n\t\tthis.includeTags = fields.includeTags;\n\t\tthis.excludeNames = fields.excludeNames;\n\t\tthis.excludeTypes = fields.excludeTypes;\n\t\tthis.excludeTags = fields.excludeTags;\n\t}\n\tincludeEvent(event, rootType) {\n\t\tlet include = this.includeNames === void 0 && this.includeTypes === void 0 && this.includeTags === void 0;\n\t\tconst eventTags = event.tags ?? [];\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(event.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(rootType);\n\t\tif (this.includeTags !== void 0) include = include || eventTags.some((tag) => this.includeTags?.includes(tag));\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(event.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(rootType);\n\t\tif (this.excludeTags !== void 0) include = include && eventTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n};\nconst toBase64Url = (str) => {\n\tconst encoded = btoa(str);\n\treturn encoded.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n};\n\n//#endregion\nexports._RootEventFilter = _RootEventFilter;\nexports.isRunnableInterface = isRunnableInterface;\nexports.toBase64Url = toBase64Url;\n//# sourceMappingURL=utils.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvdXRpbHMuY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7QUFDeEIsMkJBQTJCO0FBQzNCLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvcnVubmFibGVzL3V0aWxzLmNqcz8yODQxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy9ydW5uYWJsZXMvdXRpbHMudHNcbmZ1bmN0aW9uIGlzUnVubmFibGVJbnRlcmZhY2UodGhpbmcpIHtcblx0cmV0dXJuIHRoaW5nID8gdGhpbmcubGNfcnVubmFibGUgOiBmYWxzZTtcbn1cbi8qKlxuKiBVdGlsaXR5IHRvIGZpbHRlciB0aGUgcm9vdCBldmVudCBpbiB0aGUgc3RyZWFtRXZlbnRzIGltcGxlbWVudGF0aW9uLlxuKiBUaGlzIGlzIHNpbXBseSBiaW5kaW5nIHRoZSBhcmd1bWVudHMgdG8gdGhlIG5hbWVzcGFjZSB0byBtYWtlIHNhdmUgb25cbiogYSBiaXQgb2YgdHlwaW5nIGluIHRoZSBzdHJlYW1FdmVudHMgaW1wbGVtZW50YXRpb24uXG4qXG4qIFRPRE86IFJlZmFjdG9yIGFuZCByZW1vdmUuXG4qL1xudmFyIF9Sb290RXZlbnRGaWx0ZXIgPSBjbGFzcyB7XG5cdGluY2x1ZGVOYW1lcztcblx0aW5jbHVkZVR5cGVzO1xuXHRpbmNsdWRlVGFncztcblx0ZXhjbHVkZU5hbWVzO1xuXHRleGNsdWRlVHlwZXM7XG5cdGV4Y2x1ZGVUYWdzO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHR0aGlzLmluY2x1ZGVOYW1lcyA9IGZpZWxkcy5pbmNsdWRlTmFtZXM7XG5cdFx0dGhpcy5pbmNsdWRlVHlwZXMgPSBmaWVsZHMuaW5jbHVkZVR5cGVzO1xuXHRcdHRoaXMuaW5jbHVkZVRhZ3MgPSBmaWVsZHMuaW5jbHVkZVRhZ3M7XG5cdFx0dGhpcy5leGNsdWRlTmFtZXMgPSBmaWVsZHMuZXhjbHVkZU5hbWVzO1xuXHRcdHRoaXMuZXhjbHVkZVR5cGVzID0gZmllbGRzLmV4Y2x1ZGVUeXBlcztcblx0XHR0aGlzLmV4Y2x1ZGVUYWdzID0gZmllbGRzLmV4Y2x1ZGVUYWdzO1xuXHR9XG5cdGluY2x1ZGVFdmVudChldmVudCwgcm9vdFR5cGUpIHtcblx0XHRsZXQgaW5jbHVkZSA9IHRoaXMuaW5jbHVkZU5hbWVzID09PSB2b2lkIDAgJiYgdGhpcy5pbmNsdWRlVHlwZXMgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUYWdzID09PSB2b2lkIDA7XG5cdFx0Y29uc3QgZXZlbnRUYWdzID0gZXZlbnQudGFncyA/PyBbXTtcblx0XHRpZiAodGhpcy5pbmNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgdGhpcy5pbmNsdWRlTmFtZXMuaW5jbHVkZXMoZXZlbnQubmFtZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJvb3RUeXBlKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCBldmVudFRhZ3Muc29tZSgodGFnKSA9PiB0aGlzLmluY2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKGV2ZW50Lm5hbWUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUeXBlcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiAhdGhpcy5leGNsdWRlVHlwZXMuaW5jbHVkZXMocm9vdFR5cGUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmIGV2ZW50VGFncy5ldmVyeSgodGFnKSA9PiAhdGhpcy5leGNsdWRlVGFncz8uaW5jbHVkZXModGFnKSk7XG5cdFx0cmV0dXJuIGluY2x1ZGU7XG5cdH1cbn07XG5jb25zdCB0b0Jhc2U2NFVybCA9IChzdHIpID0+IHtcblx0Y29uc3QgZW5jb2RlZCA9IGJ0b2Eoc3RyKTtcblx0cmV0dXJuIGVuY29kZWQucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0rJC8sIFwiXCIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLl9Sb290RXZlbnRGaWx0ZXIgPSBfUm9vdEV2ZW50RmlsdGVyO1xuZXhwb3J0cy5pc1J1bm5hYmxlSW50ZXJmYWNlID0gaXNSdW5uYWJsZUludGVyZmFjZTtcbmV4cG9ydHMudG9CYXNlNjRVcmwgPSB0b0Jhc2U2NFVybDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/utils.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/runnables/wrappers.cjs":
/*!******************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/runnables/wrappers.cjs ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils_stream = __webpack_require__(/*! ../utils/stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs\");\n\n//#region src/runnables/wrappers.ts\nfunction convertToHttpEventStream(stream) {\n\tconst encoder = new TextEncoder();\n\tconst finalStream = new ReadableStream({ async start(controller) {\n\t\tfor await (const chunk of stream) controller.enqueue(encoder.encode(`event: data\\ndata: ${JSON.stringify(chunk)}\\n\\n`));\n\t\tcontroller.enqueue(encoder.encode(\"event: end\\n\\n\"));\n\t\tcontroller.close();\n\t} });\n\treturn require_utils_stream.IterableReadableStream.fromReadableStream(finalStream);\n}\n\n//#endregion\nexports.convertToHttpEventStream = convertToHttpEventStream;\n//# sourceMappingURL=wrappers.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvd3JhcHBlcnMuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDZCQUE2QixtQkFBTyxDQUFDLGtHQUFxQjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLDRGQUE0RixzQkFBc0I7QUFDbEg7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9ydW5uYWJsZXMvd3JhcHBlcnMuY2pzP2E3NWQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91dGlsc19zdHJlYW0gPSByZXF1aXJlKCcuLi91dGlscy9zdHJlYW0uY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvcnVubmFibGVzL3dyYXBwZXJzLnRzXG5mdW5jdGlvbiBjb252ZXJ0VG9IdHRwRXZlbnRTdHJlYW0oc3RyZWFtKSB7XG5cdGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblx0Y29uc3QgZmluYWxTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oeyBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZXZlbnQ6IGRhdGFcXG5kYXRhOiAke0pTT04uc3RyaW5naWZ5KGNodW5rKX1cXG5cXG5gKSk7XG5cdFx0Y29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKFwiZXZlbnQ6IGVuZFxcblxcblwiKSk7XG5cdFx0Y29udHJvbGxlci5jbG9zZSgpO1xuXHR9IH0pO1xuXHRyZXR1cm4gcmVxdWlyZV91dGlsc19zdHJlYW0uSXRlcmFibGVSZWFkYWJsZVN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oZmluYWxTdHJlYW0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuY29udmVydFRvSHR0cEV2ZW50U3RyZWFtID0gY29udmVydFRvSHR0cEV2ZW50U3RyZWFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JhcHBlcnMuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/runnables/wrappers.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/context.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/async_local_storage/context.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_globals = __webpack_require__(/*! ./globals.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs\");\nconst langsmith_run_trees = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith/run_trees */ \"(action-browser)/./node_modules/langsmith/run_trees.cjs\"));\n\n//#region src/singletons/async_local_storage/context.ts\n/**\n* Set a context variable. Context variables are scoped to any\n* child runnables called by the current runnable, or globally if set outside\n* of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n* @param value The value to set.\n*/\nfunction setContextVariable(name, value) {\n\tconst asyncLocalStorageInstance = require_globals.getGlobalAsyncLocalStorageInstance();\n\tif (asyncLocalStorageInstance === void 0) throw new Error(`Internal error: Global shared async local storage instance has not been initialized.`);\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\tconst contextVars = { ...runTree?.[require_globals._CONTEXT_VARIABLES_KEY] };\n\tcontextVars[name] = value;\n\tlet newValue = {};\n\tif ((0, langsmith_run_trees.isRunTree)(runTree)) newValue = new langsmith_run_trees.RunTree(runTree);\n\tnewValue[require_globals._CONTEXT_VARIABLES_KEY] = contextVars;\n\tasyncLocalStorageInstance.enterWith(newValue);\n}\n/**\n* Get the value of a previously set context variable. Context variables\n* are scoped to any child runnables called by the current runnable,\n* or globally if set outside of any runnable.\n*\n* @remarks\n* This function is only supported in environments that support AsyncLocalStorage,\n* including Node.js, Deno, and Cloudflare Workers.\n*\n* @example\n* ```ts\n* import { RunnableLambda } from \"@langchain/core/runnables\";\n* import {\n*   getContextVariable,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const nested = RunnableLambda.from(() => {\n*   // \"bar\" because it was set by a parent\n*   console.log(getContextVariable(\"foo\"));\n*\n*   // Override to \"baz\", but only for child runnables\n*   setContextVariable(\"foo\", \"baz\");\n*\n*   // Now \"baz\", but only for child runnables\n*   return getContextVariable(\"foo\");\n* });\n*\n* const runnable = RunnableLambda.from(async () => {\n*   // Set a context variable named \"foo\"\n*   setContextVariable(\"foo\", \"bar\");\n*\n*   const res = await nested.invoke({});\n*\n*   // Still \"bar\" since child changes do not affect parents\n*   console.log(getContextVariable(\"foo\"));\n*\n*   return res;\n* });\n*\n* // undefined, because context variable has not been set yet\n* console.log(getContextVariable(\"foo\"));\n*\n* // Final return value is \"baz\"\n* const result = await runnable.invoke({});\n* ```\n*\n* @param name The name of the context variable.\n*/\nfunction getContextVariable(name) {\n\tconst asyncLocalStorageInstance = require_globals.getGlobalAsyncLocalStorageInstance();\n\tif (asyncLocalStorageInstance === void 0) return void 0;\n\tconst runTree = asyncLocalStorageInstance.getStore();\n\treturn runTree?.[require_globals._CONTEXT_VARIABLES_KEY]?.[name];\n}\nconst LC_CONFIGURE_HOOKS_KEY = Symbol(\"lc:configure_hooks\");\nconst _getConfigureHooks = () => getContextVariable(LC_CONFIGURE_HOOKS_KEY) || [];\n/**\n* Register a callback configure hook to automatically add callback handlers to all runs.\n*\n* There are two ways to use this:\n*\n* 1. Using a context variable:\n*    - Set `contextVar` to specify the variable name\n*    - Use `setContextVariable()` to store your handler instance\n*\n* 2. Using an environment variable:\n*    - Set both `envVar` and `handlerClass`\n*    - The handler will be instantiated when the env var is set to \"true\".\n*\n* @example\n* ```typescript\n* // Method 1: Using context variable\n* import {\n*   registerConfigureHook,\n*   setContextVariable\n* } from \"@langchain/core/context\";\n*\n* const tracer = new MyCallbackHandler();\n* registerConfigureHook({\n*   contextVar: \"my_tracer\",\n* });\n* setContextVariable(\"my_tracer\", tracer);\n*\n* // ...run code here\n*\n* // Method 2: Using environment variable\n* registerConfigureHook({\n*   handlerClass: MyCallbackHandler,\n*   envVar: \"MY_TRACER_ENABLED\",\n* });\n* process.env.MY_TRACER_ENABLED = \"true\";\n*\n* // ...run code here\n* ```\n*\n* @param config Configuration object for the hook\n* @param config.contextVar Name of the context variable containing the handler instance\n* @param config.inheritable Whether child runs should inherit this handler\n* @param config.handlerClass Optional callback handler class (required if using envVar)\n* @param config.envVar Optional environment variable name to control handler activation\n*/\nconst registerConfigureHook = (config) => {\n\tif (config.envVar && !config.handlerClass) throw new Error(\"If envVar is set, handlerClass must also be set to a non-None value.\");\n\tsetContextVariable(LC_CONFIGURE_HOOKS_KEY, [..._getConfigureHooks(), config]);\n};\n\n//#endregion\nexports._getConfigureHooks = _getConfigureHooks;\nexports.getContextVariable = getContextVariable;\nexports.registerConfigureHook = registerConfigureHook;\nexports.setContextVariable = setContextVariable;\n//# sourceMappingURL=context.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsK0hBQXFDO0FBQzlFLHdCQUF3QixtQkFBTyxDQUFDLHNIQUFlO0FBQy9DLDZEQUE2RCxtQkFBTyxDQUFDLG9GQUFxQjs7QUFFMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQiw2QkFBNkI7QUFDN0IsMEJBQTBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC5janM/M2Q0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV9nbG9iYWxzID0gcmVxdWlyZSgnLi9nbG9iYWxzLmNqcycpO1xuY29uc3QgbGFuZ3NtaXRoX3J1bl90cmVlcyA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGgvcnVuX3RyZWVzXCIpKTtcblxuLy8jcmVnaW9uIHNyYy9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvY29udGV4dC50c1xuLyoqXG4qIFNldCBhIGNvbnRleHQgdmFyaWFibGUuIENvbnRleHQgdmFyaWFibGVzIGFyZSBzY29wZWQgdG8gYW55XG4qIGNoaWxkIHJ1bm5hYmxlcyBjYWxsZWQgYnkgdGhlIGN1cnJlbnQgcnVubmFibGUsIG9yIGdsb2JhbGx5IGlmIHNldCBvdXRzaWRlXG4qIG9mIGFueSBydW5uYWJsZS5cbipcbiogQHJlbWFya3NcbiogVGhpcyBmdW5jdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBpbiBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IEFzeW5jTG9jYWxTdG9yYWdlLFxuKiBpbmNsdWRpbmcgTm9kZS5qcywgRGVubywgYW5kIENsb3VkZmxhcmUgV29ya2Vycy5cbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogaW1wb3J0IHsgUnVubmFibGVMYW1iZGEgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuKiBpbXBvcnQge1xuKiAgIGdldENvbnRleHRWYXJpYWJsZSxcbiogICBzZXRDb250ZXh0VmFyaWFibGVcbiogfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2NvbnRleHRcIjtcbipcbiogY29uc3QgbmVzdGVkID0gUnVubmFibGVMYW1iZGEuZnJvbSgoKSA9PiB7XG4qICAgLy8gXCJiYXJcIiBiZWNhdXNlIGl0IHdhcyBzZXQgYnkgYSBwYXJlbnRcbiogICBjb25zb2xlLmxvZyhnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIikpO1xuKlxuKiAgIC8vIE92ZXJyaWRlIHRvIFwiYmF6XCIsIGJ1dCBvbmx5IGZvciBjaGlsZCBydW5uYWJsZXNcbiogICBzZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIiwgXCJiYXpcIik7XG4qXG4qICAgLy8gTm93IFwiYmF6XCIsIGJ1dCBvbmx5IGZvciBjaGlsZCBydW5uYWJsZXNcbiogICByZXR1cm4gZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpO1xuKiB9KTtcbipcbiogY29uc3QgcnVubmFibGUgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKGFzeW5jICgpID0+IHtcbiogICAvLyBTZXQgYSBjb250ZXh0IHZhcmlhYmxlIG5hbWVkIFwiZm9vXCJcbiogICBzZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIiwgXCJiYXJcIik7XG4qXG4qICAgY29uc3QgcmVzID0gYXdhaXQgbmVzdGVkLmludm9rZSh7fSk7XG4qXG4qICAgLy8gU3RpbGwgXCJiYXJcIiBzaW5jZSBjaGlsZCBjaGFuZ2VzIGRvIG5vdCBhZmZlY3QgcGFyZW50c1xuKiAgIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qICAgcmV0dXJuIHJlcztcbiogfSk7XG4qXG4qIC8vIHVuZGVmaW5lZCwgYmVjYXVzZSBjb250ZXh0IHZhcmlhYmxlIGhhcyBub3QgYmVlbiBzZXQgeWV0XG4qIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qIC8vIEZpbmFsIHJldHVybiB2YWx1ZSBpcyBcImJhelwiXG4qIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bm5hYmxlLmludm9rZSh7fSk7XG4qIGBgYFxuKlxuKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29udGV4dCB2YXJpYWJsZS5cbiogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4qL1xuZnVuY3Rpb24gc2V0Q29udGV4dFZhcmlhYmxlKG5hbWUsIHZhbHVlKSB7XG5cdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSByZXF1aXJlX2dsb2JhbHMuZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSgpO1xuXHRpZiAoYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIGVycm9yOiBHbG9iYWwgc2hhcmVkIGFzeW5jIGxvY2FsIHN0b3JhZ2UgaW5zdGFuY2UgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkLmApO1xuXHRjb25zdCBydW5UcmVlID0gYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5nZXRTdG9yZSgpO1xuXHRjb25zdCBjb250ZXh0VmFycyA9IHsgLi4ucnVuVHJlZT8uW3JlcXVpcmVfZ2xvYmFscy5fQ09OVEVYVF9WQVJJQUJMRVNfS0VZXSB9O1xuXHRjb250ZXh0VmFyc1tuYW1lXSA9IHZhbHVlO1xuXHRsZXQgbmV3VmFsdWUgPSB7fTtcblx0aWYgKCgwLCBsYW5nc21pdGhfcnVuX3RyZWVzLmlzUnVuVHJlZSkocnVuVHJlZSkpIG5ld1ZhbHVlID0gbmV3IGxhbmdzbWl0aF9ydW5fdHJlZXMuUnVuVHJlZShydW5UcmVlKTtcblx0bmV3VmFsdWVbcmVxdWlyZV9nbG9iYWxzLl9DT05URVhUX1ZBUklBQkxFU19LRVldID0gY29udGV4dFZhcnM7XG5cdGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UuZW50ZXJXaXRoKG5ld1ZhbHVlKTtcbn1cbi8qKlxuKiBHZXQgdGhlIHZhbHVlIG9mIGEgcHJldmlvdXNseSBzZXQgY29udGV4dCB2YXJpYWJsZS4gQ29udGV4dCB2YXJpYWJsZXNcbiogYXJlIHNjb3BlZCB0byBhbnkgY2hpbGQgcnVubmFibGVzIGNhbGxlZCBieSB0aGUgY3VycmVudCBydW5uYWJsZSxcbiogb3IgZ2xvYmFsbHkgaWYgc2V0IG91dHNpZGUgb2YgYW55IHJ1bm5hYmxlLlxuKlxuKiBAcmVtYXJrc1xuKiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIGluIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgQXN5bmNMb2NhbFN0b3JhZ2UsXG4qIGluY2x1ZGluZyBOb2RlLmpzLCBEZW5vLCBhbmQgQ2xvdWRmbGFyZSBXb3JrZXJzLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBSdW5uYWJsZUxhbWJkYSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG4qIGltcG9ydCB7XG4qICAgZ2V0Q29udGV4dFZhcmlhYmxlLFxuKiAgIHNldENvbnRleHRWYXJpYWJsZVxuKiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY29udGV4dFwiO1xuKlxuKiBjb25zdCBuZXN0ZWQgPSBSdW5uYWJsZUxhbWJkYS5mcm9tKCgpID0+IHtcbiogICAvLyBcImJhclwiIGJlY2F1c2UgaXQgd2FzIHNldCBieSBhIHBhcmVudFxuKiAgIGNvbnNvbGUubG9nKGdldENvbnRleHRWYXJpYWJsZShcImZvb1wiKSk7XG4qXG4qICAgLy8gT3ZlcnJpZGUgdG8gXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhelwiKTtcbipcbiogICAvLyBOb3cgXCJiYXpcIiwgYnV0IG9ubHkgZm9yIGNoaWxkIHJ1bm5hYmxlc1xuKiAgIHJldHVybiBnZXRDb250ZXh0VmFyaWFibGUoXCJmb29cIik7XG4qIH0pO1xuKlxuKiBjb25zdCBydW5uYWJsZSA9IFJ1bm5hYmxlTGFtYmRhLmZyb20oYXN5bmMgKCkgPT4ge1xuKiAgIC8vIFNldCBhIGNvbnRleHQgdmFyaWFibGUgbmFtZWQgXCJmb29cIlxuKiAgIHNldENvbnRleHRWYXJpYWJsZShcImZvb1wiLCBcImJhclwiKTtcbipcbiogICBjb25zdCByZXMgPSBhd2FpdCBuZXN0ZWQuaW52b2tlKHt9KTtcbipcbiogICAvLyBTdGlsbCBcImJhclwiIHNpbmNlIGNoaWxkIGNoYW5nZXMgZG8gbm90IGFmZmVjdCBwYXJlbnRzXG4qICAgY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogICByZXR1cm4gcmVzO1xuKiB9KTtcbipcbiogLy8gdW5kZWZpbmVkLCBiZWNhdXNlIGNvbnRleHQgdmFyaWFibGUgaGFzIG5vdCBiZWVuIHNldCB5ZXRcbiogY29uc29sZS5sb2coZ2V0Q29udGV4dFZhcmlhYmxlKFwiZm9vXCIpKTtcbipcbiogLy8gRmluYWwgcmV0dXJuIHZhbHVlIGlzIFwiYmF6XCJcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVubmFibGUuaW52b2tlKHt9KTtcbiogYGBgXG4qXG4qIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0IHZhcmlhYmxlLlxuKi9cbmZ1bmN0aW9uIGdldENvbnRleHRWYXJpYWJsZShuYW1lKSB7XG5cdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSByZXF1aXJlX2dsb2JhbHMuZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSgpO1xuXHRpZiAoYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9PT0gdm9pZCAwKSByZXR1cm4gdm9pZCAwO1xuXHRjb25zdCBydW5UcmVlID0gYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5nZXRTdG9yZSgpO1xuXHRyZXR1cm4gcnVuVHJlZT8uW3JlcXVpcmVfZ2xvYmFscy5fQ09OVEVYVF9WQVJJQUJMRVNfS0VZXT8uW25hbWVdO1xufVxuY29uc3QgTENfQ09ORklHVVJFX0hPT0tTX0tFWSA9IFN5bWJvbChcImxjOmNvbmZpZ3VyZV9ob29rc1wiKTtcbmNvbnN0IF9nZXRDb25maWd1cmVIb29rcyA9ICgpID0+IGdldENvbnRleHRWYXJpYWJsZShMQ19DT05GSUdVUkVfSE9PS1NfS0VZKSB8fCBbXTtcbi8qKlxuKiBSZWdpc3RlciBhIGNhbGxiYWNrIGNvbmZpZ3VyZSBob29rIHRvIGF1dG9tYXRpY2FsbHkgYWRkIGNhbGxiYWNrIGhhbmRsZXJzIHRvIGFsbCBydW5zLlxuKlxuKiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gdXNlIHRoaXM6XG4qXG4qIDEuIFVzaW5nIGEgY29udGV4dCB2YXJpYWJsZTpcbiogICAgLSBTZXQgYGNvbnRleHRWYXJgIHRvIHNwZWNpZnkgdGhlIHZhcmlhYmxlIG5hbWVcbiogICAgLSBVc2UgYHNldENvbnRleHRWYXJpYWJsZSgpYCB0byBzdG9yZSB5b3VyIGhhbmRsZXIgaW5zdGFuY2VcbipcbiogMi4gVXNpbmcgYW4gZW52aXJvbm1lbnQgdmFyaWFibGU6XG4qICAgIC0gU2V0IGJvdGggYGVudlZhcmAgYW5kIGBoYW5kbGVyQ2xhc3NgXG4qICAgIC0gVGhlIGhhbmRsZXIgd2lsbCBiZSBpbnN0YW50aWF0ZWQgd2hlbiB0aGUgZW52IHZhciBpcyBzZXQgdG8gXCJ0cnVlXCIuXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gTWV0aG9kIDE6IFVzaW5nIGNvbnRleHQgdmFyaWFibGVcbiogaW1wb3J0IHtcbiogICByZWdpc3RlckNvbmZpZ3VyZUhvb2ssXG4qICAgc2V0Q29udGV4dFZhcmlhYmxlXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9jb250ZXh0XCI7XG4qXG4qIGNvbnN0IHRyYWNlciA9IG5ldyBNeUNhbGxiYWNrSGFuZGxlcigpO1xuKiByZWdpc3RlckNvbmZpZ3VyZUhvb2soe1xuKiAgIGNvbnRleHRWYXI6IFwibXlfdHJhY2VyXCIsXG4qIH0pO1xuKiBzZXRDb250ZXh0VmFyaWFibGUoXCJteV90cmFjZXJcIiwgdHJhY2VyKTtcbipcbiogLy8gLi4ucnVuIGNvZGUgaGVyZVxuKlxuKiAvLyBNZXRob2QgMjogVXNpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVcbiogcmVnaXN0ZXJDb25maWd1cmVIb29rKHtcbiogICBoYW5kbGVyQ2xhc3M6IE15Q2FsbGJhY2tIYW5kbGVyLFxuKiAgIGVudlZhcjogXCJNWV9UUkFDRVJfRU5BQkxFRFwiLFxuKiB9KTtcbiogcHJvY2Vzcy5lbnYuTVlfVFJBQ0VSX0VOQUJMRUQgPSBcInRydWVcIjtcbipcbiogLy8gLi4ucnVuIGNvZGUgaGVyZVxuKiBgYGBcbipcbiogQHBhcmFtIGNvbmZpZyBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIGhvb2tcbiogQHBhcmFtIGNvbmZpZy5jb250ZXh0VmFyIE5hbWUgb2YgdGhlIGNvbnRleHQgdmFyaWFibGUgY29udGFpbmluZyB0aGUgaGFuZGxlciBpbnN0YW5jZVxuKiBAcGFyYW0gY29uZmlnLmluaGVyaXRhYmxlIFdoZXRoZXIgY2hpbGQgcnVucyBzaG91bGQgaW5oZXJpdCB0aGlzIGhhbmRsZXJcbiogQHBhcmFtIGNvbmZpZy5oYW5kbGVyQ2xhc3MgT3B0aW9uYWwgY2FsbGJhY2sgaGFuZGxlciBjbGFzcyAocmVxdWlyZWQgaWYgdXNpbmcgZW52VmFyKVxuKiBAcGFyYW0gY29uZmlnLmVudlZhciBPcHRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lIHRvIGNvbnRyb2wgaGFuZGxlciBhY3RpdmF0aW9uXG4qL1xuY29uc3QgcmVnaXN0ZXJDb25maWd1cmVIb29rID0gKGNvbmZpZykgPT4ge1xuXHRpZiAoY29uZmlnLmVudlZhciAmJiAhY29uZmlnLmhhbmRsZXJDbGFzcykgdGhyb3cgbmV3IEVycm9yKFwiSWYgZW52VmFyIGlzIHNldCwgaGFuZGxlckNsYXNzIG11c3QgYWxzbyBiZSBzZXQgdG8gYSBub24tTm9uZSB2YWx1ZS5cIik7XG5cdHNldENvbnRleHRWYXJpYWJsZShMQ19DT05GSUdVUkVfSE9PS1NfS0VZLCBbLi4uX2dldENvbmZpZ3VyZUhvb2tzKCksIGNvbmZpZ10pO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLl9nZXRDb25maWd1cmVIb29rcyA9IF9nZXRDb25maWd1cmVIb29rcztcbmV4cG9ydHMuZ2V0Q29udGV4dFZhcmlhYmxlID0gZ2V0Q29udGV4dFZhcmlhYmxlO1xuZXhwb3J0cy5yZWdpc3RlckNvbmZpZ3VyZUhvb2sgPSByZWdpc3RlckNvbmZpZ3VyZUhvb2s7XG5leHBvcnRzLnNldENvbnRleHRWYXJpYWJsZSA9IHNldENvbnRleHRWYXJpYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/context.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/singletons/async_local_storage/globals.ts\nconst TRACING_ALS_KEY = Symbol.for(\"ls:tracing_async_local_storage\");\nconst _CONTEXT_VARIABLES_KEY = Symbol.for(\"lc:context_variables\");\nconst setGlobalAsyncLocalStorageInstance = (instance) => {\n\tglobalThis[TRACING_ALS_KEY] = instance;\n};\nconst getGlobalAsyncLocalStorageInstance = () => {\n\treturn globalThis[TRACING_ALS_KEY];\n};\n\n//#endregion\nexports._CONTEXT_VARIABLES_KEY = _CONTEXT_VARIABLES_KEY;\nexports.getGlobalAsyncLocalStorageInstance = getGlobalAsyncLocalStorageInstance;\nexports.setGlobalAsyncLocalStorageInstance = setGlobalAsyncLocalStorageInstance;\n//# sourceMappingURL=globals.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5janMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QjtBQUM5QiwwQ0FBMEM7QUFDMUMsMENBQTBDO0FBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5janM/MDY3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2dsb2JhbHMudHNcbmNvbnN0IFRSQUNJTkdfQUxTX0tFWSA9IFN5bWJvbC5mb3IoXCJsczp0cmFjaW5nX2FzeW5jX2xvY2FsX3N0b3JhZ2VcIik7XG5jb25zdCBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZID0gU3ltYm9sLmZvcihcImxjOmNvbnRleHRfdmFyaWFibGVzXCIpO1xuY29uc3Qgc2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuXHRnbG9iYWxUaGlzW1RSQUNJTkdfQUxTX0tFWV0gPSBpbnN0YW5jZTtcbn07XG5jb25zdCBnZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID0gKCkgPT4ge1xuXHRyZXR1cm4gZ2xvYmFsVGhpc1tUUkFDSU5HX0FMU19LRVldO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLl9DT05URVhUX1ZBUklBQkxFU19LRVkgPSBfQ09OVEVYVF9WQVJJQUJMRVNfS0VZO1xuZXhwb3J0cy5nZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlID0gZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZTtcbmV4cG9ydHMuc2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IHNldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_globals = __webpack_require__(/*! ./globals.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs\");\nconst require_callbacks_manager = __webpack_require__(/*! ../../callbacks/manager.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/manager.cjs\");\nconst langsmith = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith */ \"(action-browser)/./node_modules/langsmith/index.cjs\"));\n\n//#region src/singletons/async_local_storage/index.ts\nvar MockAsyncLocalStorage = class {\n\tgetStore() {\n\t\treturn void 0;\n\t}\n\trun(_store, callback) {\n\t\treturn callback();\n\t}\n\tenterWith(_store) {\n\t\treturn void 0;\n\t}\n};\nconst mockAsyncLocalStorage = new MockAsyncLocalStorage();\nconst LC_CHILD_KEY = Symbol.for(\"lc:child_config\");\nvar AsyncLocalStorageProvider = class {\n\tgetInstance() {\n\t\treturn require_globals.getGlobalAsyncLocalStorageInstance() ?? mockAsyncLocalStorage;\n\t}\n\tgetRunnableConfig() {\n\t\tconst storage = this.getInstance();\n\t\treturn storage.getStore()?.extra?.[LC_CHILD_KEY];\n\t}\n\trunWithConfig(config, callback, avoidCreatingRootRunTree) {\n\t\tconst callbackManager = require_callbacks_manager.CallbackManager._configureSync(config?.callbacks, void 0, config?.tags, void 0, config?.metadata);\n\t\tconst storage = this.getInstance();\n\t\tconst previousValue = storage.getStore();\n\t\tconst parentRunId = callbackManager?.getParentRunId();\n\t\tconst langChainTracer = callbackManager?.handlers?.find((handler) => handler?.name === \"langchain_tracer\");\n\t\tlet runTree;\n\t\tif (langChainTracer && parentRunId) runTree = langChainTracer.getRunTreeWithTracingConfig(parentRunId);\n\t\telse if (!avoidCreatingRootRunTree) runTree = new langsmith.RunTree({\n\t\t\tname: \"<runnable_lambda>\",\n\t\t\ttracingEnabled: false\n\t\t});\n\t\tif (runTree) runTree.extra = {\n\t\t\t...runTree.extra,\n\t\t\t[LC_CHILD_KEY]: config\n\t\t};\n\t\tif (previousValue !== void 0 && previousValue[require_globals._CONTEXT_VARIABLES_KEY] !== void 0) {\n\t\t\tif (runTree === void 0) runTree = {};\n\t\t\trunTree[require_globals._CONTEXT_VARIABLES_KEY] = previousValue[require_globals._CONTEXT_VARIABLES_KEY];\n\t\t}\n\t\treturn storage.run(runTree, callback);\n\t}\n\tinitializeGlobalInstance(instance) {\n\t\tif (require_globals.getGlobalAsyncLocalStorageInstance() === void 0) require_globals.setGlobalAsyncLocalStorageInstance(instance);\n\t}\n};\nconst AsyncLocalStorageProviderSingleton = new AsyncLocalStorageProvider();\n\n//#endregion\nexports.AsyncLocalStorageProviderSingleton = AsyncLocalStorageProviderSingleton;\nexports.MockAsyncLocalStorage = MockAsyncLocalStorage;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLCtIQUFxQztBQUM5RSx3QkFBd0IsbUJBQU8sQ0FBQyxzSEFBZTtBQUMvQyxrQ0FBa0MsbUJBQU8sQ0FBQywrR0FBNkI7QUFDdkUsbURBQW1ELG1CQUFPLENBQUMsc0VBQVc7O0FBRXRFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEM7QUFDMUMsNkJBQTZCO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzPzVjMTQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfZ2xvYmFscyA9IHJlcXVpcmUoJy4vZ2xvYmFscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfY2FsbGJhY2tzX21hbmFnZXIgPSByZXF1aXJlKCcuLi8uLi9jYWxsYmFja3MvbWFuYWdlci5janMnKTtcbmNvbnN0IGxhbmdzbWl0aCA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGhcIikpO1xuXG4vLyNyZWdpb24gc3JjL3NpbmdsZXRvbnMvYXN5bmNfbG9jYWxfc3RvcmFnZS9pbmRleC50c1xudmFyIE1vY2tBc3luY0xvY2FsU3RvcmFnZSA9IGNsYXNzIHtcblx0Z2V0U3RvcmUoKSB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRydW4oX3N0b3JlLCBjYWxsYmFjaykge1xuXHRcdHJldHVybiBjYWxsYmFjaygpO1xuXHR9XG5cdGVudGVyV2l0aChfc3RvcmUpIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG59O1xuY29uc3QgbW9ja0FzeW5jTG9jYWxTdG9yYWdlID0gbmV3IE1vY2tBc3luY0xvY2FsU3RvcmFnZSgpO1xuY29uc3QgTENfQ0hJTERfS0VZID0gU3ltYm9sLmZvcihcImxjOmNoaWxkX2NvbmZpZ1wiKTtcbnZhciBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyID0gY2xhc3Mge1xuXHRnZXRJbnN0YW5jZSgpIHtcblx0XHRyZXR1cm4gcmVxdWlyZV9nbG9iYWxzLmdldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoKSA/PyBtb2NrQXN5bmNMb2NhbFN0b3JhZ2U7XG5cdH1cblx0Z2V0UnVubmFibGVDb25maWcoKSB7XG5cdFx0Y29uc3Qgc3RvcmFnZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblx0XHRyZXR1cm4gc3RvcmFnZS5nZXRTdG9yZSgpPy5leHRyYT8uW0xDX0NISUxEX0tFWV07XG5cdH1cblx0cnVuV2l0aENvbmZpZyhjb25maWcsIGNhbGxiYWNrLCBhdm9pZENyZWF0aW5nUm9vdFJ1blRyZWUpIHtcblx0XHRjb25zdCBjYWxsYmFja01hbmFnZXIgPSByZXF1aXJlX2NhbGxiYWNrc19tYW5hZ2VyLkNhbGxiYWNrTWFuYWdlci5fY29uZmlndXJlU3luYyhjb25maWc/LmNhbGxiYWNrcywgdm9pZCAwLCBjb25maWc/LnRhZ3MsIHZvaWQgMCwgY29uZmlnPy5tZXRhZGF0YSk7XG5cdFx0Y29uc3Qgc3RvcmFnZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblx0XHRjb25zdCBwcmV2aW91c1ZhbHVlID0gc3RvcmFnZS5nZXRTdG9yZSgpO1xuXHRcdGNvbnN0IHBhcmVudFJ1bklkID0gY2FsbGJhY2tNYW5hZ2VyPy5nZXRQYXJlbnRSdW5JZCgpO1xuXHRcdGNvbnN0IGxhbmdDaGFpblRyYWNlciA9IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlcnM/LmZpbmQoKGhhbmRsZXIpID0+IGhhbmRsZXI/Lm5hbWUgPT09IFwibGFuZ2NoYWluX3RyYWNlclwiKTtcblx0XHRsZXQgcnVuVHJlZTtcblx0XHRpZiAobGFuZ0NoYWluVHJhY2VyICYmIHBhcmVudFJ1bklkKSBydW5UcmVlID0gbGFuZ0NoYWluVHJhY2VyLmdldFJ1blRyZWVXaXRoVHJhY2luZ0NvbmZpZyhwYXJlbnRSdW5JZCk7XG5cdFx0ZWxzZSBpZiAoIWF2b2lkQ3JlYXRpbmdSb290UnVuVHJlZSkgcnVuVHJlZSA9IG5ldyBsYW5nc21pdGguUnVuVHJlZSh7XG5cdFx0XHRuYW1lOiBcIjxydW5uYWJsZV9sYW1iZGE+XCIsXG5cdFx0XHR0cmFjaW5nRW5hYmxlZDogZmFsc2Vcblx0XHR9KTtcblx0XHRpZiAocnVuVHJlZSkgcnVuVHJlZS5leHRyYSA9IHtcblx0XHRcdC4uLnJ1blRyZWUuZXh0cmEsXG5cdFx0XHRbTENfQ0hJTERfS0VZXTogY29uZmlnXG5cdFx0fTtcblx0XHRpZiAocHJldmlvdXNWYWx1ZSAhPT0gdm9pZCAwICYmIHByZXZpb3VzVmFsdWVbcmVxdWlyZV9nbG9iYWxzLl9DT05URVhUX1ZBUklBQkxFU19LRVldICE9PSB2b2lkIDApIHtcblx0XHRcdGlmIChydW5UcmVlID09PSB2b2lkIDApIHJ1blRyZWUgPSB7fTtcblx0XHRcdHJ1blRyZWVbcmVxdWlyZV9nbG9iYWxzLl9DT05URVhUX1ZBUklBQkxFU19LRVldID0gcHJldmlvdXNWYWx1ZVtyZXF1aXJlX2dsb2JhbHMuX0NPTlRFWFRfVkFSSUFCTEVTX0tFWV07XG5cdFx0fVxuXHRcdHJldHVybiBzdG9yYWdlLnJ1bihydW5UcmVlLCBjYWxsYmFjayk7XG5cdH1cblx0aW5pdGlhbGl6ZUdsb2JhbEluc3RhbmNlKGluc3RhbmNlKSB7XG5cdFx0aWYgKHJlcXVpcmVfZ2xvYmFscy5nZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCkgPT09IHZvaWQgMCkgcmVxdWlyZV9nbG9iYWxzLnNldEdsb2JhbEFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UoaW5zdGFuY2UpO1xuXHR9XG59O1xuY29uc3QgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiA9IG5ldyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyKCk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5Bc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uID0gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbjtcbmV4cG9ydHMuTW9ja0FzeW5jTG9jYWxTdG9yYWdlID0gTW9ja0FzeW5jTG9jYWxTdG9yYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/callbacks.cjs":
/*!********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/callbacks.cjs ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_tracer = __webpack_require__(/*! ./tracer.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/tracer.cjs\");\nconst require_globals = __webpack_require__(/*! ./async_local_storage/globals.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs\");\nconst p_queue = require_rolldown_runtime.__toESM(__webpack_require__(/*! p-queue */ \"(action-browser)/./node_modules/p-queue/dist/index.js\"));\n\n//#region src/singletons/callbacks.ts\nlet queue;\n/**\n* Creates a queue using the p-queue library. The queue is configured to\n* auto-start and has a concurrency of 1, meaning it will process tasks\n* one at a time.\n*/\nfunction createQueue() {\n\tconst PQueue = \"default\" in p_queue.default ? p_queue.default.default : p_queue.default;\n\treturn new PQueue({\n\t\tautoStart: true,\n\t\tconcurrency: 1\n\t});\n}\nfunction getQueue() {\n\tif (typeof queue === \"undefined\") queue = createQueue();\n\treturn queue;\n}\n/**\n* Consume a promise, either adding it to the queue or waiting for it to resolve\n* @param promiseFn Promise to consume\n* @param wait Whether to wait for the promise to resolve or resolve immediately\n*/\nasync function consumeCallback(promiseFn, wait) {\n\tif (wait === true) {\n\t\tconst asyncLocalStorageInstance = require_globals.getGlobalAsyncLocalStorageInstance();\n\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\telse await promiseFn();\n\t} else {\n\t\tqueue = getQueue();\n\t\tqueue.add(async () => {\n\t\t\tconst asyncLocalStorageInstance = require_globals.getGlobalAsyncLocalStorageInstance();\n\t\t\tif (asyncLocalStorageInstance !== void 0) await asyncLocalStorageInstance.run(void 0, async () => promiseFn());\n\t\t\telse await promiseFn();\n\t\t});\n\t}\n}\n/**\n* Waits for all promises in the queue to resolve. If the queue is\n* undefined, it immediately resolves a promise.\n*/\nasync function awaitAllCallbacks() {\n\tconst defaultClient = require_tracer.getDefaultLangChainClientSingleton();\n\tawait Promise.allSettled([typeof queue !== \"undefined\" ? queue.onIdle() : Promise.resolve(), defaultClient.awaitPendingTraceBatches()]);\n}\n\n//#endregion\nexports.awaitAllCallbacks = awaitAllCallbacks;\nexports.consumeCallback = consumeCallback;\n//# sourceMappingURL=callbacks.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2NhbGxiYWNrcy5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLHVCQUF1QixtQkFBTyxDQUFDLGdHQUFjO0FBQzdDLHdCQUF3QixtQkFBTyxDQUFDLDBJQUFtQztBQUNuRSxpREFBaUQsbUJBQU8sQ0FBQyxzRUFBUzs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3Qvc2luZ2xldG9ucy9jYWxsYmFja3MuY2pzP2E3NWYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdHJhY2VyID0gcmVxdWlyZSgnLi90cmFjZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX2dsb2JhbHMgPSByZXF1aXJlKCcuL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5janMnKTtcbmNvbnN0IHBfcXVldWUgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwicC1xdWV1ZVwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9jYWxsYmFja3MudHNcbmxldCBxdWV1ZTtcbi8qKlxuKiBDcmVhdGVzIGEgcXVldWUgdXNpbmcgdGhlIHAtcXVldWUgbGlicmFyeS4gVGhlIHF1ZXVlIGlzIGNvbmZpZ3VyZWQgdG9cbiogYXV0by1zdGFydCBhbmQgaGFzIGEgY29uY3VycmVuY3kgb2YgMSwgbWVhbmluZyBpdCB3aWxsIHByb2Nlc3MgdGFza3Ncbiogb25lIGF0IGEgdGltZS5cbiovXG5mdW5jdGlvbiBjcmVhdGVRdWV1ZSgpIHtcblx0Y29uc3QgUFF1ZXVlID0gXCJkZWZhdWx0XCIgaW4gcF9xdWV1ZS5kZWZhdWx0ID8gcF9xdWV1ZS5kZWZhdWx0LmRlZmF1bHQgOiBwX3F1ZXVlLmRlZmF1bHQ7XG5cdHJldHVybiBuZXcgUFF1ZXVlKHtcblx0XHRhdXRvU3RhcnQ6IHRydWUsXG5cdFx0Y29uY3VycmVuY3k6IDFcblx0fSk7XG59XG5mdW5jdGlvbiBnZXRRdWV1ZSgpIHtcblx0aWYgKHR5cGVvZiBxdWV1ZSA9PT0gXCJ1bmRlZmluZWRcIikgcXVldWUgPSBjcmVhdGVRdWV1ZSgpO1xuXHRyZXR1cm4gcXVldWU7XG59XG4vKipcbiogQ29uc3VtZSBhIHByb21pc2UsIGVpdGhlciBhZGRpbmcgaXQgdG8gdGhlIHF1ZXVlIG9yIHdhaXRpbmcgZm9yIGl0IHRvIHJlc29sdmVcbiogQHBhcmFtIHByb21pc2VGbiBQcm9taXNlIHRvIGNvbnN1bWVcbiogQHBhcmFtIHdhaXQgV2hldGhlciB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSB0byByZXNvbHZlIG9yIHJlc29sdmUgaW1tZWRpYXRlbHlcbiovXG5hc3luYyBmdW5jdGlvbiBjb25zdW1lQ2FsbGJhY2socHJvbWlzZUZuLCB3YWl0KSB7XG5cdGlmICh3YWl0ID09PSB0cnVlKSB7XG5cdFx0Y29uc3QgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSA9IHJlcXVpcmVfZ2xvYmFscy5nZXRHbG9iYWxBc3luY0xvY2FsU3RvcmFnZUluc3RhbmNlKCk7XG5cdFx0aWYgKGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgIT09IHZvaWQgMCkgYXdhaXQgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5ydW4odm9pZCAwLCBhc3luYyAoKSA9PiBwcm9taXNlRm4oKSk7XG5cdFx0ZWxzZSBhd2FpdCBwcm9taXNlRm4oKTtcblx0fSBlbHNlIHtcblx0XHRxdWV1ZSA9IGdldFF1ZXVlKCk7XG5cdFx0cXVldWUuYWRkKGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgPSByZXF1aXJlX2dsb2JhbHMuZ2V0R2xvYmFsQXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZSgpO1xuXHRcdFx0aWYgKGFzeW5jTG9jYWxTdG9yYWdlSW5zdGFuY2UgIT09IHZvaWQgMCkgYXdhaXQgYXN5bmNMb2NhbFN0b3JhZ2VJbnN0YW5jZS5ydW4odm9pZCAwLCBhc3luYyAoKSA9PiBwcm9taXNlRm4oKSk7XG5cdFx0XHRlbHNlIGF3YWl0IHByb21pc2VGbigpO1xuXHRcdH0pO1xuXHR9XG59XG4vKipcbiogV2FpdHMgZm9yIGFsbCBwcm9taXNlcyBpbiB0aGUgcXVldWUgdG8gcmVzb2x2ZS4gSWYgdGhlIHF1ZXVlIGlzXG4qIHVuZGVmaW5lZCwgaXQgaW1tZWRpYXRlbHkgcmVzb2x2ZXMgYSBwcm9taXNlLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGF3YWl0QWxsQ2FsbGJhY2tzKCkge1xuXHRjb25zdCBkZWZhdWx0Q2xpZW50ID0gcmVxdWlyZV90cmFjZXIuZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbigpO1xuXHRhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW3R5cGVvZiBxdWV1ZSAhPT0gXCJ1bmRlZmluZWRcIiA/IHF1ZXVlLm9uSWRsZSgpIDogUHJvbWlzZS5yZXNvbHZlKCksIGRlZmF1bHRDbGllbnQuYXdhaXRQZW5kaW5nVHJhY2VCYXRjaGVzKCldKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmF3YWl0QWxsQ2FsbGJhY2tzID0gYXdhaXRBbGxDYWxsYmFja3M7XG5leHBvcnRzLmNvbnN1bWVDYWxsYmFjayA9IGNvbnN1bWVDYWxsYmFjaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGxiYWNrcy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/callbacks.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs":
/*!****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/index.cjs ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_globals = __webpack_require__(/*! ./async_local_storage/globals.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/globals.cjs\");\nconst require_index = __webpack_require__(/*! ./async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n\n//#region src/singletons/index.ts\nvar singletons_exports = {};\nrequire_rolldown_runtime.__export(singletons_exports, {\n\tAsyncLocalStorageProviderSingleton: () => require_index.AsyncLocalStorageProviderSingleton,\n\tMockAsyncLocalStorage: () => require_index.MockAsyncLocalStorage,\n\t_CONTEXT_VARIABLES_KEY: () => require_globals._CONTEXT_VARIABLES_KEY\n});\n\n//#endregion\nexports.AsyncLocalStorageProviderSingleton = require_index.AsyncLocalStorageProviderSingleton;\nexports.MockAsyncLocalStorage = require_index.MockAsyncLocalStorage;\nexports._CONTEXT_VARIABLES_KEY = require_globals._CONTEXT_VARIABLES_KEY;\nObject.defineProperty(exports, \"singletons_exports\", ({\n  enumerable: true,\n  get: function () {\n    return singletons_exports;\n  }\n}));\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2luZGV4LmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQyw0SEFBa0M7QUFDM0Usd0JBQXdCLG1CQUFPLENBQUMsMElBQW1DO0FBQ25FLHNCQUFzQixtQkFBTyxDQUFDLHNJQUFpQzs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDBDQUEwQztBQUMxQyw2QkFBNkI7QUFDN0IsOEJBQThCO0FBQzlCLHNEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL2luZGV4LmNqcz9jZWYxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2dsb2JhbHMgPSByZXF1aXJlKCcuL2FzeW5jX2xvY2FsX3N0b3JhZ2UvZ2xvYmFscy5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvc2luZ2xldG9ucy9pbmRleC50c1xudmFyIHNpbmdsZXRvbnNfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KHNpbmdsZXRvbnNfZXhwb3J0cywge1xuXHRBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uOiAoKSA9PiByZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24sXG5cdE1vY2tBc3luY0xvY2FsU3RvcmFnZTogKCkgPT4gcmVxdWlyZV9pbmRleC5Nb2NrQXN5bmNMb2NhbFN0b3JhZ2UsXG5cdF9DT05URVhUX1ZBUklBQkxFU19LRVk6ICgpID0+IHJlcXVpcmVfZ2xvYmFscy5fQ09OVEVYVF9WQVJJQUJMRVNfS0VZXG59KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gPSByZXF1aXJlX2luZGV4LkFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b247XG5leHBvcnRzLk1vY2tBc3luY0xvY2FsU3RvcmFnZSA9IHJlcXVpcmVfaW5kZXguTW9ja0FzeW5jTG9jYWxTdG9yYWdlO1xuZXhwb3J0cy5fQ09OVEVYVF9WQVJJQUJMRVNfS0VZID0gcmVxdWlyZV9nbG9iYWxzLl9DT05URVhUX1ZBUklBQkxFU19LRVk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3NpbmdsZXRvbnNfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNpbmdsZXRvbnNfZXhwb3J0cztcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/singletons/tracer.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/singletons/tracer.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils_env = __webpack_require__(/*! ../utils/env.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\");\nconst langsmith = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith */ \"(action-browser)/./node_modules/langsmith/index.cjs\"));\n\n//#region src/singletons/tracer.ts\nlet client;\nconst getDefaultLangChainClientSingleton = () => {\n\tif (client === void 0) {\n\t\tconst clientParams = require_utils_env.getEnvironmentVariable(\"LANGCHAIN_CALLBACKS_BACKGROUND\") === \"false\" ? { blockOnRootRunFinalization: true } : {};\n\t\tclient = new langsmith.Client(clientParams);\n\t}\n\treturn client;\n};\n\n//#endregion\nexports.getDefaultLangChainClientSingleton = getDefaultLangChainClientSingleton;\n//# sourceMappingURL=tracer.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL3RyYWNlci5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLDBCQUEwQixtQkFBTyxDQUFDLDRGQUFrQjtBQUNwRCxtREFBbUQsbUJBQU8sQ0FBQyxzRUFBVzs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSEFBa0gsbUNBQW1DO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDO0FBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC9zaW5nbGV0b25zL3RyYWNlci5janM/NjgzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV91dGlsc19lbnYgPSByZXF1aXJlKCcuLi91dGlscy9lbnYuY2pzJyk7XG5jb25zdCBsYW5nc21pdGggPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwibGFuZ3NtaXRoXCIpKTtcblxuLy8jcmVnaW9uIHNyYy9zaW5nbGV0b25zL3RyYWNlci50c1xubGV0IGNsaWVudDtcbmNvbnN0IGdldERlZmF1bHRMYW5nQ2hhaW5DbGllbnRTaW5nbGV0b24gPSAoKSA9PiB7XG5cdGlmIChjbGllbnQgPT09IHZvaWQgMCkge1xuXHRcdGNvbnN0IGNsaWVudFBhcmFtcyA9IHJlcXVpcmVfdXRpbHNfZW52LmdldEVudmlyb25tZW50VmFyaWFibGUoXCJMQU5HQ0hBSU5fQ0FMTEJBQ0tTX0JBQ0tHUk9VTkRcIikgPT09IFwiZmFsc2VcIiA/IHsgYmxvY2tPblJvb3RSdW5GaW5hbGl6YXRpb246IHRydWUgfSA6IHt9O1xuXHRcdGNsaWVudCA9IG5ldyBsYW5nc21pdGguQ2xpZW50KGNsaWVudFBhcmFtcyk7XG5cdH1cblx0cmV0dXJuIGNsaWVudDtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5nZXREZWZhdWx0TGFuZ0NoYWluQ2xpZW50U2luZ2xldG9uID0gZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlci5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/singletons/tracer.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tools/index.cjs":
/*!***********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tools/index.cjs ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_messages_tool = __webpack_require__(/*! ../messages/tool.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/tool.cjs\");\nconst require_utils = __webpack_require__(/*! ./utils.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tools/utils.cjs\");\nconst require_callbacks_manager = __webpack_require__(/*! ../callbacks/manager.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/manager.cjs\");\nconst require_index = __webpack_require__(/*! ../singletons/async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n__webpack_require__(/*! ../singletons/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\");\nconst require_config = __webpack_require__(/*! ../runnables/config.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs\");\nconst require_signal = __webpack_require__(/*! ../utils/signal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs\");\nconst require_zod = __webpack_require__(/*! ../utils/types/zod.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs\");\nconst require_utils_json_schema = __webpack_require__(/*! ../utils/json_schema.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/json_schema.cjs\");\nconst require_language_models_base = __webpack_require__(/*! ../language_models/base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/language_models/base.cjs\");\nconst require_types = __webpack_require__(/*! ./types.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tools/types.cjs\");\nconst zod_v3 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v3 */ \"(action-browser)/./node_modules/zod/v3/index.cjs\"));\nconst __cfworker_json_schema = require_rolldown_runtime.__toESM(__webpack_require__(/*! @cfworker/json-schema */ \"(action-browser)/./node_modules/@cfworker/json-schema/dist/commonjs/index.js\"));\nconst zod_v4 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v4 */ \"(action-browser)/./node_modules/zod/v4/index.cjs\"));\n\n//#region src/tools/index.ts\nvar tools_exports = {};\nrequire_rolldown_runtime.__export(tools_exports, {\n\tBaseToolkit: () => BaseToolkit,\n\tDynamicStructuredTool: () => DynamicStructuredTool,\n\tDynamicTool: () => DynamicTool,\n\tStructuredTool: () => StructuredTool,\n\tTool: () => Tool,\n\tToolInputParsingException: () => require_utils.ToolInputParsingException,\n\tisLangChainTool: () => require_types.isLangChainTool,\n\tisRunnableToolLike: () => require_types.isRunnableToolLike,\n\tisStructuredTool: () => require_types.isStructuredTool,\n\tisStructuredToolParams: () => require_types.isStructuredToolParams,\n\ttool: () => tool\n});\n/**\n* Base class for Tools that accept input of any shape defined by a Zod schema.\n*/\nvar StructuredTool = class extends require_language_models_base.BaseLangChain {\n\t/**\n\t* Optional provider-specific extra fields for the tool.\n\t*\n\t* This is used to pass provider-specific configuration that doesn't fit into\n\t* standard tool fields.\n\t*/\n\textras;\n\t/**\n\t* Whether to return the tool's output directly.\n\t*\n\t* Setting this to true means that after the tool is called,\n\t* an agent should stop looping.\n\t*/\n\treturnDirect = false;\n\tverboseParsingErrors = false;\n\tget lc_namespace() {\n\t\treturn [\"langchain\", \"tools\"];\n\t}\n\t/**\n\t* The tool response format.\n\t*\n\t* If \"content\" then the output of the tool is interpreted as the contents of a\n\t* ToolMessage. If \"content_and_artifact\" then the output is expected to be a\n\t* two-tuple corresponding to the (content, artifact) of a ToolMessage.\n\t*\n\t* @default \"content\"\n\t*/\n\tresponseFormat = \"content\";\n\t/**\n\t* Default config object for the tool runnable.\n\t*/\n\tdefaultConfig;\n\tconstructor(fields) {\n\t\tsuper(fields ?? {});\n\t\tthis.verboseParsingErrors = fields?.verboseParsingErrors ?? this.verboseParsingErrors;\n\t\tthis.responseFormat = fields?.responseFormat ?? this.responseFormat;\n\t\tthis.defaultConfig = fields?.defaultConfig ?? this.defaultConfig;\n\t\tthis.metadata = fields?.metadata ?? this.metadata;\n\t\tthis.extras = fields?.extras ?? this.extras;\n\t}\n\t/**\n\t* Invokes the tool with the provided input and configuration.\n\t* @param input The input for the tool.\n\t* @param config Optional configuration for the tool.\n\t* @returns A Promise that resolves with the tool's output.\n\t*/\n\tasync invoke(input, config) {\n\t\tlet toolInput;\n\t\tlet enrichedConfig = require_config.ensureConfig(require_config.mergeConfigs(this.defaultConfig, config));\n\t\tif (require_utils._isToolCall(input)) {\n\t\t\ttoolInput = input.args;\n\t\t\tenrichedConfig = {\n\t\t\t\t...enrichedConfig,\n\t\t\t\ttoolCall: input\n\t\t\t};\n\t\t} else toolInput = input;\n\t\treturn this.call(toolInput, enrichedConfig);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument, configuration, and tags. It\n\t* parses the input according to the schema, handles any errors, and\n\t* manages callbacks.\n\t* @param arg The input argument for the tool.\n\t* @param configArg Optional configuration or callbacks for the tool.\n\t* @param tags Optional tags for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst inputForValidation = require_utils._isToolCall(arg) ? arg.args : arg;\n\t\tlet parsed;\n\t\tif (require_zod.isInteropZodSchema(this.schema)) try {\n\t\t\tparsed = await require_zod.interopParseAsync(this.schema, inputForValidation);\n\t\t} catch (e) {\n\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${e.message}`;\n\t\t\tif (require_zod.isInteropZodError(e)) message = `${message}\\n\\n${zod_v4.z.prettifyError(e)}`;\n\t\t\tthrow new require_utils.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t}\n\t\telse {\n\t\t\tconst result$1 = (0, __cfworker_json_schema.validate)(inputForValidation, this.schema);\n\t\t\tif (!result$1.valid) {\n\t\t\t\tlet message = `Received tool input did not match expected schema`;\n\t\t\t\tif (this.verboseParsingErrors) message = `${message}\\nDetails: ${result$1.errors.map((e) => `${e.keywordLocation}: ${e.error}`).join(\"\\n\")}`;\n\t\t\t\tthrow new require_utils.ToolInputParsingException(message, JSON.stringify(arg));\n\t\t\t}\n\t\t\tparsed = inputForValidation;\n\t\t}\n\t\tconst config = require_callbacks_manager.parseCallbackConfigArg(configArg);\n\t\tconst callbackManager_ = require_callbacks_manager.CallbackManager.configure(config.callbacks, this.callbacks, config.tags || tags, this.tags, config.metadata, this.metadata, { verbose: this.verbose });\n\t\tconst runManager = await callbackManager_?.handleToolStart(this.toJSON(), typeof arg === \"string\" ? arg : JSON.stringify(arg), config.runId, void 0, void 0, void 0, config.runName);\n\t\tdelete config.runId;\n\t\tlet result;\n\t\ttry {\n\t\t\tresult = await this._call(parsed, runManager, config);\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleToolError(e);\n\t\t\tthrow e;\n\t\t}\n\t\tlet content;\n\t\tlet artifact;\n\t\tif (this.responseFormat === \"content_and_artifact\") if (Array.isArray(result) && result.length === 2) [content, artifact] = result;\n\t\telse throw new Error(`Tool response format is \"content_and_artifact\" but the output was not a two-tuple.\\nResult: ${JSON.stringify(result)}`);\n\t\telse content = result;\n\t\tlet toolCallId;\n\t\tif (require_utils._isToolCall(arg)) toolCallId = arg.id;\n\t\tif (!toolCallId && require_utils._configHasToolCallId(config)) toolCallId = config.toolCall.id;\n\t\tconst formattedOutput = _formatToolOutput({\n\t\t\tcontent,\n\t\t\tartifact,\n\t\t\ttoolCallId,\n\t\t\tname: this.name,\n\t\t\tmetadata: this.metadata\n\t\t});\n\t\tawait runManager?.handleToolEnd(formattedOutput);\n\t\treturn formattedOutput;\n\t}\n};\n/**\n* Base class for Tools that accept input as a string.\n*/\nvar Tool = class extends StructuredTool {\n\tschema = zod_v3.z.object({ input: zod_v3.z.string().optional() }).transform((obj) => obj.input);\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*\n\t* Calls the tool with the provided argument and callbacks. It handles\n\t* string inputs specifically.\n\t* @param arg The input argument for the tool, which can be a string, undefined, or an input of the tool's schema.\n\t* @param callbacks Optional callbacks for the tool.\n\t* @returns A Promise that resolves with a string.\n\t*/\n\tcall(arg, callbacks) {\n\t\tconst structuredArg = typeof arg === \"string\" || arg == null ? { input: arg } : arg;\n\t\treturn super.call(structuredArg, callbacks);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and description.\n*/\nvar DynamicTool = class extends Tool {\n\tstatic lc_name() {\n\t\treturn \"DynamicTool\";\n\t}\n\tname;\n\tdescription;\n\tfunc;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg) {\n\t\tconst config = require_callbacks_manager.parseCallbackConfigArg(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config);\n\t}\n\t/** @ignore */\n\tasync _call(input, runManager, parentConfig) {\n\t\treturn this.func(input, runManager, parentConfig);\n\t}\n};\n/**\n* A tool that can be created dynamically from a function, name, and\n* description, designed to work with structured data. It extends the\n* StructuredTool class and overrides the _call method to execute the\n* provided function when the tool is called.\n*\n* Schema can be passed as Zod or JSON schema. The tool will not validate\n* input if JSON schema is passed.\n*/\nvar DynamicStructuredTool = class extends StructuredTool {\n\tstatic lc_name() {\n\t\treturn \"DynamicStructuredTool\";\n\t}\n\tname;\n\tdescription;\n\tfunc;\n\tschema;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.name = fields.name;\n\t\tthis.description = fields.description;\n\t\tthis.func = fields.func;\n\t\tthis.returnDirect = fields.returnDirect ?? this.returnDirect;\n\t\tthis.schema = fields.schema;\n\t}\n\t/**\n\t* @deprecated Use .invoke() instead. Will be removed in 0.3.0.\n\t*/\n\tasync call(arg, configArg, tags) {\n\t\tconst config = require_callbacks_manager.parseCallbackConfigArg(configArg);\n\t\tif (config.runName === void 0) config.runName = this.name;\n\t\treturn super.call(arg, config, tags);\n\t}\n\t_call(arg, runManager, parentConfig) {\n\t\treturn this.func(arg, runManager, parentConfig);\n\t}\n};\n/**\n* Abstract base class for toolkits in LangChain. Toolkits are collections\n* of tools that agents can use. Subclasses must implement the `tools`\n* property to provide the specific tools for the toolkit.\n*/\nvar BaseToolkit = class {\n\tgetTools() {\n\t\treturn this.tools;\n\t}\n};\nfunction tool(func, fields) {\n\tconst isSimpleStringSchema = require_zod.isSimpleStringZodSchema(fields.schema);\n\tconst isStringJSONSchema = require_utils_json_schema.validatesOnlyStrings(fields.schema);\n\tif (!fields.schema || isSimpleStringSchema || isStringJSONSchema) return new DynamicTool({\n\t\t...fields,\n\t\tdescription: fields.description ?? fields.schema?.description ?? `${fields.name} tool`,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst childConfig = require_config.patchConfig(config, { callbacks: runManager?.getChild() });\n\t\t\t\trequire_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(func(input, childConfig));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\tconst schema = fields.schema;\n\tconst description = fields.description ?? fields.schema.description ?? `${fields.name} tool`;\n\treturn new DynamicStructuredTool({\n\t\t...fields,\n\t\tdescription,\n\t\tschema,\n\t\tfunc: async (input, runManager, config) => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet listener;\n\t\t\t\tconst cleanup = () => {\n\t\t\t\t\tif (config?.signal && listener) config.signal.removeEventListener(\"abort\", listener);\n\t\t\t\t};\n\t\t\t\tif (config?.signal) {\n\t\t\t\t\tlistener = () => {\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\treject(require_signal.getAbortSignalError(config.signal));\n\t\t\t\t\t};\n\t\t\t\t\tconfig.signal.addEventListener(\"abort\", listener);\n\t\t\t\t}\n\t\t\t\tconst childConfig = require_config.patchConfig(config, { callbacks: runManager?.getChild() });\n\t\t\t\trequire_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(childConfig), async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst result = await func(input, childConfig);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* If the signal is aborted, we don't want to resolve the promise\n\t\t\t\t\t\t* as the promise is already rejected.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tif (config?.signal?.aborted) {\n\t\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n}\nfunction _formatToolOutput(params) {\n\tconst { content, artifact, toolCallId, metadata } = params;\n\tif (toolCallId && !require_messages_tool.isDirectToolOutput(content)) if (typeof content === \"string\" || Array.isArray(content) && content.every((item) => typeof item === \"object\")) return new require_messages_tool.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent,\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return new require_messages_tool.ToolMessage({\n\t\tstatus: \"success\",\n\t\tcontent: _stringify(content),\n\t\tartifact,\n\t\ttool_call_id: toolCallId,\n\t\tname: params.name,\n\t\tmetadata\n\t});\n\telse return content;\n}\nfunction _stringify(content) {\n\ttry {\n\t\treturn JSON.stringify(content, null, 2) ?? \"\";\n\t} catch (_noOp) {\n\t\treturn `${content}`;\n\t}\n}\n\n//#endregion\nexports.BaseToolkit = BaseToolkit;\nexports.DynamicStructuredTool = DynamicStructuredTool;\nexports.DynamicTool = DynamicTool;\nexports.StructuredTool = StructuredTool;\nexports.Tool = Tool;\nexports.ToolInputParsingException = require_utils.ToolInputParsingException;\nexports.isLangChainTool = require_types.isLangChainTool;\nexports.isRunnableToolLike = require_types.isRunnableToolLike;\nexports.isStructuredTool = require_types.isStructuredTool;\nexports.isStructuredToolParams = require_types.isStructuredToolParams;\nexports.tool = tool;\nObject.defineProperty(exports, \"tools_exports\", ({\n  enumerable: true,\n  get: function () {\n    return tools_exports;\n  }\n}));\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy9pbmRleC5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLDhCQUE4QixtQkFBTyxDQUFDLG9HQUFzQjtBQUM1RCxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBYTtBQUMzQyxrQ0FBa0MsbUJBQU8sQ0FBQyw0R0FBMEI7QUFDcEUsc0JBQXNCLG1CQUFPLENBQUMsa0pBQTZDO0FBQzNFLG1CQUFPLENBQUMsMEdBQXlCO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLDBHQUF5QjtBQUN4RCx1QkFBdUIsbUJBQU8sQ0FBQyxrR0FBcUI7QUFDcEQsb0JBQW9CLG1CQUFPLENBQUMsd0dBQXdCO0FBQ3BELGtDQUFrQyxtQkFBTyxDQUFDLDRHQUEwQjtBQUNwRSxxQ0FBcUMsbUJBQU8sQ0FBQyxrSEFBNkI7QUFDMUUsc0JBQXNCLG1CQUFPLENBQUMseUZBQWE7QUFDM0MsZ0RBQWdELG1CQUFPLENBQUMsZ0VBQVE7QUFDaEUsZ0VBQWdFLG1CQUFPLENBQUMsMkdBQXVCO0FBQy9GLGdEQUFnRCxtQkFBTyxDQUFDLGdFQUFROztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSwrQ0FBK0MsUUFBUSxhQUFhLFVBQVU7QUFDOUUsc0RBQXNELFFBQVEsTUFBTSwwQkFBMEI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFFBQVEsYUFBYSw4QkFBOEIsa0JBQWtCLElBQUksUUFBUSxjQUFjO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtTEFBbUwsdUJBQXVCO0FBQzFNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0hBQXNILHVCQUF1QjtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFDQUFxQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxhQUFhO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGFBQWE7QUFDbkY7QUFDQTtBQUNBLDZEQUE2RCxtQ0FBbUM7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMkVBQTJFLGFBQWE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxtQ0FBbUM7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsU0FBUywwQ0FBMEM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQjtBQUNuQiw2QkFBNkI7QUFDN0IsbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0QixZQUFZO0FBQ1osaUNBQWlDO0FBQ2pDLHVCQUF1QjtBQUN2QiwwQkFBMEI7QUFDMUIsd0JBQXdCO0FBQ3hCLDhCQUE4QjtBQUM5QixZQUFZO0FBQ1osaURBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL2luZGV4LmNqcz8xYmUxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX21lc3NhZ2VzX3Rvb2wgPSByZXF1aXJlKCcuLi9tZXNzYWdlcy90b29sLmNqcycpO1xuY29uc3QgcmVxdWlyZV91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuY2pzJyk7XG5jb25zdCByZXF1aXJlX2NhbGxiYWNrc19tYW5hZ2VyID0gcmVxdWlyZSgnLi4vY2FsbGJhY2tzL21hbmFnZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX2luZGV4ID0gcmVxdWlyZSgnLi4vc2luZ2xldG9ucy9hc3luY19sb2NhbF9zdG9yYWdlL2luZGV4LmNqcycpO1xucmVxdWlyZSgnLi4vc2luZ2xldG9ucy9pbmRleC5janMnKTtcbmNvbnN0IHJlcXVpcmVfY29uZmlnID0gcmVxdWlyZSgnLi4vcnVubmFibGVzL2NvbmZpZy5janMnKTtcbmNvbnN0IHJlcXVpcmVfc2lnbmFsID0gcmVxdWlyZSgnLi4vdXRpbHMvc2lnbmFsLmNqcycpO1xuY29uc3QgcmVxdWlyZV96b2QgPSByZXF1aXJlKCcuLi91dGlscy90eXBlcy96b2QuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzX2pzb25fc2NoZW1hID0gcmVxdWlyZSgnLi4vdXRpbHMvanNvbl9zY2hlbWEuY2pzJyk7XG5jb25zdCByZXF1aXJlX2xhbmd1YWdlX21vZGVsc19iYXNlID0gcmVxdWlyZSgnLi4vbGFuZ3VhZ2VfbW9kZWxzL2Jhc2UuY2pzJyk7XG5jb25zdCByZXF1aXJlX3R5cGVzID0gcmVxdWlyZSgnLi90eXBlcy5janMnKTtcbmNvbnN0IHpvZF92MyA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJ6b2QvdjNcIikpO1xuY29uc3QgX19jZndvcmtlcl9qc29uX3NjaGVtYSA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJAY2Z3b3JrZXIvanNvbi1zY2hlbWFcIikpO1xuY29uc3Qgem9kX3Y0ID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcInpvZC92NFwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvdG9vbHMvaW5kZXgudHNcbnZhciB0b29sc19leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQodG9vbHNfZXhwb3J0cywge1xuXHRCYXNlVG9vbGtpdDogKCkgPT4gQmFzZVRvb2xraXQsXG5cdER5bmFtaWNTdHJ1Y3R1cmVkVG9vbDogKCkgPT4gRHluYW1pY1N0cnVjdHVyZWRUb29sLFxuXHREeW5hbWljVG9vbDogKCkgPT4gRHluYW1pY1Rvb2wsXG5cdFN0cnVjdHVyZWRUb29sOiAoKSA9PiBTdHJ1Y3R1cmVkVG9vbCxcblx0VG9vbDogKCkgPT4gVG9vbCxcblx0VG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbjogKCkgPT4gcmVxdWlyZV91dGlscy5Ub29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uLFxuXHRpc0xhbmdDaGFpblRvb2w6ICgpID0+IHJlcXVpcmVfdHlwZXMuaXNMYW5nQ2hhaW5Ub29sLFxuXHRpc1J1bm5hYmxlVG9vbExpa2U6ICgpID0+IHJlcXVpcmVfdHlwZXMuaXNSdW5uYWJsZVRvb2xMaWtlLFxuXHRpc1N0cnVjdHVyZWRUb29sOiAoKSA9PiByZXF1aXJlX3R5cGVzLmlzU3RydWN0dXJlZFRvb2wsXG5cdGlzU3RydWN0dXJlZFRvb2xQYXJhbXM6ICgpID0+IHJlcXVpcmVfdHlwZXMuaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyxcblx0dG9vbDogKCkgPT4gdG9vbFxufSk7XG4vKipcbiogQmFzZSBjbGFzcyBmb3IgVG9vbHMgdGhhdCBhY2NlcHQgaW5wdXQgb2YgYW55IHNoYXBlIGRlZmluZWQgYnkgYSBab2Qgc2NoZW1hLlxuKi9cbnZhciBTdHJ1Y3R1cmVkVG9vbCA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV9sYW5ndWFnZV9tb2RlbHNfYmFzZS5CYXNlTGFuZ0NoYWluIHtcblx0LyoqXG5cdCogT3B0aW9uYWwgcHJvdmlkZXItc3BlY2lmaWMgZXh0cmEgZmllbGRzIGZvciB0aGUgdG9vbC5cblx0KlxuXHQqIFRoaXMgaXMgdXNlZCB0byBwYXNzIHByb3ZpZGVyLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24gdGhhdCBkb2Vzbid0IGZpdCBpbnRvXG5cdCogc3RhbmRhcmQgdG9vbCBmaWVsZHMuXG5cdCovXG5cdGV4dHJhcztcblx0LyoqXG5cdCogV2hldGhlciB0byByZXR1cm4gdGhlIHRvb2wncyBvdXRwdXQgZGlyZWN0bHkuXG5cdCpcblx0KiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSBtZWFucyB0aGF0IGFmdGVyIHRoZSB0b29sIGlzIGNhbGxlZCxcblx0KiBhbiBhZ2VudCBzaG91bGQgc3RvcCBsb29waW5nLlxuXHQqL1xuXHRyZXR1cm5EaXJlY3QgPSBmYWxzZTtcblx0dmVyYm9zZVBhcnNpbmdFcnJvcnMgPSBmYWxzZTtcblx0Z2V0IGxjX25hbWVzcGFjZSgpIHtcblx0XHRyZXR1cm4gW1wibGFuZ2NoYWluXCIsIFwidG9vbHNcIl07XG5cdH1cblx0LyoqXG5cdCogVGhlIHRvb2wgcmVzcG9uc2UgZm9ybWF0LlxuXHQqXG5cdCogSWYgXCJjb250ZW50XCIgdGhlbiB0aGUgb3V0cHV0IG9mIHRoZSB0b29sIGlzIGludGVycHJldGVkIGFzIHRoZSBjb250ZW50cyBvZiBhXG5cdCogVG9vbE1lc3NhZ2UuIElmIFwiY29udGVudF9hbmRfYXJ0aWZhY3RcIiB0aGVuIHRoZSBvdXRwdXQgaXMgZXhwZWN0ZWQgdG8gYmUgYVxuXHQqIHR3by10dXBsZSBjb3JyZXNwb25kaW5nIHRvIHRoZSAoY29udGVudCwgYXJ0aWZhY3QpIG9mIGEgVG9vbE1lc3NhZ2UuXG5cdCpcblx0KiBAZGVmYXVsdCBcImNvbnRlbnRcIlxuXHQqL1xuXHRyZXNwb25zZUZvcm1hdCA9IFwiY29udGVudFwiO1xuXHQvKipcblx0KiBEZWZhdWx0IGNvbmZpZyBvYmplY3QgZm9yIHRoZSB0b29sIHJ1bm5hYmxlLlxuXHQqL1xuXHRkZWZhdWx0Q29uZmlnO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMgPz8ge30pO1xuXHRcdHRoaXMudmVyYm9zZVBhcnNpbmdFcnJvcnMgPSBmaWVsZHM/LnZlcmJvc2VQYXJzaW5nRXJyb3JzID8/IHRoaXMudmVyYm9zZVBhcnNpbmdFcnJvcnM7XG5cdFx0dGhpcy5yZXNwb25zZUZvcm1hdCA9IGZpZWxkcz8ucmVzcG9uc2VGb3JtYXQgPz8gdGhpcy5yZXNwb25zZUZvcm1hdDtcblx0XHR0aGlzLmRlZmF1bHRDb25maWcgPSBmaWVsZHM/LmRlZmF1bHRDb25maWcgPz8gdGhpcy5kZWZhdWx0Q29uZmlnO1xuXHRcdHRoaXMubWV0YWRhdGEgPSBmaWVsZHM/Lm1ldGFkYXRhID8/IHRoaXMubWV0YWRhdGE7XG5cdFx0dGhpcy5leHRyYXMgPSBmaWVsZHM/LmV4dHJhcyA/PyB0aGlzLmV4dHJhcztcblx0fVxuXHQvKipcblx0KiBJbnZva2VzIHRoZSB0b29sIHdpdGggdGhlIHByb3ZpZGVkIGlucHV0IGFuZCBjb25maWd1cmF0aW9uLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgZm9yIHRoZSB0b29sLlxuXHQqIEBwYXJhbSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIHRvb2wuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdG9vbCdzIG91dHB1dC5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBjb25maWcpIHtcblx0XHRsZXQgdG9vbElucHV0O1xuXHRcdGxldCBlbnJpY2hlZENvbmZpZyA9IHJlcXVpcmVfY29uZmlnLmVuc3VyZUNvbmZpZyhyZXF1aXJlX2NvbmZpZy5tZXJnZUNvbmZpZ3ModGhpcy5kZWZhdWx0Q29uZmlnLCBjb25maWcpKTtcblx0XHRpZiAocmVxdWlyZV91dGlscy5faXNUb29sQ2FsbChpbnB1dCkpIHtcblx0XHRcdHRvb2xJbnB1dCA9IGlucHV0LmFyZ3M7XG5cdFx0XHRlbnJpY2hlZENvbmZpZyA9IHtcblx0XHRcdFx0Li4uZW5yaWNoZWRDb25maWcsXG5cdFx0XHRcdHRvb2xDYWxsOiBpbnB1dFxuXHRcdFx0fTtcblx0XHR9IGVsc2UgdG9vbElucHV0ID0gaW5wdXQ7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbCh0b29sSW5wdXQsIGVucmljaGVkQ29uZmlnKTtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjMuMC5cblx0KlxuXHQqIENhbGxzIHRoZSB0b29sIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50LCBjb25maWd1cmF0aW9uLCBhbmQgdGFncy4gSXRcblx0KiBwYXJzZXMgdGhlIGlucHV0IGFjY29yZGluZyB0byB0aGUgc2NoZW1hLCBoYW5kbGVzIGFueSBlcnJvcnMsIGFuZFxuXHQqIG1hbmFnZXMgY2FsbGJhY2tzLlxuXHQqIEBwYXJhbSBhcmcgVGhlIGlucHV0IGFyZ3VtZW50IGZvciB0aGUgdG9vbC5cblx0KiBAcGFyYW0gY29uZmlnQXJnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3IgY2FsbGJhY2tzIGZvciB0aGUgdG9vbC5cblx0KiBAcGFyYW0gdGFncyBPcHRpb25hbCB0YWdzIGZvciB0aGUgdG9vbC5cblx0KiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc3RyaW5nLlxuXHQqL1xuXHRhc3luYyBjYWxsKGFyZywgY29uZmlnQXJnLCB0YWdzKSB7XG5cdFx0Y29uc3QgaW5wdXRGb3JWYWxpZGF0aW9uID0gcmVxdWlyZV91dGlscy5faXNUb29sQ2FsbChhcmcpID8gYXJnLmFyZ3MgOiBhcmc7XG5cdFx0bGV0IHBhcnNlZDtcblx0XHRpZiAocmVxdWlyZV96b2QuaXNJbnRlcm9wWm9kU2NoZW1hKHRoaXMuc2NoZW1hKSkgdHJ5IHtcblx0XHRcdHBhcnNlZCA9IGF3YWl0IHJlcXVpcmVfem9kLmludGVyb3BQYXJzZUFzeW5jKHRoaXMuc2NoZW1hLCBpbnB1dEZvclZhbGlkYXRpb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGxldCBtZXNzYWdlID0gYFJlY2VpdmVkIHRvb2wgaW5wdXQgZGlkIG5vdCBtYXRjaCBleHBlY3RlZCBzY2hlbWFgO1xuXHRcdFx0aWYgKHRoaXMudmVyYm9zZVBhcnNpbmdFcnJvcnMpIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcbkRldGFpbHM6ICR7ZS5tZXNzYWdlfWA7XG5cdFx0XHRpZiAocmVxdWlyZV96b2QuaXNJbnRlcm9wWm9kRXJyb3IoZSkpIG1lc3NhZ2UgPSBgJHttZXNzYWdlfVxcblxcbiR7em9kX3Y0LnoucHJldHRpZnlFcnJvcihlKX1gO1xuXHRcdFx0dGhyb3cgbmV3IHJlcXVpcmVfdXRpbHMuVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbihtZXNzYWdlLCBKU09OLnN0cmluZ2lmeShhcmcpKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zdCByZXN1bHQkMSA9ICgwLCBfX2Nmd29ya2VyX2pzb25fc2NoZW1hLnZhbGlkYXRlKShpbnB1dEZvclZhbGlkYXRpb24sIHRoaXMuc2NoZW1hKTtcblx0XHRcdGlmICghcmVzdWx0JDEudmFsaWQpIHtcblx0XHRcdFx0bGV0IG1lc3NhZ2UgPSBgUmVjZWl2ZWQgdG9vbCBpbnB1dCBkaWQgbm90IG1hdGNoIGV4cGVjdGVkIHNjaGVtYWA7XG5cdFx0XHRcdGlmICh0aGlzLnZlcmJvc2VQYXJzaW5nRXJyb3JzKSBtZXNzYWdlID0gYCR7bWVzc2FnZX1cXG5EZXRhaWxzOiAke3Jlc3VsdCQxLmVycm9ycy5tYXAoKGUpID0+IGAke2Uua2V5d29yZExvY2F0aW9ufTogJHtlLmVycm9yfWApLmpvaW4oXCJcXG5cIil9YDtcblx0XHRcdFx0dGhyb3cgbmV3IHJlcXVpcmVfdXRpbHMuVG9vbElucHV0UGFyc2luZ0V4Y2VwdGlvbihtZXNzYWdlLCBKU09OLnN0cmluZ2lmeShhcmcpKTtcblx0XHRcdH1cblx0XHRcdHBhcnNlZCA9IGlucHV0Rm9yVmFsaWRhdGlvbjtcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jYWxsYmFja3NfbWFuYWdlci5wYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IHJlcXVpcmVfY2FsbGJhY2tzX21hbmFnZXIuQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShjb25maWcuY2FsbGJhY2tzLCB0aGlzLmNhbGxiYWNrcywgY29uZmlnLnRhZ3MgfHwgdGFncywgdGhpcy50YWdzLCBjb25maWcubWV0YWRhdGEsIHRoaXMubWV0YWRhdGEsIHsgdmVyYm9zZTogdGhpcy52ZXJib3NlIH0pO1xuXHRcdGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVUb29sU3RhcnQodGhpcy50b0pTT04oKSwgdHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiA/IGFyZyA6IEpTT04uc3RyaW5naWZ5KGFyZyksIGNvbmZpZy5ydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnLnJ1bk5hbWUpO1xuXHRcdGRlbGV0ZSBjb25maWcucnVuSWQ7XG5cdFx0bGV0IHJlc3VsdDtcblx0XHR0cnkge1xuXHRcdFx0cmVzdWx0ID0gYXdhaXQgdGhpcy5fY2FsbChwYXJzZWQsIHJ1bk1hbmFnZXIsIGNvbmZpZyk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlVG9vbEVycm9yKGUpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0bGV0IGNvbnRlbnQ7XG5cdFx0bGV0IGFydGlmYWN0O1xuXHRcdGlmICh0aGlzLnJlc3BvbnNlRm9ybWF0ID09PSBcImNvbnRlbnRfYW5kX2FydGlmYWN0XCIpIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgcmVzdWx0Lmxlbmd0aCA9PT0gMikgW2NvbnRlbnQsIGFydGlmYWN0XSA9IHJlc3VsdDtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgVG9vbCByZXNwb25zZSBmb3JtYXQgaXMgXCJjb250ZW50X2FuZF9hcnRpZmFjdFwiIGJ1dCB0aGUgb3V0cHV0IHdhcyBub3QgYSB0d28tdHVwbGUuXFxuUmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdCl9YCk7XG5cdFx0ZWxzZSBjb250ZW50ID0gcmVzdWx0O1xuXHRcdGxldCB0b29sQ2FsbElkO1xuXHRcdGlmIChyZXF1aXJlX3V0aWxzLl9pc1Rvb2xDYWxsKGFyZykpIHRvb2xDYWxsSWQgPSBhcmcuaWQ7XG5cdFx0aWYgKCF0b29sQ2FsbElkICYmIHJlcXVpcmVfdXRpbHMuX2NvbmZpZ0hhc1Rvb2xDYWxsSWQoY29uZmlnKSkgdG9vbENhbGxJZCA9IGNvbmZpZy50b29sQ2FsbC5pZDtcblx0XHRjb25zdCBmb3JtYXR0ZWRPdXRwdXQgPSBfZm9ybWF0VG9vbE91dHB1dCh7XG5cdFx0XHRjb250ZW50LFxuXHRcdFx0YXJ0aWZhY3QsXG5cdFx0XHR0b29sQ2FsbElkLFxuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0bWV0YWRhdGE6IHRoaXMubWV0YWRhdGFcblx0XHR9KTtcblx0XHRhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVUb29sRW5kKGZvcm1hdHRlZE91dHB1dCk7XG5cdFx0cmV0dXJuIGZvcm1hdHRlZE91dHB1dDtcblx0fVxufTtcbi8qKlxuKiBCYXNlIGNsYXNzIGZvciBUb29scyB0aGF0IGFjY2VwdCBpbnB1dCBhcyBhIHN0cmluZy5cbiovXG52YXIgVG9vbCA9IGNsYXNzIGV4dGVuZHMgU3RydWN0dXJlZFRvb2wge1xuXHRzY2hlbWEgPSB6b2RfdjMuei5vYmplY3QoeyBpbnB1dDogem9kX3YzLnouc3RyaW5nKCkub3B0aW9uYWwoKSB9KS50cmFuc2Zvcm0oKG9iaikgPT4gb2JqLmlucHV0KTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjMuMC5cblx0KlxuXHQqIENhbGxzIHRoZSB0b29sIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50IGFuZCBjYWxsYmFja3MuIEl0IGhhbmRsZXNcblx0KiBzdHJpbmcgaW5wdXRzIHNwZWNpZmljYWxseS5cblx0KiBAcGFyYW0gYXJnIFRoZSBpbnB1dCBhcmd1bWVudCBmb3IgdGhlIHRvb2wsIHdoaWNoIGNhbiBiZSBhIHN0cmluZywgdW5kZWZpbmVkLCBvciBhbiBpbnB1dCBvZiB0aGUgdG9vbCdzIHNjaGVtYS5cblx0KiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcyBmb3IgdGhlIHRvb2wuXG5cdCogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHN0cmluZy5cblx0Ki9cblx0Y2FsbChhcmcsIGNhbGxiYWNrcykge1xuXHRcdGNvbnN0IHN0cnVjdHVyZWRBcmcgPSB0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiIHx8IGFyZyA9PSBudWxsID8geyBpbnB1dDogYXJnIH0gOiBhcmc7XG5cdFx0cmV0dXJuIHN1cGVyLmNhbGwoc3RydWN0dXJlZEFyZywgY2FsbGJhY2tzKTtcblx0fVxufTtcbi8qKlxuKiBBIHRvb2wgdGhhdCBjYW4gYmUgY3JlYXRlZCBkeW5hbWljYWxseSBmcm9tIGEgZnVuY3Rpb24sIG5hbWUsIGFuZCBkZXNjcmlwdGlvbi5cbiovXG52YXIgRHluYW1pY1Rvb2wgPSBjbGFzcyBleHRlbmRzIFRvb2wge1xuXHRzdGF0aWMgbGNfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJEeW5hbWljVG9vbFwiO1xuXHR9XG5cdG5hbWU7XG5cdGRlc2NyaXB0aW9uO1xuXHRmdW5jO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMpIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IGZpZWxkcy5uYW1lO1xuXHRcdHRoaXMuZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb247XG5cdFx0dGhpcy5mdW5jID0gZmllbGRzLmZ1bmM7XG5cdFx0dGhpcy5yZXR1cm5EaXJlY3QgPSBmaWVsZHMucmV0dXJuRGlyZWN0ID8/IHRoaXMucmV0dXJuRGlyZWN0O1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAuaW52b2tlKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMy4wLlxuXHQqL1xuXHRhc3luYyBjYWxsKGFyZywgY29uZmlnQXJnKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jYWxsYmFja3NfbWFuYWdlci5wYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0aWYgKGNvbmZpZy5ydW5OYW1lID09PSB2b2lkIDApIGNvbmZpZy5ydW5OYW1lID0gdGhpcy5uYW1lO1xuXHRcdHJldHVybiBzdXBlci5jYWxsKGFyZywgY29uZmlnKTtcblx0fVxuXHQvKiogQGlnbm9yZSAqL1xuXHRhc3luYyBfY2FsbChpbnB1dCwgcnVuTWFuYWdlciwgcGFyZW50Q29uZmlnKSB7XG5cdFx0cmV0dXJuIHRoaXMuZnVuYyhpbnB1dCwgcnVuTWFuYWdlciwgcGFyZW50Q29uZmlnKTtcblx0fVxufTtcbi8qKlxuKiBBIHRvb2wgdGhhdCBjYW4gYmUgY3JlYXRlZCBkeW5hbWljYWxseSBmcm9tIGEgZnVuY3Rpb24sIG5hbWUsIGFuZFxuKiBkZXNjcmlwdGlvbiwgZGVzaWduZWQgdG8gd29yayB3aXRoIHN0cnVjdHVyZWQgZGF0YS4gSXQgZXh0ZW5kcyB0aGVcbiogU3RydWN0dXJlZFRvb2wgY2xhc3MgYW5kIG92ZXJyaWRlcyB0aGUgX2NhbGwgbWV0aG9kIHRvIGV4ZWN1dGUgdGhlXG4qIHByb3ZpZGVkIGZ1bmN0aW9uIHdoZW4gdGhlIHRvb2wgaXMgY2FsbGVkLlxuKlxuKiBTY2hlbWEgY2FuIGJlIHBhc3NlZCBhcyBab2Qgb3IgSlNPTiBzY2hlbWEuIFRoZSB0b29sIHdpbGwgbm90IHZhbGlkYXRlXG4qIGlucHV0IGlmIEpTT04gc2NoZW1hIGlzIHBhc3NlZC5cbiovXG52YXIgRHluYW1pY1N0cnVjdHVyZWRUb29sID0gY2xhc3MgZXh0ZW5kcyBTdHJ1Y3R1cmVkVG9vbCB7XG5cdHN0YXRpYyBsY19uYW1lKCkge1xuXHRcdHJldHVybiBcIkR5bmFtaWNTdHJ1Y3R1cmVkVG9vbFwiO1xuXHR9XG5cdG5hbWU7XG5cdGRlc2NyaXB0aW9uO1xuXHRmdW5jO1xuXHRzY2hlbWE7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0XHR0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0XHR0aGlzLnJldHVybkRpcmVjdCA9IGZpZWxkcy5yZXR1cm5EaXJlY3QgPz8gdGhpcy5yZXR1cm5EaXJlY3Q7XG5cdFx0dGhpcy5zY2hlbWEgPSBmaWVsZHMuc2NoZW1hO1xuXHR9XG5cdC8qKlxuXHQqIEBkZXByZWNhdGVkIFVzZSAuaW52b2tlKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMy4wLlxuXHQqL1xuXHRhc3luYyBjYWxsKGFyZywgY29uZmlnQXJnLCB0YWdzKSB7XG5cdFx0Y29uc3QgY29uZmlnID0gcmVxdWlyZV9jYWxsYmFja3NfbWFuYWdlci5wYXJzZUNhbGxiYWNrQ29uZmlnQXJnKGNvbmZpZ0FyZyk7XG5cdFx0aWYgKGNvbmZpZy5ydW5OYW1lID09PSB2b2lkIDApIGNvbmZpZy5ydW5OYW1lID0gdGhpcy5uYW1lO1xuXHRcdHJldHVybiBzdXBlci5jYWxsKGFyZywgY29uZmlnLCB0YWdzKTtcblx0fVxuXHRfY2FsbChhcmcsIHJ1bk1hbmFnZXIsIHBhcmVudENvbmZpZykge1xuXHRcdHJldHVybiB0aGlzLmZ1bmMoYXJnLCBydW5NYW5hZ2VyLCBwYXJlbnRDb25maWcpO1xuXHR9XG59O1xuLyoqXG4qIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIHRvb2xraXRzIGluIExhbmdDaGFpbi4gVG9vbGtpdHMgYXJlIGNvbGxlY3Rpb25zXG4qIG9mIHRvb2xzIHRoYXQgYWdlbnRzIGNhbiB1c2UuIFN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgdGhlIGB0b29sc2BcbiogcHJvcGVydHkgdG8gcHJvdmlkZSB0aGUgc3BlY2lmaWMgdG9vbHMgZm9yIHRoZSB0b29sa2l0LlxuKi9cbnZhciBCYXNlVG9vbGtpdCA9IGNsYXNzIHtcblx0Z2V0VG9vbHMoKSB7XG5cdFx0cmV0dXJuIHRoaXMudG9vbHM7XG5cdH1cbn07XG5mdW5jdGlvbiB0b29sKGZ1bmMsIGZpZWxkcykge1xuXHRjb25zdCBpc1NpbXBsZVN0cmluZ1NjaGVtYSA9IHJlcXVpcmVfem9kLmlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hKGZpZWxkcy5zY2hlbWEpO1xuXHRjb25zdCBpc1N0cmluZ0pTT05TY2hlbWEgPSByZXF1aXJlX3V0aWxzX2pzb25fc2NoZW1hLnZhbGlkYXRlc09ubHlTdHJpbmdzKGZpZWxkcy5zY2hlbWEpO1xuXHRpZiAoIWZpZWxkcy5zY2hlbWEgfHwgaXNTaW1wbGVTdHJpbmdTY2hlbWEgfHwgaXNTdHJpbmdKU09OU2NoZW1hKSByZXR1cm4gbmV3IER5bmFtaWNUb29sKHtcblx0XHQuLi5maWVsZHMsXG5cdFx0ZGVzY3JpcHRpb246IGZpZWxkcy5kZXNjcmlwdGlvbiA/PyBmaWVsZHMuc2NoZW1hPy5kZXNjcmlwdGlvbiA/PyBgJHtmaWVsZHMubmFtZX0gdG9vbGAsXG5cdFx0ZnVuYzogYXN5bmMgKGlucHV0LCBydW5NYW5hZ2VyLCBjb25maWcpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdFx0cmVxdWlyZV9pbmRleC5Bc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocmVxdWlyZV9jb25maWcucGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjaGlsZENvbmZpZyksIGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShmdW5jKGlucHV0LCBjaGlsZENvbmZpZykpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblx0Y29uc3Qgc2NoZW1hID0gZmllbGRzLnNjaGVtYTtcblx0Y29uc3QgZGVzY3JpcHRpb24gPSBmaWVsZHMuZGVzY3JpcHRpb24gPz8gZmllbGRzLnNjaGVtYS5kZXNjcmlwdGlvbiA/PyBgJHtmaWVsZHMubmFtZX0gdG9vbGA7XG5cdHJldHVybiBuZXcgRHluYW1pY1N0cnVjdHVyZWRUb29sKHtcblx0XHQuLi5maWVsZHMsXG5cdFx0ZGVzY3JpcHRpb24sXG5cdFx0c2NoZW1hLFxuXHRcdGZ1bmM6IGFzeW5jIChpbnB1dCwgcnVuTWFuYWdlciwgY29uZmlnKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgbGlzdGVuZXI7XG5cdFx0XHRcdGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGNvbmZpZz8uc2lnbmFsICYmIGxpc3RlbmVyKSBjb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChjb25maWc/LnNpZ25hbCkge1xuXHRcdFx0XHRcdGxpc3RlbmVyID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdFx0cmVqZWN0KHJlcXVpcmVfc2lnbmFsLmdldEFib3J0U2lnbmFsRXJyb3IoY29uZmlnLnNpZ25hbCkpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcmVxdWlyZV9jb25maWcucGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdFx0cmVxdWlyZV9pbmRleC5Bc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocmVxdWlyZV9jb25maWcucGlja1J1bm5hYmxlQ29uZmlnS2V5cyhjaGlsZENvbmZpZyksIGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZnVuYyhpbnB1dCwgY2hpbGRDb25maWcpO1xuXHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHQqIElmIHRoZSBzaWduYWwgaXMgYWJvcnRlZCwgd2UgZG9uJ3Qgd2FudCB0byByZXNvbHZlIHRoZSBwcm9taXNlXG5cdFx0XHRcdFx0XHQqIGFzIHRoZSBwcm9taXNlIGlzIGFscmVhZHkgcmVqZWN0ZWQuXG5cdFx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdFx0aWYgKGNvbmZpZz8uc2lnbmFsPy5hYm9ydGVkKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShyZXN1bHQpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn1cbmZ1bmN0aW9uIF9mb3JtYXRUb29sT3V0cHV0KHBhcmFtcykge1xuXHRjb25zdCB7IGNvbnRlbnQsIGFydGlmYWN0LCB0b29sQ2FsbElkLCBtZXRhZGF0YSB9ID0gcGFyYW1zO1xuXHRpZiAodG9vbENhbGxJZCAmJiAhcmVxdWlyZV9tZXNzYWdlc190b29sLmlzRGlyZWN0VG9vbE91dHB1dChjb250ZW50KSkgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudC5ldmVyeSgoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIpKSByZXR1cm4gbmV3IHJlcXVpcmVfbWVzc2FnZXNfdG9vbC5Ub29sTWVzc2FnZSh7XG5cdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRjb250ZW50LFxuXHRcdGFydGlmYWN0LFxuXHRcdHRvb2xfY2FsbF9pZDogdG9vbENhbGxJZCxcblx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRtZXRhZGF0YVxuXHR9KTtcblx0ZWxzZSByZXR1cm4gbmV3IHJlcXVpcmVfbWVzc2FnZXNfdG9vbC5Ub29sTWVzc2FnZSh7XG5cdFx0c3RhdHVzOiBcInN1Y2Nlc3NcIixcblx0XHRjb250ZW50OiBfc3RyaW5naWZ5KGNvbnRlbnQpLFxuXHRcdGFydGlmYWN0LFxuXHRcdHRvb2xfY2FsbF9pZDogdG9vbENhbGxJZCxcblx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRtZXRhZGF0YVxuXHR9KTtcblx0ZWxzZSByZXR1cm4gY29udGVudDtcbn1cbmZ1bmN0aW9uIF9zdHJpbmdpZnkoY29udGVudCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShjb250ZW50LCBudWxsLCAyKSA/PyBcIlwiO1xuXHR9IGNhdGNoIChfbm9PcCkge1xuXHRcdHJldHVybiBgJHtjb250ZW50fWA7XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkJhc2VUb29sa2l0ID0gQmFzZVRvb2xraXQ7XG5leHBvcnRzLkR5bmFtaWNTdHJ1Y3R1cmVkVG9vbCA9IER5bmFtaWNTdHJ1Y3R1cmVkVG9vbDtcbmV4cG9ydHMuRHluYW1pY1Rvb2wgPSBEeW5hbWljVG9vbDtcbmV4cG9ydHMuU3RydWN0dXJlZFRvb2wgPSBTdHJ1Y3R1cmVkVG9vbDtcbmV4cG9ydHMuVG9vbCA9IFRvb2w7XG5leHBvcnRzLlRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24gPSByZXF1aXJlX3V0aWxzLlRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb247XG5leHBvcnRzLmlzTGFuZ0NoYWluVG9vbCA9IHJlcXVpcmVfdHlwZXMuaXNMYW5nQ2hhaW5Ub29sO1xuZXhwb3J0cy5pc1J1bm5hYmxlVG9vbExpa2UgPSByZXF1aXJlX3R5cGVzLmlzUnVubmFibGVUb29sTGlrZTtcbmV4cG9ydHMuaXNTdHJ1Y3R1cmVkVG9vbCA9IHJlcXVpcmVfdHlwZXMuaXNTdHJ1Y3R1cmVkVG9vbDtcbmV4cG9ydHMuaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcyA9IHJlcXVpcmVfdHlwZXMuaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcztcbmV4cG9ydHMudG9vbCA9IHRvb2w7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Rvb2xzX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b29sc19leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tools/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tools/types.cjs":
/*!***********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tools/types.cjs ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_zod = __webpack_require__(/*! ../utils/types/zod.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs\");\nconst require_base = __webpack_require__(/*! ../runnables/base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/base.cjs\");\n\n//#region src/tools/types.ts\n/**\n* Confirm whether the inputted tool is an instance of `StructuredToolInterface`.\n*\n* @param {StructuredToolInterface | JSONSchema | undefined} tool The tool to check if it is an instance of `StructuredToolInterface`.\n* @returns {tool is StructuredToolInterface} Whether the inputted tool is an instance of `StructuredToolInterface`.\n*/\nfunction isStructuredTool(tool) {\n\treturn tool !== void 0 && Array.isArray(tool.lc_namespace);\n}\n/**\n* Confirm whether the inputted tool is an instance of `RunnableToolLike`.\n*\n* @param {unknown | undefined} tool The tool to check if it is an instance of `RunnableToolLike`.\n* @returns {tool is RunnableToolLike} Whether the inputted tool is an instance of `RunnableToolLike`.\n*/\nfunction isRunnableToolLike(tool) {\n\treturn tool !== void 0 && require_base.Runnable.isRunnable(tool) && \"lc_name\" in tool.constructor && typeof tool.constructor.lc_name === \"function\" && tool.constructor.lc_name() === \"RunnableToolLike\";\n}\n/**\n* Confirm whether or not the tool contains the necessary properties to be considered a `StructuredToolParams`.\n*\n* @param {unknown | undefined} tool The object to check if it is a `StructuredToolParams`.\n* @returns {tool is StructuredToolParams} Whether the inputted object is a `StructuredToolParams`.\n*/\nfunction isStructuredToolParams(tool) {\n\treturn !!tool && typeof tool === \"object\" && \"name\" in tool && \"schema\" in tool && (require_zod.isInteropZodSchema(tool.schema) || tool.schema != null && typeof tool.schema === \"object\" && \"type\" in tool.schema && typeof tool.schema.type === \"string\" && [\n\t\t\"null\",\n\t\t\"boolean\",\n\t\t\"object\",\n\t\t\"array\",\n\t\t\"number\",\n\t\t\"string\"\n\t].includes(tool.schema.type));\n}\n/**\n* Whether or not the tool is one of StructuredTool, RunnableTool or StructuredToolParams.\n* It returns `is StructuredToolParams` since that is the most minimal interface of the three,\n* while still containing the necessary properties to be passed to a LLM for tool calling.\n*\n* @param {unknown | undefined} tool The tool to check if it is a LangChain tool.\n* @returns {tool is StructuredToolParams} Whether the inputted tool is a LangChain tool.\n*/\nfunction isLangChainTool(tool) {\n\treturn isStructuredToolParams(tool) || isRunnableToolLike(tool) || isStructuredTool(tool);\n}\n\n//#endregion\nexports.isLangChainTool = isLangChainTool;\nexports.isRunnableToolLike = isRunnableToolLike;\nexports.isStructuredTool = isStructuredTool;\nexports.isStructuredToolParams = isStructuredToolParams;\n//# sourceMappingURL=types.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy90eXBlcy5janMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsd0dBQXdCO0FBQ3BELHFCQUFxQixtQkFBTyxDQUFDLHNHQUF1Qjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtEQUFrRDtBQUM1RCxZQUFZLGlDQUFpQztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CLFlBQVksMEJBQTBCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQkFBcUI7QUFDL0IsWUFBWSw4QkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFCQUFxQjtBQUMvQixZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QiwwQkFBMEI7QUFDMUIsd0JBQXdCO0FBQ3hCLDhCQUE4QjtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdG9vbHMvdHlwZXMuY2pzP2QxZjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV96b2QgPSByZXF1aXJlKCcuLi91dGlscy90eXBlcy96b2QuY2pzJyk7XG5jb25zdCByZXF1aXJlX2Jhc2UgPSByZXF1aXJlKCcuLi9ydW5uYWJsZXMvYmFzZS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy90b29scy90eXBlcy50c1xuLyoqXG4qIENvbmZpcm0gd2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhbiBpbnN0YW5jZSBvZiBgU3RydWN0dXJlZFRvb2xJbnRlcmZhY2VgLlxuKlxuKiBAcGFyYW0ge1N0cnVjdHVyZWRUb29sSW50ZXJmYWNlIHwgSlNPTlNjaGVtYSB8IHVuZGVmaW5lZH0gdG9vbCBUaGUgdG9vbCB0byBjaGVjayBpZiBpdCBpcyBhbiBpbnN0YW5jZSBvZiBgU3RydWN0dXJlZFRvb2xJbnRlcmZhY2VgLlxuKiBAcmV0dXJucyB7dG9vbCBpcyBTdHJ1Y3R1cmVkVG9vbEludGVyZmFjZX0gV2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhbiBpbnN0YW5jZSBvZiBgU3RydWN0dXJlZFRvb2xJbnRlcmZhY2VgLlxuKi9cbmZ1bmN0aW9uIGlzU3RydWN0dXJlZFRvb2wodG9vbCkge1xuXHRyZXR1cm4gdG9vbCAhPT0gdm9pZCAwICYmIEFycmF5LmlzQXJyYXkodG9vbC5sY19uYW1lc3BhY2UpO1xufVxuLyoqXG4qIENvbmZpcm0gd2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhbiBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWAuXG4qXG4qIEBwYXJhbSB7dW5rbm93biB8IHVuZGVmaW5lZH0gdG9vbCBUaGUgdG9vbCB0byBjaGVjayBpZiBpdCBpcyBhbiBpbnN0YW5jZSBvZiBgUnVubmFibGVUb29sTGlrZWAuXG4qIEByZXR1cm5zIHt0b29sIGlzIFJ1bm5hYmxlVG9vbExpa2V9IFdoZXRoZXIgdGhlIGlucHV0dGVkIHRvb2wgaXMgYW4gaW5zdGFuY2Ugb2YgYFJ1bm5hYmxlVG9vbExpa2VgLlxuKi9cbmZ1bmN0aW9uIGlzUnVubmFibGVUb29sTGlrZSh0b29sKSB7XG5cdHJldHVybiB0b29sICE9PSB2b2lkIDAgJiYgcmVxdWlyZV9iYXNlLlJ1bm5hYmxlLmlzUnVubmFibGUodG9vbCkgJiYgXCJsY19uYW1lXCIgaW4gdG9vbC5jb25zdHJ1Y3RvciAmJiB0eXBlb2YgdG9vbC5jb25zdHJ1Y3Rvci5sY19uYW1lID09PSBcImZ1bmN0aW9uXCIgJiYgdG9vbC5jb25zdHJ1Y3Rvci5sY19uYW1lKCkgPT09IFwiUnVubmFibGVUb29sTGlrZVwiO1xufVxuLyoqXG4qIENvbmZpcm0gd2hldGhlciBvciBub3QgdGhlIHRvb2wgY29udGFpbnMgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIHRvIGJlIGNvbnNpZGVyZWQgYSBgU3RydWN0dXJlZFRvb2xQYXJhbXNgLlxuKlxuKiBAcGFyYW0ge3Vua25vd24gfCB1bmRlZmluZWR9IHRvb2wgVGhlIG9iamVjdCB0byBjaGVjayBpZiBpdCBpcyBhIGBTdHJ1Y3R1cmVkVG9vbFBhcmFtc2AuXG4qIEByZXR1cm5zIHt0b29sIGlzIFN0cnVjdHVyZWRUb29sUGFyYW1zfSBXaGV0aGVyIHRoZSBpbnB1dHRlZCBvYmplY3QgaXMgYSBgU3RydWN0dXJlZFRvb2xQYXJhbXNgLlxuKi9cbmZ1bmN0aW9uIGlzU3RydWN0dXJlZFRvb2xQYXJhbXModG9vbCkge1xuXHRyZXR1cm4gISF0b29sICYmIHR5cGVvZiB0b29sID09PSBcIm9iamVjdFwiICYmIFwibmFtZVwiIGluIHRvb2wgJiYgXCJzY2hlbWFcIiBpbiB0b29sICYmIChyZXF1aXJlX3pvZC5pc0ludGVyb3Bab2RTY2hlbWEodG9vbC5zY2hlbWEpIHx8IHRvb2wuc2NoZW1hICE9IG51bGwgJiYgdHlwZW9mIHRvb2wuc2NoZW1hID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHRvb2wuc2NoZW1hICYmIHR5cGVvZiB0b29sLnNjaGVtYS50eXBlID09PSBcInN0cmluZ1wiICYmIFtcblx0XHRcIm51bGxcIixcblx0XHRcImJvb2xlYW5cIixcblx0XHRcIm9iamVjdFwiLFxuXHRcdFwiYXJyYXlcIixcblx0XHRcIm51bWJlclwiLFxuXHRcdFwic3RyaW5nXCJcblx0XS5pbmNsdWRlcyh0b29sLnNjaGVtYS50eXBlKSk7XG59XG4vKipcbiogV2hldGhlciBvciBub3QgdGhlIHRvb2wgaXMgb25lIG9mIFN0cnVjdHVyZWRUb29sLCBSdW5uYWJsZVRvb2wgb3IgU3RydWN0dXJlZFRvb2xQYXJhbXMuXG4qIEl0IHJldHVybnMgYGlzIFN0cnVjdHVyZWRUb29sUGFyYW1zYCBzaW5jZSB0aGF0IGlzIHRoZSBtb3N0IG1pbmltYWwgaW50ZXJmYWNlIG9mIHRoZSB0aHJlZSxcbiogd2hpbGUgc3RpbGwgY29udGFpbmluZyB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXMgdG8gYmUgcGFzc2VkIHRvIGEgTExNIGZvciB0b29sIGNhbGxpbmcuXG4qXG4qIEBwYXJhbSB7dW5rbm93biB8IHVuZGVmaW5lZH0gdG9vbCBUaGUgdG9vbCB0byBjaGVjayBpZiBpdCBpcyBhIExhbmdDaGFpbiB0b29sLlxuKiBAcmV0dXJucyB7dG9vbCBpcyBTdHJ1Y3R1cmVkVG9vbFBhcmFtc30gV2hldGhlciB0aGUgaW5wdXR0ZWQgdG9vbCBpcyBhIExhbmdDaGFpbiB0b29sLlxuKi9cbmZ1bmN0aW9uIGlzTGFuZ0NoYWluVG9vbCh0b29sKSB7XG5cdHJldHVybiBpc1N0cnVjdHVyZWRUb29sUGFyYW1zKHRvb2wpIHx8IGlzUnVubmFibGVUb29sTGlrZSh0b29sKSB8fCBpc1N0cnVjdHVyZWRUb29sKHRvb2wpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuaXNMYW5nQ2hhaW5Ub29sID0gaXNMYW5nQ2hhaW5Ub29sO1xuZXhwb3J0cy5pc1J1bm5hYmxlVG9vbExpa2UgPSBpc1J1bm5hYmxlVG9vbExpa2U7XG5leHBvcnRzLmlzU3RydWN0dXJlZFRvb2wgPSBpc1N0cnVjdHVyZWRUb29sO1xuZXhwb3J0cy5pc1N0cnVjdHVyZWRUb29sUGFyYW1zID0gaXNTdHJ1Y3R1cmVkVG9vbFBhcmFtcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tools/types.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tools/utils.cjs":
/*!***********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tools/utils.cjs ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/tools/utils.ts\nfunction _isToolCall(toolCall) {\n\treturn !!(toolCall && typeof toolCall === \"object\" && \"type\" in toolCall && toolCall.type === \"tool_call\");\n}\nfunction _configHasToolCallId(config) {\n\treturn !!(config && typeof config === \"object\" && \"toolCall\" in config && config.toolCall != null && typeof config.toolCall === \"object\" && \"id\" in config.toolCall && typeof config.toolCall.id === \"string\");\n}\n/**\n* Custom error class used to handle exceptions related to tool input parsing.\n* It extends the built-in `Error` class and adds an optional `output`\n* property that can hold the output that caused the exception.\n*/\nvar ToolInputParsingException = class extends Error {\n\toutput;\n\tconstructor(message, output) {\n\t\tsuper(message);\n\t\tthis.output = output;\n\t}\n};\n\n//#endregion\nexports.ToolInputParsingException = ToolInputParsingException;\nexports._configHasToolCallId = _configHasToolCallId;\nexports._isToolCall = _isToolCall;\n//# sourceMappingURL=utils.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90b29scy91dGlscy5janMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDO0FBQ2pDLDRCQUE0QjtBQUM1QixtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3Rvb2xzL3V0aWxzLmNqcz8xM2MxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy90b29scy91dGlscy50c1xuZnVuY3Rpb24gX2lzVG9vbENhbGwodG9vbENhbGwpIHtcblx0cmV0dXJuICEhKHRvb2xDYWxsICYmIHR5cGVvZiB0b29sQ2FsbCA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiB0b29sQ2FsbCAmJiB0b29sQ2FsbC50eXBlID09PSBcInRvb2xfY2FsbFwiKTtcbn1cbmZ1bmN0aW9uIF9jb25maWdIYXNUb29sQ2FsbElkKGNvbmZpZykge1xuXHRyZXR1cm4gISEoY29uZmlnICYmIHR5cGVvZiBjb25maWcgPT09IFwib2JqZWN0XCIgJiYgXCJ0b29sQ2FsbFwiIGluIGNvbmZpZyAmJiBjb25maWcudG9vbENhbGwgIT0gbnVsbCAmJiB0eXBlb2YgY29uZmlnLnRvb2xDYWxsID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBjb25maWcudG9vbENhbGwgJiYgdHlwZW9mIGNvbmZpZy50b29sQ2FsbC5pZCA9PT0gXCJzdHJpbmdcIik7XG59XG4vKipcbiogQ3VzdG9tIGVycm9yIGNsYXNzIHVzZWQgdG8gaGFuZGxlIGV4Y2VwdGlvbnMgcmVsYXRlZCB0byB0b29sIGlucHV0IHBhcnNpbmcuXG4qIEl0IGV4dGVuZHMgdGhlIGJ1aWx0LWluIGBFcnJvcmAgY2xhc3MgYW5kIGFkZHMgYW4gb3B0aW9uYWwgYG91dHB1dGBcbiogcHJvcGVydHkgdGhhdCBjYW4gaG9sZCB0aGUgb3V0cHV0IHRoYXQgY2F1c2VkIHRoZSBleGNlcHRpb24uXG4qL1xudmFyIFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24gPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0b3V0cHV0O1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBvdXRwdXQpIHtcblx0XHRzdXBlcihtZXNzYWdlKTtcblx0XHR0aGlzLm91dHB1dCA9IG91dHB1dDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLlRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24gPSBUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uO1xuZXhwb3J0cy5fY29uZmlnSGFzVG9vbENhbGxJZCA9IF9jb25maWdIYXNUb29sQ2FsbElkO1xuZXhwb3J0cy5faXNUb29sQ2FsbCA9IF9pc1Rvb2xDYWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tools/utils.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/base.cjs ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils_env = __webpack_require__(/*! ../utils/env.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\");\nconst require_callbacks_base = __webpack_require__(/*! ../callbacks/base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/callbacks/base.cjs\");\nconst langsmith_run_trees = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith/run_trees */ \"(action-browser)/./node_modules/langsmith/run_trees.cjs\"));\n\n//#region src/tracers/base.ts\nvar base_exports = {};\nrequire_rolldown_runtime.__export(base_exports, {\n\tBaseTracer: () => BaseTracer,\n\tisBaseTracer: () => isBaseTracer\n});\nconst convertRunTreeToRun = (runTree) => {\n\tif (!runTree) return void 0;\n\trunTree.events = runTree.events ?? [];\n\trunTree.child_runs = runTree.child_runs ?? [];\n\treturn runTree;\n};\nfunction convertRunToRunTree(run, parentRun) {\n\tif (!run) return void 0;\n\treturn new langsmith_run_trees.RunTree({\n\t\t...run,\n\t\tstart_time: run._serialized_start_time ?? run.start_time,\n\t\tparent_run: convertRunToRunTree(parentRun),\n\t\tchild_runs: run.child_runs.map((r) => convertRunToRunTree(r)).filter((r) => r !== void 0),\n\t\textra: {\n\t\t\t...run.extra,\n\t\t\truntime: require_utils_env.getRuntimeEnvironment()\n\t\t},\n\t\ttracingEnabled: false\n\t});\n}\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\nfunction isBaseTracer(x) {\n\treturn typeof x._addRunToRunMap === \"function\";\n}\nvar BaseTracer = class extends require_callbacks_base.BaseCallbackHandler {\n\t/** @deprecated Use `runTreeMap` instead. */\n\trunMap = /* @__PURE__ */ new Map();\n\trunTreeMap = /* @__PURE__ */ new Map();\n\tusesRunTreeMap = false;\n\tconstructor(_fields) {\n\t\tsuper(...arguments);\n\t}\n\tcopy() {\n\t\treturn this;\n\t}\n\tgetRunById(runId) {\n\t\tif (runId === void 0) return void 0;\n\t\treturn this.usesRunTreeMap ? convertRunTreeToRun(this.runTreeMap.get(runId)) : this.runMap.get(runId);\n\t}\n\tstringifyError(error) {\n\t\tif (error instanceof Error) return error.message + (error?.stack ? `\\n\\n${error.stack}` : \"\");\n\t\tif (typeof error === \"string\") return error;\n\t\treturn `${error}`;\n\t}\n\t_addChildRun(parentRun, childRun) {\n\t\tparentRun.child_runs.push(childRun);\n\t}\n\t_addRunToRunMap(run) {\n\t\tconst { dottedOrder: currentDottedOrder, microsecondPrecisionDatestring } = (0, langsmith_run_trees.convertToDottedOrderFormat)(new Date(run.start_time).getTime(), run.id, run.execution_order);\n\t\tconst storedRun = { ...run };\n\t\tconst parentRun = this.getRunById(storedRun.parent_run_id);\n\t\tif (storedRun.parent_run_id !== void 0) if (parentRun) {\n\t\t\tthis._addChildRun(parentRun, storedRun);\n\t\t\tparentRun.child_execution_order = Math.max(parentRun.child_execution_order, storedRun.child_execution_order);\n\t\t\tstoredRun.trace_id = parentRun.trace_id;\n\t\t\tif (parentRun.dotted_order !== void 0) {\n\t\t\t\tstoredRun.dotted_order = [parentRun.dotted_order, currentDottedOrder].join(\".\");\n\t\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t\t}\n\t\t} else storedRun.parent_run_id = void 0;\n\t\telse {\n\t\t\tstoredRun.trace_id = storedRun.id;\n\t\t\tstoredRun.dotted_order = currentDottedOrder;\n\t\t\tstoredRun._serialized_start_time = microsecondPrecisionDatestring;\n\t\t}\n\t\tif (this.usesRunTreeMap) {\n\t\t\tconst runTree = convertRunToRunTree(storedRun, parentRun);\n\t\t\tif (runTree !== void 0) this.runTreeMap.set(storedRun.id, runTree);\n\t\t} else this.runMap.set(storedRun.id, storedRun);\n\t\treturn storedRun;\n\t}\n\tasync _endTrace(run) {\n\t\tconst parentRun = run.parent_run_id !== void 0 && this.getRunById(run.parent_run_id);\n\t\tif (parentRun) parentRun.child_execution_order = Math.max(parentRun.child_execution_order, run.child_execution_order);\n\t\telse await this.persistRun(run);\n\t\tawait this.onRunUpdate?.(run);\n\t\tif (this.usesRunTreeMap) this.runTreeMap.delete(run.id);\n\t\telse this.runMap.delete(run.id);\n\t}\n\t_getExecutionOrder(parentRunId) {\n\t\tconst parentRun = parentRunId !== void 0 && this.getRunById(parentRunId);\n\t\tif (!parentRun) return 1;\n\t\treturn parentRun.child_execution_order + 1;\n\t}\n\t/**\n\t* Create and add a run to the run map for LLM start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { prompts },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForLLMStart(llm, prompts, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chat model start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst finalExtraParams = metadata ? {\n\t\t\t...extraParams,\n\t\t\tmetadata\n\t\t} : extraParams;\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? llm.id[llm.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: llm,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { messages },\n\t\t\texecution_order,\n\t\t\tchild_runs: [],\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"llm\",\n\t\t\textra: finalExtraParams ?? {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChatModelStart(llm, messages, runId, parentRunId, extraParams, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onLLMStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleLLMEnd(output, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = output;\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleLLMError(error, runId, _parentRunId, _tags, extraParams) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(\"No LLM run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\trun.extra = {\n\t\t\t...run.extra,\n\t\t\t...extraParams\n\t\t};\n\t\tawait this.onLLMError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for chain start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name, extra) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? chain.id[chain.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: chain,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs,\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: runType ?? \"chain\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? {\n\t\t\t\t...extra,\n\t\t\t\tmetadata\n\t\t\t} : { ...extra },\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForChainStart(chain, inputs, runId, parentRunId, tags, metadata, runType, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onChainStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleChainEnd(outputs, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = _coerceToDict(outputs, \"output\");\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleChainError(error, runId, _parentRunId, _tags, kwargs) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run) throw new Error(\"No chain run to end.\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tif (kwargs?.inputs !== void 0) run.inputs = _coerceToDict(kwargs.inputs, \"input\");\n\t\tawait this.onChainError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\t/**\n\t* Create and add a run to the run map for tool start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? tool.id[tool.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: tool,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { input },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"tool\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleToolStart(tool, input, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForToolStart(tool, input, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onToolStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleToolEnd(output, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { output };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleToolError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"tool\") throw new Error(\"No tool run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onToolError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleAgentAction(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\tconst agentRun = run;\n\t\tagentRun.actions = agentRun.actions || [];\n\t\tagentRun.actions.push(action);\n\t\tagentRun.events.push({\n\t\t\tname: \"agent_action\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentAction?.(run);\n\t}\n\tasync handleAgentEnd(action, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"agent_end\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { action }\n\t\t});\n\t\tawait this.onAgentEnd?.(run);\n\t}\n\t/**\n\t* Create and add a run to the run map for retriever start events.\n\t* This must sometimes be done synchronously to avoid race conditions\n\t* when callbacks are backgrounded, so we expose it as a separate method here.\n\t*/\n\t_createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst execution_order = this._getExecutionOrder(parentRunId);\n\t\tconst start_time = Date.now();\n\t\tconst run = {\n\t\t\tid: runId,\n\t\t\tname: name ?? retriever.id[retriever.id.length - 1],\n\t\t\tparent_run_id: parentRunId,\n\t\t\tstart_time,\n\t\t\tserialized: retriever,\n\t\t\tevents: [{\n\t\t\t\tname: \"start\",\n\t\t\t\ttime: new Date(start_time).toISOString()\n\t\t\t}],\n\t\t\tinputs: { query },\n\t\t\texecution_order,\n\t\t\tchild_execution_order: execution_order,\n\t\t\trun_type: \"retriever\",\n\t\t\tchild_runs: [],\n\t\t\textra: metadata ? { metadata } : {},\n\t\t\ttags: tags || []\n\t\t};\n\t\treturn this._addRunToRunMap(run);\n\t}\n\tasync handleRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name) {\n\t\tconst run = this.getRunById(runId) ?? this._createRunForRetrieverStart(retriever, query, runId, parentRunId, tags, metadata, name);\n\t\tawait this.onRunCreate?.(run);\n\t\tawait this.onRetrieverStart?.(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverEnd(documents, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.outputs = { documents };\n\t\trun.events.push({\n\t\t\tname: \"end\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverEnd?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleRetrieverError(error, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"retriever\") throw new Error(\"No retriever run to end\");\n\t\trun.end_time = Date.now();\n\t\trun.error = this.stringifyError(error);\n\t\trun.events.push({\n\t\t\tname: \"error\",\n\t\t\ttime: new Date(run.end_time).toISOString()\n\t\t});\n\t\tawait this.onRetrieverError?.(run);\n\t\tawait this._endTrace(run);\n\t\treturn run;\n\t}\n\tasync handleText(text, runId) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"chain\") return;\n\t\trun.events.push({\n\t\t\tname: \"text\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: { text }\n\t\t});\n\t\tawait this.onText?.(run);\n\t}\n\tasync handleLLMNewToken(token, idx, runId, _parentRunId, _tags, fields) {\n\t\tconst run = this.getRunById(runId);\n\t\tif (!run || run?.run_type !== \"llm\") throw new Error(`Invalid \"runId\" provided to \"handleLLMNewToken\" callback.`);\n\t\trun.events.push({\n\t\t\tname: \"new_token\",\n\t\t\ttime: (/* @__PURE__ */ new Date()).toISOString(),\n\t\t\tkwargs: {\n\t\t\t\ttoken,\n\t\t\t\tidx,\n\t\t\t\tchunk: fields?.chunk\n\t\t\t}\n\t\t});\n\t\tawait this.onLLMNewToken?.(run, token, { chunk: fields?.chunk });\n\t\treturn run;\n\t}\n};\n\n//#endregion\nexports.BaseTracer = BaseTracer;\nObject.defineProperty(exports, \"base_exports\", ({\n  enumerable: true,\n  get: function () {\n    return base_exports;\n  }\n}));\nexports.isBaseTracer = isBaseTracer;\n//# sourceMappingURL=base.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2Jhc2UuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSwwQkFBMEIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDcEQsK0JBQStCLG1CQUFPLENBQUMsc0dBQXVCO0FBQzlELDZEQUE2RCxtQkFBTyxDQUFDLG9GQUFxQjs7QUFFMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsWUFBWTtBQUN4RjtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrRUFBa0U7QUFDNUUsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSSxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsV0FBVyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFdBQVcsSUFBSTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDJDQUEyQyxzQkFBc0I7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCLGdEQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9iYXNlLmNqcz9lNGIwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzX2VudiA9IHJlcXVpcmUoJy4uL3V0aWxzL2Vudi5janMnKTtcbmNvbnN0IHJlcXVpcmVfY2FsbGJhY2tzX2Jhc2UgPSByZXF1aXJlKCcuLi9jYWxsYmFja3MvYmFzZS5janMnKTtcbmNvbnN0IGxhbmdzbWl0aF9ydW5fdHJlZXMgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwibGFuZ3NtaXRoL3J1bl90cmVlc1wiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvdHJhY2Vycy9iYXNlLnRzXG52YXIgYmFzZV9leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQoYmFzZV9leHBvcnRzLCB7XG5cdEJhc2VUcmFjZXI6ICgpID0+IEJhc2VUcmFjZXIsXG5cdGlzQmFzZVRyYWNlcjogKCkgPT4gaXNCYXNlVHJhY2VyXG59KTtcbmNvbnN0IGNvbnZlcnRSdW5UcmVlVG9SdW4gPSAocnVuVHJlZSkgPT4ge1xuXHRpZiAoIXJ1blRyZWUpIHJldHVybiB2b2lkIDA7XG5cdHJ1blRyZWUuZXZlbnRzID0gcnVuVHJlZS5ldmVudHMgPz8gW107XG5cdHJ1blRyZWUuY2hpbGRfcnVucyA9IHJ1blRyZWUuY2hpbGRfcnVucyA/PyBbXTtcblx0cmV0dXJuIHJ1blRyZWU7XG59O1xuZnVuY3Rpb24gY29udmVydFJ1blRvUnVuVHJlZShydW4sIHBhcmVudFJ1bikge1xuXHRpZiAoIXJ1bikgcmV0dXJuIHZvaWQgMDtcblx0cmV0dXJuIG5ldyBsYW5nc21pdGhfcnVuX3RyZWVzLlJ1blRyZWUoe1xuXHRcdC4uLnJ1bixcblx0XHRzdGFydF90aW1lOiBydW4uX3NlcmlhbGl6ZWRfc3RhcnRfdGltZSA/PyBydW4uc3RhcnRfdGltZSxcblx0XHRwYXJlbnRfcnVuOiBjb252ZXJ0UnVuVG9SdW5UcmVlKHBhcmVudFJ1biksXG5cdFx0Y2hpbGRfcnVuczogcnVuLmNoaWxkX3J1bnMubWFwKChyKSA9PiBjb252ZXJ0UnVuVG9SdW5UcmVlKHIpKS5maWx0ZXIoKHIpID0+IHIgIT09IHZvaWQgMCksXG5cdFx0ZXh0cmE6IHtcblx0XHRcdC4uLnJ1bi5leHRyYSxcblx0XHRcdHJ1bnRpbWU6IHJlcXVpcmVfdXRpbHNfZW52LmdldFJ1bnRpbWVFbnZpcm9ubWVudCgpXG5cdFx0fSxcblx0XHR0cmFjaW5nRW5hYmxlZDogZmFsc2Vcblx0fSk7XG59XG5mdW5jdGlvbiBfY29lcmNlVG9EaWN0KHZhbHVlLCBkZWZhdWx0S2V5KSB7XG5cdHJldHVybiB2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiID8gdmFsdWUgOiB7IFtkZWZhdWx0S2V5XTogdmFsdWUgfTtcbn1cbmZ1bmN0aW9uIGlzQmFzZVRyYWNlcih4KSB7XG5cdHJldHVybiB0eXBlb2YgeC5fYWRkUnVuVG9SdW5NYXAgPT09IFwiZnVuY3Rpb25cIjtcbn1cbnZhciBCYXNlVHJhY2VyID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX2NhbGxiYWNrc19iYXNlLkJhc2VDYWxsYmFja0hhbmRsZXIge1xuXHQvKiogQGRlcHJlY2F0ZWQgVXNlIGBydW5UcmVlTWFwYCBpbnN0ZWFkLiAqL1xuXHRydW5NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHRydW5UcmVlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dXNlc1J1blRyZWVNYXAgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IoX2ZpZWxkcykge1xuXHRcdHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cdH1cblx0Y29weSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRnZXRSdW5CeUlkKHJ1bklkKSB7XG5cdFx0aWYgKHJ1bklkID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdFx0cmV0dXJuIHRoaXMudXNlc1J1blRyZWVNYXAgPyBjb252ZXJ0UnVuVHJlZVRvUnVuKHRoaXMucnVuVHJlZU1hcC5nZXQocnVuSWQpKSA6IHRoaXMucnVuTWFwLmdldChydW5JZCk7XG5cdH1cblx0c3RyaW5naWZ5RXJyb3IoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIGVycm9yLm1lc3NhZ2UgKyAoZXJyb3I/LnN0YWNrID8gYFxcblxcbiR7ZXJyb3Iuc3RhY2t9YCA6IFwiXCIpO1xuXHRcdGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHJldHVybiBlcnJvcjtcblx0XHRyZXR1cm4gYCR7ZXJyb3J9YDtcblx0fVxuXHRfYWRkQ2hpbGRSdW4ocGFyZW50UnVuLCBjaGlsZFJ1bikge1xuXHRcdHBhcmVudFJ1bi5jaGlsZF9ydW5zLnB1c2goY2hpbGRSdW4pO1xuXHR9XG5cdF9hZGRSdW5Ub1J1bk1hcChydW4pIHtcblx0XHRjb25zdCB7IGRvdHRlZE9yZGVyOiBjdXJyZW50RG90dGVkT3JkZXIsIG1pY3Jvc2Vjb25kUHJlY2lzaW9uRGF0ZXN0cmluZyB9ID0gKDAsIGxhbmdzbWl0aF9ydW5fdHJlZXMuY29udmVydFRvRG90dGVkT3JkZXJGb3JtYXQpKG5ldyBEYXRlKHJ1bi5zdGFydF90aW1lKS5nZXRUaW1lKCksIHJ1bi5pZCwgcnVuLmV4ZWN1dGlvbl9vcmRlcik7XG5cdFx0Y29uc3Qgc3RvcmVkUnVuID0geyAuLi5ydW4gfTtcblx0XHRjb25zdCBwYXJlbnRSdW4gPSB0aGlzLmdldFJ1bkJ5SWQoc3RvcmVkUnVuLnBhcmVudF9ydW5faWQpO1xuXHRcdGlmIChzdG9yZWRSdW4ucGFyZW50X3J1bl9pZCAhPT0gdm9pZCAwKSBpZiAocGFyZW50UnVuKSB7XG5cdFx0XHR0aGlzLl9hZGRDaGlsZFJ1bihwYXJlbnRSdW4sIHN0b3JlZFJ1bik7XG5cdFx0XHRwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyID0gTWF0aC5tYXgocGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciwgc3RvcmVkUnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlcik7XG5cdFx0XHRzdG9yZWRSdW4udHJhY2VfaWQgPSBwYXJlbnRSdW4udHJhY2VfaWQ7XG5cdFx0XHRpZiAocGFyZW50UnVuLmRvdHRlZF9vcmRlciAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdHN0b3JlZFJ1bi5kb3R0ZWRfb3JkZXIgPSBbcGFyZW50UnVuLmRvdHRlZF9vcmRlciwgY3VycmVudERvdHRlZE9yZGVyXS5qb2luKFwiLlwiKTtcblx0XHRcdFx0c3RvcmVkUnVuLl9zZXJpYWxpemVkX3N0YXJ0X3RpbWUgPSBtaWNyb3NlY29uZFByZWNpc2lvbkRhdGVzdHJpbmc7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHN0b3JlZFJ1bi5wYXJlbnRfcnVuX2lkID0gdm9pZCAwO1xuXHRcdGVsc2Uge1xuXHRcdFx0c3RvcmVkUnVuLnRyYWNlX2lkID0gc3RvcmVkUnVuLmlkO1xuXHRcdFx0c3RvcmVkUnVuLmRvdHRlZF9vcmRlciA9IGN1cnJlbnREb3R0ZWRPcmRlcjtcblx0XHRcdHN0b3JlZFJ1bi5fc2VyaWFsaXplZF9zdGFydF90aW1lID0gbWljcm9zZWNvbmRQcmVjaXNpb25EYXRlc3RyaW5nO1xuXHRcdH1cblx0XHRpZiAodGhpcy51c2VzUnVuVHJlZU1hcCkge1xuXHRcdFx0Y29uc3QgcnVuVHJlZSA9IGNvbnZlcnRSdW5Ub1J1blRyZWUoc3RvcmVkUnVuLCBwYXJlbnRSdW4pO1xuXHRcdFx0aWYgKHJ1blRyZWUgIT09IHZvaWQgMCkgdGhpcy5ydW5UcmVlTWFwLnNldChzdG9yZWRSdW4uaWQsIHJ1blRyZWUpO1xuXHRcdH0gZWxzZSB0aGlzLnJ1bk1hcC5zZXQoc3RvcmVkUnVuLmlkLCBzdG9yZWRSdW4pO1xuXHRcdHJldHVybiBzdG9yZWRSdW47XG5cdH1cblx0YXN5bmMgX2VuZFRyYWNlKHJ1bikge1xuXHRcdGNvbnN0IHBhcmVudFJ1biA9IHJ1bi5wYXJlbnRfcnVuX2lkICE9PSB2b2lkIDAgJiYgdGhpcy5nZXRSdW5CeUlkKHJ1bi5wYXJlbnRfcnVuX2lkKTtcblx0XHRpZiAocGFyZW50UnVuKSBwYXJlbnRSdW4uY2hpbGRfZXhlY3V0aW9uX29yZGVyID0gTWF0aC5tYXgocGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciwgcnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlcik7XG5cdFx0ZWxzZSBhd2FpdCB0aGlzLnBlcnNpc3RSdW4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuVXBkYXRlPy4ocnVuKTtcblx0XHRpZiAodGhpcy51c2VzUnVuVHJlZU1hcCkgdGhpcy5ydW5UcmVlTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGVsc2UgdGhpcy5ydW5NYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdH1cblx0X2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKSB7XG5cdFx0Y29uc3QgcGFyZW50UnVuID0gcGFyZW50UnVuSWQgIT09IHZvaWQgMCAmJiB0aGlzLmdldFJ1bkJ5SWQocGFyZW50UnVuSWQpO1xuXHRcdGlmICghcGFyZW50UnVuKSByZXR1cm4gMTtcblx0XHRyZXR1cm4gcGFyZW50UnVuLmNoaWxkX2V4ZWN1dGlvbl9vcmRlciArIDE7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIExMTSBzdGFydCBldmVudHMuXG5cdCogVGhpcyBtdXN0IHNvbWV0aW1lcyBiZSBkb25lIHN5bmNocm9ub3VzbHkgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zXG5cdCogd2hlbiBjYWxsYmFja3MgYXJlIGJhY2tncm91bmRlZCwgc28gd2UgZXhwb3NlIGl0IGFzIGEgc2VwYXJhdGUgbWV0aG9kIGhlcmUuXG5cdCovXG5cdF9jcmVhdGVSdW5Gb3JMTE1TdGFydChsbG0sIHByb21wdHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IGZpbmFsRXh0cmFQYXJhbXMgPSBtZXRhZGF0YSA/IHtcblx0XHRcdC4uLmV4dHJhUGFyYW1zLFxuXHRcdFx0bWV0YWRhdGFcblx0XHR9IDogZXh0cmFQYXJhbXM7XG5cdFx0Y29uc3QgcnVuID0ge1xuXHRcdFx0aWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogbmFtZSA/PyBsbG0uaWRbbGxtLmlkLmxlbmd0aCAtIDFdLFxuXHRcdFx0cGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG5cdFx0XHRzdGFydF90aW1lLFxuXHRcdFx0c2VyaWFsaXplZDogbGxtLFxuXHRcdFx0ZXZlbnRzOiBbe1xuXHRcdFx0XHRuYW1lOiBcInN0YXJ0XCIsXG5cdFx0XHRcdHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH1dLFxuXHRcdFx0aW5wdXRzOiB7IHByb21wdHMgfSxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX3J1bnM6IFtdLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogXCJsbG1cIixcblx0XHRcdGV4dHJhOiBmaW5hbEV4dHJhUGFyYW1zID8/IHt9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCkgPz8gdGhpcy5fY3JlYXRlUnVuRm9yTExNU3RhcnQobGxtLCBwcm9tcHRzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSk7XG5cdFx0YXdhaXQgdGhpcy5vblJ1bkNyZWF0ZT8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5vbkxMTVN0YXJ0Py4ocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhbmQgYWRkIGEgcnVuIHRvIHRoZSBydW4gbWFwIGZvciBjaGF0IG1vZGVsIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvckNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgZXhlY3V0aW9uX29yZGVyID0gdGhpcy5fZ2V0RXhlY3V0aW9uT3JkZXIocGFyZW50UnVuSWQpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdGNvbnN0IGZpbmFsRXh0cmFQYXJhbXMgPSBtZXRhZGF0YSA/IHtcblx0XHRcdC4uLmV4dHJhUGFyYW1zLFxuXHRcdFx0bWV0YWRhdGFcblx0XHR9IDogZXh0cmFQYXJhbXM7XG5cdFx0Y29uc3QgcnVuID0ge1xuXHRcdFx0aWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogbmFtZSA/PyBsbG0uaWRbbGxtLmlkLmxlbmd0aCAtIDFdLFxuXHRcdFx0cGFyZW50X3J1bl9pZDogcGFyZW50UnVuSWQsXG5cdFx0XHRzdGFydF90aW1lLFxuXHRcdFx0c2VyaWFsaXplZDogbGxtLFxuXHRcdFx0ZXZlbnRzOiBbe1xuXHRcdFx0XHRuYW1lOiBcInN0YXJ0XCIsXG5cdFx0XHRcdHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH1dLFxuXHRcdFx0aW5wdXRzOiB7IG1lc3NhZ2VzIH0sXG5cdFx0XHRleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRjaGlsZF9ydW5zOiBbXSxcblx0XHRcdGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0cnVuX3R5cGU6IFwibGxtXCIsXG5cdFx0XHRleHRyYTogZmluYWxFeHRyYVBhcmFtcyA/PyB7fSxcblx0XHRcdHRhZ3M6IHRhZ3MgfHwgW11cblx0XHR9O1xuXHRcdHJldHVybiB0aGlzLl9hZGRSdW5Ub1J1bk1hcChydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYXRNb2RlbFN0YXJ0KGxsbSwgbWVzc2FnZXMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgZXh0cmFQYXJhbXMsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JDaGF0TW9kZWxTdGFydChsbG0sIG1lc3NhZ2VzLCBydW5JZCwgcGFyZW50UnVuSWQsIGV4dHJhUGFyYW1zLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSk7XG5cdFx0YXdhaXQgdGhpcy5vblJ1bkNyZWF0ZT8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5vbkxMTVN0YXJ0Py4ocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTUVuZChvdXRwdXQsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBleHRyYVBhcmFtcykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJsbG1cIikgdGhyb3cgbmV3IEVycm9yKFwiTm8gTExNIHJ1biB0byBlbmQuXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLm91dHB1dHMgPSBvdXRwdXQ7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZW5kXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRydW4uZXh0cmEgPSB7XG5cdFx0XHQuLi5ydW4uZXh0cmEsXG5cdFx0XHQuLi5leHRyYVBhcmFtc1xuXHRcdH07XG5cdFx0YXdhaXQgdGhpcy5vbkxMTUVuZD8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUxMTUVycm9yKGVycm9yLCBydW5JZCwgX3BhcmVudFJ1bklkLCBfdGFncywgZXh0cmFQYXJhbXMpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwibGxtXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIExMTSBydW4gdG8gZW5kLlwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5lcnJvciA9IHRoaXMuc3RyaW5naWZ5RXJyb3IoZXJyb3IpO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVycm9yXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRydW4uZXh0cmEgPSB7XG5cdFx0XHQuLi5ydW4uZXh0cmEsXG5cdFx0XHQuLi5leHRyYVBhcmFtc1xuXHRcdH07XG5cdFx0YXdhaXQgdGhpcy5vbkxMTUVycm9yPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlIGFuZCBhZGQgYSBydW4gdG8gdGhlIHJ1biBtYXAgZm9yIGNoYWluIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvckNoYWluU3RhcnQoY2hhaW4sIGlucHV0cywgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgcnVuVHlwZSwgbmFtZSwgZXh0cmEpIHtcblx0XHRjb25zdCBleGVjdXRpb25fb3JkZXIgPSB0aGlzLl9nZXRFeGVjdXRpb25PcmRlcihwYXJlbnRSdW5JZCk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0Y29uc3QgcnVuID0ge1xuXHRcdFx0aWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogbmFtZSA/PyBjaGFpbi5pZFtjaGFpbi5pZC5sZW5ndGggLSAxXSxcblx0XHRcdHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuXHRcdFx0c3RhcnRfdGltZSxcblx0XHRcdHNlcmlhbGl6ZWQ6IGNoYWluLFxuXHRcdFx0ZXZlbnRzOiBbe1xuXHRcdFx0XHRuYW1lOiBcInN0YXJ0XCIsXG5cdFx0XHRcdHRpbWU6IG5ldyBEYXRlKHN0YXJ0X3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH1dLFxuXHRcdFx0aW5wdXRzLFxuXHRcdFx0ZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0Y2hpbGRfZXhlY3V0aW9uX29yZGVyOiBleGVjdXRpb25fb3JkZXIsXG5cdFx0XHRydW5fdHlwZTogcnVuVHlwZSA/PyBcImNoYWluXCIsXG5cdFx0XHRjaGlsZF9ydW5zOiBbXSxcblx0XHRcdGV4dHJhOiBtZXRhZGF0YSA/IHtcblx0XHRcdFx0Li4uZXh0cmEsXG5cdFx0XHRcdG1ldGFkYXRhXG5cdFx0XHR9IDogeyAuLi5leHRyYSB9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlQ2hhaW5TdGFydChjaGFpbiwgaW5wdXRzLCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBydW5UeXBlLCBuYW1lKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKSA/PyB0aGlzLl9jcmVhdGVSdW5Gb3JDaGFpblN0YXJ0KGNoYWluLCBpbnB1dHMsIHJ1bklkLCBwYXJlbnRSdW5JZCwgdGFncywgbWV0YWRhdGEsIHJ1blR5cGUsIG5hbWUpO1xuXHRcdGF3YWl0IHRoaXMub25SdW5DcmVhdGU/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMub25DaGFpblN0YXJ0Py4ocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluRW5kKG91dHB1dHMsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbiBydW4gdG8gZW5kLlwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5vdXRwdXRzID0gX2NvZXJjZVRvRGljdChvdXRwdXRzLCBcIm91dHB1dFwiKTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlbmRcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGlmIChrd2FyZ3M/LmlucHV0cyAhPT0gdm9pZCAwKSBydW4uaW5wdXRzID0gX2NvZXJjZVRvRGljdChrd2FyZ3MuaW5wdXRzLCBcImlucHV0XCIpO1xuXHRcdGF3YWl0IHRoaXMub25DaGFpbkVuZD8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZUNoYWluRXJyb3IoZXJyb3IsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF90YWdzLCBrd2FyZ3MpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBjaGFpbiBydW4gdG8gZW5kLlwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5lcnJvciA9IHRoaXMuc3RyaW5naWZ5RXJyb3IoZXJyb3IpO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVycm9yXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRpZiAoa3dhcmdzPy5pbnB1dHMgIT09IHZvaWQgMCkgcnVuLmlucHV0cyA9IF9jb2VyY2VUb0RpY3Qoa3dhcmdzLmlucHV0cywgXCJpbnB1dFwiKTtcblx0XHRhd2FpdCB0aGlzLm9uQ2hhaW5FcnJvcj8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhbmQgYWRkIGEgcnVuIHRvIHRoZSBydW4gbWFwIGZvciB0b29sIHN0YXJ0IGV2ZW50cy5cblx0KiBUaGlzIG11c3Qgc29tZXRpbWVzIGJlIGRvbmUgc3luY2hyb25vdXNseSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcblx0KiB3aGVuIGNhbGxiYWNrcyBhcmUgYmFja2dyb3VuZGVkLCBzbyB3ZSBleHBvc2UgaXQgYXMgYSBzZXBhcmF0ZSBtZXRob2QgaGVyZS5cblx0Ki9cblx0X2NyZWF0ZVJ1bkZvclRvb2xTdGFydCh0b29sLCBpbnB1dCwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuXHRcdGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IHRvb2wuaWRbdG9vbC5pZC5sZW5ndGggLSAxXSxcblx0XHRcdHBhcmVudF9ydW5faWQ6IHBhcmVudFJ1bklkLFxuXHRcdFx0c3RhcnRfdGltZSxcblx0XHRcdHNlcmlhbGl6ZWQ6IHRvb2wsXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgaW5wdXQgfSxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0cnVuX3R5cGU6IFwidG9vbFwiLFxuXHRcdFx0Y2hpbGRfcnVuczogW10sXG5cdFx0XHRleHRyYTogbWV0YWRhdGEgPyB7IG1ldGFkYXRhIH0gOiB7fSxcblx0XHRcdHRhZ3M6IHRhZ3MgfHwgW11cblx0XHR9O1xuXHRcdHJldHVybiB0aGlzLl9hZGRSdW5Ub1J1bk1hcChydW4pO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRvb2xTdGFydCh0b29sLCBpbnB1dCwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCkgPz8gdGhpcy5fY3JlYXRlUnVuRm9yVG9vbFN0YXJ0KHRvb2wsIGlucHV0LCBydW5JZCwgcGFyZW50UnVuSWQsIHRhZ3MsIG1ldGFkYXRhLCBuYW1lKTtcblx0XHRhd2FpdCB0aGlzLm9uUnVuQ3JlYXRlPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLm9uVG9vbFN0YXJ0Py4ocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRvb2xFbmQob3V0cHV0LCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5vdXRwdXRzID0geyBvdXRwdXQgfTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlbmRcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25Ub29sRW5kPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlVG9vbEVycm9yKGVycm9yLCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJ0b29sXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgcnVuIHRvIGVuZFwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5lcnJvciA9IHRoaXMuc3RyaW5naWZ5RXJyb3IoZXJyb3IpO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcImVycm9yXCIsXG5cdFx0XHR0aW1lOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uVG9vbEVycm9yPy4ocnVuKTtcblx0XHRhd2FpdCB0aGlzLl9lbmRUcmFjZShydW4pO1xuXHRcdHJldHVybiBydW47XG5cdH1cblx0YXN5bmMgaGFuZGxlQWdlbnRBY3Rpb24oYWN0aW9uLCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSByZXR1cm47XG5cdFx0Y29uc3QgYWdlbnRSdW4gPSBydW47XG5cdFx0YWdlbnRSdW4uYWN0aW9ucyA9IGFnZW50UnVuLmFjdGlvbnMgfHwgW107XG5cdFx0YWdlbnRSdW4uYWN0aW9ucy5wdXNoKGFjdGlvbik7XG5cdFx0YWdlbnRSdW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJhZ2VudF9hY3Rpb25cIixcblx0XHRcdHRpbWU6ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKSxcblx0XHRcdGt3YXJnczogeyBhY3Rpb24gfVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25BZ2VudEFjdGlvbj8uKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlQWdlbnRFbmQoYWN0aW9uLCBydW5JZCkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJjaGFpblwiKSByZXR1cm47XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiYWdlbnRfZW5kXCIsXG5cdFx0XHR0aW1lOiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRrd2FyZ3M6IHsgYWN0aW9uIH1cblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uQWdlbnRFbmQ/LihydW4pO1xuXHR9XG5cdC8qKlxuXHQqIENyZWF0ZSBhbmQgYWRkIGEgcnVuIHRvIHRoZSBydW4gbWFwIGZvciByZXRyaWV2ZXIgc3RhcnQgZXZlbnRzLlxuXHQqIFRoaXMgbXVzdCBzb21ldGltZXMgYmUgZG9uZSBzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXHQqIHdoZW4gY2FsbGJhY2tzIGFyZSBiYWNrZ3JvdW5kZWQsIHNvIHdlIGV4cG9zZSBpdCBhcyBhIHNlcGFyYXRlIG1ldGhvZCBoZXJlLlxuXHQqL1xuXHRfY3JlYXRlUnVuRm9yUmV0cmlldmVyU3RhcnQocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuXHRcdGNvbnN0IGV4ZWN1dGlvbl9vcmRlciA9IHRoaXMuX2dldEV4ZWN1dGlvbk9yZGVyKHBhcmVudFJ1bklkKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gRGF0ZS5ub3coKTtcblx0XHRjb25zdCBydW4gPSB7XG5cdFx0XHRpZDogcnVuSWQsXG5cdFx0XHRuYW1lOiBuYW1lID8/IHJldHJpZXZlci5pZFtyZXRyaWV2ZXIuaWQubGVuZ3RoIC0gMV0sXG5cdFx0XHRwYXJlbnRfcnVuX2lkOiBwYXJlbnRSdW5JZCxcblx0XHRcdHN0YXJ0X3RpbWUsXG5cdFx0XHRzZXJpYWxpemVkOiByZXRyaWV2ZXIsXG5cdFx0XHRldmVudHM6IFt7XG5cdFx0XHRcdG5hbWU6IFwic3RhcnRcIixcblx0XHRcdFx0dGltZTogbmV3IERhdGUoc3RhcnRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdFx0fV0sXG5cdFx0XHRpbnB1dHM6IHsgcXVlcnkgfSxcblx0XHRcdGV4ZWN1dGlvbl9vcmRlcixcblx0XHRcdGNoaWxkX2V4ZWN1dGlvbl9vcmRlcjogZXhlY3V0aW9uX29yZGVyLFxuXHRcdFx0cnVuX3R5cGU6IFwicmV0cmlldmVyXCIsXG5cdFx0XHRjaGlsZF9ydW5zOiBbXSxcblx0XHRcdGV4dHJhOiBtZXRhZGF0YSA/IHsgbWV0YWRhdGEgfSA6IHt9LFxuXHRcdFx0dGFnczogdGFncyB8fCBbXVxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMuX2FkZFJ1blRvUnVuTWFwKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlUmV0cmlldmVyU3RhcnQocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSkge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCkgPz8gdGhpcy5fY3JlYXRlUnVuRm9yUmV0cmlldmVyU3RhcnQocmV0cmlldmVyLCBxdWVyeSwgcnVuSWQsIHBhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgbmFtZSk7XG5cdFx0YXdhaXQgdGhpcy5vblJ1bkNyZWF0ZT8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5vblJldHJpZXZlclN0YXJ0Py4ocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVJldHJpZXZlckVuZChkb2N1bWVudHMsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuID0gdGhpcy5nZXRSdW5CeUlkKHJ1bklkKTtcblx0XHRpZiAoIXJ1biB8fCBydW4/LnJ1bl90eXBlICE9PSBcInJldHJpZXZlclwiKSB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXRyaWV2ZXIgcnVuIHRvIGVuZFwiKTtcblx0XHRydW4uZW5kX3RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdHJ1bi5vdXRwdXRzID0geyBkb2N1bWVudHMgfTtcblx0XHRydW4uZXZlbnRzLnB1c2goe1xuXHRcdFx0bmFtZTogXCJlbmRcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFbmQ/LihydW4pO1xuXHRcdGF3YWl0IHRoaXMuX2VuZFRyYWNlKHJ1bik7XG5cdFx0cmV0dXJuIHJ1bjtcblx0fVxuXHRhc3luYyBoYW5kbGVSZXRyaWV2ZXJFcnJvcihlcnJvciwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwicmV0cmlldmVyXCIpIHRocm93IG5ldyBFcnJvcihcIk5vIHJldHJpZXZlciBydW4gdG8gZW5kXCIpO1xuXHRcdHJ1bi5lbmRfdGltZSA9IERhdGUubm93KCk7XG5cdFx0cnVuLmVycm9yID0gdGhpcy5zdHJpbmdpZnlFcnJvcihlcnJvcik7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwiZXJyb3JcIixcblx0XHRcdHRpbWU6IG5ldyBEYXRlKHJ1bi5lbmRfdGltZSkudG9JU09TdHJpbmcoKVxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMub25SZXRyaWV2ZXJFcnJvcj8uKHJ1bik7XG5cdFx0YXdhaXQgdGhpcy5fZW5kVHJhY2UocnVuKTtcblx0XHRyZXR1cm4gcnVuO1xuXHR9XG5cdGFzeW5jIGhhbmRsZVRleHQodGV4dCwgcnVuSWQpIHtcblx0XHRjb25zdCBydW4gPSB0aGlzLmdldFJ1bkJ5SWQocnVuSWQpO1xuXHRcdGlmICghcnVuIHx8IHJ1bj8ucnVuX3R5cGUgIT09IFwiY2hhaW5cIikgcmV0dXJuO1xuXHRcdHJ1bi5ldmVudHMucHVzaCh7XG5cdFx0XHRuYW1lOiBcInRleHRcIixcblx0XHRcdHRpbWU6ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKSxcblx0XHRcdGt3YXJnczogeyB0ZXh0IH1cblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uVGV4dD8uKHJ1bik7XG5cdH1cblx0YXN5bmMgaGFuZGxlTExNTmV3VG9rZW4odG9rZW4sIGlkeCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuXHRcdGNvbnN0IHJ1biA9IHRoaXMuZ2V0UnVuQnlJZChydW5JZCk7XG5cdFx0aWYgKCFydW4gfHwgcnVuPy5ydW5fdHlwZSAhPT0gXCJsbG1cIikgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFwicnVuSWRcIiBwcm92aWRlZCB0byBcImhhbmRsZUxMTU5ld1Rva2VuXCIgY2FsbGJhY2suYCk7XG5cdFx0cnVuLmV2ZW50cy5wdXNoKHtcblx0XHRcdG5hbWU6IFwibmV3X3Rva2VuXCIsXG5cdFx0XHR0aW1lOiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRrd2FyZ3M6IHtcblx0XHRcdFx0dG9rZW4sXG5cdFx0XHRcdGlkeCxcblx0XHRcdFx0Y2h1bms6IGZpZWxkcz8uY2h1bmtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRhd2FpdCB0aGlzLm9uTExNTmV3VG9rZW4/LihydW4sIHRva2VuLCB7IGNodW5rOiBmaWVsZHM/LmNodW5rIH0pO1xuXHRcdHJldHVybiBydW47XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5CYXNlVHJhY2VyID0gQmFzZVRyYWNlcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYmFzZV9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYmFzZV9leHBvcnRzO1xuICB9XG59KTtcbmV4cG9ydHMuaXNCYXNlVHJhY2VyID0gaXNCYXNlVHJhY2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/console.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/console.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_tracers_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\nconst ansi_styles = require_rolldown_runtime.__toESM(__webpack_require__(/*! ansi-styles */ \"(action-browser)/./node_modules/ansi-styles/index.js\"));\n\n//#region src/tracers/console.ts\nvar console_exports = {};\nrequire_rolldown_runtime.__export(console_exports, { ConsoleCallbackHandler: () => ConsoleCallbackHandler });\nfunction wrap(style, text) {\n\treturn `${style.open}${text}${style.close}`;\n}\nfunction tryJsonStringify(obj, fallback) {\n\ttry {\n\t\treturn JSON.stringify(obj, null, 2);\n\t} catch {\n\t\treturn fallback;\n\t}\n}\nfunction formatKVMapItem(value) {\n\tif (typeof value === \"string\") return value.trim();\n\tif (value === null || value === void 0) return value;\n\treturn tryJsonStringify(value, value.toString());\n}\nfunction elapsed(run) {\n\tif (!run.end_time) return \"\";\n\tconst elapsed$1 = run.end_time - run.start_time;\n\tif (elapsed$1 < 1e3) return `${elapsed$1}ms`;\n\treturn `${(elapsed$1 / 1e3).toFixed(2)}s`;\n}\nconst { color } = ansi_styles.default;\n/**\n* A tracer that logs all events to the console. It extends from the\n* `BaseTracer` class and overrides its methods to provide custom logging\n* functionality.\n* @example\n* ```typescript\n*\n* const llm = new ChatAnthropic({\n*   temperature: 0,\n*   tags: [\"example\", \"callbacks\", \"constructor\"],\n*   callbacks: [new ConsoleCallbackHandler()],\n* });\n*\n* ```\n*/\nvar ConsoleCallbackHandler = class extends require_tracers_base.BaseTracer {\n\tname = \"console_callback_handler\";\n\t/**\n\t* Method used to persist the run. In this case, it simply returns a\n\t* resolved promise as there's no persistence logic.\n\t* @param _run The run to persist.\n\t* @returns A resolved promise.\n\t*/\n\tpersistRun(_run) {\n\t\treturn Promise.resolve();\n\t}\n\t/**\n\t* Method used to get all the parent runs of a given run.\n\t* @param run The run whose parents are to be retrieved.\n\t* @returns An array of parent runs.\n\t*/\n\tgetParents(run) {\n\t\tconst parents = [];\n\t\tlet currentRun = run;\n\t\twhile (currentRun.parent_run_id) {\n\t\t\tconst parent = this.runMap.get(currentRun.parent_run_id);\n\t\t\tif (parent) {\n\t\t\t\tparents.push(parent);\n\t\t\t\tcurrentRun = parent;\n\t\t\t} else break;\n\t\t}\n\t\treturn parents;\n\t}\n\t/**\n\t* Method used to get a string representation of the run's lineage, which\n\t* is used in logging.\n\t* @param run The run whose lineage is to be retrieved.\n\t* @returns A string representation of the run's lineage.\n\t*/\n\tgetBreadcrumbs(run) {\n\t\tconst parents = this.getParents(run).reverse();\n\t\tconst string = [...parents, run].map((parent, i, arr) => {\n\t\t\tconst name = `${parent.execution_order}:${parent.run_type}:${parent.name}`;\n\t\t\treturn i === arr.length - 1 ? wrap(ansi_styles.default.bold, name) : name;\n\t\t}).join(\" > \");\n\t\treturn wrap(color.grey, string);\n\t}\n\t/**\n\t* Method used to log the start of a chain run.\n\t* @param run The chain run that has started.\n\t* @returns void\n\t*/\n\tonChainStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[chain/start]\")} [${crumbs}] Entering Chain run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a chain run.\n\t* @param run The chain run that has ended.\n\t* @returns void\n\t*/\n\tonChainEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[chain/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Chain run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a chain run.\n\t* @param run The chain run that has errored.\n\t* @returns void\n\t*/\n\tonChainError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[chain/error]\")} [${crumbs}] [${elapsed(run)}] Chain run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of an LLM run.\n\t* @param run The LLM run that has started.\n\t* @returns void\n\t*/\n\tonLLMStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconst inputs = \"prompts\" in run.inputs ? { prompts: run.inputs.prompts.map((p) => p.trim()) } : run.inputs;\n\t\tconsole.log(`${wrap(color.green, \"[llm/start]\")} [${crumbs}] Entering LLM run with input: ${tryJsonStringify(inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of an LLM run.\n\t* @param run The LLM run that has ended.\n\t* @returns void\n\t*/\n\tonLLMEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[llm/end]\")} [${crumbs}] [${elapsed(run)}] Exiting LLM run with output: ${tryJsonStringify(run.outputs, \"[response]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of an LLM run.\n\t* @param run The LLM run that has errored.\n\t* @returns void\n\t*/\n\tonLLMError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[llm/error]\")} [${crumbs}] [${elapsed(run)}] LLM run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a tool run.\n\t* @param run The tool run that has started.\n\t* @returns void\n\t*/\n\tonToolStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[tool/start]\")} [${crumbs}] Entering Tool run with input: \"${formatKVMapItem(run.inputs.input)}\"`);\n\t}\n\t/**\n\t* Method used to log the end of a tool run.\n\t* @param run The tool run that has ended.\n\t* @returns void\n\t*/\n\tonToolEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[tool/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Tool run with output: \"${formatKVMapItem(run.outputs?.output)}\"`);\n\t}\n\t/**\n\t* Method used to log any errors of a tool run.\n\t* @param run The tool run that has errored.\n\t* @returns void\n\t*/\n\tonToolError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[tool/error]\")} [${crumbs}] [${elapsed(run)}] Tool run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the start of a retriever run.\n\t* @param run The retriever run that has started.\n\t* @returns void\n\t*/\n\tonRetrieverStart(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.green, \"[retriever/start]\")} [${crumbs}] Entering Retriever run with input: ${tryJsonStringify(run.inputs, \"[inputs]\")}`);\n\t}\n\t/**\n\t* Method used to log the end of a retriever run.\n\t* @param run The retriever run that has ended.\n\t* @returns void\n\t*/\n\tonRetrieverEnd(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.cyan, \"[retriever/end]\")} [${crumbs}] [${elapsed(run)}] Exiting Retriever run with output: ${tryJsonStringify(run.outputs, \"[outputs]\")}`);\n\t}\n\t/**\n\t* Method used to log any errors of a retriever run.\n\t* @param run The retriever run that has errored.\n\t* @returns void\n\t*/\n\tonRetrieverError(run) {\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.red, \"[retriever/error]\")} [${crumbs}] [${elapsed(run)}] Retriever run errored with error: ${tryJsonStringify(run.error, \"[error]\")}`);\n\t}\n\t/**\n\t* Method used to log the action selected by the agent.\n\t* @param run The run in which the agent action occurred.\n\t* @returns void\n\t*/\n\tonAgentAction(run) {\n\t\tconst agentRun = run;\n\t\tconst crumbs = this.getBreadcrumbs(run);\n\t\tconsole.log(`${wrap(color.blue, \"[agent/action]\")} [${crumbs}] Agent selected action: ${tryJsonStringify(agentRun.actions[agentRun.actions.length - 1], \"[action]\")}`);\n\t}\n};\n\n//#endregion\nexports.ConsoleCallbackHandler = ConsoleCallbackHandler;\nObject.defineProperty(exports, \"console_exports\", ({\n  enumerable: true,\n  get: function () {\n    return console_exports;\n  }\n}));\n//# sourceMappingURL=console.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2NvbnNvbGUuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSw2QkFBNkIsbUJBQU8sQ0FBQyx5RkFBWTtBQUNqRCxxREFBcUQsbUJBQU8sQ0FBQyx5RUFBYTs7QUFFMUU7QUFDQTtBQUNBLHFEQUFxRCxzREFBc0Q7QUFDM0c7QUFDQSxXQUFXLFdBQVcsRUFBRSxLQUFLLEVBQUUsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUMsV0FBVyw2QkFBNkI7QUFDeEM7QUFDQSxRQUFRLFFBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QixHQUFHLGdCQUFnQixHQUFHLFlBQVk7QUFDNUU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQyxHQUFHLE9BQU8sbUNBQW1DLHlDQUF5QztBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlDQUFpQyxHQUFHLE9BQU8sS0FBSyxhQUFhLG1DQUFtQywyQ0FBMkM7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQ0FBa0MsR0FBRyxPQUFPLEtBQUssYUFBYSxrQ0FBa0MsdUNBQXVDO0FBQ3hKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsbURBQW1EO0FBQ2hHLGlCQUFpQixrQ0FBa0MsR0FBRyxPQUFPLGlDQUFpQyxxQ0FBcUM7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrQkFBK0IsR0FBRyxPQUFPLEtBQUssYUFBYSxpQ0FBaUMsNENBQTRDO0FBQ3pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0NBQWdDLEdBQUcsT0FBTyxLQUFLLGFBQWEsZ0NBQWdDLHVDQUF1QztBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1DQUFtQyxHQUFHLE9BQU8sbUNBQW1DLGtDQUFrQztBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQyxHQUFHLE9BQU8sS0FBSyxhQUFhLG1DQUFtQyxxQ0FBcUM7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpQ0FBaUMsR0FBRyxPQUFPLEtBQUssYUFBYSxpQ0FBaUMsdUNBQXVDO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0NBQXdDLEdBQUcsT0FBTyx1Q0FBdUMseUNBQXlDO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUNBQXFDLEdBQUcsT0FBTyxLQUFLLGFBQWEsdUNBQXVDLDJDQUEyQztBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNDQUFzQyxHQUFHLE9BQU8sS0FBSyxhQUFhLHNDQUFzQyx1Q0FBdUM7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9DQUFvQyxHQUFHLE9BQU8sMkJBQTJCLDRFQUE0RTtBQUN0SztBQUNBOztBQUVBO0FBQ0EsOEJBQThCO0FBQzlCLG1EQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2NvbnNvbGUuY2pzPzAwMDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdHJhY2Vyc19iYXNlID0gcmVxdWlyZSgnLi9iYXNlLmNqcycpO1xuY29uc3QgYW5zaV9zdHlsZXMgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwiYW5zaS1zdHlsZXNcIikpO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvY29uc29sZS50c1xudmFyIGNvbnNvbGVfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGNvbnNvbGVfZXhwb3J0cywgeyBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyOiAoKSA9PiBDb25zb2xlQ2FsbGJhY2tIYW5kbGVyIH0pO1xuZnVuY3Rpb24gd3JhcChzdHlsZSwgdGV4dCkge1xuXHRyZXR1cm4gYCR7c3R5bGUub3Blbn0ke3RleHR9JHtzdHlsZS5jbG9zZX1gO1xufVxuZnVuY3Rpb24gdHJ5SnNvblN0cmluZ2lmeShvYmosIGZhbGxiYWNrKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxsYmFjaztcblx0fVxufVxuZnVuY3Rpb24gZm9ybWF0S1ZNYXBJdGVtKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiB2YWx1ZS50cmltKCk7XG5cdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwKSByZXR1cm4gdmFsdWU7XG5cdHJldHVybiB0cnlKc29uU3RyaW5naWZ5KHZhbHVlLCB2YWx1ZS50b1N0cmluZygpKTtcbn1cbmZ1bmN0aW9uIGVsYXBzZWQocnVuKSB7XG5cdGlmICghcnVuLmVuZF90aW1lKSByZXR1cm4gXCJcIjtcblx0Y29uc3QgZWxhcHNlZCQxID0gcnVuLmVuZF90aW1lIC0gcnVuLnN0YXJ0X3RpbWU7XG5cdGlmIChlbGFwc2VkJDEgPCAxZTMpIHJldHVybiBgJHtlbGFwc2VkJDF9bXNgO1xuXHRyZXR1cm4gYCR7KGVsYXBzZWQkMSAvIDFlMykudG9GaXhlZCgyKX1zYDtcbn1cbmNvbnN0IHsgY29sb3IgfSA9IGFuc2lfc3R5bGVzLmRlZmF1bHQ7XG4vKipcbiogQSB0cmFjZXIgdGhhdCBsb2dzIGFsbCBldmVudHMgdG8gdGhlIGNvbnNvbGUuIEl0IGV4dGVuZHMgZnJvbSB0aGVcbiogYEJhc2VUcmFjZXJgIGNsYXNzIGFuZCBvdmVycmlkZXMgaXRzIG1ldGhvZHMgdG8gcHJvdmlkZSBjdXN0b20gbG9nZ2luZ1xuKiBmdW5jdGlvbmFsaXR5LlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qXG4qIGNvbnN0IGxsbSA9IG5ldyBDaGF0QW50aHJvcGljKHtcbiogICB0ZW1wZXJhdHVyZTogMCxcbiogICB0YWdzOiBbXCJleGFtcGxlXCIsIFwiY2FsbGJhY2tzXCIsIFwiY29uc3RydWN0b3JcIl0sXG4qICAgY2FsbGJhY2tzOiBbbmV3IENvbnNvbGVDYWxsYmFja0hhbmRsZXIoKV0sXG4qIH0pO1xuKlxuKiBgYGBcbiovXG52YXIgQ29uc29sZUNhbGxiYWNrSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgcmVxdWlyZV90cmFjZXJzX2Jhc2UuQmFzZVRyYWNlciB7XG5cdG5hbWUgPSBcImNvbnNvbGVfY2FsbGJhY2tfaGFuZGxlclwiO1xuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBwZXJzaXN0IHRoZSBydW4uIEluIHRoaXMgY2FzZSwgaXQgc2ltcGx5IHJldHVybnMgYVxuXHQqIHJlc29sdmVkIHByb21pc2UgYXMgdGhlcmUncyBubyBwZXJzaXN0ZW5jZSBsb2dpYy5cblx0KiBAcGFyYW0gX3J1biBUaGUgcnVuIHRvIHBlcnNpc3QuXG5cdCogQHJldHVybnMgQSByZXNvbHZlZCBwcm9taXNlLlxuXHQqL1xuXHRwZXJzaXN0UnVuKF9ydW4pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gZ2V0IGFsbCB0aGUgcGFyZW50IHJ1bnMgb2YgYSBnaXZlbiBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgcnVuIHdob3NlIHBhcmVudHMgYXJlIHRvIGJlIHJldHJpZXZlZC5cblx0KiBAcmV0dXJucyBBbiBhcnJheSBvZiBwYXJlbnQgcnVucy5cblx0Ki9cblx0Z2V0UGFyZW50cyhydW4pIHtcblx0XHRjb25zdCBwYXJlbnRzID0gW107XG5cdFx0bGV0IGN1cnJlbnRSdW4gPSBydW47XG5cdFx0d2hpbGUgKGN1cnJlbnRSdW4ucGFyZW50X3J1bl9pZCkge1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5ydW5NYXAuZ2V0KGN1cnJlbnRSdW4ucGFyZW50X3J1bl9pZCk7XG5cdFx0XHRpZiAocGFyZW50KSB7XG5cdFx0XHRcdHBhcmVudHMucHVzaChwYXJlbnQpO1xuXHRcdFx0XHRjdXJyZW50UnVuID0gcGFyZW50O1xuXHRcdFx0fSBlbHNlIGJyZWFrO1xuXHRcdH1cblx0XHRyZXR1cm4gcGFyZW50cztcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBnZXQgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJ1bidzIGxpbmVhZ2UsIHdoaWNoXG5cdCogaXMgdXNlZCBpbiBsb2dnaW5nLlxuXHQqIEBwYXJhbSBydW4gVGhlIHJ1biB3aG9zZSBsaW5lYWdlIGlzIHRvIGJlIHJldHJpZXZlZC5cblx0KiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcnVuJ3MgbGluZWFnZS5cblx0Ki9cblx0Z2V0QnJlYWRjcnVtYnMocnVuKSB7XG5cdFx0Y29uc3QgcGFyZW50cyA9IHRoaXMuZ2V0UGFyZW50cyhydW4pLnJldmVyc2UoKTtcblx0XHRjb25zdCBzdHJpbmcgPSBbLi4ucGFyZW50cywgcnVuXS5tYXAoKHBhcmVudCwgaSwgYXJyKSA9PiB7XG5cdFx0XHRjb25zdCBuYW1lID0gYCR7cGFyZW50LmV4ZWN1dGlvbl9vcmRlcn06JHtwYXJlbnQucnVuX3R5cGV9OiR7cGFyZW50Lm5hbWV9YDtcblx0XHRcdHJldHVybiBpID09PSBhcnIubGVuZ3RoIC0gMSA/IHdyYXAoYW5zaV9zdHlsZXMuZGVmYXVsdC5ib2xkLCBuYW1lKSA6IG5hbWU7XG5cdFx0fSkuam9pbihcIiA+IFwiKTtcblx0XHRyZXR1cm4gd3JhcChjb2xvci5ncmV5LCBzdHJpbmcpO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSBjaGFpbiBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkNoYWluU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2NoYWluL3N0YXJ0XVwiKX0gWyR7Y3J1bWJzfV0gRW50ZXJpbmcgQ2hhaW4gcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgY2hhaW4gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIGNoYWluIHJ1biB0aGF0IGhhcyBlbmRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uQ2hhaW5FbmQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbY2hhaW4vZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBDaGFpbiBydW4gd2l0aCBvdXRwdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4ub3V0cHV0cywgXCJbb3V0cHV0c11cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIGFueSBlcnJvcnMgb2YgYSBjaGFpbiBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgY2hhaW4gcnVuIHRoYXQgaGFzIGVycm9yZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkNoYWluRXJyb3IocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltjaGFpbi9lcnJvcl1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIENoYWluIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIHN0YXJ0IG9mIGFuIExMTSBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgTExNIHJ1biB0aGF0IGhhcyBzdGFydGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25MTE1TdGFydChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc3QgaW5wdXRzID0gXCJwcm9tcHRzXCIgaW4gcnVuLmlucHV0cyA/IHsgcHJvbXB0czogcnVuLmlucHV0cy5wcm9tcHRzLm1hcCgocCkgPT4gcC50cmltKCkpIH0gOiBydW4uaW5wdXRzO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW2xsbS9zdGFydF1cIil9IFske2NydW1ic31dIEVudGVyaW5nIExMTSBydW4gd2l0aCBpbnB1dDogJHt0cnlKc29uU3RyaW5naWZ5KGlucHV0cywgXCJbaW5wdXRzXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIGVuZCBvZiBhbiBMTE0gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgZW5kZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvbkxMTUVuZChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIltsbG0vZW5kXVwiKX0gWyR7Y3J1bWJzfV0gWyR7ZWxhcHNlZChydW4pfV0gRXhpdGluZyBMTE0gcnVuIHdpdGggb3V0cHV0OiAke3RyeUpzb25TdHJpbmdpZnkocnVuLm91dHB1dHMsIFwiW3Jlc3BvbnNlXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhbiBMTE0gcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIExMTSBydW4gdGhhdCBoYXMgZXJyb3JlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uTExNRXJyb3IocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IucmVkLCBcIltsbG0vZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBMTE0gcnVuIGVycm9yZWQgd2l0aCBlcnJvcjogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5lcnJvciwgXCJbZXJyb3JdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgc3RhcnQgb2YgYSB0b29sIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSB0b29sIHJ1biB0aGF0IGhhcyBzdGFydGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25Ub29sU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuZ3JlZW4sIFwiW3Rvb2wvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBUb29sIHJ1biB3aXRoIGlucHV0OiBcIiR7Zm9ybWF0S1ZNYXBJdGVtKHJ1bi5pbnB1dHMuaW5wdXQpfVwiYCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBlbmQgb2YgYSB0b29sIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSB0b29sIHJ1biB0aGF0IGhhcyBlbmRlZC5cblx0KiBAcmV0dXJucyB2b2lkXG5cdCovXG5cdG9uVG9vbEVuZChydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5jeWFuLCBcIlt0b29sL2VuZF1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIEV4aXRpbmcgVG9vbCBydW4gd2l0aCBvdXRwdXQ6IFwiJHtmb3JtYXRLVk1hcEl0ZW0ocnVuLm91dHB1dHM/Lm91dHB1dCl9XCJgKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHRvb2wgcnVuLlxuXHQqIEBwYXJhbSBydW4gVGhlIHRvb2wgcnVuIHRoYXQgaGFzIGVycm9yZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblRvb2xFcnJvcihydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5yZWQsIFwiW3Rvb2wvZXJyb3JdXCIpfSBbJHtjcnVtYnN9XSBbJHtlbGFwc2VkKHJ1bil9XSBUb29sIHJ1biBlcnJvcmVkIHdpdGggZXJyb3I6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uZXJyb3IsIFwiW2Vycm9yXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgdGhlIHN0YXJ0IG9mIGEgcmV0cmlldmVyIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSByZXRyaWV2ZXIgcnVuIHRoYXQgaGFzIHN0YXJ0ZWQuXG5cdCogQHJldHVybnMgdm9pZFxuXHQqL1xuXHRvblJldHJpZXZlclN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IGNydW1icyA9IHRoaXMuZ2V0QnJlYWRjcnVtYnMocnVuKTtcblx0XHRjb25zb2xlLmxvZyhgJHt3cmFwKGNvbG9yLmdyZWVuLCBcIltyZXRyaWV2ZXIvc3RhcnRdXCIpfSBbJHtjcnVtYnN9XSBFbnRlcmluZyBSZXRyaWV2ZXIgcnVuIHdpdGggaW5wdXQ6ICR7dHJ5SnNvblN0cmluZ2lmeShydW4uaW5wdXRzLCBcIltpbnB1dHNdXCIpfWApO1xuXHR9XG5cdC8qKlxuXHQqIE1ldGhvZCB1c2VkIHRvIGxvZyB0aGUgZW5kIG9mIGEgcmV0cmlldmVyIHJ1bi5cblx0KiBAcGFyYW0gcnVuIFRoZSByZXRyaWV2ZXIgcnVuIHRoYXQgaGFzIGVuZGVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25SZXRyaWV2ZXJFbmQocnVuKSB7XG5cdFx0Y29uc3QgY3J1bWJzID0gdGhpcy5nZXRCcmVhZGNydW1icyhydW4pO1xuXHRcdGNvbnNvbGUubG9nKGAke3dyYXAoY29sb3IuY3lhbiwgXCJbcmV0cmlldmVyL2VuZF1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIEV4aXRpbmcgUmV0cmlldmVyIHJ1biB3aXRoIG91dHB1dDogJHt0cnlKc29uU3RyaW5naWZ5KHJ1bi5vdXRwdXRzLCBcIltvdXRwdXRzXVwiKX1gKTtcblx0fVxuXHQvKipcblx0KiBNZXRob2QgdXNlZCB0byBsb2cgYW55IGVycm9ycyBvZiBhIHJldHJpZXZlciBydW4uXG5cdCogQHBhcmFtIHJ1biBUaGUgcmV0cmlldmVyIHJ1biB0aGF0IGhhcyBlcnJvcmVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25SZXRyaWV2ZXJFcnJvcihydW4pIHtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5yZWQsIFwiW3JldHJpZXZlci9lcnJvcl1cIil9IFske2NydW1ic31dIFske2VsYXBzZWQocnVuKX1dIFJldHJpZXZlciBydW4gZXJyb3JlZCB3aXRoIGVycm9yOiAke3RyeUpzb25TdHJpbmdpZnkocnVuLmVycm9yLCBcIltlcnJvcl1cIil9YCk7XG5cdH1cblx0LyoqXG5cdCogTWV0aG9kIHVzZWQgdG8gbG9nIHRoZSBhY3Rpb24gc2VsZWN0ZWQgYnkgdGhlIGFnZW50LlxuXHQqIEBwYXJhbSBydW4gVGhlIHJ1biBpbiB3aGljaCB0aGUgYWdlbnQgYWN0aW9uIG9jY3VycmVkLlxuXHQqIEByZXR1cm5zIHZvaWRcblx0Ki9cblx0b25BZ2VudEFjdGlvbihydW4pIHtcblx0XHRjb25zdCBhZ2VudFJ1biA9IHJ1bjtcblx0XHRjb25zdCBjcnVtYnMgPSB0aGlzLmdldEJyZWFkY3J1bWJzKHJ1bik7XG5cdFx0Y29uc29sZS5sb2coYCR7d3JhcChjb2xvci5ibHVlLCBcIlthZ2VudC9hY3Rpb25dXCIpfSBbJHtjcnVtYnN9XSBBZ2VudCBzZWxlY3RlZCBhY3Rpb246ICR7dHJ5SnNvblN0cmluZ2lmeShhZ2VudFJ1bi5hY3Rpb25zW2FnZW50UnVuLmFjdGlvbnMubGVuZ3RoIC0gMV0sIFwiW2FjdGlvbl1cIil9YCk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5Db25zb2xlQ2FsbGJhY2tIYW5kbGVyID0gQ29uc29sZUNhbGxiYWNrSGFuZGxlcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY29uc29sZV9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY29uc29sZV9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnNvbGUuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/console.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/event_stream.cjs":
/*!********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/event_stream.cjs ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_ai = __webpack_require__(/*! ../messages/ai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs\");\nconst require_tracers_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\nconst require_utils_stream = __webpack_require__(/*! ../utils/stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs\");\nconst require_outputs = __webpack_require__(/*! ../outputs.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/outputs.cjs\");\n\n//#region src/tracers/event_stream.ts\nfunction assignName({ name, serialized }) {\n\tif (name !== void 0) return name;\n\tif (serialized?.name !== void 0) return serialized.name;\n\telse if (serialized?.id !== void 0 && Array.isArray(serialized?.id)) return serialized.id[serialized.id.length - 1];\n\treturn \"Unnamed\";\n}\nconst isStreamEventsHandler = (handler) => handler.name === \"event_stream_tracer\";\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar EventStreamCallbackHandler = class extends require_tracers_base.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\trunInfoMap = /* @__PURE__ */ new Map();\n\ttappedPromises = /* @__PURE__ */ new Map();\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\treadableStreamClosed = false;\n\tname = \"event_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis.transformStream = new TransformStream({ flush: () => {\n\t\t\tthis.readableStreamClosed = true;\n\t\t} });\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = require_utils_stream.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.runType);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.runType);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, outputStream) {\n\t\tconst firstChunk = await outputStream.next();\n\t\tif (firstChunk.done) return;\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) {\n\t\t\tyield firstChunk.value;\n\t\t\treturn;\n\t\t}\n\t\tfunction _formatOutputChunk(eventType, data) {\n\t\t\tif (eventType === \"llm\" && typeof data === \"string\") return new require_outputs.GenerationChunk({ text: data });\n\t\t\treturn data;\n\t\t}\n\t\tlet tappedPromise = this.tappedPromises.get(runId);\n\t\tif (tappedPromise === void 0) {\n\t\t\tlet tappedPromiseResolver;\n\t\t\ttappedPromise = new Promise((resolve) => {\n\t\t\t\ttappedPromiseResolver = resolve;\n\t\t\t});\n\t\t\tthis.tappedPromises.set(runId, tappedPromise);\n\t\t\ttry {\n\t\t\t\tconst event = {\n\t\t\t\t\tevent: `on_${runInfo.runType}_stream`,\n\t\t\t\t\trun_id: runId,\n\t\t\t\t\tname: runInfo.name,\n\t\t\t\t\ttags: runInfo.tags,\n\t\t\t\t\tmetadata: runInfo.metadata,\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tawait this.send({\n\t\t\t\t\t...event,\n\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, firstChunk.value) }\n\t\t\t\t}, runInfo);\n\t\t\t\tyield firstChunk.value;\n\t\t\t\tfor await (const chunk of outputStream) {\n\t\t\t\t\tif (runInfo.runType !== \"tool\" && runInfo.runType !== \"retriever\") await this.send({\n\t\t\t\t\t\t...event,\n\t\t\t\t\t\tdata: { chunk: _formatOutputChunk(runInfo.runType, chunk) }\n\t\t\t\t\t}, runInfo);\n\t\t\t\t\tyield chunk;\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\ttappedPromiseResolver?.();\n\t\t\t}\n\t\t} else {\n\t\t\tyield firstChunk.value;\n\t\t\tfor await (const chunk of outputStream) yield chunk;\n\t\t}\n\t}\n\tasync send(payload, run) {\n\t\tif (this.readableStreamClosed) return;\n\t\tif (this._includeRun(run)) await this.writer.write(payload);\n\t}\n\tasync sendEndEvent(payload, run) {\n\t\tconst tappedPromise = this.tappedPromises.get(payload.run_id);\n\t\tif (tappedPromise !== void 0) tappedPromise.then(() => {\n\t\t\tthis.send(payload, run);\n\t\t});\n\t\telse await this.send(payload, run);\n\t}\n\tasync onLLMStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.inputs.messages !== void 0 ? \"chat_model\" : \"llm\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: run.inputs\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tconst eventName = `on_${runType}_start`;\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { input: run.inputs },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tlet chunk;\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMNewToken: Run ID ${run.id} not found in run map.`);\n\t\tif (this.runInfoMap.size === 1) return;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\teventName = \"on_chat_model_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new require_ai.AIMessageChunk({\n\t\t\t\tcontent: token,\n\t\t\t\tid: `run-${run.id}`\n\t\t\t});\n\t\t\telse chunk = kwargs.chunk.message;\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\teventName = \"on_llm_stream\";\n\t\t\tif (kwargs?.chunk === void 0) chunk = new require_outputs.GenerationChunk({ text: token });\n\t\t\telse chunk = kwargs.chunk;\n\t\t} else throw new Error(`Unexpected run type ${runInfo.runType}`);\n\t\tawait this.send({\n\t\t\tevent: eventName,\n\t\t\tdata: { chunk },\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onLLMEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tlet eventName;\n\t\tif (runInfo === void 0) throw new Error(`onLLMEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst generations = run.outputs?.generations;\n\t\tlet output;\n\t\tif (runInfo.runType === \"chat_model\") {\n\t\t\tfor (const generation of generations ?? []) {\n\t\t\t\tif (output !== void 0) break;\n\t\t\t\toutput = generation[0]?.message;\n\t\t\t}\n\t\t\teventName = \"on_chat_model_end\";\n\t\t} else if (runInfo.runType === \"llm\") {\n\t\t\toutput = {\n\t\t\t\tgenerations: generations?.map((generation) => {\n\t\t\t\t\treturn generation.map((chunk) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: chunk.text,\n\t\t\t\t\t\t\tgenerationInfo: chunk.generationInfo\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\tllmOutput: run.outputs?.llmOutput ?? {}\n\t\t\t};\n\t\t\teventName = \"on_llm_end\";\n\t\t} else throw new Error(`onLLMEnd: Unexpected run type: ${runInfo.runType}`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onChainStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = run.run_type ?? \"chain\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: run.run_type\n\t\t};\n\t\tlet eventData = {};\n\t\tif (run.inputs.input === \"\" && Object.keys(run.inputs).length === 1) {\n\t\t\teventData = {};\n\t\t\trunInfo.inputs = {};\n\t\t} else if (run.inputs.input !== void 0) {\n\t\t\teventData.input = run.inputs.input;\n\t\t\trunInfo.inputs = run.inputs.input;\n\t\t} else {\n\t\t\teventData.input = run.inputs;\n\t\t\trunInfo.inputs = run.inputs;\n\t\t}\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: `on_${runType}_start`,\n\t\t\tdata: eventData,\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onChainEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onChainEnd: Run ID ${run.id} not found in run map.`);\n\t\tconst eventName = `on_${run.run_type}_end`;\n\t\tconst inputs = run.inputs ?? runInfo.inputs ?? {};\n\t\tconst outputs = run.outputs?.output ?? run.outputs;\n\t\tconst data = {\n\t\t\toutput: outputs,\n\t\t\tinput: inputs\n\t\t};\n\t\tif (inputs.input && Object.keys(inputs).length === 1) {\n\t\t\tdata.input = inputs.input;\n\t\t\trunInfo.inputs = inputs.input;\n\t\t}\n\t\tawait this.sendEndEvent({\n\t\t\tevent: eventName,\n\t\t\tdata,\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType: \"tool\",\n\t\t\tinputs: run.inputs ?? {}\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_tool_start\",\n\t\t\tdata: { input: run.inputs ?? {} },\n\t\t\tname: runName,\n\t\t\trun_id: run.id,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onToolEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onToolEnd: Run ID ${run.id} not found in run map.`);\n\t\tif (runInfo.inputs === void 0) throw new Error(`onToolEnd: Run ID ${run.id} is a tool call, and is expected to have traced inputs.`);\n\t\tconst output = run.outputs?.output === void 0 ? run.outputs : run.outputs.output;\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_tool_end\",\n\t\t\tdata: {\n\t\t\t\toutput,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverStart(run) {\n\t\tconst runName = assignName(run);\n\t\tconst runType = \"retriever\";\n\t\tconst runInfo = {\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tname: runName,\n\t\t\trunType,\n\t\t\tinputs: { query: run.inputs.query }\n\t\t};\n\t\tthis.runInfoMap.set(run.id, runInfo);\n\t\tawait this.send({\n\t\t\tevent: \"on_retriever_start\",\n\t\t\tdata: { input: { query: run.inputs.query } },\n\t\t\tname: runName,\n\t\t\ttags: run.tags ?? [],\n\t\t\trun_id: run.id,\n\t\t\tmetadata: run.extra?.metadata ?? {}\n\t\t}, runInfo);\n\t}\n\tasync onRetrieverEnd(run) {\n\t\tconst runInfo = this.runInfoMap.get(run.id);\n\t\tthis.runInfoMap.delete(run.id);\n\t\tif (runInfo === void 0) throw new Error(`onRetrieverEnd: Run ID ${run.id} not found in run map.`);\n\t\tawait this.sendEndEvent({\n\t\t\tevent: \"on_retriever_end\",\n\t\t\tdata: {\n\t\t\t\toutput: run.outputs?.documents ?? run.outputs,\n\t\t\t\tinput: runInfo.inputs\n\t\t\t},\n\t\t\trun_id: run.id,\n\t\t\tname: runInfo.name,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata\n\t\t}, runInfo);\n\t}\n\tasync handleCustomEvent(eventName, data, runId) {\n\t\tconst runInfo = this.runInfoMap.get(runId);\n\t\tif (runInfo === void 0) throw new Error(`handleCustomEvent: Run ID ${runId} not found in run map.`);\n\t\tawait this.send({\n\t\t\tevent: \"on_custom_event\",\n\t\t\trun_id: runId,\n\t\t\tname: eventName,\n\t\t\ttags: runInfo.tags,\n\t\t\tmetadata: runInfo.metadata,\n\t\t\tdata\n\t\t}, runInfo);\n\t}\n\tasync finish() {\n\t\tconst pendingPromises = [...this.tappedPromises.values()];\n\t\tPromise.all(pendingPromises).finally(() => {\n\t\t\tthis.writer.close();\n\t\t});\n\t}\n};\n\n//#endregion\nexports.EventStreamCallbackHandler = EventStreamCallbackHandler;\nexports.isStreamEventsHandler = isStreamEventsHandler;\n//# sourceMappingURL=event_stream.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2V2ZW50X3N0cmVhbS5janMiLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQW9CO0FBQy9DLDZCQUE2QixtQkFBTyxDQUFDLHlGQUFZO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLGtHQUFxQjtBQUMxRCx3QkFBd0IsbUJBQU8sQ0FBQyx3RkFBZ0I7O0FBRWhEO0FBQ0Esc0JBQXNCLGtCQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRyxZQUFZO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFFBQVE7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSwrRUFBK0UsYUFBYTtBQUM1RjtBQUNBLElBQUksNENBQTRDLGdCQUFnQjtBQUNoRTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUF1RCxnQkFBZ0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxRQUFRO0FBQ3hFLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFFBQVE7QUFDdkUsc0VBQXNFLFFBQVE7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxRQUFRO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLE9BQU87QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDO0FBQ2xDLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9ldmVudF9zdHJlYW0uY2pzP2QxY2EiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9haSA9IHJlcXVpcmUoJy4uL21lc3NhZ2VzL2FpLmNqcycpO1xuY29uc3QgcmVxdWlyZV90cmFjZXJzX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UuY2pzJyk7XG5jb25zdCByZXF1aXJlX3V0aWxzX3N0cmVhbSA9IHJlcXVpcmUoJy4uL3V0aWxzL3N0cmVhbS5janMnKTtcbmNvbnN0IHJlcXVpcmVfb3V0cHV0cyA9IHJlcXVpcmUoJy4uL291dHB1dHMuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdHJhY2Vycy9ldmVudF9zdHJlYW0udHNcbmZ1bmN0aW9uIGFzc2lnbk5hbWUoeyBuYW1lLCBzZXJpYWxpemVkIH0pIHtcblx0aWYgKG5hbWUgIT09IHZvaWQgMCkgcmV0dXJuIG5hbWU7XG5cdGlmIChzZXJpYWxpemVkPy5uYW1lICE9PSB2b2lkIDApIHJldHVybiBzZXJpYWxpemVkLm5hbWU7XG5cdGVsc2UgaWYgKHNlcmlhbGl6ZWQ/LmlkICE9PSB2b2lkIDAgJiYgQXJyYXkuaXNBcnJheShzZXJpYWxpemVkPy5pZCkpIHJldHVybiBzZXJpYWxpemVkLmlkW3NlcmlhbGl6ZWQuaWQubGVuZ3RoIC0gMV07XG5cdHJldHVybiBcIlVubmFtZWRcIjtcbn1cbmNvbnN0IGlzU3RyZWFtRXZlbnRzSGFuZGxlciA9IChoYW5kbGVyKSA9PiBoYW5kbGVyLm5hbWUgPT09IFwiZXZlbnRfc3RyZWFtX3RyYWNlclwiO1xuLyoqXG4qIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4qIGBsYW5nY2hhaW4uY2FsbGJhY2tzLnRyYWNlcnMuYmFzZWAgbW9kdWxlLiBJdCByZXByZXNlbnRzIGEgY2FsbGJhY2tcbiogaGFuZGxlciB0aGF0IGxvZ3MgdGhlIGV4ZWN1dGlvbiBvZiBydW5zIGFuZCBlbWl0cyBgUnVuTG9nYCBpbnN0YW5jZXMgdG8gYVxuKiBgUnVuTG9nU3RyZWFtYC5cbiovXG52YXIgRXZlbnRTdHJlYW1DYWxsYmFja0hhbmRsZXIgPSBjbGFzcyBleHRlbmRzIHJlcXVpcmVfdHJhY2Vyc19iYXNlLkJhc2VUcmFjZXIge1xuXHRhdXRvQ2xvc2UgPSB0cnVlO1xuXHRpbmNsdWRlTmFtZXM7XG5cdGluY2x1ZGVUeXBlcztcblx0aW5jbHVkZVRhZ3M7XG5cdGV4Y2x1ZGVOYW1lcztcblx0ZXhjbHVkZVR5cGVzO1xuXHRleGNsdWRlVGFncztcblx0cnVuSW5mb01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdHRhcHBlZFByb21pc2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblx0dHJhbnNmb3JtU3RyZWFtO1xuXHR3cml0ZXI7XG5cdHJlY2VpdmVTdHJlYW07XG5cdHJlYWRhYmxlU3RyZWFtQ2xvc2VkID0gZmFsc2U7XG5cdG5hbWUgPSBcImV2ZW50X3N0cmVhbV90cmFjZXJcIjtcblx0bGNfcHJlZmVyX3N0cmVhbWluZyA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKHtcblx0XHRcdF9hd2FpdEhhbmRsZXI6IHRydWUsXG5cdFx0XHQuLi5maWVsZHNcblx0XHR9KTtcblx0XHR0aGlzLmF1dG9DbG9zZSA9IGZpZWxkcz8uYXV0b0Nsb3NlID8/IHRydWU7XG5cdFx0dGhpcy5pbmNsdWRlTmFtZXMgPSBmaWVsZHM/LmluY2x1ZGVOYW1lcztcblx0XHR0aGlzLmluY2x1ZGVUeXBlcyA9IGZpZWxkcz8uaW5jbHVkZVR5cGVzO1xuXHRcdHRoaXMuaW5jbHVkZVRhZ3MgPSBmaWVsZHM/LmluY2x1ZGVUYWdzO1xuXHRcdHRoaXMuZXhjbHVkZU5hbWVzID0gZmllbGRzPy5leGNsdWRlTmFtZXM7XG5cdFx0dGhpcy5leGNsdWRlVHlwZXMgPSBmaWVsZHM/LmV4Y2x1ZGVUeXBlcztcblx0XHR0aGlzLmV4Y2x1ZGVUYWdzID0gZmllbGRzPy5leGNsdWRlVGFncztcblx0XHR0aGlzLnRyYW5zZm9ybVN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oeyBmbHVzaDogKCkgPT4ge1xuXHRcdFx0dGhpcy5yZWFkYWJsZVN0cmVhbUNsb3NlZCA9IHRydWU7XG5cdFx0fSB9KTtcblx0XHR0aGlzLndyaXRlciA9IHRoaXMudHJhbnNmb3JtU3RyZWFtLndyaXRhYmxlLmdldFdyaXRlcigpO1xuXHRcdHRoaXMucmVjZWl2ZVN0cmVhbSA9IHJlcXVpcmVfdXRpbHNfc3RyZWFtLkl0ZXJhYmxlUmVhZGFibGVTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHRoaXMudHJhbnNmb3JtU3RyZWFtLnJlYWRhYmxlKTtcblx0fVxuXHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuXHRcdHJldHVybiB0aGlzLnJlY2VpdmVTdHJlYW07XG5cdH1cblx0YXN5bmMgcGVyc2lzdFJ1bihfcnVuKSB7fVxuXHRfaW5jbHVkZVJ1bihydW4pIHtcblx0XHRjb25zdCBydW5UYWdzID0gcnVuLnRhZ3MgPz8gW107XG5cdFx0bGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVRhZ3MgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUeXBlcyA9PT0gdm9pZCAwO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5UeXBlKTtcblx0XHRpZiAodGhpcy5pbmNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCBydW5UYWdzLmZpbmQoKHRhZykgPT4gdGhpcy5pbmNsdWRlVGFncz8uaW5jbHVkZXModGFnKSkgIT09IHZvaWQgMDtcblx0XHRpZiAodGhpcy5leGNsdWRlTmFtZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZU5hbWVzLmluY2x1ZGVzKHJ1bi5uYW1lKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVHlwZXMgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgJiYgIXRoaXMuZXhjbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5UeXBlKTtcblx0XHRpZiAodGhpcy5leGNsdWRlVGFncyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSAmJiBydW5UYWdzLmV2ZXJ5KCh0YWcpID0+ICF0aGlzLmV4Y2x1ZGVUYWdzPy5pbmNsdWRlcyh0YWcpKTtcblx0XHRyZXR1cm4gaW5jbHVkZTtcblx0fVxuXHRhc3luYyAqdGFwT3V0cHV0SXRlcmFibGUocnVuSWQsIG91dHB1dFN0cmVhbSkge1xuXHRcdGNvbnN0IGZpcnN0Q2h1bmsgPSBhd2FpdCBvdXRwdXRTdHJlYW0ubmV4dCgpO1xuXHRcdGlmIChmaXJzdENodW5rLmRvbmUpIHJldHVybjtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW5JZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkge1xuXHRcdFx0eWllbGQgZmlyc3RDaHVuay52YWx1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gX2Zvcm1hdE91dHB1dENodW5rKGV2ZW50VHlwZSwgZGF0YSkge1xuXHRcdFx0aWYgKGV2ZW50VHlwZSA9PT0gXCJsbG1cIiAmJiB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ldyByZXF1aXJlX291dHB1dHMuR2VuZXJhdGlvbkNodW5rKHsgdGV4dDogZGF0YSB9KTtcblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblx0XHRsZXQgdGFwcGVkUHJvbWlzZSA9IHRoaXMudGFwcGVkUHJvbWlzZXMuZ2V0KHJ1bklkKTtcblx0XHRpZiAodGFwcGVkUHJvbWlzZSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRsZXQgdGFwcGVkUHJvbWlzZVJlc29sdmVyO1xuXHRcdFx0dGFwcGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRcdHRhcHBlZFByb21pc2VSZXNvbHZlciA9IHJlc29sdmU7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMudGFwcGVkUHJvbWlzZXMuc2V0KHJ1bklkLCB0YXBwZWRQcm9taXNlKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGV2ZW50ID0ge1xuXHRcdFx0XHRcdGV2ZW50OiBgb25fJHtydW5JbmZvLnJ1blR5cGV9X3N0cmVhbWAsXG5cdFx0XHRcdFx0cnVuX2lkOiBydW5JZCxcblx0XHRcdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0XHRcdG1ldGFkYXRhOiBydW5JbmZvLm1ldGFkYXRhLFxuXHRcdFx0XHRcdGRhdGE6IHt9XG5cdFx0XHRcdH07XG5cdFx0XHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRcdFx0Li4uZXZlbnQsXG5cdFx0XHRcdFx0ZGF0YTogeyBjaHVuazogX2Zvcm1hdE91dHB1dENodW5rKHJ1bkluZm8ucnVuVHlwZSwgZmlyc3RDaHVuay52YWx1ZSkgfVxuXHRcdFx0XHR9LCBydW5JbmZvKTtcblx0XHRcdFx0eWllbGQgZmlyc3RDaHVuay52YWx1ZTtcblx0XHRcdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXRTdHJlYW0pIHtcblx0XHRcdFx0XHRpZiAocnVuSW5mby5ydW5UeXBlICE9PSBcInRvb2xcIiAmJiBydW5JbmZvLnJ1blR5cGUgIT09IFwicmV0cmlldmVyXCIpIGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRcdFx0XHQuLi5ldmVudCxcblx0XHRcdFx0XHRcdGRhdGE6IHsgY2h1bms6IF9mb3JtYXRPdXRwdXRDaHVuayhydW5JbmZvLnJ1blR5cGUsIGNodW5rKSB9XG5cdFx0XHRcdFx0fSwgcnVuSW5mbyk7XG5cdFx0XHRcdFx0eWllbGQgY2h1bms7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdHRhcHBlZFByb21pc2VSZXNvbHZlcj8uKCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHlpZWxkIGZpcnN0Q2h1bmsudmFsdWU7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIG91dHB1dFN0cmVhbSkgeWllbGQgY2h1bms7XG5cdFx0fVxuXHR9XG5cdGFzeW5jIHNlbmQocGF5bG9hZCwgcnVuKSB7XG5cdFx0aWYgKHRoaXMucmVhZGFibGVTdHJlYW1DbG9zZWQpIHJldHVybjtcblx0XHRpZiAodGhpcy5faW5jbHVkZVJ1bihydW4pKSBhd2FpdCB0aGlzLndyaXRlci53cml0ZShwYXlsb2FkKTtcblx0fVxuXHRhc3luYyBzZW5kRW5kRXZlbnQocGF5bG9hZCwgcnVuKSB7XG5cdFx0Y29uc3QgdGFwcGVkUHJvbWlzZSA9IHRoaXMudGFwcGVkUHJvbWlzZXMuZ2V0KHBheWxvYWQucnVuX2lkKTtcblx0XHRpZiAodGFwcGVkUHJvbWlzZSAhPT0gdm9pZCAwKSB0YXBwZWRQcm9taXNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0dGhpcy5zZW5kKHBheWxvYWQsIHJ1bik7XG5cdFx0fSk7XG5cdFx0ZWxzZSBhd2FpdCB0aGlzLnNlbmQocGF5bG9hZCwgcnVuKTtcblx0fVxuXHRhc3luYyBvbkxMTVN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuVHlwZSA9IHJ1bi5pbnB1dHMubWVzc2FnZXMgIT09IHZvaWQgMCA/IFwiY2hhdF9tb2RlbFwiIDogXCJsbG1cIjtcblx0XHRjb25zdCBydW5JbmZvID0ge1xuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHRydW5UeXBlLFxuXHRcdFx0aW5wdXRzOiBydW4uaW5wdXRzXG5cdFx0fTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuc2V0KHJ1bi5pZCwgcnVuSW5mbyk7XG5cdFx0Y29uc3QgZXZlbnROYW1lID0gYG9uXyR7cnVuVHlwZX1fc3RhcnRgO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YTogeyBpbnB1dDogcnVuLmlucHV0cyB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uTExNTmV3VG9rZW4ocnVuLCB0b2tlbiwga3dhcmdzKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHRsZXQgY2h1bms7XG5cdFx0bGV0IGV2ZW50TmFtZTtcblx0XHRpZiAocnVuSW5mbyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYG9uTExNTmV3VG9rZW46IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0aWYgKHRoaXMucnVuSW5mb01hcC5zaXplID09PSAxKSByZXR1cm47XG5cdFx0aWYgKHJ1bkluZm8ucnVuVHlwZSA9PT0gXCJjaGF0X21vZGVsXCIpIHtcblx0XHRcdGV2ZW50TmFtZSA9IFwib25fY2hhdF9tb2RlbF9zdHJlYW1cIjtcblx0XHRcdGlmIChrd2FyZ3M/LmNodW5rID09PSB2b2lkIDApIGNodW5rID0gbmV3IHJlcXVpcmVfYWkuQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0XHRjb250ZW50OiB0b2tlbixcblx0XHRcdFx0aWQ6IGBydW4tJHtydW4uaWR9YFxuXHRcdFx0fSk7XG5cdFx0XHRlbHNlIGNodW5rID0ga3dhcmdzLmNodW5rLm1lc3NhZ2U7XG5cdFx0fSBlbHNlIGlmIChydW5JbmZvLnJ1blR5cGUgPT09IFwibGxtXCIpIHtcblx0XHRcdGV2ZW50TmFtZSA9IFwib25fbGxtX3N0cmVhbVwiO1xuXHRcdFx0aWYgKGt3YXJncz8uY2h1bmsgPT09IHZvaWQgMCkgY2h1bmsgPSBuZXcgcmVxdWlyZV9vdXRwdXRzLkdlbmVyYXRpb25DaHVuayh7IHRleHQ6IHRva2VuIH0pO1xuXHRcdFx0ZWxzZSBjaHVuayA9IGt3YXJncy5jaHVuaztcblx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHJ1biB0eXBlICR7cnVuSW5mby5ydW5UeXBlfWApO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YTogeyBjaHVuayB9LFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uTExNRW5kKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGxldCBldmVudE5hbWU7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvbkxMTUVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRjb25zdCBnZW5lcmF0aW9ucyA9IHJ1bi5vdXRwdXRzPy5nZW5lcmF0aW9ucztcblx0XHRsZXQgb3V0cHV0O1xuXHRcdGlmIChydW5JbmZvLnJ1blR5cGUgPT09IFwiY2hhdF9tb2RlbFwiKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdlbmVyYXRpb24gb2YgZ2VuZXJhdGlvbnMgPz8gW10pIHtcblx0XHRcdFx0aWYgKG91dHB1dCAhPT0gdm9pZCAwKSBicmVhaztcblx0XHRcdFx0b3V0cHV0ID0gZ2VuZXJhdGlvblswXT8ubWVzc2FnZTtcblx0XHRcdH1cblx0XHRcdGV2ZW50TmFtZSA9IFwib25fY2hhdF9tb2RlbF9lbmRcIjtcblx0XHR9IGVsc2UgaWYgKHJ1bkluZm8ucnVuVHlwZSA9PT0gXCJsbG1cIikge1xuXHRcdFx0b3V0cHV0ID0ge1xuXHRcdFx0XHRnZW5lcmF0aW9uczogZ2VuZXJhdGlvbnM/Lm1hcCgoZ2VuZXJhdGlvbikgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBnZW5lcmF0aW9uLm1hcCgoY2h1bmspID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHRleHQ6IGNodW5rLnRleHQsXG5cdFx0XHRcdFx0XHRcdGdlbmVyYXRpb25JbmZvOiBjaHVuay5nZW5lcmF0aW9uSW5mb1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSksXG5cdFx0XHRcdGxsbU91dHB1dDogcnVuLm91dHB1dHM/LmxsbU91dHB1dCA/PyB7fVxuXHRcdFx0fTtcblx0XHRcdGV2ZW50TmFtZSA9IFwib25fbGxtX2VuZFwiO1xuXHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYG9uTExNRW5kOiBVbmV4cGVjdGVkIHJ1biB0eXBlOiAke3J1bkluZm8ucnVuVHlwZX1gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmRFbmRFdmVudCh7XG5cdFx0XHRldmVudDogZXZlbnROYW1lLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRvdXRwdXQsXG5cdFx0XHRcdGlucHV0OiBydW5JbmZvLmlucHV0c1xuXHRcdFx0fSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBvbkNoYWluU3RhcnQocnVuKSB7XG5cdFx0Y29uc3QgcnVuTmFtZSA9IGFzc2lnbk5hbWUocnVuKTtcblx0XHRjb25zdCBydW5UeXBlID0gcnVuLnJ1bl90eXBlID8/IFwiY2hhaW5cIjtcblx0XHRjb25zdCBydW5JbmZvID0ge1xuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcblx0XHRcdG5hbWU6IHJ1bk5hbWUsXG5cdFx0XHRydW5UeXBlOiBydW4ucnVuX3R5cGVcblx0XHR9O1xuXHRcdGxldCBldmVudERhdGEgPSB7fTtcblx0XHRpZiAocnVuLmlucHV0cy5pbnB1dCA9PT0gXCJcIiAmJiBPYmplY3Qua2V5cyhydW4uaW5wdXRzKS5sZW5ndGggPT09IDEpIHtcblx0XHRcdGV2ZW50RGF0YSA9IHt9O1xuXHRcdFx0cnVuSW5mby5pbnB1dHMgPSB7fTtcblx0XHR9IGVsc2UgaWYgKHJ1bi5pbnB1dHMuaW5wdXQgIT09IHZvaWQgMCkge1xuXHRcdFx0ZXZlbnREYXRhLmlucHV0ID0gcnVuLmlucHV0cy5pbnB1dDtcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0gcnVuLmlucHV0cy5pbnB1dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnREYXRhLmlucHV0ID0gcnVuLmlucHV0cztcblx0XHRcdHJ1bkluZm8uaW5wdXRzID0gcnVuLmlucHV0cztcblx0XHR9XG5cdFx0dGhpcy5ydW5JbmZvTWFwLnNldChydW4uaWQsIHJ1bkluZm8pO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogYG9uXyR7cnVuVHlwZX1fc3RhcnRgLFxuXHRcdFx0ZGF0YTogZXZlbnREYXRhLFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uQ2hhaW5FbmQocnVuKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuLmlkKTtcblx0XHR0aGlzLnJ1bkluZm9NYXAuZGVsZXRlKHJ1bi5pZCk7XG5cdFx0aWYgKHJ1bkluZm8gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvbkNoYWluRW5kOiBSdW4gSUQgJHtydW4uaWR9IG5vdCBmb3VuZCBpbiBydW4gbWFwLmApO1xuXHRcdGNvbnN0IGV2ZW50TmFtZSA9IGBvbl8ke3J1bi5ydW5fdHlwZX1fZW5kYDtcblx0XHRjb25zdCBpbnB1dHMgPSBydW4uaW5wdXRzID8/IHJ1bkluZm8uaW5wdXRzID8/IHt9O1xuXHRcdGNvbnN0IG91dHB1dHMgPSBydW4ub3V0cHV0cz8ub3V0cHV0ID8/IHJ1bi5vdXRwdXRzO1xuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRvdXRwdXQ6IG91dHB1dHMsXG5cdFx0XHRpbnB1dDogaW5wdXRzXG5cdFx0fTtcblx0XHRpZiAoaW5wdXRzLmlucHV0ICYmIE9iamVjdC5rZXlzKGlucHV0cykubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRkYXRhLmlucHV0ID0gaW5wdXRzLmlucHV0O1xuXHRcdFx0cnVuSW5mby5pbnB1dHMgPSBpbnB1dHMuaW5wdXQ7XG5cdFx0fVxuXHRcdGF3YWl0IHRoaXMuc2VuZEVuZEV2ZW50KHtcblx0XHRcdGV2ZW50OiBldmVudE5hbWUsXG5cdFx0XHRkYXRhLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRuYW1lOiBydW5JbmZvLm5hbWUsXG5cdFx0XHR0YWdzOiBydW5JbmZvLnRhZ3MsXG5cdFx0XHRtZXRhZGF0YTogcnVuSW5mby5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uVG9vbFN0YXJ0KHJ1bikge1xuXHRcdGNvbnN0IHJ1bk5hbWUgPSBhc3NpZ25OYW1lKHJ1bik7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHtcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bi5leHRyYT8ubWV0YWRhdGEgPz8ge30sXG5cdFx0XHRuYW1lOiBydW5OYW1lLFxuXHRcdFx0cnVuVHlwZTogXCJ0b29sXCIsXG5cdFx0XHRpbnB1dHM6IHJ1bi5pbnB1dHMgPz8ge31cblx0XHR9O1xuXHRcdHRoaXMucnVuSW5mb01hcC5zZXQocnVuLmlkLCBydW5JbmZvKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fdG9vbF9zdGFydFwiLFxuXHRcdFx0ZGF0YTogeyBpbnB1dDogcnVuLmlucHV0cyA/PyB7fSB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uVG9vbEVuZChydW4pIHtcblx0XHRjb25zdCBydW5JbmZvID0gdGhpcy5ydW5JbmZvTWFwLmdldChydW4uaWQpO1xuXHRcdHRoaXMucnVuSW5mb01hcC5kZWxldGUocnVuLmlkKTtcblx0XHRpZiAocnVuSW5mbyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoYG9uVG9vbEVuZDogUnVuIElEICR7cnVuLmlkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRpZiAocnVuSW5mby5pbnB1dHMgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBvblRvb2xFbmQ6IFJ1biBJRCAke3J1bi5pZH0gaXMgYSB0b29sIGNhbGwsIGFuZCBpcyBleHBlY3RlZCB0byBoYXZlIHRyYWNlZCBpbnB1dHMuYCk7XG5cdFx0Y29uc3Qgb3V0cHV0ID0gcnVuLm91dHB1dHM/Lm91dHB1dCA9PT0gdm9pZCAwID8gcnVuLm91dHB1dHMgOiBydW4ub3V0cHV0cy5vdXRwdXQ7XG5cdFx0YXdhaXQgdGhpcy5zZW5kRW5kRXZlbnQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fdG9vbF9lbmRcIixcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0b3V0cHV0LFxuXHRcdFx0XHRpbnB1dDogcnVuSW5mby5pbnB1dHNcblx0XHRcdH0sXG5cdFx0XHRydW5faWQ6IHJ1bi5pZCxcblx0XHRcdG5hbWU6IHJ1bkluZm8ubmFtZSxcblx0XHRcdHRhZ3M6IHJ1bkluZm8udGFncyxcblx0XHRcdG1ldGFkYXRhOiBydW5JbmZvLm1ldGFkYXRhXG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgb25SZXRyaWV2ZXJTdGFydChydW4pIHtcblx0XHRjb25zdCBydW5OYW1lID0gYXNzaWduTmFtZShydW4pO1xuXHRcdGNvbnN0IHJ1blR5cGUgPSBcInJldHJpZXZlclwiO1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB7XG5cdFx0XHR0YWdzOiBydW4udGFncyA/PyBbXSxcblx0XHRcdG1ldGFkYXRhOiBydW4uZXh0cmE/Lm1ldGFkYXRhID8/IHt9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHJ1blR5cGUsXG5cdFx0XHRpbnB1dHM6IHsgcXVlcnk6IHJ1bi5pbnB1dHMucXVlcnkgfVxuXHRcdH07XG5cdFx0dGhpcy5ydW5JbmZvTWFwLnNldChydW4uaWQsIHJ1bkluZm8pO1xuXHRcdGF3YWl0IHRoaXMuc2VuZCh7XG5cdFx0XHRldmVudDogXCJvbl9yZXRyaWV2ZXJfc3RhcnRcIixcblx0XHRcdGRhdGE6IHsgaW5wdXQ6IHsgcXVlcnk6IHJ1bi5pbnB1dHMucXVlcnkgfSB9LFxuXHRcdFx0bmFtZTogcnVuTmFtZSxcblx0XHRcdHRhZ3M6IHJ1bi50YWdzID8/IFtdLFxuXHRcdFx0cnVuX2lkOiBydW4uaWQsXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fVxuXHRcdH0sIHJ1bkluZm8pO1xuXHR9XG5cdGFzeW5jIG9uUmV0cmlldmVyRW5kKHJ1bikge1xuXHRcdGNvbnN0IHJ1bkluZm8gPSB0aGlzLnJ1bkluZm9NYXAuZ2V0KHJ1bi5pZCk7XG5cdFx0dGhpcy5ydW5JbmZvTWFwLmRlbGV0ZShydW4uaWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgb25SZXRyaWV2ZXJFbmQ6IFJ1biBJRCAke3J1bi5pZH0gbm90IGZvdW5kIGluIHJ1biBtYXAuYCk7XG5cdFx0YXdhaXQgdGhpcy5zZW5kRW5kRXZlbnQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fcmV0cmlldmVyX2VuZFwiLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRvdXRwdXQ6IHJ1bi5vdXRwdXRzPy5kb2N1bWVudHMgPz8gcnVuLm91dHB1dHMsXG5cdFx0XHRcdGlucHV0OiBydW5JbmZvLmlucHV0c1xuXHRcdFx0fSxcblx0XHRcdHJ1bl9pZDogcnVuLmlkLFxuXHRcdFx0bmFtZTogcnVuSW5mby5uYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGFcblx0XHR9LCBydW5JbmZvKTtcblx0fVxuXHRhc3luYyBoYW5kbGVDdXN0b21FdmVudChldmVudE5hbWUsIGRhdGEsIHJ1bklkKSB7XG5cdFx0Y29uc3QgcnVuSW5mbyA9IHRoaXMucnVuSW5mb01hcC5nZXQocnVuSWQpO1xuXHRcdGlmIChydW5JbmZvID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgaGFuZGxlQ3VzdG9tRXZlbnQ6IFJ1biBJRCAke3J1bklkfSBub3QgZm91bmQgaW4gcnVuIG1hcC5gKTtcblx0XHRhd2FpdCB0aGlzLnNlbmQoe1xuXHRcdFx0ZXZlbnQ6IFwib25fY3VzdG9tX2V2ZW50XCIsXG5cdFx0XHRydW5faWQ6IHJ1bklkLFxuXHRcdFx0bmFtZTogZXZlbnROYW1lLFxuXHRcdFx0dGFnczogcnVuSW5mby50YWdzLFxuXHRcdFx0bWV0YWRhdGE6IHJ1bkluZm8ubWV0YWRhdGEsXG5cdFx0XHRkYXRhXG5cdFx0fSwgcnVuSW5mbyk7XG5cdH1cblx0YXN5bmMgZmluaXNoKCkge1xuXHRcdGNvbnN0IHBlbmRpbmdQcm9taXNlcyA9IFsuLi50aGlzLnRhcHBlZFByb21pc2VzLnZhbHVlcygpXTtcblx0XHRQcm9taXNlLmFsbChwZW5kaW5nUHJvbWlzZXMpLmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0dGhpcy53cml0ZXIuY2xvc2UoKTtcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkV2ZW50U3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gRXZlbnRTdHJlYW1DYWxsYmFja0hhbmRsZXI7XG5leHBvcnRzLmlzU3RyZWFtRXZlbnRzSGFuZGxlciA9IGlzU3RyZWFtRXZlbnRzSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X3N0cmVhbS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/event_stream.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/log_stream.cjs":
/*!******************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/log_stream.cjs ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_ai = __webpack_require__(/*! ../messages/ai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs\");\nconst require_core = __webpack_require__(/*! ../utils/fast-json-patch/src/core.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs\");\n__webpack_require__(/*! ../utils/fast-json-patch/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/index.cjs\");\nconst require_tracers_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\nconst require_utils_stream = __webpack_require__(/*! ../utils/stream.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs\");\n\n//#region src/tracers/log_stream.ts\nvar log_stream_exports = {};\nrequire_rolldown_runtime.__export(log_stream_exports, {\n\tLogStreamCallbackHandler: () => LogStreamCallbackHandler,\n\tRunLog: () => RunLog,\n\tRunLogPatch: () => RunLogPatch,\n\tisLogStreamHandler: () => isLogStreamHandler\n});\n/**\n* List of jsonpatch JSONPatchOperations, which describe how to create the run state\n* from an empty dict. This is the minimal representation of the log, designed to\n* be serialized as JSON and sent over the wire to reconstruct the log on the other\n* side. Reconstruction of the state can be done with any jsonpatch-compliant library,\n* see https://jsonpatch.com for more information.\n*/\nvar RunLogPatch = class {\n\tops;\n\tconstructor(fields) {\n\t\tthis.ops = fields.ops ?? [];\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = require_core.applyPatch({}, ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nvar RunLog = class RunLog extends RunLogPatch {\n\tstate;\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tthis.state = fields.state;\n\t}\n\tconcat(other) {\n\t\tconst ops = this.ops.concat(other.ops);\n\t\tconst states = require_core.applyPatch(this.state, other.ops);\n\t\treturn new RunLog({\n\t\t\tops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n\tstatic fromRunLogPatch(patch) {\n\t\tconst states = require_core.applyPatch({}, patch.ops);\n\t\treturn new RunLog({\n\t\t\tops: patch.ops,\n\t\t\tstate: states[states.length - 1].newDocument\n\t\t});\n\t}\n};\nconst isLogStreamHandler = (handler) => handler.name === \"log_stream_tracer\";\n/**\n* Extract standardized inputs from a run.\n*\n* Standardizes the inputs based on the type of the runnable used.\n*\n* @param run - Run object\n* @param schemaFormat - The schema format to use.\n*\n* @returns Valid inputs are only dict. By conventions, inputs always represented\n* invocation using named arguments.\n* A null means that the input is not yet known!\n*/\nasync function _getStandardizedInputs(run, schemaFormat) {\n\tif (schemaFormat === \"original\") throw new Error(\"Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.\");\n\tconst { inputs } = run;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return inputs;\n\tif (Object.keys(inputs).length === 1 && inputs?.input === \"\") return void 0;\n\treturn inputs.input;\n}\nasync function _getStandardizedOutputs(run, schemaFormat) {\n\tconst { outputs } = run;\n\tif (schemaFormat === \"original\") return outputs;\n\tif ([\n\t\t\"retriever\",\n\t\t\"llm\",\n\t\t\"prompt\"\n\t].includes(run.run_type)) return outputs;\n\tif (outputs !== void 0 && Object.keys(outputs).length === 1 && outputs?.output !== void 0) return outputs.output;\n\treturn outputs;\n}\nfunction isChatGenerationChunk(x) {\n\treturn x !== void 0 && x.message !== void 0;\n}\n/**\n* Class that extends the `BaseTracer` class from the\n* `langchain.callbacks.tracers.base` module. It represents a callback\n* handler that logs the execution of runs and emits `RunLog` instances to a\n* `RunLogStream`.\n*/\nvar LogStreamCallbackHandler = class extends require_tracers_base.BaseTracer {\n\tautoClose = true;\n\tincludeNames;\n\tincludeTypes;\n\tincludeTags;\n\texcludeNames;\n\texcludeTypes;\n\texcludeTags;\n\t_schemaFormat = \"original\";\n\trootId;\n\tkeyMapByRunId = {};\n\tcounterMapByRunName = {};\n\ttransformStream;\n\twriter;\n\treceiveStream;\n\tname = \"log_stream_tracer\";\n\tlc_prefer_streaming = true;\n\tconstructor(fields) {\n\t\tsuper({\n\t\t\t_awaitHandler: true,\n\t\t\t...fields\n\t\t});\n\t\tthis.autoClose = fields?.autoClose ?? true;\n\t\tthis.includeNames = fields?.includeNames;\n\t\tthis.includeTypes = fields?.includeTypes;\n\t\tthis.includeTags = fields?.includeTags;\n\t\tthis.excludeNames = fields?.excludeNames;\n\t\tthis.excludeTypes = fields?.excludeTypes;\n\t\tthis.excludeTags = fields?.excludeTags;\n\t\tthis._schemaFormat = fields?._schemaFormat ?? this._schemaFormat;\n\t\tthis.transformStream = new TransformStream();\n\t\tthis.writer = this.transformStream.writable.getWriter();\n\t\tthis.receiveStream = require_utils_stream.IterableReadableStream.fromReadableStream(this.transformStream.readable);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this.receiveStream;\n\t}\n\tasync persistRun(_run) {}\n\t_includeRun(run) {\n\t\tif (run.id === this.rootId) return false;\n\t\tconst runTags = run.tags ?? [];\n\t\tlet include = this.includeNames === void 0 && this.includeTags === void 0 && this.includeTypes === void 0;\n\t\tif (this.includeNames !== void 0) include = include || this.includeNames.includes(run.name);\n\t\tif (this.includeTypes !== void 0) include = include || this.includeTypes.includes(run.run_type);\n\t\tif (this.includeTags !== void 0) include = include || runTags.find((tag) => this.includeTags?.includes(tag)) !== void 0;\n\t\tif (this.excludeNames !== void 0) include = include && !this.excludeNames.includes(run.name);\n\t\tif (this.excludeTypes !== void 0) include = include && !this.excludeTypes.includes(run.run_type);\n\t\tif (this.excludeTags !== void 0) include = include && runTags.every((tag) => !this.excludeTags?.includes(tag));\n\t\treturn include;\n\t}\n\tasync *tapOutputIterable(runId, output) {\n\t\tfor await (const chunk of output) {\n\t\t\tif (runId !== this.rootId) {\n\t\t\t\tconst key = this.keyMapByRunId[runId];\n\t\t\t\tif (key) await this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"add\",\n\t\t\t\t\tpath: `/logs/${key}/streamed_output/-`,\n\t\t\t\t\tvalue: chunk\n\t\t\t\t}] }));\n\t\t\t}\n\t\t\tyield chunk;\n\t\t}\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId === void 0) {\n\t\t\tthis.rootId = run.id;\n\t\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: \"\",\n\t\t\t\tvalue: {\n\t\t\t\t\tid: run.id,\n\t\t\t\t\tname: run.name,\n\t\t\t\t\ttype: run.run_type,\n\t\t\t\t\tstreamed_output: [],\n\t\t\t\t\tfinal_output: void 0,\n\t\t\t\t\tlogs: {}\n\t\t\t\t}\n\t\t\t}] }));\n\t\t}\n\t\tif (!this._includeRun(run)) return;\n\t\tif (this.counterMapByRunName[run.name] === void 0) this.counterMapByRunName[run.name] = 0;\n\t\tthis.counterMapByRunName[run.name] += 1;\n\t\tconst count = this.counterMapByRunName[run.name];\n\t\tthis.keyMapByRunId[run.id] = count === 1 ? run.name : `${run.name}:${count}`;\n\t\tconst logEntry = {\n\t\t\tid: run.id,\n\t\t\tname: run.name,\n\t\t\ttype: run.run_type,\n\t\t\ttags: run.tags ?? [],\n\t\t\tmetadata: run.extra?.metadata ?? {},\n\t\t\tstart_time: new Date(run.start_time).toISOString(),\n\t\t\tstreamed_output: [],\n\t\t\tstreamed_output_str: [],\n\t\t\tfinal_output: void 0,\n\t\t\tend_time: void 0\n\t\t};\n\t\tif (this._schemaFormat === \"streaming_events\") logEntry.inputs = await _getStandardizedInputs(run, this._schemaFormat);\n\t\tawait this.writer.write(new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${this.keyMapByRunId[run.id]}`,\n\t\t\tvalue: logEntry\n\t\t}] }));\n\t}\n\tasync onRunUpdate(run) {\n\t\ttry {\n\t\t\tconst runName = this.keyMapByRunId[run.id];\n\t\t\tif (runName === void 0) return;\n\t\t\tconst ops = [];\n\t\t\tif (this._schemaFormat === \"streaming_events\") ops.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: `/logs/${runName}/inputs`,\n\t\t\t\tvalue: await _getStandardizedInputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/final_output`,\n\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t});\n\t\t\tif (run.end_time !== void 0) ops.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath: `/logs/${runName}/end_time`,\n\t\t\t\tvalue: new Date(run.end_time).toISOString()\n\t\t\t});\n\t\t\tconst patch = new RunLogPatch({ ops });\n\t\t\tawait this.writer.write(patch);\n\t\t} finally {\n\t\t\tif (run.id === this.rootId) {\n\t\t\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: \"/final_output\",\n\t\t\t\t\tvalue: await _getStandardizedOutputs(run, this._schemaFormat)\n\t\t\t\t}] });\n\t\t\t\tawait this.writer.write(patch);\n\t\t\t\tif (this.autoClose) await this.writer.close();\n\t\t\t}\n\t\t}\n\t}\n\tasync onLLMNewToken(run, token, kwargs) {\n\t\tconst runName = this.keyMapByRunId[run.id];\n\t\tif (runName === void 0) return;\n\t\tconst isChatModel = run.inputs.messages !== void 0;\n\t\tlet streamedOutputValue;\n\t\tif (isChatModel) if (isChatGenerationChunk(kwargs?.chunk)) streamedOutputValue = kwargs?.chunk;\n\t\telse streamedOutputValue = new require_ai.AIMessageChunk({\n\t\t\tid: `run-${run.id}`,\n\t\t\tcontent: token\n\t\t});\n\t\telse streamedOutputValue = token;\n\t\tconst patch = new RunLogPatch({ ops: [{\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output_str/-`,\n\t\t\tvalue: token\n\t\t}, {\n\t\t\top: \"add\",\n\t\t\tpath: `/logs/${runName}/streamed_output/-`,\n\t\t\tvalue: streamedOutputValue\n\t\t}] });\n\t\tawait this.writer.write(patch);\n\t}\n};\n\n//#endregion\nexports.LogStreamCallbackHandler = LogStreamCallbackHandler;\nexports.RunLog = RunLog;\nexports.RunLogPatch = RunLogPatch;\nexports.isLogStreamHandler = isLogStreamHandler;\nObject.defineProperty(exports, \"log_stream_exports\", ({\n  enumerable: true,\n  get: function () {\n    return log_stream_exports;\n  }\n}));\n//# sourceMappingURL=log_stream.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL2xvZ19zdHJlYW0uY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSxtQkFBbUIsbUJBQU8sQ0FBQyxnR0FBb0I7QUFDL0MscUJBQXFCLG1CQUFPLENBQUMsc0lBQXVDO0FBQ3BFLG1CQUFPLENBQUMsZ0lBQW9DO0FBQzVDLDZCQUE2QixtQkFBTyxDQUFDLHlGQUFZO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLGtHQUFxQjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsVUFBVTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBLG9CQUFvQixJQUFJO0FBQ3hCO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEdBQUc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFNBQVMsR0FBRyxNQUFNO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0EsR0FBRyxHQUFHO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQSxJQUFJO0FBQ0osbUNBQW1DLEtBQUs7QUFDeEM7QUFDQSxJQUFJO0FBQ0o7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQztBQUNoQyxjQUFjO0FBQ2QsbUJBQW1CO0FBQ25CLDBCQUEwQjtBQUMxQixzREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdHJhY2Vycy9sb2dfc3RyZWFtLmNqcz81YzE5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2FpID0gcmVxdWlyZSgnLi4vbWVzc2FnZXMvYWkuY2pzJyk7XG5jb25zdCByZXF1aXJlX2NvcmUgPSByZXF1aXJlKCcuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuY2pzJyk7XG5yZXF1aXJlKCcuLi91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXguY2pzJyk7XG5jb25zdCByZXF1aXJlX3RyYWNlcnNfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdXRpbHNfc3RyZWFtID0gcmVxdWlyZSgnLi4vdXRpbHMvc3RyZWFtLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvbG9nX3N0cmVhbS50c1xudmFyIGxvZ19zdHJlYW1fZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGxvZ19zdHJlYW1fZXhwb3J0cywge1xuXHRMb2dTdHJlYW1DYWxsYmFja0hhbmRsZXI6ICgpID0+IExvZ1N0cmVhbUNhbGxiYWNrSGFuZGxlcixcblx0UnVuTG9nOiAoKSA9PiBSdW5Mb2csXG5cdFJ1bkxvZ1BhdGNoOiAoKSA9PiBSdW5Mb2dQYXRjaCxcblx0aXNMb2dTdHJlYW1IYW5kbGVyOiAoKSA9PiBpc0xvZ1N0cmVhbUhhbmRsZXJcbn0pO1xuLyoqXG4qIExpc3Qgb2YganNvbnBhdGNoIEpTT05QYXRjaE9wZXJhdGlvbnMsIHdoaWNoIGRlc2NyaWJlIGhvdyB0byBjcmVhdGUgdGhlIHJ1biBzdGF0ZVxuKiBmcm9tIGFuIGVtcHR5IGRpY3QuIFRoaXMgaXMgdGhlIG1pbmltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGxvZywgZGVzaWduZWQgdG9cbiogYmUgc2VyaWFsaXplZCBhcyBKU09OIGFuZCBzZW50IG92ZXIgdGhlIHdpcmUgdG8gcmVjb25zdHJ1Y3QgdGhlIGxvZyBvbiB0aGUgb3RoZXJcbiogc2lkZS4gUmVjb25zdHJ1Y3Rpb24gb2YgdGhlIHN0YXRlIGNhbiBiZSBkb25lIHdpdGggYW55IGpzb25wYXRjaC1jb21wbGlhbnQgbGlicmFyeSxcbiogc2VlIGh0dHBzOi8vanNvbnBhdGNoLmNvbSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiovXG52YXIgUnVuTG9nUGF0Y2ggPSBjbGFzcyB7XG5cdG9wcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0dGhpcy5vcHMgPSBmaWVsZHMub3BzID8/IFtdO1xuXHR9XG5cdGNvbmNhdChvdGhlcikge1xuXHRcdGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuXHRcdGNvbnN0IHN0YXRlcyA9IHJlcXVpcmVfY29yZS5hcHBseVBhdGNoKHt9LCBvcHMpO1xuXHRcdHJldHVybiBuZXcgUnVuTG9nKHtcblx0XHRcdG9wcyxcblx0XHRcdHN0YXRlOiBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdLm5ld0RvY3VtZW50XG5cdFx0fSk7XG5cdH1cbn07XG52YXIgUnVuTG9nID0gY2xhc3MgUnVuTG9nIGV4dGVuZHMgUnVuTG9nUGF0Y2gge1xuXHRzdGF0ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoZmllbGRzKTtcblx0XHR0aGlzLnN0YXRlID0gZmllbGRzLnN0YXRlO1xuXHR9XG5cdGNvbmNhdChvdGhlcikge1xuXHRcdGNvbnN0IG9wcyA9IHRoaXMub3BzLmNvbmNhdChvdGhlci5vcHMpO1xuXHRcdGNvbnN0IHN0YXRlcyA9IHJlcXVpcmVfY29yZS5hcHBseVBhdGNoKHRoaXMuc3RhdGUsIG90aGVyLm9wcyk7XG5cdFx0cmV0dXJuIG5ldyBSdW5Mb2coe1xuXHRcdFx0b3BzLFxuXHRcdFx0c3RhdGU6IHN0YXRlc1tzdGF0ZXMubGVuZ3RoIC0gMV0ubmV3RG9jdW1lbnRcblx0XHR9KTtcblx0fVxuXHRzdGF0aWMgZnJvbVJ1bkxvZ1BhdGNoKHBhdGNoKSB7XG5cdFx0Y29uc3Qgc3RhdGVzID0gcmVxdWlyZV9jb3JlLmFwcGx5UGF0Y2goe30sIHBhdGNoLm9wcyk7XG5cdFx0cmV0dXJuIG5ldyBSdW5Mb2coe1xuXHRcdFx0b3BzOiBwYXRjaC5vcHMsXG5cdFx0XHRzdGF0ZTogc3RhdGVzW3N0YXRlcy5sZW5ndGggLSAxXS5uZXdEb2N1bWVudFxuXHRcdH0pO1xuXHR9XG59O1xuY29uc3QgaXNMb2dTdHJlYW1IYW5kbGVyID0gKGhhbmRsZXIpID0+IGhhbmRsZXIubmFtZSA9PT0gXCJsb2dfc3RyZWFtX3RyYWNlclwiO1xuLyoqXG4qIEV4dHJhY3Qgc3RhbmRhcmRpemVkIGlucHV0cyBmcm9tIGEgcnVuLlxuKlxuKiBTdGFuZGFyZGl6ZXMgdGhlIGlucHV0cyBiYXNlZCBvbiB0aGUgdHlwZSBvZiB0aGUgcnVubmFibGUgdXNlZC5cbipcbiogQHBhcmFtIHJ1biAtIFJ1biBvYmplY3RcbiogQHBhcmFtIHNjaGVtYUZvcm1hdCAtIFRoZSBzY2hlbWEgZm9ybWF0IHRvIHVzZS5cbipcbiogQHJldHVybnMgVmFsaWQgaW5wdXRzIGFyZSBvbmx5IGRpY3QuIEJ5IGNvbnZlbnRpb25zLCBpbnB1dHMgYWx3YXlzIHJlcHJlc2VudGVkXG4qIGludm9jYXRpb24gdXNpbmcgbmFtZWQgYXJndW1lbnRzLlxuKiBBIG51bGwgbWVhbnMgdGhhdCB0aGUgaW5wdXQgaXMgbm90IHlldCBrbm93biFcbiovXG5hc3luYyBmdW5jdGlvbiBfZ2V0U3RhbmRhcmRpemVkSW5wdXRzKHJ1biwgc2NoZW1hRm9ybWF0KSB7XG5cdGlmIChzY2hlbWFGb3JtYXQgPT09IFwib3JpZ2luYWxcIikgdGhyb3cgbmV3IEVycm9yKFwiRG8gbm90IGFzc2lnbiBpbnB1dHMgd2l0aCBvcmlnaW5hbCBzY2hlbWEgZHJvcCB0aGUga2V5IGZvciBub3cuIFdoZW4gaW5wdXRzIGFyZSBhZGRlZCB0byBzdHJlYW1Mb2cgdGhleSBzaG91bGQgYmUgYWRkZWQgd2l0aCBzdGFuZGFyZGl6ZWQgc2NoZW1hIGZvciBzdHJlYW1pbmcgZXZlbnRzLlwiKTtcblx0Y29uc3QgeyBpbnB1dHMgfSA9IHJ1bjtcblx0aWYgKFtcblx0XHRcInJldHJpZXZlclwiLFxuXHRcdFwibGxtXCIsXG5cdFx0XCJwcm9tcHRcIlxuXHRdLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSkpIHJldHVybiBpbnB1dHM7XG5cdGlmIChPYmplY3Qua2V5cyhpbnB1dHMpLmxlbmd0aCA9PT0gMSAmJiBpbnB1dHM/LmlucHV0ID09PSBcIlwiKSByZXR1cm4gdm9pZCAwO1xuXHRyZXR1cm4gaW5wdXRzLmlucHV0O1xufVxuYXN5bmMgZnVuY3Rpb24gX2dldFN0YW5kYXJkaXplZE91dHB1dHMocnVuLCBzY2hlbWFGb3JtYXQpIHtcblx0Y29uc3QgeyBvdXRwdXRzIH0gPSBydW47XG5cdGlmIChzY2hlbWFGb3JtYXQgPT09IFwib3JpZ2luYWxcIikgcmV0dXJuIG91dHB1dHM7XG5cdGlmIChbXG5cdFx0XCJyZXRyaWV2ZXJcIixcblx0XHRcImxsbVwiLFxuXHRcdFwicHJvbXB0XCJcblx0XS5pbmNsdWRlcyhydW4ucnVuX3R5cGUpKSByZXR1cm4gb3V0cHV0cztcblx0aWYgKG91dHB1dHMgIT09IHZvaWQgMCAmJiBPYmplY3Qua2V5cyhvdXRwdXRzKS5sZW5ndGggPT09IDEgJiYgb3V0cHV0cz8ub3V0cHV0ICE9PSB2b2lkIDApIHJldHVybiBvdXRwdXRzLm91dHB1dDtcblx0cmV0dXJuIG91dHB1dHM7XG59XG5mdW5jdGlvbiBpc0NoYXRHZW5lcmF0aW9uQ2h1bmsoeCkge1xuXHRyZXR1cm4geCAhPT0gdm9pZCAwICYmIHgubWVzc2FnZSAhPT0gdm9pZCAwO1xufVxuLyoqXG4qIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgYEJhc2VUcmFjZXJgIGNsYXNzIGZyb20gdGhlXG4qIGBsYW5nY2hhaW4uY2FsbGJhY2tzLnRyYWNlcnMuYmFzZWAgbW9kdWxlLiBJdCByZXByZXNlbnRzIGEgY2FsbGJhY2tcbiogaGFuZGxlciB0aGF0IGxvZ3MgdGhlIGV4ZWN1dGlvbiBvZiBydW5zIGFuZCBlbWl0cyBgUnVuTG9nYCBpbnN0YW5jZXMgdG8gYVxuKiBgUnVuTG9nU3RyZWFtYC5cbiovXG52YXIgTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX3RyYWNlcnNfYmFzZS5CYXNlVHJhY2VyIHtcblx0YXV0b0Nsb3NlID0gdHJ1ZTtcblx0aW5jbHVkZU5hbWVzO1xuXHRpbmNsdWRlVHlwZXM7XG5cdGluY2x1ZGVUYWdzO1xuXHRleGNsdWRlTmFtZXM7XG5cdGV4Y2x1ZGVUeXBlcztcblx0ZXhjbHVkZVRhZ3M7XG5cdF9zY2hlbWFGb3JtYXQgPSBcIm9yaWdpbmFsXCI7XG5cdHJvb3RJZDtcblx0a2V5TWFwQnlSdW5JZCA9IHt9O1xuXHRjb3VudGVyTWFwQnlSdW5OYW1lID0ge307XG5cdHRyYW5zZm9ybVN0cmVhbTtcblx0d3JpdGVyO1xuXHRyZWNlaXZlU3RyZWFtO1xuXHRuYW1lID0gXCJsb2dfc3RyZWFtX3RyYWNlclwiO1xuXHRsY19wcmVmZXJfc3RyZWFtaW5nID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoe1xuXHRcdFx0X2F3YWl0SGFuZGxlcjogdHJ1ZSxcblx0XHRcdC4uLmZpZWxkc1xuXHRcdH0pO1xuXHRcdHRoaXMuYXV0b0Nsb3NlID0gZmllbGRzPy5hdXRvQ2xvc2UgPz8gdHJ1ZTtcblx0XHR0aGlzLmluY2x1ZGVOYW1lcyA9IGZpZWxkcz8uaW5jbHVkZU5hbWVzO1xuXHRcdHRoaXMuaW5jbHVkZVR5cGVzID0gZmllbGRzPy5pbmNsdWRlVHlwZXM7XG5cdFx0dGhpcy5pbmNsdWRlVGFncyA9IGZpZWxkcz8uaW5jbHVkZVRhZ3M7XG5cdFx0dGhpcy5leGNsdWRlTmFtZXMgPSBmaWVsZHM/LmV4Y2x1ZGVOYW1lcztcblx0XHR0aGlzLmV4Y2x1ZGVUeXBlcyA9IGZpZWxkcz8uZXhjbHVkZVR5cGVzO1xuXHRcdHRoaXMuZXhjbHVkZVRhZ3MgPSBmaWVsZHM/LmV4Y2x1ZGVUYWdzO1xuXHRcdHRoaXMuX3NjaGVtYUZvcm1hdCA9IGZpZWxkcz8uX3NjaGVtYUZvcm1hdCA/PyB0aGlzLl9zY2hlbWFGb3JtYXQ7XG5cdFx0dGhpcy50cmFuc2Zvcm1TdHJlYW0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtKCk7XG5cdFx0dGhpcy53cml0ZXIgPSB0aGlzLnRyYW5zZm9ybVN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcblx0XHR0aGlzLnJlY2VpdmVTdHJlYW0gPSByZXF1aXJlX3V0aWxzX3N0cmVhbS5JdGVyYWJsZVJlYWRhYmxlU3RyZWFtLmZyb21SZWFkYWJsZVN0cmVhbSh0aGlzLnRyYW5zZm9ybVN0cmVhbS5yZWFkYWJsZSk7XG5cdH1cblx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZWNlaXZlU3RyZWFtO1xuXHR9XG5cdGFzeW5jIHBlcnNpc3RSdW4oX3J1bikge31cblx0X2luY2x1ZGVSdW4ocnVuKSB7XG5cdFx0aWYgKHJ1bi5pZCA9PT0gdGhpcy5yb290SWQpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCBydW5UYWdzID0gcnVuLnRhZ3MgPz8gW107XG5cdFx0bGV0IGluY2x1ZGUgPSB0aGlzLmluY2x1ZGVOYW1lcyA9PT0gdm9pZCAwICYmIHRoaXMuaW5jbHVkZVRhZ3MgPT09IHZvaWQgMCAmJiB0aGlzLmluY2x1ZGVUeXBlcyA9PT0gdm9pZCAwO1xuXHRcdGlmICh0aGlzLmluY2x1ZGVOYW1lcyAhPT0gdm9pZCAwKSBpbmNsdWRlID0gaW5jbHVkZSB8fCB0aGlzLmluY2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlIHx8IHRoaXMuaW5jbHVkZVR5cGVzLmluY2x1ZGVzKHJ1bi5ydW5fdHlwZSk7XG5cdFx0aWYgKHRoaXMuaW5jbHVkZVRhZ3MgIT09IHZvaWQgMCkgaW5jbHVkZSA9IGluY2x1ZGUgfHwgcnVuVGFncy5maW5kKCh0YWcpID0+IHRoaXMuaW5jbHVkZVRhZ3M/LmluY2x1ZGVzKHRhZykpICE9PSB2b2lkIDA7XG5cdFx0aWYgKHRoaXMuZXhjbHVkZU5hbWVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmICF0aGlzLmV4Y2x1ZGVOYW1lcy5pbmNsdWRlcyhydW4ubmFtZSk7XG5cdFx0aWYgKHRoaXMuZXhjbHVkZVR5cGVzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmICF0aGlzLmV4Y2x1ZGVUeXBlcy5pbmNsdWRlcyhydW4ucnVuX3R5cGUpO1xuXHRcdGlmICh0aGlzLmV4Y2x1ZGVUYWdzICE9PSB2b2lkIDApIGluY2x1ZGUgPSBpbmNsdWRlICYmIHJ1blRhZ3MuZXZlcnkoKHRhZykgPT4gIXRoaXMuZXhjbHVkZVRhZ3M/LmluY2x1ZGVzKHRhZykpO1xuXHRcdHJldHVybiBpbmNsdWRlO1xuXHR9XG5cdGFzeW5jICp0YXBPdXRwdXRJdGVyYWJsZShydW5JZCwgb3V0cHV0KSB7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBvdXRwdXQpIHtcblx0XHRcdGlmIChydW5JZCAhPT0gdGhpcy5yb290SWQpIHtcblx0XHRcdFx0Y29uc3Qga2V5ID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bklkXTtcblx0XHRcdFx0aWYgKGtleSkgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUobmV3IFJ1bkxvZ1BhdGNoKHsgb3BzOiBbe1xuXHRcdFx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0XHRcdHBhdGg6IGAvbG9ncy8ke2tleX0vc3RyZWFtZWRfb3V0cHV0Ly1gLFxuXHRcdFx0XHRcdHZhbHVlOiBjaHVua1xuXHRcdFx0XHR9XSB9KSk7XG5cdFx0XHR9XG5cdFx0XHR5aWVsZCBjaHVuaztcblx0XHR9XG5cdH1cblx0YXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG5cdFx0aWYgKHRoaXMucm9vdElkID09PSB2b2lkIDApIHtcblx0XHRcdHRoaXMucm9vdElkID0gcnVuLmlkO1xuXHRcdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUobmV3IFJ1bkxvZ1BhdGNoKHsgb3BzOiBbe1xuXHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdHBhdGg6IFwiXCIsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0aWQ6IHJ1bi5pZCxcblx0XHRcdFx0XHRuYW1lOiBydW4ubmFtZSxcblx0XHRcdFx0XHR0eXBlOiBydW4ucnVuX3R5cGUsXG5cdFx0XHRcdFx0c3RyZWFtZWRfb3V0cHV0OiBbXSxcblx0XHRcdFx0XHRmaW5hbF9vdXRwdXQ6IHZvaWQgMCxcblx0XHRcdFx0XHRsb2dzOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHR9XSB9KSk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5faW5jbHVkZVJ1bihydW4pKSByZXR1cm47XG5cdFx0aWYgKHRoaXMuY291bnRlck1hcEJ5UnVuTmFtZVtydW4ubmFtZV0gPT09IHZvaWQgMCkgdGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSA9IDA7XG5cdFx0dGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXSArPSAxO1xuXHRcdGNvbnN0IGNvdW50ID0gdGhpcy5jb3VudGVyTWFwQnlSdW5OYW1lW3J1bi5uYW1lXTtcblx0XHR0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXSA9IGNvdW50ID09PSAxID8gcnVuLm5hbWUgOiBgJHtydW4ubmFtZX06JHtjb3VudH1gO1xuXHRcdGNvbnN0IGxvZ0VudHJ5ID0ge1xuXHRcdFx0aWQ6IHJ1bi5pZCxcblx0XHRcdG5hbWU6IHJ1bi5uYW1lLFxuXHRcdFx0dHlwZTogcnVuLnJ1bl90eXBlLFxuXHRcdFx0dGFnczogcnVuLnRhZ3MgPz8gW10sXG5cdFx0XHRtZXRhZGF0YTogcnVuLmV4dHJhPy5tZXRhZGF0YSA/PyB7fSxcblx0XHRcdHN0YXJ0X3RpbWU6IG5ldyBEYXRlKHJ1bi5zdGFydF90aW1lKS50b0lTT1N0cmluZygpLFxuXHRcdFx0c3RyZWFtZWRfb3V0cHV0OiBbXSxcblx0XHRcdHN0cmVhbWVkX291dHB1dF9zdHI6IFtdLFxuXHRcdFx0ZmluYWxfb3V0cHV0OiB2b2lkIDAsXG5cdFx0XHRlbmRfdGltZTogdm9pZCAwXG5cdFx0fTtcblx0XHRpZiAodGhpcy5fc2NoZW1hRm9ybWF0ID09PSBcInN0cmVhbWluZ19ldmVudHNcIikgbG9nRW50cnkuaW5wdXRzID0gYXdhaXQgX2dldFN0YW5kYXJkaXplZElucHV0cyhydW4sIHRoaXMuX3NjaGVtYUZvcm1hdCk7XG5cdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUobmV3IFJ1bkxvZ1BhdGNoKHsgb3BzOiBbe1xuXHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRwYXRoOiBgL2xvZ3MvJHt0aGlzLmtleU1hcEJ5UnVuSWRbcnVuLmlkXX1gLFxuXHRcdFx0dmFsdWU6IGxvZ0VudHJ5XG5cdFx0fV0gfSkpO1xuXHR9XG5cdGFzeW5jIG9uUnVuVXBkYXRlKHJ1bikge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBydW5OYW1lID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF07XG5cdFx0XHRpZiAocnVuTmFtZSA9PT0gdm9pZCAwKSByZXR1cm47XG5cdFx0XHRjb25zdCBvcHMgPSBbXTtcblx0XHRcdGlmICh0aGlzLl9zY2hlbWFGb3JtYXQgPT09IFwic3RyZWFtaW5nX2V2ZW50c1wiKSBvcHMucHVzaCh7XG5cdFx0XHRcdG9wOiBcInJlcGxhY2VcIixcblx0XHRcdFx0cGF0aDogYC9sb2dzLyR7cnVuTmFtZX0vaW5wdXRzYCxcblx0XHRcdFx0dmFsdWU6IGF3YWl0IF9nZXRTdGFuZGFyZGl6ZWRJbnB1dHMocnVuLCB0aGlzLl9zY2hlbWFGb3JtYXQpXG5cdFx0XHR9KTtcblx0XHRcdG9wcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L2ZpbmFsX291dHB1dGAsXG5cdFx0XHRcdHZhbHVlOiBhd2FpdCBfZ2V0U3RhbmRhcmRpemVkT3V0cHV0cyhydW4sIHRoaXMuX3NjaGVtYUZvcm1hdClcblx0XHRcdH0pO1xuXHRcdFx0aWYgKHJ1bi5lbmRfdGltZSAhPT0gdm9pZCAwKSBvcHMucHVzaCh7XG5cdFx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0XHRwYXRoOiBgL2xvZ3MvJHtydW5OYW1lfS9lbmRfdGltZWAsXG5cdFx0XHRcdHZhbHVlOiBuZXcgRGF0ZShydW4uZW5kX3RpbWUpLnRvSVNPU3RyaW5nKClcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgcGF0Y2ggPSBuZXcgUnVuTG9nUGF0Y2goeyBvcHMgfSk7XG5cdFx0XHRhd2FpdCB0aGlzLndyaXRlci53cml0ZShwYXRjaCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGlmIChydW4uaWQgPT09IHRoaXMucm9vdElkKSB7XG5cdFx0XHRcdGNvbnN0IHBhdGNoID0gbmV3IFJ1bkxvZ1BhdGNoKHsgb3BzOiBbe1xuXHRcdFx0XHRcdG9wOiBcInJlcGxhY2VcIixcblx0XHRcdFx0XHRwYXRoOiBcIi9maW5hbF9vdXRwdXRcIixcblx0XHRcdFx0XHR2YWx1ZTogYXdhaXQgX2dldFN0YW5kYXJkaXplZE91dHB1dHMocnVuLCB0aGlzLl9zY2hlbWFGb3JtYXQpXG5cdFx0XHRcdH1dIH0pO1xuXHRcdFx0XHRhd2FpdCB0aGlzLndyaXRlci53cml0ZShwYXRjaCk7XG5cdFx0XHRcdGlmICh0aGlzLmF1dG9DbG9zZSkgYXdhaXQgdGhpcy53cml0ZXIuY2xvc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0YXN5bmMgb25MTE1OZXdUb2tlbihydW4sIHRva2VuLCBrd2FyZ3MpIHtcblx0XHRjb25zdCBydW5OYW1lID0gdGhpcy5rZXlNYXBCeVJ1bklkW3J1bi5pZF07XG5cdFx0aWYgKHJ1bk5hbWUgPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRcdGNvbnN0IGlzQ2hhdE1vZGVsID0gcnVuLmlucHV0cy5tZXNzYWdlcyAhPT0gdm9pZCAwO1xuXHRcdGxldCBzdHJlYW1lZE91dHB1dFZhbHVlO1xuXHRcdGlmIChpc0NoYXRNb2RlbCkgaWYgKGlzQ2hhdEdlbmVyYXRpb25DaHVuayhrd2FyZ3M/LmNodW5rKSkgc3RyZWFtZWRPdXRwdXRWYWx1ZSA9IGt3YXJncz8uY2h1bms7XG5cdFx0ZWxzZSBzdHJlYW1lZE91dHB1dFZhbHVlID0gbmV3IHJlcXVpcmVfYWkuQUlNZXNzYWdlQ2h1bmsoe1xuXHRcdFx0aWQ6IGBydW4tJHtydW4uaWR9YCxcblx0XHRcdGNvbnRlbnQ6IHRva2VuXG5cdFx0fSk7XG5cdFx0ZWxzZSBzdHJlYW1lZE91dHB1dFZhbHVlID0gdG9rZW47XG5cdFx0Y29uc3QgcGF0Y2ggPSBuZXcgUnVuTG9nUGF0Y2goeyBvcHM6IFt7XG5cdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dF9zdHIvLWAsXG5cdFx0XHR2YWx1ZTogdG9rZW5cblx0XHR9LCB7XG5cdFx0XHRvcDogXCJhZGRcIixcblx0XHRcdHBhdGg6IGAvbG9ncy8ke3J1bk5hbWV9L3N0cmVhbWVkX291dHB1dC8tYCxcblx0XHRcdHZhbHVlOiBzdHJlYW1lZE91dHB1dFZhbHVlXG5cdFx0fV0gfSk7XG5cdFx0YXdhaXQgdGhpcy53cml0ZXIud3JpdGUocGF0Y2gpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyID0gTG9nU3RyZWFtQ2FsbGJhY2tIYW5kbGVyO1xuZXhwb3J0cy5SdW5Mb2cgPSBSdW5Mb2c7XG5leHBvcnRzLlJ1bkxvZ1BhdGNoID0gUnVuTG9nUGF0Y2g7XG5leHBvcnRzLmlzTG9nU3RyZWFtSGFuZGxlciA9IGlzTG9nU3RyZWFtSGFuZGxlcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnbG9nX3N0cmVhbV9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbG9nX3N0cmVhbV9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ19zdHJlYW0uY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/log_stream.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/root_listener.cjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/root_listener.cjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_tracers_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\n\n//#region src/tracers/root_listener.ts\nvar RootListenersTracer = class extends require_tracers_base.BaseTracer {\n\tname = \"RootListenersTracer\";\n\t/** The Run's ID. Type UUID */\n\trootId;\n\tconfig;\n\targOnStart;\n\targOnEnd;\n\targOnError;\n\tconstructor({ config, onStart, onEnd, onError }) {\n\t\tsuper({ _awaitHandler: true });\n\t\tthis.config = config;\n\t\tthis.argOnStart = onStart;\n\t\tthis.argOnEnd = onEnd;\n\t\tthis.argOnError = onError;\n\t}\n\t/**\n\t* This is a legacy method only called once for an entire run tree\n\t* therefore not useful here\n\t* @param {Run} _ Not used\n\t*/\n\tpersistRun(_) {\n\t\treturn Promise.resolve();\n\t}\n\tasync onRunCreate(run) {\n\t\tif (this.rootId) return;\n\t\tthis.rootId = run.id;\n\t\tif (this.argOnStart) await this.argOnStart(run, this.config);\n\t}\n\tasync onRunUpdate(run) {\n\t\tif (run.id !== this.rootId) return;\n\t\tif (!run.error) {\n\t\t\tif (this.argOnEnd) await this.argOnEnd(run, this.config);\n\t\t} else if (this.argOnError) await this.argOnError(run, this.config);\n\t}\n};\n\n//#endregion\nexports.RootListenersTracer = RootListenersTracer;\n//# sourceMappingURL=root_listener.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3Jvb3RfbGlzdGVuZXIuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDZCQUE2QixtQkFBTyxDQUFDLHlGQUFZOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlDQUFpQztBQUNoRCxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3RyYWNlcnMvcm9vdF9saXN0ZW5lci5janM/NjU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3RyYWNlcnNfYmFzZSA9IHJlcXVpcmUoJy4vYmFzZS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy90cmFjZXJzL3Jvb3RfbGlzdGVuZXIudHNcbnZhciBSb290TGlzdGVuZXJzVHJhY2VyID0gY2xhc3MgZXh0ZW5kcyByZXF1aXJlX3RyYWNlcnNfYmFzZS5CYXNlVHJhY2VyIHtcblx0bmFtZSA9IFwiUm9vdExpc3RlbmVyc1RyYWNlclwiO1xuXHQvKiogVGhlIFJ1bidzIElELiBUeXBlIFVVSUQgKi9cblx0cm9vdElkO1xuXHRjb25maWc7XG5cdGFyZ09uU3RhcnQ7XG5cdGFyZ09uRW5kO1xuXHRhcmdPbkVycm9yO1xuXHRjb25zdHJ1Y3Rvcih7IGNvbmZpZywgb25TdGFydCwgb25FbmQsIG9uRXJyb3IgfSkge1xuXHRcdHN1cGVyKHsgX2F3YWl0SGFuZGxlcjogdHJ1ZSB9KTtcblx0XHR0aGlzLmNvbmZpZyA9IGNvbmZpZztcblx0XHR0aGlzLmFyZ09uU3RhcnQgPSBvblN0YXJ0O1xuXHRcdHRoaXMuYXJnT25FbmQgPSBvbkVuZDtcblx0XHR0aGlzLmFyZ09uRXJyb3IgPSBvbkVycm9yO1xuXHR9XG5cdC8qKlxuXHQqIFRoaXMgaXMgYSBsZWdhY3kgbWV0aG9kIG9ubHkgY2FsbGVkIG9uY2UgZm9yIGFuIGVudGlyZSBydW4gdHJlZVxuXHQqIHRoZXJlZm9yZSBub3QgdXNlZnVsIGhlcmVcblx0KiBAcGFyYW0ge1J1bn0gXyBOb3QgdXNlZFxuXHQqL1xuXHRwZXJzaXN0UnVuKF8pIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cblx0YXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG5cdFx0aWYgKHRoaXMucm9vdElkKSByZXR1cm47XG5cdFx0dGhpcy5yb290SWQgPSBydW4uaWQ7XG5cdFx0aWYgKHRoaXMuYXJnT25TdGFydCkgYXdhaXQgdGhpcy5hcmdPblN0YXJ0KHJ1biwgdGhpcy5jb25maWcpO1xuXHR9XG5cdGFzeW5jIG9uUnVuVXBkYXRlKHJ1bikge1xuXHRcdGlmIChydW4uaWQgIT09IHRoaXMucm9vdElkKSByZXR1cm47XG5cdFx0aWYgKCFydW4uZXJyb3IpIHtcblx0XHRcdGlmICh0aGlzLmFyZ09uRW5kKSBhd2FpdCB0aGlzLmFyZ09uRW5kKHJ1biwgdGhpcy5jb25maWcpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5hcmdPbkVycm9yKSBhd2FpdCB0aGlzLmFyZ09uRXJyb3IocnVuLCB0aGlzLmNvbmZpZyk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5Sb290TGlzdGVuZXJzVHJhY2VyID0gUm9vdExpc3RlbmVyc1RyYWNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvb3RfbGlzdGVuZXIuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/root_listener.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/tracers/tracer_langchain.cjs":
/*!************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/tracers/tracer_langchain.cjs ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_metadata = __webpack_require__(/*! ../messages/metadata.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/metadata.cjs\");\nconst require_ai = __webpack_require__(/*! ../messages/ai.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/messages/ai.cjs\");\nconst require_tracers_base = __webpack_require__(/*! ./base.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/tracers/base.cjs\");\nconst require_tracer = __webpack_require__(/*! ../singletons/tracer.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/tracer.cjs\");\nconst langsmith_singletons_traceable = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith/singletons/traceable */ \"(action-browser)/./node_modules/langsmith/singletons/traceable.cjs\"));\nconst langsmith_run_trees = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith/run_trees */ \"(action-browser)/./node_modules/langsmith/run_trees.cjs\"));\nconst langsmith = require_rolldown_runtime.__toESM(__webpack_require__(/*! langsmith */ \"(action-browser)/./node_modules/langsmith/index.cjs\"));\n\n//#region src/tracers/tracer_langchain.ts\nvar tracer_langchain_exports = {};\nrequire_rolldown_runtime.__export(tracer_langchain_exports, { LangChainTracer: () => LangChainTracer });\n/**\n* Extract usage_metadata from chat generations.\n*\n* Iterates through generations to find and aggregates all usage_metadata\n* found in chat messages. This is typically present in chat model outputs.\n*/\nfunction _getUsageMetadataFromGenerations(generations) {\n\tlet output = void 0;\n\tfor (const generationBatch of generations) for (const generation of generationBatch) if (require_ai.AIMessage.isInstance(generation.message) && generation.message.usage_metadata !== void 0) output = require_metadata.mergeUsageMetadata(output, generation.message.usage_metadata);\n\treturn output;\n}\nvar LangChainTracer = class LangChainTracer extends require_tracers_base.BaseTracer {\n\tname = \"langchain_tracer\";\n\tprojectName;\n\texampleId;\n\tclient;\n\treplicas;\n\tusesRunTreeMap = true;\n\tconstructor(fields = {}) {\n\t\tsuper(fields);\n\t\tconst { exampleId, projectName, client, replicas } = fields;\n\t\tthis.projectName = projectName ?? (0, langsmith.getDefaultProjectName)();\n\t\tthis.replicas = replicas;\n\t\tthis.exampleId = exampleId;\n\t\tthis.client = client ?? require_tracer.getDefaultLangChainClientSingleton();\n\t\tconst traceableTree = LangChainTracer.getTraceableRunTree();\n\t\tif (traceableTree) this.updateFromRunTree(traceableTree);\n\t}\n\tasync persistRun(_run) {}\n\tasync onRunCreate(run) {\n\t\tif (!run.extra?.lc_defers_inputs) {\n\t\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\t\tawait runTree?.postRun();\n\t\t}\n\t}\n\tasync onRunUpdate(run) {\n\t\tconst runTree = this.getRunTreeWithTracingConfig(run.id);\n\t\tif (run.extra?.lc_defers_inputs) await runTree?.postRun();\n\t\telse await runTree?.patchRun();\n\t}\n\tonLLMEnd(run) {\n\t\tconst outputs = run.outputs;\n\t\tif (outputs?.generations) {\n\t\t\tconst usageMetadata = _getUsageMetadataFromGenerations(outputs.generations);\n\t\t\tif (usageMetadata !== void 0) {\n\t\t\t\trun.extra = run.extra ?? {};\n\t\t\t\tconst metadata = run.extra.metadata ?? {};\n\t\t\t\tmetadata.usage_metadata = usageMetadata;\n\t\t\t\trun.extra.metadata = metadata;\n\t\t\t}\n\t\t}\n\t}\n\tgetRun(id) {\n\t\treturn this.runTreeMap.get(id);\n\t}\n\tupdateFromRunTree(runTree) {\n\t\tthis.runTreeMap.set(runTree.id, runTree);\n\t\tlet rootRun = runTree;\n\t\tconst visited = /* @__PURE__ */ new Set();\n\t\twhile (rootRun.parent_run) {\n\t\t\tif (visited.has(rootRun.id)) break;\n\t\t\tvisited.add(rootRun.id);\n\t\t\tif (!rootRun.parent_run) break;\n\t\t\trootRun = rootRun.parent_run;\n\t\t}\n\t\tvisited.clear();\n\t\tconst queue = [rootRun];\n\t\twhile (queue.length > 0) {\n\t\t\tconst current = queue.shift();\n\t\t\tif (!current || visited.has(current.id)) continue;\n\t\t\tvisited.add(current.id);\n\t\t\tthis.runTreeMap.set(current.id, current);\n\t\t\tif (current.child_runs) queue.push(...current.child_runs);\n\t\t}\n\t\tthis.client = runTree.client ?? this.client;\n\t\tthis.replicas = runTree.replicas ?? this.replicas;\n\t\tthis.projectName = runTree.project_name ?? this.projectName;\n\t\tthis.exampleId = runTree.reference_example_id ?? this.exampleId;\n\t}\n\tgetRunTreeWithTracingConfig(id) {\n\t\tconst runTree = this.runTreeMap.get(id);\n\t\tif (!runTree) return void 0;\n\t\treturn new langsmith_run_trees.RunTree({\n\t\t\t...runTree,\n\t\t\tclient: this.client,\n\t\t\tproject_name: this.projectName,\n\t\t\treplicas: this.replicas,\n\t\t\treference_example_id: this.exampleId,\n\t\t\ttracingEnabled: true\n\t\t});\n\t}\n\tstatic getTraceableRunTree() {\n\t\ttry {\n\t\t\treturn (0, langsmith_singletons_traceable.getCurrentRunTree)(true);\n\t\t} catch {\n\t\t\treturn void 0;\n\t\t}\n\t}\n};\n\n//#endregion\nexports.LangChainTracer = LangChainTracer;\nObject.defineProperty(exports, \"tracer_langchain_exports\", ({\n  enumerable: true,\n  get: function () {\n    return tracer_langchain_exports;\n  }\n}));\n//# sourceMappingURL=tracer_langchain.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSx5QkFBeUIsbUJBQU8sQ0FBQyw0R0FBMEI7QUFDM0QsbUJBQW1CLG1CQUFPLENBQUMsZ0dBQW9CO0FBQy9DLDZCQUE2QixtQkFBTyxDQUFDLHlGQUFZO0FBQ2pELHVCQUF1QixtQkFBTyxDQUFDLDRHQUEwQjtBQUN6RCx3RUFBd0UsbUJBQU8sQ0FBQywwR0FBZ0M7QUFDaEgsNkRBQTZELG1CQUFPLENBQUMsb0ZBQXFCO0FBQzFGLG1EQUFtRCxtQkFBTyxDQUFDLHNFQUFXOztBQUV0RTtBQUNBO0FBQ0EsOERBQThELHdDQUF3QztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQSxVQUFVLDJDQUEyQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDREQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC90cmFjZXJzL3RyYWNlcl9sYW5nY2hhaW4uY2pzPzRkMTYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfbWV0YWRhdGEgPSByZXF1aXJlKCcuLi9tZXNzYWdlcy9tZXRhZGF0YS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYWkgPSByZXF1aXJlKCcuLi9tZXNzYWdlcy9haS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdHJhY2Vyc19iYXNlID0gcmVxdWlyZSgnLi9iYXNlLmNqcycpO1xuY29uc3QgcmVxdWlyZV90cmFjZXIgPSByZXF1aXJlKCcuLi9zaW5nbGV0b25zL3RyYWNlci5janMnKTtcbmNvbnN0IGxhbmdzbWl0aF9zaW5nbGV0b25zX3RyYWNlYWJsZSA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGgvc2luZ2xldG9ucy90cmFjZWFibGVcIikpO1xuY29uc3QgbGFuZ3NtaXRoX3J1bl90cmVlcyA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGgvcnVuX3RyZWVzXCIpKTtcbmNvbnN0IGxhbmdzbWl0aCA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJsYW5nc21pdGhcIikpO1xuXG4vLyNyZWdpb24gc3JjL3RyYWNlcnMvdHJhY2VyX2xhbmdjaGFpbi50c1xudmFyIHRyYWNlcl9sYW5nY2hhaW5fZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KHRyYWNlcl9sYW5nY2hhaW5fZXhwb3J0cywgeyBMYW5nQ2hhaW5UcmFjZXI6ICgpID0+IExhbmdDaGFpblRyYWNlciB9KTtcbi8qKlxuKiBFeHRyYWN0IHVzYWdlX21ldGFkYXRhIGZyb20gY2hhdCBnZW5lcmF0aW9ucy5cbipcbiogSXRlcmF0ZXMgdGhyb3VnaCBnZW5lcmF0aW9ucyB0byBmaW5kIGFuZCBhZ2dyZWdhdGVzIGFsbCB1c2FnZV9tZXRhZGF0YVxuKiBmb3VuZCBpbiBjaGF0IG1lc3NhZ2VzLiBUaGlzIGlzIHR5cGljYWxseSBwcmVzZW50IGluIGNoYXQgbW9kZWwgb3V0cHV0cy5cbiovXG5mdW5jdGlvbiBfZ2V0VXNhZ2VNZXRhZGF0YUZyb21HZW5lcmF0aW9ucyhnZW5lcmF0aW9ucykge1xuXHRsZXQgb3V0cHV0ID0gdm9pZCAwO1xuXHRmb3IgKGNvbnN0IGdlbmVyYXRpb25CYXRjaCBvZiBnZW5lcmF0aW9ucykgZm9yIChjb25zdCBnZW5lcmF0aW9uIG9mIGdlbmVyYXRpb25CYXRjaCkgaWYgKHJlcXVpcmVfYWkuQUlNZXNzYWdlLmlzSW5zdGFuY2UoZ2VuZXJhdGlvbi5tZXNzYWdlKSAmJiBnZW5lcmF0aW9uLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEgIT09IHZvaWQgMCkgb3V0cHV0ID0gcmVxdWlyZV9tZXRhZGF0YS5tZXJnZVVzYWdlTWV0YWRhdGEob3V0cHV0LCBnZW5lcmF0aW9uLm1lc3NhZ2UudXNhZ2VfbWV0YWRhdGEpO1xuXHRyZXR1cm4gb3V0cHV0O1xufVxudmFyIExhbmdDaGFpblRyYWNlciA9IGNsYXNzIExhbmdDaGFpblRyYWNlciBleHRlbmRzIHJlcXVpcmVfdHJhY2Vyc19iYXNlLkJhc2VUcmFjZXIge1xuXHRuYW1lID0gXCJsYW5nY2hhaW5fdHJhY2VyXCI7XG5cdHByb2plY3ROYW1lO1xuXHRleGFtcGxlSWQ7XG5cdGNsaWVudDtcblx0cmVwbGljYXM7XG5cdHVzZXNSdW5UcmVlTWFwID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoZmllbGRzID0ge30pIHtcblx0XHRzdXBlcihmaWVsZHMpO1xuXHRcdGNvbnN0IHsgZXhhbXBsZUlkLCBwcm9qZWN0TmFtZSwgY2xpZW50LCByZXBsaWNhcyB9ID0gZmllbGRzO1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZSA/PyAoMCwgbGFuZ3NtaXRoLmdldERlZmF1bHRQcm9qZWN0TmFtZSkoKTtcblx0XHR0aGlzLnJlcGxpY2FzID0gcmVwbGljYXM7XG5cdFx0dGhpcy5leGFtcGxlSWQgPSBleGFtcGxlSWQ7XG5cdFx0dGhpcy5jbGllbnQgPSBjbGllbnQgPz8gcmVxdWlyZV90cmFjZXIuZ2V0RGVmYXVsdExhbmdDaGFpbkNsaWVudFNpbmdsZXRvbigpO1xuXHRcdGNvbnN0IHRyYWNlYWJsZVRyZWUgPSBMYW5nQ2hhaW5UcmFjZXIuZ2V0VHJhY2VhYmxlUnVuVHJlZSgpO1xuXHRcdGlmICh0cmFjZWFibGVUcmVlKSB0aGlzLnVwZGF0ZUZyb21SdW5UcmVlKHRyYWNlYWJsZVRyZWUpO1xuXHR9XG5cdGFzeW5jIHBlcnNpc3RSdW4oX3J1bikge31cblx0YXN5bmMgb25SdW5DcmVhdGUocnVuKSB7XG5cdFx0aWYgKCFydW4uZXh0cmE/LmxjX2RlZmVyc19pbnB1dHMpIHtcblx0XHRcdGNvbnN0IHJ1blRyZWUgPSB0aGlzLmdldFJ1blRyZWVXaXRoVHJhY2luZ0NvbmZpZyhydW4uaWQpO1xuXHRcdFx0YXdhaXQgcnVuVHJlZT8ucG9zdFJ1bigpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBvblJ1blVwZGF0ZShydW4pIHtcblx0XHRjb25zdCBydW5UcmVlID0gdGhpcy5nZXRSdW5UcmVlV2l0aFRyYWNpbmdDb25maWcocnVuLmlkKTtcblx0XHRpZiAocnVuLmV4dHJhPy5sY19kZWZlcnNfaW5wdXRzKSBhd2FpdCBydW5UcmVlPy5wb3N0UnVuKCk7XG5cdFx0ZWxzZSBhd2FpdCBydW5UcmVlPy5wYXRjaFJ1bigpO1xuXHR9XG5cdG9uTExNRW5kKHJ1bikge1xuXHRcdGNvbnN0IG91dHB1dHMgPSBydW4ub3V0cHV0cztcblx0XHRpZiAob3V0cHV0cz8uZ2VuZXJhdGlvbnMpIHtcblx0XHRcdGNvbnN0IHVzYWdlTWV0YWRhdGEgPSBfZ2V0VXNhZ2VNZXRhZGF0YUZyb21HZW5lcmF0aW9ucyhvdXRwdXRzLmdlbmVyYXRpb25zKTtcblx0XHRcdGlmICh1c2FnZU1ldGFkYXRhICE9PSB2b2lkIDApIHtcblx0XHRcdFx0cnVuLmV4dHJhID0gcnVuLmV4dHJhID8/IHt9O1xuXHRcdFx0XHRjb25zdCBtZXRhZGF0YSA9IHJ1bi5leHRyYS5tZXRhZGF0YSA/PyB7fTtcblx0XHRcdFx0bWV0YWRhdGEudXNhZ2VfbWV0YWRhdGEgPSB1c2FnZU1ldGFkYXRhO1xuXHRcdFx0XHRydW4uZXh0cmEubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Z2V0UnVuKGlkKSB7XG5cdFx0cmV0dXJuIHRoaXMucnVuVHJlZU1hcC5nZXQoaWQpO1xuXHR9XG5cdHVwZGF0ZUZyb21SdW5UcmVlKHJ1blRyZWUpIHtcblx0XHR0aGlzLnJ1blRyZWVNYXAuc2V0KHJ1blRyZWUuaWQsIHJ1blRyZWUpO1xuXHRcdGxldCByb290UnVuID0gcnVuVHJlZTtcblx0XHRjb25zdCB2aXNpdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHR3aGlsZSAocm9vdFJ1bi5wYXJlbnRfcnVuKSB7XG5cdFx0XHRpZiAodmlzaXRlZC5oYXMocm9vdFJ1bi5pZCkpIGJyZWFrO1xuXHRcdFx0dmlzaXRlZC5hZGQocm9vdFJ1bi5pZCk7XG5cdFx0XHRpZiAoIXJvb3RSdW4ucGFyZW50X3J1bikgYnJlYWs7XG5cdFx0XHRyb290UnVuID0gcm9vdFJ1bi5wYXJlbnRfcnVuO1xuXHRcdH1cblx0XHR2aXNpdGVkLmNsZWFyKCk7XG5cdFx0Y29uc3QgcXVldWUgPSBbcm9vdFJ1bl07XG5cdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IGN1cnJlbnQgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0aWYgKCFjdXJyZW50IHx8IHZpc2l0ZWQuaGFzKGN1cnJlbnQuaWQpKSBjb250aW51ZTtcblx0XHRcdHZpc2l0ZWQuYWRkKGN1cnJlbnQuaWQpO1xuXHRcdFx0dGhpcy5ydW5UcmVlTWFwLnNldChjdXJyZW50LmlkLCBjdXJyZW50KTtcblx0XHRcdGlmIChjdXJyZW50LmNoaWxkX3J1bnMpIHF1ZXVlLnB1c2goLi4uY3VycmVudC5jaGlsZF9ydW5zKTtcblx0XHR9XG5cdFx0dGhpcy5jbGllbnQgPSBydW5UcmVlLmNsaWVudCA/PyB0aGlzLmNsaWVudDtcblx0XHR0aGlzLnJlcGxpY2FzID0gcnVuVHJlZS5yZXBsaWNhcyA/PyB0aGlzLnJlcGxpY2FzO1xuXHRcdHRoaXMucHJvamVjdE5hbWUgPSBydW5UcmVlLnByb2plY3RfbmFtZSA/PyB0aGlzLnByb2plY3ROYW1lO1xuXHRcdHRoaXMuZXhhbXBsZUlkID0gcnVuVHJlZS5yZWZlcmVuY2VfZXhhbXBsZV9pZCA/PyB0aGlzLmV4YW1wbGVJZDtcblx0fVxuXHRnZXRSdW5UcmVlV2l0aFRyYWNpbmdDb25maWcoaWQpIHtcblx0XHRjb25zdCBydW5UcmVlID0gdGhpcy5ydW5UcmVlTWFwLmdldChpZCk7XG5cdFx0aWYgKCFydW5UcmVlKSByZXR1cm4gdm9pZCAwO1xuXHRcdHJldHVybiBuZXcgbGFuZ3NtaXRoX3J1bl90cmVlcy5SdW5UcmVlKHtcblx0XHRcdC4uLnJ1blRyZWUsXG5cdFx0XHRjbGllbnQ6IHRoaXMuY2xpZW50LFxuXHRcdFx0cHJvamVjdF9uYW1lOiB0aGlzLnByb2plY3ROYW1lLFxuXHRcdFx0cmVwbGljYXM6IHRoaXMucmVwbGljYXMsXG5cdFx0XHRyZWZlcmVuY2VfZXhhbXBsZV9pZDogdGhpcy5leGFtcGxlSWQsXG5cdFx0XHR0cmFjaW5nRW5hYmxlZDogdHJ1ZVxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBnZXRUcmFjZWFibGVSdW5UcmVlKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gKDAsIGxhbmdzbWl0aF9zaW5nbGV0b25zX3RyYWNlYWJsZS5nZXRDdXJyZW50UnVuVHJlZSkodHJ1ZSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdH1cblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLkxhbmdDaGFpblRyYWNlciA9IExhbmdDaGFpblRyYWNlcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAndHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJhY2VyX2xhbmdjaGFpbl9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlcl9sYW5nY2hhaW4uY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/tracers/tracer_langchain.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/async_caller.cjs":
/*!******************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/async_caller.cjs ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_signal = __webpack_require__(/*! ./signal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs\");\nconst require_index = __webpack_require__(/*! ./p-retry/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/p-retry/index.cjs\");\nconst p_queue = require_rolldown_runtime.__toESM(__webpack_require__(/*! p-queue */ \"(action-browser)/./node_modules/p-queue/dist/index.js\"));\n\n//#region src/utils/async_caller.ts\nvar async_caller_exports = {};\nrequire_rolldown_runtime.__export(async_caller_exports, { AsyncCaller: () => AsyncCaller });\nconst STATUS_NO_RETRY = [\n\t400,\n\t401,\n\t402,\n\t403,\n\t404,\n\t405,\n\t406,\n\t407,\n\t409\n];\nconst defaultFailedAttemptHandler = (error) => {\n\tif (error.message.startsWith(\"Cancel\") || error.message.startsWith(\"AbortError\") || error.name === \"AbortError\") throw error;\n\tif (error?.code === \"ECONNABORTED\") throw error;\n\tconst status = error?.response?.status ?? error?.status;\n\tif (status && STATUS_NO_RETRY.includes(+status)) throw error;\n\tif (error?.error?.code === \"insufficient_quota\") {\n\t\tconst err = new Error(error?.message);\n\t\terr.name = \"InsufficientQuotaError\";\n\t\tthrow err;\n\t}\n};\n/**\n* A class that can be used to make async calls with concurrency and retry logic.\n*\n* This is useful for making calls to any kind of \"expensive\" external resource,\n* be it because it's rate-limited, subject to network issues, etc.\n*\n* Concurrent calls are limited by the `maxConcurrency` parameter, which defaults\n* to `Infinity`. This means that by default, all calls will be made in parallel.\n*\n* Retries are limited by the `maxRetries` parameter, which defaults to 6. This\n* means that by default, each call will be retried up to 6 times, with an\n* exponential backoff between each attempt.\n*/\nvar AsyncCaller = class {\n\tmaxConcurrency;\n\tmaxRetries;\n\tonFailedAttempt;\n\tqueue;\n\tconstructor(params) {\n\t\tthis.maxConcurrency = params.maxConcurrency ?? Infinity;\n\t\tthis.maxRetries = params.maxRetries ?? 6;\n\t\tthis.onFailedAttempt = params.onFailedAttempt ?? defaultFailedAttemptHandler;\n\t\tconst PQueue = \"default\" in p_queue.default ? p_queue.default.default : p_queue.default;\n\t\tthis.queue = new PQueue({ concurrency: this.maxConcurrency });\n\t}\n\tasync call(callable, ...args) {\n\t\treturn this.queue.add(() => require_index.pRetry(() => callable(...args).catch((error) => {\n\t\t\tif (error instanceof Error) throw error;\n\t\t\telse throw new Error(error);\n\t\t}), {\n\t\t\tonFailedAttempt: ({ error }) => this.onFailedAttempt?.(error),\n\t\t\tretries: this.maxRetries,\n\t\t\trandomize: true\n\t\t}), { throwOnTimeout: true });\n\t}\n\tcallWithOptions(options, callable, ...args) {\n\t\tif (options.signal) {\n\t\t\tlet listener;\n\t\t\treturn Promise.race([this.call(callable, ...args), new Promise((_, reject) => {\n\t\t\t\tlistener = () => {\n\t\t\t\t\treject(require_signal.getAbortSignalError(options.signal));\n\t\t\t\t};\n\t\t\t\toptions.signal?.addEventListener(\"abort\", listener);\n\t\t\t})]).finally(() => {\n\t\t\t\tif (options.signal && listener) options.signal.removeEventListener(\"abort\", listener);\n\t\t\t});\n\t\t}\n\t\treturn this.call(callable, ...args);\n\t}\n\tfetch(...args) {\n\t\treturn this.call(() => fetch(...args).then((res) => res.ok ? res : Promise.reject(res)));\n\t}\n};\n\n//#endregion\nexports.AsyncCaller = AsyncCaller;\nObject.defineProperty(exports, \"async_caller_exports\", ({\n  enumerable: true,\n  get: function () {\n    return async_caller_exports;\n  }\n}));\n//# sourceMappingURL=async_caller.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9hc3luY19jYWxsZXIuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSx1QkFBdUIsbUJBQU8sQ0FBQywyRkFBYztBQUM3QyxzQkFBc0IsbUJBQU8sQ0FBQyx5R0FBcUI7QUFDbkQsaURBQWlELG1CQUFPLENBQUMsc0VBQVM7O0FBRWxFO0FBQ0E7QUFDQSwwREFBMEQsZ0NBQWdDO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrQ0FBa0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0EsR0FBRyxLQUFLLHNCQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIsd0RBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2FzeW5jX2NhbGxlci5janM/ODIzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV9zaWduYWwgPSByZXF1aXJlKCcuL3NpZ25hbC5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuL3AtcmV0cnkvaW5kZXguY2pzJyk7XG5jb25zdCBwX3F1ZXVlID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcInAtcXVldWVcIikpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2FzeW5jX2NhbGxlci50c1xudmFyIGFzeW5jX2NhbGxlcl9leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQoYXN5bmNfY2FsbGVyX2V4cG9ydHMsIHsgQXN5bmNDYWxsZXI6ICgpID0+IEFzeW5jQ2FsbGVyIH0pO1xuY29uc3QgU1RBVFVTX05PX1JFVFJZID0gW1xuXHQ0MDAsXG5cdDQwMSxcblx0NDAyLFxuXHQ0MDMsXG5cdDQwNCxcblx0NDA1LFxuXHQ0MDYsXG5cdDQwNyxcblx0NDA5XG5dO1xuY29uc3QgZGVmYXVsdEZhaWxlZEF0dGVtcHRIYW5kbGVyID0gKGVycm9yKSA9PiB7XG5cdGlmIChlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJDYW5jZWxcIikgfHwgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiQWJvcnRFcnJvclwiKSB8fCBlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikgdGhyb3cgZXJyb3I7XG5cdGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikgdGhyb3cgZXJyb3I7XG5cdGNvbnN0IHN0YXR1cyA9IGVycm9yPy5yZXNwb25zZT8uc3RhdHVzID8/IGVycm9yPy5zdGF0dXM7XG5cdGlmIChzdGF0dXMgJiYgU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKCtzdGF0dXMpKSB0aHJvdyBlcnJvcjtcblx0aWYgKGVycm9yPy5lcnJvcj8uY29kZSA9PT0gXCJpbnN1ZmZpY2llbnRfcXVvdGFcIikge1xuXHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihlcnJvcj8ubWVzc2FnZSk7XG5cdFx0ZXJyLm5hbWUgPSBcIkluc3VmZmljaWVudFF1b3RhRXJyb3JcIjtcblx0XHR0aHJvdyBlcnI7XG5cdH1cbn07XG4vKipcbiogQSBjbGFzcyB0aGF0IGNhbiBiZSB1c2VkIHRvIG1ha2UgYXN5bmMgY2FsbHMgd2l0aCBjb25jdXJyZW5jeSBhbmQgcmV0cnkgbG9naWMuXG4qXG4qIFRoaXMgaXMgdXNlZnVsIGZvciBtYWtpbmcgY2FsbHMgdG8gYW55IGtpbmQgb2YgXCJleHBlbnNpdmVcIiBleHRlcm5hbCByZXNvdXJjZSxcbiogYmUgaXQgYmVjYXVzZSBpdCdzIHJhdGUtbGltaXRlZCwgc3ViamVjdCB0byBuZXR3b3JrIGlzc3VlcywgZXRjLlxuKlxuKiBDb25jdXJyZW50IGNhbGxzIGFyZSBsaW1pdGVkIGJ5IHRoZSBgbWF4Q29uY3VycmVuY3lgIHBhcmFtZXRlciwgd2hpY2ggZGVmYXVsdHNcbiogdG8gYEluZmluaXR5YC4gVGhpcyBtZWFucyB0aGF0IGJ5IGRlZmF1bHQsIGFsbCBjYWxscyB3aWxsIGJlIG1hZGUgaW4gcGFyYWxsZWwuXG4qXG4qIFJldHJpZXMgYXJlIGxpbWl0ZWQgYnkgdGhlIGBtYXhSZXRyaWVzYCBwYXJhbWV0ZXIsIHdoaWNoIGRlZmF1bHRzIHRvIDYuIFRoaXNcbiogbWVhbnMgdGhhdCBieSBkZWZhdWx0LCBlYWNoIGNhbGwgd2lsbCBiZSByZXRyaWVkIHVwIHRvIDYgdGltZXMsIHdpdGggYW5cbiogZXhwb25lbnRpYWwgYmFja29mZiBiZXR3ZWVuIGVhY2ggYXR0ZW1wdC5cbiovXG52YXIgQXN5bmNDYWxsZXIgPSBjbGFzcyB7XG5cdG1heENvbmN1cnJlbmN5O1xuXHRtYXhSZXRyaWVzO1xuXHRvbkZhaWxlZEF0dGVtcHQ7XG5cdHF1ZXVlO1xuXHRjb25zdHJ1Y3RvcihwYXJhbXMpIHtcblx0XHR0aGlzLm1heENvbmN1cnJlbmN5ID0gcGFyYW1zLm1heENvbmN1cnJlbmN5ID8/IEluZmluaXR5O1xuXHRcdHRoaXMubWF4UmV0cmllcyA9IHBhcmFtcy5tYXhSZXRyaWVzID8/IDY7XG5cdFx0dGhpcy5vbkZhaWxlZEF0dGVtcHQgPSBwYXJhbXMub25GYWlsZWRBdHRlbXB0ID8/IGRlZmF1bHRGYWlsZWRBdHRlbXB0SGFuZGxlcjtcblx0XHRjb25zdCBQUXVldWUgPSBcImRlZmF1bHRcIiBpbiBwX3F1ZXVlLmRlZmF1bHQgPyBwX3F1ZXVlLmRlZmF1bHQuZGVmYXVsdCA6IHBfcXVldWUuZGVmYXVsdDtcblx0XHR0aGlzLnF1ZXVlID0gbmV3IFBRdWV1ZSh7IGNvbmN1cnJlbmN5OiB0aGlzLm1heENvbmN1cnJlbmN5IH0pO1xuXHR9XG5cdGFzeW5jIGNhbGwoY2FsbGFibGUsIC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZS5hZGQoKCkgPT4gcmVxdWlyZV9pbmRleC5wUmV0cnkoKCkgPT4gY2FsbGFibGUoLi4uYXJncykuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikgdGhyb3cgZXJyb3I7XG5cdFx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG5cdFx0fSksIHtcblx0XHRcdG9uRmFpbGVkQXR0ZW1wdDogKHsgZXJyb3IgfSkgPT4gdGhpcy5vbkZhaWxlZEF0dGVtcHQ/LihlcnJvciksXG5cdFx0XHRyZXRyaWVzOiB0aGlzLm1heFJldHJpZXMsXG5cdFx0XHRyYW5kb21pemU6IHRydWVcblx0XHR9KSwgeyB0aHJvd09uVGltZW91dDogdHJ1ZSB9KTtcblx0fVxuXHRjYWxsV2l0aE9wdGlvbnMob3B0aW9ucywgY2FsbGFibGUsIC4uLmFyZ3MpIHtcblx0XHRpZiAob3B0aW9ucy5zaWduYWwpIHtcblx0XHRcdGxldCBsaXN0ZW5lcjtcblx0XHRcdHJldHVybiBQcm9taXNlLnJhY2UoW3RoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyksIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGlzdGVuZXIgPSAoKSA9PiB7XG5cdFx0XHRcdFx0cmVqZWN0KHJlcXVpcmVfc2lnbmFsLmdldEFib3J0U2lnbmFsRXJyb3Iob3B0aW9ucy5zaWduYWwpKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0b3B0aW9ucy5zaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHR9KV0pLmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHRpZiAob3B0aW9ucy5zaWduYWwgJiYgbGlzdGVuZXIpIG9wdGlvbnMuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY2FsbChjYWxsYWJsZSwgLi4uYXJncyk7XG5cdH1cblx0ZmV0Y2goLi4uYXJncykge1xuXHRcdHJldHVybiB0aGlzLmNhbGwoKCkgPT4gZmV0Y2goLi4uYXJncykudGhlbigocmVzKSA9PiByZXMub2sgPyByZXMgOiBQcm9taXNlLnJlamVjdChyZXMpKSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5Bc3luY0NhbGxlciA9IEFzeW5jQ2FsbGVyO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhc3luY19jYWxsZXJfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFzeW5jX2NhbGxlcl9leHBvcnRzO1xuICB9XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jX2NhbGxlci5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/async_caller.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/callbacks.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/callbacks.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_utils_env = __webpack_require__(/*! ./env.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\");\n\n//#region src/utils/callbacks.ts\nconst isTracingEnabled = (tracingEnabled) => {\n\tif (tracingEnabled !== void 0) return tracingEnabled;\n\tconst envVars = [\n\t\t\"LANGSMITH_TRACING_V2\",\n\t\t\"LANGCHAIN_TRACING_V2\",\n\t\t\"LANGSMITH_TRACING\",\n\t\t\"LANGCHAIN_TRACING\"\n\t];\n\treturn !!envVars.find((envVar) => require_utils_env.getEnvironmentVariable(envVar) === \"true\");\n};\n\n//#endregion\nexports.isTracingEnabled = isTracingEnabled;\n//# sourceMappingURL=callbacks.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jYWxsYmFja3MuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDBCQUEwQixtQkFBTyxDQUFDLHFGQUFXOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9jYWxsYmFja3MuY2pzP2UxZTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91dGlsc19lbnYgPSByZXF1aXJlKCcuL2Vudi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9jYWxsYmFja3MudHNcbmNvbnN0IGlzVHJhY2luZ0VuYWJsZWQgPSAodHJhY2luZ0VuYWJsZWQpID0+IHtcblx0aWYgKHRyYWNpbmdFbmFibGVkICE9PSB2b2lkIDApIHJldHVybiB0cmFjaW5nRW5hYmxlZDtcblx0Y29uc3QgZW52VmFycyA9IFtcblx0XHRcIkxBTkdTTUlUSF9UUkFDSU5HX1YyXCIsXG5cdFx0XCJMQU5HQ0hBSU5fVFJBQ0lOR19WMlwiLFxuXHRcdFwiTEFOR1NNSVRIX1RSQUNJTkdcIixcblx0XHRcIkxBTkdDSEFJTl9UUkFDSU5HXCJcblx0XTtcblx0cmV0dXJuICEhZW52VmFycy5maW5kKChlbnZWYXIpID0+IHJlcXVpcmVfdXRpbHNfZW52LmdldEVudmlyb25tZW50VmFyaWFibGUoZW52VmFyKSA9PT0gXCJ0cnVlXCIpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmlzVHJhY2luZ0VuYWJsZWQgPSBpc1RyYWNpbmdFbmFibGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbGJhY2tzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/callbacks.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs":
/*!*********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/env.cjs ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\n\n//#region src/utils/env.ts\nvar env_exports = {};\nrequire_rolldown_runtime.__export(env_exports, {\n\tgetEnv: () => getEnv,\n\tgetEnvironmentVariable: () => getEnvironmentVariable,\n\tgetRuntimeEnvironment: () => getRuntimeEnvironment,\n\tisBrowser: () => isBrowser,\n\tisDeno: () => isDeno,\n\tisJsDom: () => isJsDom,\n\tisNode: () => isNode,\n\tisWebWorker: () => isWebWorker\n});\nconst isBrowser = () => typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\nconst isWebWorker = () => typeof globalThis === \"object\" && globalThis.constructor && globalThis.constructor.name === \"DedicatedWorkerGlobalScope\";\nconst isJsDom = () => typeof window !== \"undefined\" && window.name === \"nodejs\" || typeof navigator !== \"undefined\" && navigator.userAgent.includes(\"jsdom\");\nconst isDeno = () => typeof Deno !== \"undefined\";\nconst isNode = () => typeof process !== \"undefined\" && typeof process.versions !== \"undefined\" && typeof process.versions.node !== \"undefined\" && !isDeno();\nconst getEnv = () => {\n\tlet env;\n\tif (isBrowser()) env = \"browser\";\n\telse if (isNode()) env = \"node\";\n\telse if (isWebWorker()) env = \"webworker\";\n\telse if (isJsDom()) env = \"jsdom\";\n\telse if (isDeno()) env = \"deno\";\n\telse env = \"other\";\n\treturn env;\n};\nlet runtimeEnvironment;\nfunction getRuntimeEnvironment() {\n\tif (runtimeEnvironment === void 0) {\n\t\tconst env = getEnv();\n\t\truntimeEnvironment = {\n\t\t\tlibrary: \"langchain-js\",\n\t\t\truntime: env\n\t\t};\n\t}\n\treturn runtimeEnvironment;\n}\nfunction getEnvironmentVariable(name) {\n\ttry {\n\t\tif (typeof process !== \"undefined\") return process.env?.[name];\n\t\telse if (isDeno()) return Deno?.env.get(name);\n\t\telse return void 0;\n\t} catch {\n\t\treturn void 0;\n\t}\n}\n\n//#endregion\nObject.defineProperty(exports, \"env_exports\", ({\n  enumerable: true,\n  get: function () {\n    return env_exports;\n  }\n}));\nexports.getEnv = getEnv;\nexports.getEnvironmentVariable = getEnvironmentVariable;\nexports.getRuntimeEnvironment = getRuntimeEnvironment;\nexports.isBrowser = isBrowser;\nexports.isDeno = isDeno;\nexports.isJsDom = isJsDom;\nexports.isNode = isNode;\nexports.isWebWorker = isWebWorker;\n//# sourceMappingURL=env.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9lbnYuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQzs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixjQUFjO0FBQ2QsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3QixpQkFBaUI7QUFDakIsY0FBYztBQUNkLGVBQWU7QUFDZixjQUFjO0FBQ2QsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9lbnYuY2pzPzllZDkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9lbnYudHNcbnZhciBlbnZfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGVudl9leHBvcnRzLCB7XG5cdGdldEVudjogKCkgPT4gZ2V0RW52LFxuXHRnZXRFbnZpcm9ubWVudFZhcmlhYmxlOiAoKSA9PiBnZXRFbnZpcm9ubWVudFZhcmlhYmxlLFxuXHRnZXRSdW50aW1lRW52aXJvbm1lbnQ6ICgpID0+IGdldFJ1bnRpbWVFbnZpcm9ubWVudCxcblx0aXNCcm93c2VyOiAoKSA9PiBpc0Jyb3dzZXIsXG5cdGlzRGVubzogKCkgPT4gaXNEZW5vLFxuXHRpc0pzRG9tOiAoKSA9PiBpc0pzRG9tLFxuXHRpc05vZGU6ICgpID0+IGlzTm9kZSxcblx0aXNXZWJXb3JrZXI6ICgpID0+IGlzV2ViV29ya2VyXG59KTtcbmNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzV2ViV29ya2VyID0gKCkgPT4gdHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIgJiYgZ2xvYmFsVGhpcy5jb25zdHJ1Y3RvciAmJiBnbG9iYWxUaGlzLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVcIjtcbmNvbnN0IGlzSnNEb20gPSAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uYW1lID09PSBcIm5vZGVqc1wiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpO1xuY29uc3QgaXNEZW5vID0gKCkgPT4gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCI7XG5jb25zdCBpc05vZGUgPSAoKSA9PiB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9PSBcInVuZGVmaW5lZFwiICYmICFpc0Rlbm8oKTtcbmNvbnN0IGdldEVudiA9ICgpID0+IHtcblx0bGV0IGVudjtcblx0aWYgKGlzQnJvd3NlcigpKSBlbnYgPSBcImJyb3dzZXJcIjtcblx0ZWxzZSBpZiAoaXNOb2RlKCkpIGVudiA9IFwibm9kZVwiO1xuXHRlbHNlIGlmIChpc1dlYldvcmtlcigpKSBlbnYgPSBcIndlYndvcmtlclwiO1xuXHRlbHNlIGlmIChpc0pzRG9tKCkpIGVudiA9IFwianNkb21cIjtcblx0ZWxzZSBpZiAoaXNEZW5vKCkpIGVudiA9IFwiZGVub1wiO1xuXHRlbHNlIGVudiA9IFwib3RoZXJcIjtcblx0cmV0dXJuIGVudjtcbn07XG5sZXQgcnVudGltZUVudmlyb25tZW50O1xuZnVuY3Rpb24gZ2V0UnVudGltZUVudmlyb25tZW50KCkge1xuXHRpZiAocnVudGltZUVudmlyb25tZW50ID09PSB2b2lkIDApIHtcblx0XHRjb25zdCBlbnYgPSBnZXRFbnYoKTtcblx0XHRydW50aW1lRW52aXJvbm1lbnQgPSB7XG5cdFx0XHRsaWJyYXJ5OiBcImxhbmdjaGFpbi1qc1wiLFxuXHRcdFx0cnVudGltZTogZW52XG5cdFx0fTtcblx0fVxuXHRyZXR1cm4gcnVudGltZUVudmlyb25tZW50O1xufVxuZnVuY3Rpb24gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZShuYW1lKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gcHJvY2Vzcy5lbnY/LltuYW1lXTtcblx0XHRlbHNlIGlmIChpc0Rlbm8oKSkgcmV0dXJuIERlbm8/LmVudi5nZXQobmFtZSk7XG5cdFx0ZWxzZSByZXR1cm4gdm9pZCAwO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdlbnZfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGVudl9leHBvcnRzO1xuICB9XG59KTtcbmV4cG9ydHMuZ2V0RW52ID0gZ2V0RW52O1xuZXhwb3J0cy5nZXRFbnZpcm9ubWVudFZhcmlhYmxlID0gZ2V0RW52aXJvbm1lbnRWYXJpYWJsZTtcbmV4cG9ydHMuZ2V0UnVudGltZUVudmlyb25tZW50ID0gZ2V0UnVudGltZUVudmlyb25tZW50O1xuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG5leHBvcnRzLmlzRGVubyA9IGlzRGVubztcbmV4cG9ydHMuaXNKc0RvbSA9IGlzSnNEb207XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmV4cG9ydHMuaXNXZWJXb3JrZXIgPSBpc1dlYldvcmtlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudi5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/env.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/index.cjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/fast-json-patch/index.cjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("const require_helpers = __webpack_require__(/*! ./src/helpers.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs\");\nconst require_core = __webpack_require__(/*! ./src/core.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs\");\nconst require_duplex = __webpack_require__(/*! ./src/duplex.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.cjs\");\n\n//#region src/utils/fast-json-patch/index.ts\nvar fast_json_patch_default = {\n\t...require_core.core_exports,\n\tJsonPatchError: require_helpers.PatchError,\n\tdeepClone: require_helpers._deepClone,\n\tescapePathComponent: require_helpers.escapePathComponent,\n\tunescapePathComponent: require_helpers.unescapePathComponent\n};\n\n//#endregion\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvaW5kZXguY2pzIiwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QixtQkFBTyxDQUFDLHFIQUFtQjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQywrR0FBZ0I7QUFDN0MsdUJBQXVCLG1CQUFPLENBQUMsbUhBQWtCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9pbmRleC5janM/MDQyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2hlbHBlcnMgPSByZXF1aXJlKCcuL3NyYy9oZWxwZXJzLmNqcycpO1xuY29uc3QgcmVxdWlyZV9jb3JlID0gcmVxdWlyZSgnLi9zcmMvY29yZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfZHVwbGV4ID0gcmVxdWlyZSgnLi9zcmMvZHVwbGV4LmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9pbmRleC50c1xudmFyIGZhc3RfanNvbl9wYXRjaF9kZWZhdWx0ID0ge1xuXHQuLi5yZXF1aXJlX2NvcmUuY29yZV9leHBvcnRzLFxuXHRKc29uUGF0Y2hFcnJvcjogcmVxdWlyZV9oZWxwZXJzLlBhdGNoRXJyb3IsXG5cdGRlZXBDbG9uZTogcmVxdWlyZV9oZWxwZXJzLl9kZWVwQ2xvbmUsXG5cdGVzY2FwZVBhdGhDb21wb25lbnQ6IHJlcXVpcmVfaGVscGVycy5lc2NhcGVQYXRoQ29tcG9uZW50LFxuXHR1bmVzY2FwZVBhdGhDb21wb25lbnQ6IHJlcXVpcmVfaGVscGVycy51bmVzY2FwZVBhdGhDb21wb25lbnRcbn07XG5cbi8vI2VuZHJlZ2lvblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_helpers = __webpack_require__(/*! ./helpers.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs\");\n\n//#region src/utils/fast-json-patch/src/core.ts\nvar core_exports = {};\nrequire_rolldown_runtime.__export(core_exports, {\n\tJsonPatchError: () => JsonPatchError,\n\t_areEquals: () => _areEquals,\n\tapplyOperation: () => applyOperation,\n\tapplyPatch: () => applyPatch,\n\tapplyReducer: () => applyReducer,\n\tdeepClone: () => deepClone,\n\tgetValueByPointer: () => getValueByPointer,\n\tvalidate: () => validate,\n\tvalidator: () => validator\n});\nconst JsonPatchError = require_helpers.PatchError;\nconst deepClone = require_helpers._deepClone;\n/**\n* Check if a key is a dangerous prototype property that could lead to prototype pollution.\n* This provides defense-in-depth alongside the check in applyOperation.\n*/\nfunction isDangerousKey(key) {\n\treturn Object.getOwnPropertyNames(Object.prototype).includes(key);\n}\nconst objOps = {\n\tadd: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tobj[key] = this.value;\n\t\treturn { newDocument: document };\n\t},\n\tremove: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tvar removed = obj[key];\n\t\tdelete obj[key];\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\treplace: function(obj, key, document) {\n\t\tif (isDangerousKey(key)) throw new TypeError(\"JSON-Patch: modifying `__proto__`, `constructor`, or `prototype` prop is banned for security reasons\");\n\t\tvar removed = obj[key];\n\t\tobj[key] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: function(obj, key, document) {\n\t\tlet removed = getValueByPointer(document, this.path);\n\t\tif (removed) removed = require_helpers._deepClone(removed);\n\t\tconst originalValue = applyOperation(document, {\n\t\t\top: \"remove\",\n\t\t\tpath: this.from\n\t\t}).removed;\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: originalValue\n\t\t});\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tcopy: function(obj, key, document) {\n\t\tconst valueToCopy = getValueByPointer(document, this.from);\n\t\tapplyOperation(document, {\n\t\t\top: \"add\",\n\t\t\tpath: this.path,\n\t\t\tvalue: require_helpers._deepClone(valueToCopy)\n\t\t});\n\t\treturn { newDocument: document };\n\t},\n\ttest: function(obj, key, document) {\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\ttest: _areEquals(obj[key], this.value)\n\t\t};\n\t},\n\t_get: function(obj, key, document) {\n\t\tthis.value = obj[key];\n\t\treturn { newDocument: document };\n\t}\n};\nvar arrOps = {\n\tadd: function(arr, i, document) {\n\t\tif (require_helpers.isInteger(i)) arr.splice(i, 0, this.value);\n\t\telse arr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tindex: i\n\t\t};\n\t},\n\tremove: function(arr, i, document) {\n\t\tvar removedList = arr.splice(i, 1);\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved: removedList[0]\n\t\t};\n\t},\n\treplace: function(arr, i, document) {\n\t\tvar removed = arr[i];\n\t\tarr[i] = this.value;\n\t\treturn {\n\t\t\tnewDocument: document,\n\t\t\tremoved\n\t\t};\n\t},\n\tmove: objOps.move,\n\tcopy: objOps.copy,\n\ttest: objOps.test,\n\t_get: objOps._get\n};\n/**\n* Retrieves a value from a JSON document by a JSON pointer.\n* Returns the value.\n*\n* @param document The document to get the value from\n* @param pointer an escaped JSON pointer\n* @return The retrieved value\n*/\nfunction getValueByPointer(document, pointer) {\n\tif (pointer == \"\") return document;\n\tvar getOriginalDestination = {\n\t\top: \"_get\",\n\t\tpath: pointer\n\t};\n\tapplyOperation(document, getOriginalDestination);\n\treturn getOriginalDestination.value;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the {newDocument, result} of the operation.\n* It modifies the `document` and `operation` objects - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyOperation(document, jsonpatch._deepClone(operation))`.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return `{newDocument, result}` after the operation\n*/\nfunction applyOperation(document, operation, validateOperation = false, mutateDocument = true, banPrototypeModifications = true, index = 0) {\n\tif (validateOperation) if (typeof validateOperation == \"function\") validateOperation(operation, 0, document, operation.path);\n\telse validator(operation, 0);\n\tif (operation.path === \"\") {\n\t\tlet returnValue = { newDocument: document };\n\t\tif (operation.op === \"add\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"replace\") {\n\t\t\treturnValue.newDocument = operation.value;\n\t\t\treturnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\treturnValue.newDocument = getValueByPointer(document, operation.from);\n\t\t\tif (operation.op === \"move\") returnValue.removed = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"test\") {\n\t\t\treturnValue.test = _areEquals(document, operation.value);\n\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\treturnValue.newDocument = document;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"remove\") {\n\t\t\treturnValue.removed = document;\n\t\t\treturnValue.newDocument = null;\n\t\t\treturn returnValue;\n\t\t} else if (operation.op === \"_get\") {\n\t\t\toperation.value = document;\n\t\t\treturn returnValue;\n\t\t} else if (validateOperation) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\t\telse return returnValue;\n\t} else {\n\t\tif (!mutateDocument) document = require_helpers._deepClone(document);\n\t\tconst path = operation.path || \"\";\n\t\tconst keys = path.split(\"/\");\n\t\tlet obj = document;\n\t\tlet t = 1;\n\t\tlet len = keys.length;\n\t\tlet existingPathFragment = void 0;\n\t\tlet key;\n\t\tlet validateFunction;\n\t\tif (typeof validateOperation == \"function\") validateFunction = validateOperation;\n\t\telse validateFunction = validator;\n\t\twhile (true) {\n\t\t\tkey = keys[t];\n\t\t\tif (key && key.indexOf(\"~\") != -1) key = require_helpers.unescapePathComponent(key);\n\t\t\tif (banPrototypeModifications && (key == \"__proto__\" || key == \"prototype\" && t > 0 && keys[t - 1] == \"constructor\")) throw new TypeError(\"JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README\");\n\t\t\tif (validateOperation) {\n\t\t\t\tif (existingPathFragment === void 0) {\n\t\t\t\t\tif (obj[key] === void 0) existingPathFragment = keys.slice(0, t).join(\"/\");\n\t\t\t\t\telse if (t == len - 1) existingPathFragment = operation.path;\n\t\t\t\t\tif (existingPathFragment !== void 0) validateFunction(operation, 0, document, existingPathFragment);\n\t\t\t\t}\n\t\t\t}\n\t\t\tt++;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tif (key === \"-\") key = obj.length;\n\t\t\t\telse if (validateOperation && !require_helpers.isInteger(key)) throw new JsonPatchError(\"Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\", \"OPERATION_PATH_ILLEGAL_ARRAY_INDEX\", index, operation, document);\n\t\t\t\telse if (require_helpers.isInteger(key)) key = ~~key;\n\t\t\t\tif (t >= len) {\n\t\t\t\t\tif (validateOperation && operation.op === \"add\" && key > obj.length) throw new JsonPatchError(\"The specified index MUST NOT be greater than the number of elements in the array\", \"OPERATION_VALUE_OUT_OF_BOUNDS\", index, operation, document);\n\t\t\t\t\tconst returnValue = arrOps[operation.op].call(operation, obj, key, document);\n\t\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\t\treturn returnValue;\n\t\t\t\t}\n\t\t\t} else if (t >= len) {\n\t\t\t\tconst returnValue = objOps[operation.op].call(operation, obj, key, document);\n\t\t\t\tif (returnValue.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\t\t\t\treturn returnValue;\n\t\t\t}\n\t\t\tobj = obj[key];\n\t\t\tif (validateOperation && t < len && (!obj || typeof obj !== \"object\")) throw new JsonPatchError(\"Cannot perform operation at the desired path\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Apply a full JSON Patch array on a JSON document.\n* Returns the {newDocument, result} of the patch.\n* It modifies the `document` object and `patch` - it gets the values by reference.\n* If you would like to avoid touching your values, clone them:\n* `jsonpatch.applyPatch(document, jsonpatch._deepClone(patch))`.\n*\n* @param document The document to patch\n* @param patch The patch to apply\n* @param validateOperation `false` is without validation, `true` to use default jsonpatch's validation, or you can pass a `validateOperation` callback to be used for validation.\n* @param mutateDocument Whether to mutate the original document or clone it before applying\n* @param banPrototypeModifications Whether to ban modifications to `__proto__`, defaults to `true`.\n* @return An array of `{newDocument, result}` after the patch\n*/\nfunction applyPatch(document, patch, validateOperation, mutateDocument = true, banPrototypeModifications = true) {\n\tif (validateOperation) {\n\t\tif (!Array.isArray(patch)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t}\n\tif (!mutateDocument) document = require_helpers._deepClone(document);\n\tconst results = new Array(patch.length);\n\tfor (let i = 0, length = patch.length; i < length; i++) {\n\t\tresults[i] = applyOperation(document, patch[i], validateOperation, true, banPrototypeModifications, i);\n\t\tdocument = results[i].newDocument;\n\t}\n\tresults.newDocument = document;\n\treturn results;\n}\n/**\n* Apply a single JSON Patch Operation on a JSON document.\n* Returns the updated document.\n* Suitable as a reducer.\n*\n* @param document The document to patch\n* @param operation The operation to apply\n* @return The updated document\n*/\nfunction applyReducer(document, operation, index) {\n\tconst operationResult = applyOperation(document, operation);\n\tif (operationResult.test === false) throw new JsonPatchError(\"Test operation failed\", \"TEST_OPERATION_FAILED\", index, operation, document);\n\treturn operationResult.newDocument;\n}\n/**\n* Validates a single operation. Called from `jsonpatch.validate`. Throws `JsonPatchError` in case of an error.\n* @param {object} operation - operation object (patch)\n* @param {number} index - index of operation in the sequence\n* @param {object} [document] - object where the operation is supposed to be applied\n* @param {string} [existingPathFragment] - comes along with `document`\n*/\nfunction validator(operation, index, document, existingPathFragment) {\n\tif (typeof operation !== \"object\" || operation === null || Array.isArray(operation)) throw new JsonPatchError(\"Operation is not an object\", \"OPERATION_NOT_AN_OBJECT\", index, operation, document);\n\telse if (!objOps[operation.op]) throw new JsonPatchError(\"Operation `op` property is not one of operations defined in RFC-6902\", \"OPERATION_OP_INVALID\", index, operation, document);\n\telse if (typeof operation.path !== \"string\") throw new JsonPatchError(\"Operation `path` property is not a string\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if (operation.path.indexOf(\"/\") !== 0 && operation.path.length > 0) throw new JsonPatchError(\"Operation `path` property must start with \\\"/\\\"\", \"OPERATION_PATH_INVALID\", index, operation, document);\n\telse if ((operation.op === \"move\" || operation.op === \"copy\") && typeof operation.from !== \"string\") throw new JsonPatchError(\"Operation `from` property is not present (applicable in `move` and `copy` operations)\", \"OPERATION_FROM_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && operation.value === void 0) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_REQUIRED\", index, operation, document);\n\telse if ((operation.op === \"add\" || operation.op === \"replace\" || operation.op === \"test\") && require_helpers.hasUndefined(operation.value)) throw new JsonPatchError(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\", \"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED\", index, operation, document);\n\telse if (document) {\n\t\tif (operation.op == \"add\") {\n\t\t\tvar pathLen = operation.path.split(\"/\").length;\n\t\t\tvar existingPathLen = existingPathFragment.split(\"/\").length;\n\t\t\tif (pathLen !== existingPathLen + 1 && pathLen !== existingPathLen) throw new JsonPatchError(\"Cannot perform an `add` operation at the desired path\", \"OPERATION_PATH_CANNOT_ADD\", index, operation, document);\n\t\t} else if (operation.op === \"replace\" || operation.op === \"remove\" || operation.op === \"_get\") {\n\t\t\tif (operation.path !== existingPathFragment) throw new JsonPatchError(\"Cannot perform the operation at a path that does not exist\", \"OPERATION_PATH_UNRESOLVABLE\", index, operation, document);\n\t\t} else if (operation.op === \"move\" || operation.op === \"copy\") {\n\t\t\tvar existingValue = {\n\t\t\t\top: \"_get\",\n\t\t\t\tpath: operation.from,\n\t\t\t\tvalue: void 0\n\t\t\t};\n\t\t\tvar error = validate([existingValue], document);\n\t\t\tif (error && error.name === \"OPERATION_PATH_UNRESOLVABLE\") throw new JsonPatchError(\"Cannot perform the operation from a path that does not exist\", \"OPERATION_FROM_UNRESOLVABLE\", index, operation, document);\n\t\t}\n\t}\n}\n/**\n* Validates a sequence of operations. If `document` parameter is provided, the sequence is additionally validated against the object document.\n* If error is encountered, returns a JsonPatchError object\n* @param sequence\n* @param document\n* @returns {JsonPatchError|undefined}\n*/\nfunction validate(sequence, document, externalValidator) {\n\ttry {\n\t\tif (!Array.isArray(sequence)) throw new JsonPatchError(\"Patch sequence must be an array\", \"SEQUENCE_NOT_AN_ARRAY\");\n\t\tif (document) applyPatch(require_helpers._deepClone(document), require_helpers._deepClone(sequence), externalValidator || true);\n\t\telse {\n\t\t\texternalValidator = externalValidator || validator;\n\t\t\tfor (var i = 0; i < sequence.length; i++) externalValidator(sequence[i], i, document, void 0);\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof JsonPatchError) return e;\n\t\telse throw e;\n\t}\n}\nfunction _areEquals(a, b) {\n\tif (a === b) return true;\n\tif (a && b && typeof a == \"object\" && typeof b == \"object\") {\n\t\tvar arrA = Array.isArray(a), arrB = Array.isArray(b), i, length, key;\n\t\tif (arrA && arrB) {\n\t\t\tlength = a.length;\n\t\t\tif (length != b.length) return false;\n\t\t\tfor (i = length; i-- !== 0;) if (!_areEquals(a[i], b[i])) return false;\n\t\t\treturn true;\n\t\t}\n\t\tif (arrA != arrB) return false;\n\t\tvar keys = Object.keys(a);\n\t\tlength = keys.length;\n\t\tif (length !== Object.keys(b).length) return false;\n\t\tfor (i = length; i-- !== 0;) if (!b.hasOwnProperty(keys[i])) return false;\n\t\tfor (i = length; i-- !== 0;) {\n\t\t\tkey = keys[i];\n\t\t\tif (!_areEquals(a[key], b[key])) return false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn a !== a && b !== b;\n}\n\n//#endregion\nexports._areEquals = _areEquals;\nexports.applyOperation = applyOperation;\nexports.applyPatch = applyPatch;\nexports.applyReducer = applyReducer;\nObject.defineProperty(exports, \"core_exports\", ({\n  enumerable: true,\n  get: function () {\n    return core_exports;\n  }\n}));\nexports.getValueByPointer = getValueByPointer;\nexports.validate = validate;\nexports.validator = validator;\n//# sourceMappingURL=core.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLGtJQUF3QztBQUNqRix3QkFBd0IsbUJBQU8sQ0FBQyxpSEFBZTs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCLHNCQUFzQjtBQUN0QixrQkFBa0I7QUFDbEIsb0JBQW9CO0FBQ3BCLGdEQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLHlCQUF5QjtBQUN6QixnQkFBZ0I7QUFDaEIsaUJBQWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUuY2pzP2U4ODQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2NvcmUudHNcbnZhciBjb3JlX2V4cG9ydHMgPSB7fTtcbnJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX2V4cG9ydChjb3JlX2V4cG9ydHMsIHtcblx0SnNvblBhdGNoRXJyb3I6ICgpID0+IEpzb25QYXRjaEVycm9yLFxuXHRfYXJlRXF1YWxzOiAoKSA9PiBfYXJlRXF1YWxzLFxuXHRhcHBseU9wZXJhdGlvbjogKCkgPT4gYXBwbHlPcGVyYXRpb24sXG5cdGFwcGx5UGF0Y2g6ICgpID0+IGFwcGx5UGF0Y2gsXG5cdGFwcGx5UmVkdWNlcjogKCkgPT4gYXBwbHlSZWR1Y2VyLFxuXHRkZWVwQ2xvbmU6ICgpID0+IGRlZXBDbG9uZSxcblx0Z2V0VmFsdWVCeVBvaW50ZXI6ICgpID0+IGdldFZhbHVlQnlQb2ludGVyLFxuXHR2YWxpZGF0ZTogKCkgPT4gdmFsaWRhdGUsXG5cdHZhbGlkYXRvcjogKCkgPT4gdmFsaWRhdG9yXG59KTtcbmNvbnN0IEpzb25QYXRjaEVycm9yID0gcmVxdWlyZV9oZWxwZXJzLlBhdGNoRXJyb3I7XG5jb25zdCBkZWVwQ2xvbmUgPSByZXF1aXJlX2hlbHBlcnMuX2RlZXBDbG9uZTtcbi8qKlxuKiBDaGVjayBpZiBhIGtleSBpcyBhIGRhbmdlcm91cyBwcm90b3R5cGUgcHJvcGVydHkgdGhhdCBjb3VsZCBsZWFkIHRvIHByb3RvdHlwZSBwb2xsdXRpb24uXG4qIFRoaXMgcHJvdmlkZXMgZGVmZW5zZS1pbi1kZXB0aCBhbG9uZ3NpZGUgdGhlIGNoZWNrIGluIGFwcGx5T3BlcmF0aW9uLlxuKi9cbmZ1bmN0aW9uIGlzRGFuZ2Vyb3VzS2V5KGtleSkge1xuXHRyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LnByb3RvdHlwZSkuaW5jbHVkZXMoa2V5KTtcbn1cbmNvbnN0IG9iak9wcyA9IHtcblx0YWRkOiBmdW5jdGlvbihvYmosIGtleSwgZG9jdW1lbnQpIHtcblx0XHRpZiAoaXNEYW5nZXJvdXNLZXkoa2V5KSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkpTT04tUGF0Y2g6IG1vZGlmeWluZyBgX19wcm90b19fYCwgYGNvbnN0cnVjdG9yYCwgb3IgYHByb3RvdHlwZWAgcHJvcCBpcyBiYW5uZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnNcIik7XG5cdFx0b2JqW2tleV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7IG5ld0RvY3VtZW50OiBkb2N1bWVudCB9O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGlmIChpc0Rhbmdlcm91c0tleShrZXkpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gLCBgY29uc3RydWN0b3JgLCBvciBgcHJvdG90eXBlYCBwcm9wIGlzIGJhbm5lZCBmb3Igc2VjdXJpdHkgcmVhc29uc1wiKTtcblx0XHR2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuXHRcdGRlbGV0ZSBvYmpba2V5XTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0cmVtb3ZlZFxuXHRcdH07XG5cdH0sXG5cdHJlcGxhY2U6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGlmIChpc0Rhbmdlcm91c0tleShrZXkpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlNPTi1QYXRjaDogbW9kaWZ5aW5nIGBfX3Byb3RvX19gLCBgY29uc3RydWN0b3JgLCBvciBgcHJvdG90eXBlYCBwcm9wIGlzIGJhbm5lZCBmb3Igc2VjdXJpdHkgcmVhc29uc1wiKTtcblx0XHR2YXIgcmVtb3ZlZCA9IG9ialtrZXldO1xuXHRcdG9ialtrZXldID0gdGhpcy52YWx1ZTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0cmVtb3ZlZFxuXHRcdH07XG5cdH0sXG5cdG1vdmU6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdGxldCByZW1vdmVkID0gZ2V0VmFsdWVCeVBvaW50ZXIoZG9jdW1lbnQsIHRoaXMucGF0aCk7XG5cdFx0aWYgKHJlbW92ZWQpIHJlbW92ZWQgPSByZXF1aXJlX2hlbHBlcnMuX2RlZXBDbG9uZShyZW1vdmVkKTtcblx0XHRjb25zdCBvcmlnaW5hbFZhbHVlID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHtcblx0XHRcdG9wOiBcInJlbW92ZVwiLFxuXHRcdFx0cGF0aDogdGhpcy5mcm9tXG5cdFx0fSkucmVtb3ZlZDtcblx0XHRhcHBseU9wZXJhdGlvbihkb2N1bWVudCwge1xuXHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRwYXRoOiB0aGlzLnBhdGgsXG5cdFx0XHR2YWx1ZTogb3JpZ2luYWxWYWx1ZVxuXHRcdH0pO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkXG5cdFx0fTtcblx0fSxcblx0Y29weTogZnVuY3Rpb24ob2JqLCBrZXksIGRvY3VtZW50KSB7XG5cdFx0Y29uc3QgdmFsdWVUb0NvcHkgPSBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgdGhpcy5mcm9tKTtcblx0XHRhcHBseU9wZXJhdGlvbihkb2N1bWVudCwge1xuXHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRwYXRoOiB0aGlzLnBhdGgsXG5cdFx0XHR2YWx1ZTogcmVxdWlyZV9oZWxwZXJzLl9kZWVwQ2xvbmUodmFsdWVUb0NvcHkpXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHsgbmV3RG9jdW1lbnQ6IGRvY3VtZW50IH07XG5cdH0sXG5cdHRlc3Q6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHR0ZXN0OiBfYXJlRXF1YWxzKG9ialtrZXldLCB0aGlzLnZhbHVlKVxuXHRcdH07XG5cdH0sXG5cdF9nZXQ6IGZ1bmN0aW9uKG9iaiwga2V5LCBkb2N1bWVudCkge1xuXHRcdHRoaXMudmFsdWUgPSBvYmpba2V5XTtcblx0XHRyZXR1cm4geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcblx0fVxufTtcbnZhciBhcnJPcHMgPSB7XG5cdGFkZDogZnVuY3Rpb24oYXJyLCBpLCBkb2N1bWVudCkge1xuXHRcdGlmIChyZXF1aXJlX2hlbHBlcnMuaXNJbnRlZ2VyKGkpKSBhcnIuc3BsaWNlKGksIDAsIHRoaXMudmFsdWUpO1xuXHRcdGVsc2UgYXJyW2ldID0gdGhpcy52YWx1ZTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmV3RG9jdW1lbnQ6IGRvY3VtZW50LFxuXHRcdFx0aW5kZXg6IGlcblx0XHR9O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKGFyciwgaSwgZG9jdW1lbnQpIHtcblx0XHR2YXIgcmVtb3ZlZExpc3QgPSBhcnIuc3BsaWNlKGksIDEpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkOiByZW1vdmVkTGlzdFswXVxuXHRcdH07XG5cdH0sXG5cdHJlcGxhY2U6IGZ1bmN0aW9uKGFyciwgaSwgZG9jdW1lbnQpIHtcblx0XHR2YXIgcmVtb3ZlZCA9IGFycltpXTtcblx0XHRhcnJbaV0gPSB0aGlzLnZhbHVlO1xuXHRcdHJldHVybiB7XG5cdFx0XHRuZXdEb2N1bWVudDogZG9jdW1lbnQsXG5cdFx0XHRyZW1vdmVkXG5cdFx0fTtcblx0fSxcblx0bW92ZTogb2JqT3BzLm1vdmUsXG5cdGNvcHk6IG9iak9wcy5jb3B5LFxuXHR0ZXN0OiBvYmpPcHMudGVzdCxcblx0X2dldDogb2JqT3BzLl9nZXRcbn07XG4vKipcbiogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSBhIEpTT04gZG9jdW1lbnQgYnkgYSBKU09OIHBvaW50ZXIuXG4qIFJldHVybnMgdGhlIHZhbHVlLlxuKlxuKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIGdldCB0aGUgdmFsdWUgZnJvbVxuKiBAcGFyYW0gcG9pbnRlciBhbiBlc2NhcGVkIEpTT04gcG9pbnRlclxuKiBAcmV0dXJuIFRoZSByZXRyaWV2ZWQgdmFsdWVcbiovXG5mdW5jdGlvbiBnZXRWYWx1ZUJ5UG9pbnRlcihkb2N1bWVudCwgcG9pbnRlcikge1xuXHRpZiAocG9pbnRlciA9PSBcIlwiKSByZXR1cm4gZG9jdW1lbnQ7XG5cdHZhciBnZXRPcmlnaW5hbERlc3RpbmF0aW9uID0ge1xuXHRcdG9wOiBcIl9nZXRcIixcblx0XHRwYXRoOiBwb2ludGVyXG5cdH07XG5cdGFwcGx5T3BlcmF0aW9uKGRvY3VtZW50LCBnZXRPcmlnaW5hbERlc3RpbmF0aW9uKTtcblx0cmV0dXJuIGdldE9yaWdpbmFsRGVzdGluYXRpb24udmFsdWU7XG59XG4vKipcbiogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuKiBSZXR1cm5zIHRoZSB7bmV3RG9jdW1lbnQsIHJlc3VsdH0gb2YgdGhlIG9wZXJhdGlvbi5cbiogSXQgbW9kaWZpZXMgdGhlIGBkb2N1bWVudGAgYW5kIGBvcGVyYXRpb25gIG9iamVjdHMgLSBpdCBnZXRzIHRoZSB2YWx1ZXMgYnkgcmVmZXJlbmNlLlxuKiBJZiB5b3Ugd291bGQgbGlrZSB0byBhdm9pZCB0b3VjaGluZyB5b3VyIHZhbHVlcywgY2xvbmUgdGhlbTpcbiogYGpzb25wYXRjaC5hcHBseU9wZXJhdGlvbihkb2N1bWVudCwganNvbnBhdGNoLl9kZWVwQ2xvbmUob3BlcmF0aW9uKSlgLlxuKlxuKiBAcGFyYW0gZG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHBhdGNoXG4qIEBwYXJhbSBvcGVyYXRpb24gVGhlIG9wZXJhdGlvbiB0byBhcHBseVxuKiBAcGFyYW0gdmFsaWRhdGVPcGVyYXRpb24gYGZhbHNlYCBpcyB3aXRob3V0IHZhbGlkYXRpb24sIGB0cnVlYCB0byB1c2UgZGVmYXVsdCBqc29ucGF0Y2gncyB2YWxpZGF0aW9uLCBvciB5b3UgY2FuIHBhc3MgYSBgdmFsaWRhdGVPcGVyYXRpb25gIGNhbGxiYWNrIHRvIGJlIHVzZWQgZm9yIHZhbGlkYXRpb24uXG4qIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4qIEBwYXJhbSBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zIFdoZXRoZXIgdG8gYmFuIG1vZGlmaWNhdGlvbnMgdG8gYF9fcHJvdG9fX2AsIGRlZmF1bHRzIHRvIGB0cnVlYC5cbiogQHJldHVybiBge25ld0RvY3VtZW50LCByZXN1bHR9YCBhZnRlciB0aGUgb3BlcmF0aW9uXG4qL1xuZnVuY3Rpb24gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbiwgdmFsaWRhdGVPcGVyYXRpb24gPSBmYWxzZSwgbXV0YXRlRG9jdW1lbnQgPSB0cnVlLCBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zID0gdHJ1ZSwgaW5kZXggPSAwKSB7XG5cdGlmICh2YWxpZGF0ZU9wZXJhdGlvbikgaWYgKHR5cGVvZiB2YWxpZGF0ZU9wZXJhdGlvbiA9PSBcImZ1bmN0aW9uXCIpIHZhbGlkYXRlT3BlcmF0aW9uKG9wZXJhdGlvbiwgMCwgZG9jdW1lbnQsIG9wZXJhdGlvbi5wYXRoKTtcblx0ZWxzZSB2YWxpZGF0b3Iob3BlcmF0aW9uLCAwKTtcblx0aWYgKG9wZXJhdGlvbi5wYXRoID09PSBcIlwiKSB7XG5cdFx0bGV0IHJldHVyblZhbHVlID0geyBuZXdEb2N1bWVudDogZG9jdW1lbnQgfTtcblx0XHRpZiAob3BlcmF0aW9uLm9wID09PSBcImFkZFwiKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IG9wZXJhdGlvbi52YWx1ZTtcblx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcblx0XHRcdHJldHVyblZhbHVlLm5ld0RvY3VtZW50ID0gb3BlcmF0aW9uLnZhbHVlO1xuXHRcdFx0cmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50O1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwiY29weVwiKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IGdldFZhbHVlQnlQb2ludGVyKGRvY3VtZW50LCBvcGVyYXRpb24uZnJvbSk7XG5cdFx0XHRpZiAob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIikgcmV0dXJuVmFsdWUucmVtb3ZlZCA9IGRvY3VtZW50O1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInRlc3RcIikge1xuXHRcdFx0cmV0dXJuVmFsdWUudGVzdCA9IF9hcmVFcXVhbHMoZG9jdW1lbnQsIG9wZXJhdGlvbi52YWx1ZSk7XG5cdFx0XHRpZiAocmV0dXJuVmFsdWUudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRyZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IGRvY3VtZW50O1xuXHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcInJlbW92ZVwiKSB7XG5cdFx0XHRyZXR1cm5WYWx1ZS5yZW1vdmVkID0gZG9jdW1lbnQ7XG5cdFx0XHRyZXR1cm5WYWx1ZS5uZXdEb2N1bWVudCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb24ub3AgPT09IFwiX2dldFwiKSB7XG5cdFx0XHRvcGVyYXRpb24udmFsdWUgPSBkb2N1bWVudDtcblx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcblx0XHR9IGVsc2UgaWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJPcGVyYXRpb24gYG9wYCBwcm9wZXJ0eSBpcyBub3Qgb25lIG9mIG9wZXJhdGlvbnMgZGVmaW5lZCBpbiBSRkMtNjkwMlwiLCBcIk9QRVJBVElPTl9PUF9JTlZBTElEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRlbHNlIHJldHVybiByZXR1cm5WYWx1ZTtcblx0fSBlbHNlIHtcblx0XHRpZiAoIW11dGF0ZURvY3VtZW50KSBkb2N1bWVudCA9IHJlcXVpcmVfaGVscGVycy5fZGVlcENsb25lKGRvY3VtZW50KTtcblx0XHRjb25zdCBwYXRoID0gb3BlcmF0aW9uLnBhdGggfHwgXCJcIjtcblx0XHRjb25zdCBrZXlzID0gcGF0aC5zcGxpdChcIi9cIik7XG5cdFx0bGV0IG9iaiA9IGRvY3VtZW50O1xuXHRcdGxldCB0ID0gMTtcblx0XHRsZXQgbGVuID0ga2V5cy5sZW5ndGg7XG5cdFx0bGV0IGV4aXN0aW5nUGF0aEZyYWdtZW50ID0gdm9pZCAwO1xuXHRcdGxldCBrZXk7XG5cdFx0bGV0IHZhbGlkYXRlRnVuY3Rpb247XG5cdFx0aWYgKHR5cGVvZiB2YWxpZGF0ZU9wZXJhdGlvbiA9PSBcImZ1bmN0aW9uXCIpIHZhbGlkYXRlRnVuY3Rpb24gPSB2YWxpZGF0ZU9wZXJhdGlvbjtcblx0XHRlbHNlIHZhbGlkYXRlRnVuY3Rpb24gPSB2YWxpZGF0b3I7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGtleSA9IGtleXNbdF07XG5cdFx0XHRpZiAoa2V5ICYmIGtleS5pbmRleE9mKFwiflwiKSAhPSAtMSkga2V5ID0gcmVxdWlyZV9oZWxwZXJzLnVuZXNjYXBlUGF0aENvbXBvbmVudChrZXkpO1xuXHRcdFx0aWYgKGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnMgJiYgKGtleSA9PSBcIl9fcHJvdG9fX1wiIHx8IGtleSA9PSBcInByb3RvdHlwZVwiICYmIHQgPiAwICYmIGtleXNbdCAtIDFdID09IFwiY29uc3RydWN0b3JcIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJKU09OLVBhdGNoOiBtb2RpZnlpbmcgYF9fcHJvdG9fX2Agb3IgYGNvbnN0cnVjdG9yL3Byb3RvdHlwZWAgcHJvcCBpcyBiYW5uZWQgZm9yIHNlY3VyaXR5IHJlYXNvbnMsIGlmIHRoaXMgd2FzIG9uIHB1cnBvc2UsIHBsZWFzZSBzZXQgYGJhblByb3RvdHlwZU1vZGlmaWNhdGlvbnNgIGZsYWcgZmFsc2UgYW5kIHBhc3MgaXQgdG8gdGhpcyBmdW5jdGlvbi4gTW9yZSBpbmZvIGluIGZhc3QtanNvbi1wYXRjaCBSRUFETUVcIik7XG5cdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24pIHtcblx0XHRcdFx0aWYgKGV4aXN0aW5nUGF0aEZyYWdtZW50ID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAob2JqW2tleV0gPT09IHZvaWQgMCkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBrZXlzLnNsaWNlKDAsIHQpLmpvaW4oXCIvXCIpO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHQgPT0gbGVuIC0gMSkgZXhpc3RpbmdQYXRoRnJhZ21lbnQgPSBvcGVyYXRpb24ucGF0aDtcblx0XHRcdFx0XHRpZiAoZXhpc3RpbmdQYXRoRnJhZ21lbnQgIT09IHZvaWQgMCkgdmFsaWRhdGVGdW5jdGlvbihvcGVyYXRpb24sIDAsIGRvY3VtZW50LCBleGlzdGluZ1BhdGhGcmFnbWVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHQrKztcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRcdFx0aWYgKGtleSA9PT0gXCItXCIpIGtleSA9IG9iai5sZW5ndGg7XG5cdFx0XHRcdGVsc2UgaWYgKHZhbGlkYXRlT3BlcmF0aW9uICYmICFyZXF1aXJlX2hlbHBlcnMuaXNJbnRlZ2VyKGtleSkpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkV4cGVjdGVkIGFuIHVuc2lnbmVkIGJhc2UtMTAgaW50ZWdlciB2YWx1ZSwgbWFraW5nIHRoZSBuZXcgcmVmZXJlbmNlZCB2YWx1ZSB0aGUgYXJyYXkgZWxlbWVudCB3aXRoIHRoZSB6ZXJvLWJhc2VkIGluZGV4XCIsIFwiT1BFUkFUSU9OX1BBVEhfSUxMRUdBTF9BUlJBWV9JTkRFWFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRcdGVsc2UgaWYgKHJlcXVpcmVfaGVscGVycy5pc0ludGVnZXIoa2V5KSkga2V5ID0gfn5rZXk7XG5cdFx0XHRcdGlmICh0ID49IGxlbikge1xuXHRcdFx0XHRcdGlmICh2YWxpZGF0ZU9wZXJhdGlvbiAmJiBvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgJiYga2V5ID4gb2JqLmxlbmd0aCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGhlIHNwZWNpZmllZCBpbmRleCBNVVNUIE5PVCBiZSBncmVhdGVyIHRoYW4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXlcIiwgXCJPUEVSQVRJT05fVkFMVUVfT1VUX09GX0JPVU5EU1wiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRcdFx0Y29uc3QgcmV0dXJuVmFsdWUgPSBhcnJPcHNbb3BlcmF0aW9uLm9wXS5jYWxsKG9wZXJhdGlvbiwgb2JqLCBrZXksIGRvY3VtZW50KTtcblx0XHRcdFx0XHRpZiAocmV0dXJuVmFsdWUudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHQgPj0gbGVuKSB7XG5cdFx0XHRcdGNvbnN0IHJldHVyblZhbHVlID0gb2JqT3BzW29wZXJhdGlvbi5vcF0uY2FsbChvcGVyYXRpb24sIG9iaiwga2V5LCBkb2N1bWVudCk7XG5cdFx0XHRcdGlmIChyZXR1cm5WYWx1ZS50ZXN0ID09PSBmYWxzZSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiVGVzdCBvcGVyYXRpb24gZmFpbGVkXCIsIFwiVEVTVF9PUEVSQVRJT05fRkFJTEVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0b2JqID0gb2JqW2tleV07XG5cdFx0XHRpZiAodmFsaWRhdGVPcGVyYXRpb24gJiYgdCA8IGxlbiAmJiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIGF0IHRoZSBkZXNpcmVkIHBhdGhcIiwgXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdH1cblx0fVxufVxuLyoqXG4qIEFwcGx5IGEgZnVsbCBKU09OIFBhdGNoIGFycmF5IG9uIGEgSlNPTiBkb2N1bWVudC5cbiogUmV0dXJucyB0aGUge25ld0RvY3VtZW50LCByZXN1bHR9IG9mIHRoZSBwYXRjaC5cbiogSXQgbW9kaWZpZXMgdGhlIGBkb2N1bWVudGAgb2JqZWN0IGFuZCBgcGF0Y2hgIC0gaXQgZ2V0cyB0aGUgdmFsdWVzIGJ5IHJlZmVyZW5jZS5cbiogSWYgeW91IHdvdWxkIGxpa2UgdG8gYXZvaWQgdG91Y2hpbmcgeW91ciB2YWx1ZXMsIGNsb25lIHRoZW06XG4qIGBqc29ucGF0Y2guYXBwbHlQYXRjaChkb2N1bWVudCwganNvbnBhdGNoLl9kZWVwQ2xvbmUocGF0Y2gpKWAuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIHBhdGNoIFRoZSBwYXRjaCB0byBhcHBseVxuKiBAcGFyYW0gdmFsaWRhdGVPcGVyYXRpb24gYGZhbHNlYCBpcyB3aXRob3V0IHZhbGlkYXRpb24sIGB0cnVlYCB0byB1c2UgZGVmYXVsdCBqc29ucGF0Y2gncyB2YWxpZGF0aW9uLCBvciB5b3UgY2FuIHBhc3MgYSBgdmFsaWRhdGVPcGVyYXRpb25gIGNhbGxiYWNrIHRvIGJlIHVzZWQgZm9yIHZhbGlkYXRpb24uXG4qIEBwYXJhbSBtdXRhdGVEb2N1bWVudCBXaGV0aGVyIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgb3IgY2xvbmUgaXQgYmVmb3JlIGFwcGx5aW5nXG4qIEBwYXJhbSBiYW5Qcm90b3R5cGVNb2RpZmljYXRpb25zIFdoZXRoZXIgdG8gYmFuIG1vZGlmaWNhdGlvbnMgdG8gYF9fcHJvdG9fX2AsIGRlZmF1bHRzIHRvIGB0cnVlYC5cbiogQHJldHVybiBBbiBhcnJheSBvZiBge25ld0RvY3VtZW50LCByZXN1bHR9YCBhZnRlciB0aGUgcGF0Y2hcbiovXG5mdW5jdGlvbiBhcHBseVBhdGNoKGRvY3VtZW50LCBwYXRjaCwgdmFsaWRhdGVPcGVyYXRpb24sIG11dGF0ZURvY3VtZW50ID0gdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucyA9IHRydWUpIHtcblx0aWYgKHZhbGlkYXRlT3BlcmF0aW9uKSB7XG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KHBhdGNoKSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiUGF0Y2ggc2VxdWVuY2UgbXVzdCBiZSBhbiBhcnJheVwiLCBcIlNFUVVFTkNFX05PVF9BTl9BUlJBWVwiKTtcblx0fVxuXHRpZiAoIW11dGF0ZURvY3VtZW50KSBkb2N1bWVudCA9IHJlcXVpcmVfaGVscGVycy5fZGVlcENsb25lKGRvY3VtZW50KTtcblx0Y29uc3QgcmVzdWx0cyA9IG5ldyBBcnJheShwYXRjaC5sZW5ndGgpO1xuXHRmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcGF0Y2gubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRyZXN1bHRzW2ldID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIHBhdGNoW2ldLCB2YWxpZGF0ZU9wZXJhdGlvbiwgdHJ1ZSwgYmFuUHJvdG90eXBlTW9kaWZpY2F0aW9ucywgaSk7XG5cdFx0ZG9jdW1lbnQgPSByZXN1bHRzW2ldLm5ld0RvY3VtZW50O1xuXHR9XG5cdHJlc3VsdHMubmV3RG9jdW1lbnQgPSBkb2N1bWVudDtcblx0cmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiogQXBwbHkgYSBzaW5nbGUgSlNPTiBQYXRjaCBPcGVyYXRpb24gb24gYSBKU09OIGRvY3VtZW50LlxuKiBSZXR1cm5zIHRoZSB1cGRhdGVkIGRvY3VtZW50LlxuKiBTdWl0YWJsZSBhcyBhIHJlZHVjZXIuXG4qXG4qIEBwYXJhbSBkb2N1bWVudCBUaGUgZG9jdW1lbnQgdG8gcGF0Y2hcbiogQHBhcmFtIG9wZXJhdGlvbiBUaGUgb3BlcmF0aW9uIHRvIGFwcGx5XG4qIEByZXR1cm4gVGhlIHVwZGF0ZWQgZG9jdW1lbnRcbiovXG5mdW5jdGlvbiBhcHBseVJlZHVjZXIoZG9jdW1lbnQsIG9wZXJhdGlvbiwgaW5kZXgpIHtcblx0Y29uc3Qgb3BlcmF0aW9uUmVzdWx0ID0gYXBwbHlPcGVyYXRpb24oZG9jdW1lbnQsIG9wZXJhdGlvbik7XG5cdGlmIChvcGVyYXRpb25SZXN1bHQudGVzdCA9PT0gZmFsc2UpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIlRlc3Qgb3BlcmF0aW9uIGZhaWxlZFwiLCBcIlRFU1RfT1BFUkFUSU9OX0ZBSUxFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdHJldHVybiBvcGVyYXRpb25SZXN1bHQubmV3RG9jdW1lbnQ7XG59XG4vKipcbiogVmFsaWRhdGVzIGEgc2luZ2xlIG9wZXJhdGlvbi4gQ2FsbGVkIGZyb20gYGpzb25wYXRjaC52YWxpZGF0ZWAuIFRocm93cyBgSnNvblBhdGNoRXJyb3JgIGluIGNhc2Ugb2YgYW4gZXJyb3IuXG4qIEBwYXJhbSB7b2JqZWN0fSBvcGVyYXRpb24gLSBvcGVyYXRpb24gb2JqZWN0IChwYXRjaClcbiogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2Ygb3BlcmF0aW9uIGluIHRoZSBzZXF1ZW5jZVxuKiBAcGFyYW0ge29iamVjdH0gW2RvY3VtZW50XSAtIG9iamVjdCB3aGVyZSB0aGUgb3BlcmF0aW9uIGlzIHN1cHBvc2VkIHRvIGJlIGFwcGxpZWRcbiogQHBhcmFtIHtzdHJpbmd9IFtleGlzdGluZ1BhdGhGcmFnbWVudF0gLSBjb21lcyBhbG9uZyB3aXRoIGBkb2N1bWVudGBcbiovXG5mdW5jdGlvbiB2YWxpZGF0b3Iob3BlcmF0aW9uLCBpbmRleCwgZG9jdW1lbnQsIGV4aXN0aW5nUGF0aEZyYWdtZW50KSB7XG5cdGlmICh0eXBlb2Ygb3BlcmF0aW9uICE9PSBcIm9iamVjdFwiIHx8IG9wZXJhdGlvbiA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KG9wZXJhdGlvbikpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBpcyBub3QgYW4gb2JqZWN0XCIsIFwiT1BFUkFUSU9OX05PVF9BTl9PQkpFQ1RcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICghb2JqT3BzW29wZXJhdGlvbi5vcF0pIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgb3BgIHByb3BlcnR5IGlzIG5vdCBvbmUgb2Ygb3BlcmF0aW9ucyBkZWZpbmVkIGluIFJGQy02OTAyXCIsIFwiT1BFUkFUSU9OX09QX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICh0eXBlb2Ygb3BlcmF0aW9uLnBhdGggIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgaXMgbm90IGEgc3RyaW5nXCIsIFwiT1BFUkFUSU9OX1BBVEhfSU5WQUxJRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKG9wZXJhdGlvbi5wYXRoLmluZGV4T2YoXCIvXCIpICE9PSAwICYmIG9wZXJhdGlvbi5wYXRoLmxlbmd0aCA+IDApIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgbXVzdCBzdGFydCB3aXRoIFxcXCIvXFxcIlwiLCBcIk9QRVJBVElPTl9QQVRIX0lOVkFMSURcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRlbHNlIGlmICgob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwiY29weVwiKSAmJiB0eXBlb2Ygb3BlcmF0aW9uLmZyb20gIT09IFwic3RyaW5nXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucylcIiwgXCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKChvcGVyYXRpb24ub3AgPT09IFwiYWRkXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcInJlcGxhY2VcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwidGVzdFwiKSAmJiBvcGVyYXRpb24udmFsdWUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX1JFUVVJUkVEXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0ZWxzZSBpZiAoKG9wZXJhdGlvbi5vcCA9PT0gXCJhZGRcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwicmVwbGFjZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJ0ZXN0XCIpICYmIHJlcXVpcmVfaGVscGVycy5oYXNVbmRlZmluZWQob3BlcmF0aW9uLnZhbHVlKSkgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpXCIsIFwiT1BFUkFUSU9OX1ZBTFVFX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRFwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdGVsc2UgaWYgKGRvY3VtZW50KSB7XG5cdFx0aWYgKG9wZXJhdGlvbi5vcCA9PSBcImFkZFwiKSB7XG5cdFx0XHR2YXIgcGF0aExlbiA9IG9wZXJhdGlvbi5wYXRoLnNwbGl0KFwiL1wiKS5sZW5ndGg7XG5cdFx0XHR2YXIgZXhpc3RpbmdQYXRoTGVuID0gZXhpc3RpbmdQYXRoRnJhZ21lbnQuc3BsaXQoXCIvXCIpLmxlbmd0aDtcblx0XHRcdGlmIChwYXRoTGVuICE9PSBleGlzdGluZ1BhdGhMZW4gKyAxICYmIHBhdGhMZW4gIT09IGV4aXN0aW5nUGF0aExlbikgdGhyb3cgbmV3IEpzb25QYXRjaEVycm9yKFwiQ2Fubm90IHBlcmZvcm0gYW4gYGFkZGAgb3BlcmF0aW9uIGF0IHRoZSBkZXNpcmVkIHBhdGhcIiwgXCJPUEVSQVRJT05fUEFUSF9DQU5OT1RfQUREXCIsIGluZGV4LCBvcGVyYXRpb24sIGRvY3VtZW50KTtcblx0XHR9IGVsc2UgaWYgKG9wZXJhdGlvbi5vcCA9PT0gXCJyZXBsYWNlXCIgfHwgb3BlcmF0aW9uLm9wID09PSBcInJlbW92ZVwiIHx8IG9wZXJhdGlvbi5vcCA9PT0gXCJfZ2V0XCIpIHtcblx0XHRcdGlmIChvcGVyYXRpb24ucGF0aCAhPT0gZXhpc3RpbmdQYXRoRnJhZ21lbnQpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gYXQgYSBwYXRoIHRoYXQgZG9lcyBub3QgZXhpc3RcIiwgXCJPUEVSQVRJT05fUEFUSF9VTlJFU09MVkFCTEVcIiwgaW5kZXgsIG9wZXJhdGlvbiwgZG9jdW1lbnQpO1xuXHRcdH0gZWxzZSBpZiAob3BlcmF0aW9uLm9wID09PSBcIm1vdmVcIiB8fCBvcGVyYXRpb24ub3AgPT09IFwiY29weVwiKSB7XG5cdFx0XHR2YXIgZXhpc3RpbmdWYWx1ZSA9IHtcblx0XHRcdFx0b3A6IFwiX2dldFwiLFxuXHRcdFx0XHRwYXRoOiBvcGVyYXRpb24uZnJvbSxcblx0XHRcdFx0dmFsdWU6IHZvaWQgMFxuXHRcdFx0fTtcblx0XHRcdHZhciBlcnJvciA9IHZhbGlkYXRlKFtleGlzdGluZ1ZhbHVlXSwgZG9jdW1lbnQpO1xuXHRcdFx0aWYgKGVycm9yICYmIGVycm9yLm5hbWUgPT09IFwiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFXCIpIHRocm93IG5ldyBKc29uUGF0Y2hFcnJvcihcIkNhbm5vdCBwZXJmb3JtIHRoZSBvcGVyYXRpb24gZnJvbSBhIHBhdGggdGhhdCBkb2VzIG5vdCBleGlzdFwiLCBcIk9QRVJBVElPTl9GUk9NX1VOUkVTT0xWQUJMRVwiLCBpbmRleCwgb3BlcmF0aW9uLCBkb2N1bWVudCk7XG5cdFx0fVxuXHR9XG59XG4vKipcbiogVmFsaWRhdGVzIGEgc2VxdWVuY2Ugb2Ygb3BlcmF0aW9ucy4gSWYgYGRvY3VtZW50YCBwYXJhbWV0ZXIgaXMgcHJvdmlkZWQsIHRoZSBzZXF1ZW5jZSBpcyBhZGRpdGlvbmFsbHkgdmFsaWRhdGVkIGFnYWluc3QgdGhlIG9iamVjdCBkb2N1bWVudC5cbiogSWYgZXJyb3IgaXMgZW5jb3VudGVyZWQsIHJldHVybnMgYSBKc29uUGF0Y2hFcnJvciBvYmplY3RcbiogQHBhcmFtIHNlcXVlbmNlXG4qIEBwYXJhbSBkb2N1bWVudFxuKiBAcmV0dXJucyB7SnNvblBhdGNoRXJyb3J8dW5kZWZpbmVkfVxuKi9cbmZ1bmN0aW9uIHZhbGlkYXRlKHNlcXVlbmNlLCBkb2N1bWVudCwgZXh0ZXJuYWxWYWxpZGF0b3IpIHtcblx0dHJ5IHtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoc2VxdWVuY2UpKSB0aHJvdyBuZXcgSnNvblBhdGNoRXJyb3IoXCJQYXRjaCBzZXF1ZW5jZSBtdXN0IGJlIGFuIGFycmF5XCIsIFwiU0VRVUVOQ0VfTk9UX0FOX0FSUkFZXCIpO1xuXHRcdGlmIChkb2N1bWVudCkgYXBwbHlQYXRjaChyZXF1aXJlX2hlbHBlcnMuX2RlZXBDbG9uZShkb2N1bWVudCksIHJlcXVpcmVfaGVscGVycy5fZGVlcENsb25lKHNlcXVlbmNlKSwgZXh0ZXJuYWxWYWxpZGF0b3IgfHwgdHJ1ZSk7XG5cdFx0ZWxzZSB7XG5cdFx0XHRleHRlcm5hbFZhbGlkYXRvciA9IGV4dGVybmFsVmFsaWRhdG9yIHx8IHZhbGlkYXRvcjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2VxdWVuY2UubGVuZ3RoOyBpKyspIGV4dGVybmFsVmFsaWRhdG9yKHNlcXVlbmNlW2ldLCBpLCBkb2N1bWVudCwgdm9pZCAwKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAoZSBpbnN0YW5jZW9mIEpzb25QYXRjaEVycm9yKSByZXR1cm4gZTtcblx0XHRlbHNlIHRocm93IGU7XG5cdH1cbn1cbmZ1bmN0aW9uIF9hcmVFcXVhbHMoYSwgYikge1xuXHRpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cdGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYiA9PSBcIm9iamVjdFwiKSB7XG5cdFx0dmFyIGFyckEgPSBBcnJheS5pc0FycmF5KGEpLCBhcnJCID0gQXJyYXkuaXNBcnJheShiKSwgaSwgbGVuZ3RoLCBrZXk7XG5cdFx0aWYgKGFyckEgJiYgYXJyQikge1xuXHRcdFx0bGVuZ3RoID0gYS5sZW5ndGg7XG5cdFx0XHRpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIGlmICghX2FyZUVxdWFscyhhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGlmIChhcnJBICE9IGFyckIpIHJldHVybiBmYWxzZTtcblx0XHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuXHRcdGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHRcdGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHRcdGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykgaWYgKCFiLmhhc093blByb3BlcnR5KGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cdFx0Zm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG5cdFx0XHRrZXkgPSBrZXlzW2ldO1xuXHRcdFx0aWYgKCFfYXJlRXF1YWxzKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuX2FyZUVxdWFscyA9IF9hcmVFcXVhbHM7XG5leHBvcnRzLmFwcGx5T3BlcmF0aW9uID0gYXBwbHlPcGVyYXRpb247XG5leHBvcnRzLmFwcGx5UGF0Y2ggPSBhcHBseVBhdGNoO1xuZXhwb3J0cy5hcHBseVJlZHVjZXIgPSBhcHBseVJlZHVjZXI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NvcmVfZXhwb3J0cycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvcmVfZXhwb3J0cztcbiAgfVxufSk7XG5leHBvcnRzLmdldFZhbHVlQnlQb2ludGVyID0gZ2V0VmFsdWVCeVBvaW50ZXI7XG5leHBvcnRzLnZhbGlkYXRlID0gdmFsaWRhdGU7XG5leHBvcnRzLnZhbGlkYXRvciA9IHZhbGlkYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.cjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.cjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_helpers = __webpack_require__(/*! ./helpers.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs\");\n__webpack_require__(/*! ./core.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/core.cjs\");\n\n//#region src/utils/fast-json-patch/src/duplex.ts\nfunction _generate(mirror, obj, patches, path, invertible) {\n\tif (obj === mirror) return;\n\tif (typeof obj.toJSON === \"function\") obj = obj.toJSON();\n\tvar newKeys = require_helpers._objectKeys(obj);\n\tvar oldKeys = require_helpers._objectKeys(mirror);\n\tvar changed = false;\n\tvar deleted = false;\n\tfor (var t = oldKeys.length - 1; t >= 0; t--) {\n\t\tvar key = oldKeys[t];\n\t\tvar oldVal = mirror[key];\n\t\tif (require_helpers.hasOwnProperty(obj, key) && !(obj[key] === void 0 && oldVal !== void 0 && Array.isArray(obj) === false)) {\n\t\t\tvar newVal = obj[key];\n\t\t\tif (typeof oldVal == \"object\" && oldVal != null && typeof newVal == \"object\" && newVal != null && Array.isArray(oldVal) === Array.isArray(newVal)) _generate(oldVal, newVal, patches, path + \"/\" + require_helpers.escapePathComponent(key), invertible);\n\t\t\telse if (oldVal !== newVal) {\n\t\t\t\tchanged = true;\n\t\t\t\tif (invertible) patches.push({\n\t\t\t\t\top: \"test\",\n\t\t\t\t\tpath: path + \"/\" + require_helpers.escapePathComponent(key),\n\t\t\t\t\tvalue: require_helpers._deepClone(oldVal)\n\t\t\t\t});\n\t\t\t\tpatches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: path + \"/\" + require_helpers.escapePathComponent(key),\n\t\t\t\t\tvalue: require_helpers._deepClone(newVal)\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (Array.isArray(mirror) === Array.isArray(obj)) {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath: path + \"/\" + require_helpers.escapePathComponent(key),\n\t\t\t\tvalue: require_helpers._deepClone(oldVal)\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"remove\",\n\t\t\t\tpath: path + \"/\" + require_helpers.escapePathComponent(key)\n\t\t\t});\n\t\t\tdeleted = true;\n\t\t} else {\n\t\t\tif (invertible) patches.push({\n\t\t\t\top: \"test\",\n\t\t\t\tpath,\n\t\t\t\tvalue: mirror\n\t\t\t});\n\t\t\tpatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: obj\n\t\t\t});\n\t\t\tchanged = true;\n\t\t}\n\t}\n\tif (!deleted && newKeys.length == oldKeys.length) return;\n\tfor (var t = 0; t < newKeys.length; t++) {\n\t\tvar key = newKeys[t];\n\t\tif (!require_helpers.hasOwnProperty(mirror, key) && obj[key] !== void 0) patches.push({\n\t\t\top: \"add\",\n\t\t\tpath: path + \"/\" + require_helpers.escapePathComponent(key),\n\t\t\tvalue: require_helpers._deepClone(obj[key])\n\t\t});\n\t}\n}\n/**\n* Create an array of patches from the differences in two objects\n*/\nfunction compare(tree1, tree2, invertible = false) {\n\tvar patches = [];\n\t_generate(tree1, tree2, patches, \"\", invertible);\n\treturn patches;\n}\n\n//#endregion\nexports.compare = compare;\n//# sourceMappingURL=duplex.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC5janMiLCJtYXBwaW5ncyI6IkFBQUEsd0JBQXdCLG1CQUFPLENBQUMsaUhBQWU7QUFDL0MsbUJBQU8sQ0FBQywyR0FBWTs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG9CQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2R1cGxleC5janM/ZjhhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2hlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMuY2pzJyk7XG5yZXF1aXJlKCcuL2NvcmUuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9kdXBsZXgudHNcbmZ1bmN0aW9uIF9nZW5lcmF0ZShtaXJyb3IsIG9iaiwgcGF0Y2hlcywgcGF0aCwgaW52ZXJ0aWJsZSkge1xuXHRpZiAob2JqID09PSBtaXJyb3IpIHJldHVybjtcblx0aWYgKHR5cGVvZiBvYmoudG9KU09OID09PSBcImZ1bmN0aW9uXCIpIG9iaiA9IG9iai50b0pTT04oKTtcblx0dmFyIG5ld0tleXMgPSByZXF1aXJlX2hlbHBlcnMuX29iamVjdEtleXMob2JqKTtcblx0dmFyIG9sZEtleXMgPSByZXF1aXJlX2hlbHBlcnMuX29iamVjdEtleXMobWlycm9yKTtcblx0dmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0dmFyIGRlbGV0ZWQgPSBmYWxzZTtcblx0Zm9yICh2YXIgdCA9IG9sZEtleXMubGVuZ3RoIC0gMTsgdCA+PSAwOyB0LS0pIHtcblx0XHR2YXIga2V5ID0gb2xkS2V5c1t0XTtcblx0XHR2YXIgb2xkVmFsID0gbWlycm9yW2tleV07XG5cdFx0aWYgKHJlcXVpcmVfaGVscGVycy5oYXNPd25Qcm9wZXJ0eShvYmosIGtleSkgJiYgIShvYmpba2V5XSA9PT0gdm9pZCAwICYmIG9sZFZhbCAhPT0gdm9pZCAwICYmIEFycmF5LmlzQXJyYXkob2JqKSA9PT0gZmFsc2UpKSB7XG5cdFx0XHR2YXIgbmV3VmFsID0gb2JqW2tleV07XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbCA9PSBcIm9iamVjdFwiICYmIG9sZFZhbCAhPSBudWxsICYmIHR5cGVvZiBuZXdWYWwgPT0gXCJvYmplY3RcIiAmJiBuZXdWYWwgIT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KG9sZFZhbCkgPT09IEFycmF5LmlzQXJyYXkobmV3VmFsKSkgX2dlbmVyYXRlKG9sZFZhbCwgbmV3VmFsLCBwYXRjaGVzLCBwYXRoICsgXCIvXCIgKyByZXF1aXJlX2hlbHBlcnMuZXNjYXBlUGF0aENvbXBvbmVudChrZXkpLCBpbnZlcnRpYmxlKTtcblx0XHRcdGVsc2UgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG5cdFx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoaW52ZXJ0aWJsZSkgcGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogXCJ0ZXN0XCIsXG5cdFx0XHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgcmVxdWlyZV9oZWxwZXJzLmVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSxcblx0XHRcdFx0XHR2YWx1ZTogcmVxdWlyZV9oZWxwZXJzLl9kZWVwQ2xvbmUob2xkVmFsKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgcmVxdWlyZV9oZWxwZXJzLmVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSxcblx0XHRcdFx0XHR2YWx1ZTogcmVxdWlyZV9oZWxwZXJzLl9kZWVwQ2xvbmUobmV3VmFsKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobWlycm9yKSA9PT0gQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0XHRpZiAoaW52ZXJ0aWJsZSkgcGF0Y2hlcy5wdXNoKHtcblx0XHRcdFx0b3A6IFwidGVzdFwiLFxuXHRcdFx0XHRwYXRoOiBwYXRoICsgXCIvXCIgKyByZXF1aXJlX2hlbHBlcnMuZXNjYXBlUGF0aENvbXBvbmVudChrZXkpLFxuXHRcdFx0XHR2YWx1ZTogcmVxdWlyZV9oZWxwZXJzLl9kZWVwQ2xvbmUob2xkVmFsKVxuXHRcdFx0fSk7XG5cdFx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJyZW1vdmVcIixcblx0XHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgcmVxdWlyZV9oZWxwZXJzLmVzY2FwZVBhdGhDb21wb25lbnQoa2V5KVxuXHRcdFx0fSk7XG5cdFx0XHRkZWxldGVkID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGludmVydGlibGUpIHBhdGNoZXMucHVzaCh7XG5cdFx0XHRcdG9wOiBcInRlc3RcIixcblx0XHRcdFx0cGF0aCxcblx0XHRcdFx0dmFsdWU6IG1pcnJvclxuXHRcdFx0fSk7XG5cdFx0XHRwYXRjaGVzLnB1c2goe1xuXHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdHBhdGgsXG5cdFx0XHRcdHZhbHVlOiBvYmpcblx0XHRcdH0pO1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGlmICghZGVsZXRlZCAmJiBuZXdLZXlzLmxlbmd0aCA9PSBvbGRLZXlzLmxlbmd0aCkgcmV0dXJuO1xuXHRmb3IgKHZhciB0ID0gMDsgdCA8IG5ld0tleXMubGVuZ3RoOyB0KyspIHtcblx0XHR2YXIga2V5ID0gbmV3S2V5c1t0XTtcblx0XHRpZiAoIXJlcXVpcmVfaGVscGVycy5oYXNPd25Qcm9wZXJ0eShtaXJyb3IsIGtleSkgJiYgb2JqW2tleV0gIT09IHZvaWQgMCkgcGF0Y2hlcy5wdXNoKHtcblx0XHRcdG9wOiBcImFkZFwiLFxuXHRcdFx0cGF0aDogcGF0aCArIFwiL1wiICsgcmVxdWlyZV9oZWxwZXJzLmVzY2FwZVBhdGhDb21wb25lbnQoa2V5KSxcblx0XHRcdHZhbHVlOiByZXF1aXJlX2hlbHBlcnMuX2RlZXBDbG9uZShvYmpba2V5XSlcblx0XHR9KTtcblx0fVxufVxuLyoqXG4qIENyZWF0ZSBhbiBhcnJheSBvZiBwYXRjaGVzIGZyb20gdGhlIGRpZmZlcmVuY2VzIGluIHR3byBvYmplY3RzXG4qL1xuZnVuY3Rpb24gY29tcGFyZSh0cmVlMSwgdHJlZTIsIGludmVydGlibGUgPSBmYWxzZSkge1xuXHR2YXIgcGF0Y2hlcyA9IFtdO1xuXHRfZ2VuZXJhdGUodHJlZTEsIHRyZWUyLCBwYXRjaGVzLCBcIlwiLCBpbnZlcnRpYmxlKTtcblx0cmV0dXJuIHBhdGNoZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5jb21wYXJlID0gY29tcGFyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR1cGxleC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/duplex.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/fast-json-patch/src/helpers.ts\n/*!\n* https://github.com/Starcounter-Jack/JSON-Patch\n* (c) 2017-2022 Joachim Wester\n* MIT licensed\n*/\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwnProperty(obj, key) {\n\treturn _hasOwnProperty.call(obj, key);\n}\nfunction _objectKeys(obj) {\n\tif (Array.isArray(obj)) {\n\t\tconst keys$1 = new Array(obj.length);\n\t\tfor (let k = 0; k < keys$1.length; k++) keys$1[k] = \"\" + k;\n\t\treturn keys$1;\n\t}\n\tif (Object.keys) return Object.keys(obj);\n\tlet keys = [];\n\tfor (let i in obj) if (hasOwnProperty(obj, i)) keys.push(i);\n\treturn keys;\n}\n/**\n* Deeply clone the object.\n* https://jsperf.com/deep-copy-vs-json-stringify-json-parse/25 (recursiveDeepCopy)\n* @param  {any} obj value to clone\n* @return {any} cloned obj\n*/\nfunction _deepClone(obj) {\n\tswitch (typeof obj) {\n\t\tcase \"object\": return JSON.parse(JSON.stringify(obj));\n\t\tcase \"undefined\": return null;\n\t\tdefault: return obj;\n\t}\n}\nfunction isInteger(str) {\n\tlet i = 0;\n\tconst len = str.length;\n\tlet charCode;\n\twhile (i < len) {\n\t\tcharCode = str.charCodeAt(i);\n\t\tif (charCode >= 48 && charCode <= 57) {\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/**\n* Escapes a json pointer path\n* @param path The raw pointer\n* @return the Escaped path\n*/\nfunction escapePathComponent(path) {\n\tif (path.indexOf(\"/\") === -1 && path.indexOf(\"~\") === -1) return path;\n\treturn path.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\n/**\n* Unescapes a json pointer path\n* @param path The escaped pointer\n* @return The unescaped path\n*/\nfunction unescapePathComponent(path) {\n\treturn path.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\n/**\n* Recursively checks whether an object has any undefined values inside.\n*/\nfunction hasUndefined(obj) {\n\tif (obj === void 0) return true;\n\tif (obj) {\n\t\tif (Array.isArray(obj)) {\n\t\t\tfor (let i$1 = 0, len = obj.length; i$1 < len; i$1++) if (hasUndefined(obj[i$1])) return true;\n\t\t} else if (typeof obj === \"object\") {\n\t\t\tconst objKeys = _objectKeys(obj);\n\t\t\tconst objKeysLength = objKeys.length;\n\t\t\tfor (var i = 0; i < objKeysLength; i++) if (hasUndefined(obj[objKeys[i]])) return true;\n\t\t}\n\t}\n\treturn false;\n}\nfunction patchErrorMessageFormatter(message, args) {\n\tconst messageParts = [message];\n\tfor (const key in args) {\n\t\tconst value = typeof args[key] === \"object\" ? JSON.stringify(args[key], null, 2) : args[key];\n\t\tif (typeof value !== \"undefined\") messageParts.push(`${key}: ${value}`);\n\t}\n\treturn messageParts.join(\"\\n\");\n}\nvar PatchError = class extends Error {\n\tconstructor(message, name, index, operation, tree) {\n\t\tsuper(patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t}));\n\t\tthis.name = name;\n\t\tthis.index = index;\n\t\tthis.operation = operation;\n\t\tthis.tree = tree;\n\t\tObject.setPrototypeOf(this, new.target.prototype);\n\t\tthis.message = patchErrorMessageFormatter(message, {\n\t\t\tname,\n\t\t\tindex,\n\t\t\toperation,\n\t\t\ttree\n\t\t});\n\t}\n};\n\n//#endregion\nexports.PatchError = PatchError;\nexports._deepClone = _deepClone;\nexports._objectKeys = _objectKeys;\nexports.escapePathComponent = escapePathComponent;\nexports.hasOwnProperty = hasOwnProperty;\nexports.hasUndefined = hasUndefined;\nexports.isInteger = isInteger;\nexports.unescapePathComponent = unescapePathComponent;\n//# sourceMappingURL=helpers.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9mYXN0LWpzb24tcGF0Y2gvc3JjL2hlbHBlcnMuY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFdBQVc7QUFDbEQsSUFBSTtBQUNKO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsSUFBSSxJQUFJLE1BQU07QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQixrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLDJCQUEyQjtBQUMzQixzQkFBc0I7QUFDdEIsb0JBQW9CO0FBQ3BCLGlCQUFpQjtBQUNqQiw2QkFBNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2Zhc3QtanNvbi1wYXRjaC9zcmMvaGVscGVycy5janM/OWVjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvZmFzdC1qc29uLXBhdGNoL3NyYy9oZWxwZXJzLnRzXG4vKiFcbiogaHR0cHM6Ly9naXRodWIuY29tL1N0YXJjb3VudGVyLUphY2svSlNPTi1QYXRjaFxuKiAoYykgMjAxNy0yMDIyIEpvYWNoaW0gV2VzdGVyXG4qIE1JVCBsaWNlbnNlZFxuKi9cbmNvbnN0IF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkge1xuXHRyZXR1cm4gX2hhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuZnVuY3Rpb24gX29iamVjdEtleXMob2JqKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRjb25zdCBrZXlzJDEgPSBuZXcgQXJyYXkob2JqLmxlbmd0aCk7XG5cdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBrZXlzJDEubGVuZ3RoOyBrKyspIGtleXMkMVtrXSA9IFwiXCIgKyBrO1xuXHRcdHJldHVybiBrZXlzJDE7XG5cdH1cblx0aWYgKE9iamVjdC5rZXlzKSByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcblx0bGV0IGtleXMgPSBbXTtcblx0Zm9yIChsZXQgaSBpbiBvYmopIGlmIChoYXNPd25Qcm9wZXJ0eShvYmosIGkpKSBrZXlzLnB1c2goaSk7XG5cdHJldHVybiBrZXlzO1xufVxuLyoqXG4qIERlZXBseSBjbG9uZSB0aGUgb2JqZWN0LlxuKiBodHRwczovL2pzcGVyZi5jb20vZGVlcC1jb3B5LXZzLWpzb24tc3RyaW5naWZ5LWpzb24tcGFyc2UvMjUgKHJlY3Vyc2l2ZURlZXBDb3B5KVxuKiBAcGFyYW0gIHthbnl9IG9iaiB2YWx1ZSB0byBjbG9uZVxuKiBAcmV0dXJuIHthbnl9IGNsb25lZCBvYmpcbiovXG5mdW5jdGlvbiBfZGVlcENsb25lKG9iaikge1xuXHRzd2l0Y2ggKHR5cGVvZiBvYmopIHtcblx0XHRjYXNlIFwib2JqZWN0XCI6IHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuXHRcdGNhc2UgXCJ1bmRlZmluZWRcIjogcmV0dXJuIG51bGw7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIG9iajtcblx0fVxufVxuZnVuY3Rpb24gaXNJbnRlZ2VyKHN0cikge1xuXHRsZXQgaSA9IDA7XG5cdGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG5cdGxldCBjaGFyQ29kZTtcblx0d2hpbGUgKGkgPCBsZW4pIHtcblx0XHRjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRcdGlmIChjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1Nykge1xuXHRcdFx0aSsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuKiBFc2NhcGVzIGEganNvbiBwb2ludGVyIHBhdGhcbiogQHBhcmFtIHBhdGggVGhlIHJhdyBwb2ludGVyXG4qIEByZXR1cm4gdGhlIEVzY2FwZWQgcGF0aFxuKi9cbmZ1bmN0aW9uIGVzY2FwZVBhdGhDb21wb25lbnQocGF0aCkge1xuXHRpZiAocGF0aC5pbmRleE9mKFwiL1wiKSA9PT0gLTEgJiYgcGF0aC5pbmRleE9mKFwiflwiKSA9PT0gLTEpIHJldHVybiBwYXRoO1xuXHRyZXR1cm4gcGF0aC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG4vKipcbiogVW5lc2NhcGVzIGEganNvbiBwb2ludGVyIHBhdGhcbiogQHBhcmFtIHBhdGggVGhlIGVzY2FwZWQgcG9pbnRlclxuKiBAcmV0dXJuIFRoZSB1bmVzY2FwZWQgcGF0aFxuKi9cbmZ1bmN0aW9uIHVuZXNjYXBlUGF0aENvbXBvbmVudChwYXRoKSB7XG5cdHJldHVybiBwYXRoLnJlcGxhY2UoL34xL2csIFwiL1wiKS5yZXBsYWNlKC9+MC9nLCBcIn5cIik7XG59XG4vKipcbiogUmVjdXJzaXZlbHkgY2hlY2tzIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhbnkgdW5kZWZpbmVkIHZhbHVlcyBpbnNpZGUuXG4qL1xuZnVuY3Rpb24gaGFzVW5kZWZpbmVkKG9iaikge1xuXHRpZiAob2JqID09PSB2b2lkIDApIHJldHVybiB0cnVlO1xuXHRpZiAob2JqKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHRcdFx0Zm9yIChsZXQgaSQxID0gMCwgbGVuID0gb2JqLmxlbmd0aDsgaSQxIDwgbGVuOyBpJDErKykgaWYgKGhhc1VuZGVmaW5lZChvYmpbaSQxXSkpIHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Y29uc3Qgb2JqS2V5cyA9IF9vYmplY3RLZXlzKG9iaik7XG5cdFx0XHRjb25zdCBvYmpLZXlzTGVuZ3RoID0gb2JqS2V5cy5sZW5ndGg7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXNMZW5ndGg7IGkrKykgaWYgKGhhc1VuZGVmaW5lZChvYmpbb2JqS2V5c1tpXV0pKSByZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGF0Y2hFcnJvck1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZSwgYXJncykge1xuXHRjb25zdCBtZXNzYWdlUGFydHMgPSBbbWVzc2FnZV07XG5cdGZvciAoY29uc3Qga2V5IGluIGFyZ3MpIHtcblx0XHRjb25zdCB2YWx1ZSA9IHR5cGVvZiBhcmdzW2tleV0gPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShhcmdzW2tleV0sIG51bGwsIDIpIDogYXJnc1trZXldO1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIG1lc3NhZ2VQYXJ0cy5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG5cdH1cblx0cmV0dXJuIG1lc3NhZ2VQYXJ0cy5qb2luKFwiXFxuXCIpO1xufVxudmFyIFBhdGNoRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgaW5kZXgsIG9wZXJhdGlvbiwgdHJlZSkge1xuXHRcdHN1cGVyKHBhdGNoRXJyb3JNZXNzYWdlRm9ybWF0dGVyKG1lc3NhZ2UsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHRpbmRleCxcblx0XHRcdG9wZXJhdGlvbixcblx0XHRcdHRyZWVcblx0XHR9KSk7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0XHR0aGlzLmluZGV4ID0gaW5kZXg7XG5cdFx0dGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG5cdFx0dGhpcy50cmVlID0gdHJlZTtcblx0XHRPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgbmV3LnRhcmdldC5wcm90b3R5cGUpO1xuXHRcdHRoaXMubWVzc2FnZSA9IHBhdGNoRXJyb3JNZXNzYWdlRm9ybWF0dGVyKG1lc3NhZ2UsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHRpbmRleCxcblx0XHRcdG9wZXJhdGlvbixcblx0XHRcdHRyZWVcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLlBhdGNoRXJyb3IgPSBQYXRjaEVycm9yO1xuZXhwb3J0cy5fZGVlcENsb25lID0gX2RlZXBDbG9uZTtcbmV4cG9ydHMuX29iamVjdEtleXMgPSBfb2JqZWN0S2V5cztcbmV4cG9ydHMuZXNjYXBlUGF0aENvbXBvbmVudCA9IGVzY2FwZVBhdGhDb21wb25lbnQ7XG5leHBvcnRzLmhhc093blByb3BlcnR5ID0gaGFzT3duUHJvcGVydHk7XG5leHBvcnRzLmhhc1VuZGVmaW5lZCA9IGhhc1VuZGVmaW5lZDtcbmV4cG9ydHMuaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuZXhwb3J0cy51bmVzY2FwZVBhdGhDb21wb25lbnQgPSB1bmVzY2FwZVBhdGhDb21wb25lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWxwZXJzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/fast-json-patch/src/helpers.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/hash.cjs":
/*!**********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/hash.cjs ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_hash = __webpack_require__(/*! ./js-sha256/hash.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/js-sha256/hash.cjs\");\n\n//#region src/utils/hash.ts\nvar hash_exports = {};\nrequire_rolldown_runtime.__export(hash_exports, { sha256: () => require_hash.sha256 });\n\n//#endregion\nObject.defineProperty(exports, \"hash_exports\", ({\n  enumerable: true,\n  get: function () {\n    return hash_exports;\n  }\n}));\nexports.sha256 = require_hash.sha256;\n//# sourceMappingURL=hash.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9oYXNoLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQyw0SEFBa0M7QUFDM0UscUJBQXFCLG1CQUFPLENBQUMsMkdBQXNCOztBQUVuRDtBQUNBO0FBQ0Esa0RBQWtELG1DQUFtQzs7QUFFckY7QUFDQSxnREFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixjQUFjO0FBQ2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL2hhc2guY2pzP2E1ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfaGFzaCA9IHJlcXVpcmUoJy4vanMtc2hhMjU2L2hhc2guY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvaGFzaC50c1xudmFyIGhhc2hfZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KGhhc2hfZXhwb3J0cywgeyBzaGEyNTY6ICgpID0+IHJlcXVpcmVfaGFzaC5zaGEyNTYgfSk7XG5cbi8vI2VuZHJlZ2lvblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdoYXNoX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoYXNoX2V4cG9ydHM7XG4gIH1cbn0pO1xuZXhwb3J0cy5zaGEyNTYgPSByZXF1aXJlX2hhc2guc2hhMjU2O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/hash.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/is-network-error/index.cjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/is-network-error/index.cjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/is-network-error/index.js\nconst objectToString = Object.prototype.toString;\nconst isError = (value) => objectToString.call(value) === \"[object Error]\";\nconst errorMessages = new Set([\n\t\"network error\",\n\t\"Failed to fetch\",\n\t\"NetworkError when attempting to fetch resource.\",\n\t\"The Internet connection appears to be offline.\",\n\t\"Network request failed\",\n\t\"fetch failed\",\n\t\"terminated\",\n\t\" A network error occurred.\",\n\t\"Network connection lost\"\n]);\nfunction isNetworkError(error) {\n\tconst isValid = error && isError(error) && error.name === \"TypeError\" && typeof error.message === \"string\";\n\tif (!isValid) return false;\n\tconst { message, stack } = error;\n\tif (message === \"Load failed\") return stack === void 0 || \"__sentry_captured__\" in error;\n\tif (message.startsWith(\"error sending request for url\")) return true;\n\treturn errorMessages.has(message);\n}\n\n//#endregion\nexports.isNetworkError = isNetworkError;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUJBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmNqcz81ODBjIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy91dGlscy9pcy1uZXR3b3JrLWVycm9yL2luZGV4LmpzXG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBpc0Vycm9yID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEVycm9yXVwiO1xuY29uc3QgZXJyb3JNZXNzYWdlcyA9IG5ldyBTZXQoW1xuXHRcIm5ldHdvcmsgZXJyb3JcIixcblx0XCJGYWlsZWQgdG8gZmV0Y2hcIixcblx0XCJOZXR3b3JrRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGZldGNoIHJlc291cmNlLlwiLFxuXHRcIlRoZSBJbnRlcm5ldCBjb25uZWN0aW9uIGFwcGVhcnMgdG8gYmUgb2ZmbGluZS5cIixcblx0XCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCIsXG5cdFwiZmV0Y2ggZmFpbGVkXCIsXG5cdFwidGVybWluYXRlZFwiLFxuXHRcIiBBIG5ldHdvcmsgZXJyb3Igb2NjdXJyZWQuXCIsXG5cdFwiTmV0d29yayBjb25uZWN0aW9uIGxvc3RcIlxuXSk7XG5mdW5jdGlvbiBpc05ldHdvcmtFcnJvcihlcnJvcikge1xuXHRjb25zdCBpc1ZhbGlkID0gZXJyb3IgJiYgaXNFcnJvcihlcnJvcikgJiYgZXJyb3IubmFtZSA9PT0gXCJUeXBlRXJyb3JcIiAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIjtcblx0aWYgKCFpc1ZhbGlkKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IHsgbWVzc2FnZSwgc3RhY2sgfSA9IGVycm9yO1xuXHRpZiAobWVzc2FnZSA9PT0gXCJMb2FkIGZhaWxlZFwiKSByZXR1cm4gc3RhY2sgPT09IHZvaWQgMCB8fCBcIl9fc2VudHJ5X2NhcHR1cmVkX19cIiBpbiBlcnJvcjtcblx0aWYgKG1lc3NhZ2Uuc3RhcnRzV2l0aChcImVycm9yIHNlbmRpbmcgcmVxdWVzdCBmb3IgdXJsXCIpKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGVycm9yTWVzc2FnZXMuaGFzKG1lc3NhZ2UpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMuaXNOZXR3b3JrRXJyb3IgPSBpc05ldHdvcmtFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/is-network-error/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/js-sha256/hash.cjs":
/*!********************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/js-sha256/hash.cjs ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\n\n\n//#region src/utils/js-sha256/hash.ts\nvar HEX_CHARS = \"0123456789abcdef\".split(\"\");\nvar EXTRA = [\n\t-2147483648,\n\t8388608,\n\t32768,\n\t128\n];\nvar SHIFT = [\n\t24,\n\t16,\n\t8,\n\t0\n];\nvar K = [\n\t1116352408,\n\t1899447441,\n\t3049323471,\n\t3921009573,\n\t961987163,\n\t1508970993,\n\t2453635748,\n\t2870763221,\n\t3624381080,\n\t310598401,\n\t607225278,\n\t1426881987,\n\t1925078388,\n\t2162078206,\n\t2614888103,\n\t3248222580,\n\t3835390401,\n\t4022224774,\n\t264347078,\n\t604807628,\n\t770255983,\n\t1249150122,\n\t1555081692,\n\t1996064986,\n\t2554220882,\n\t2821834349,\n\t2952996808,\n\t3210313671,\n\t3336571891,\n\t3584528711,\n\t113926993,\n\t338241895,\n\t666307205,\n\t773529912,\n\t1294757372,\n\t1396182291,\n\t1695183700,\n\t1986661051,\n\t2177026350,\n\t2456956037,\n\t2730485921,\n\t2820302411,\n\t3259730800,\n\t3345764771,\n\t3516065817,\n\t3600352804,\n\t4094571909,\n\t275423344,\n\t430227734,\n\t506948616,\n\t659060556,\n\t883997877,\n\t958139571,\n\t1322822218,\n\t1537002063,\n\t1747873779,\n\t1955562222,\n\t2024104815,\n\t2227730452,\n\t2361852424,\n\t2428436474,\n\t2756734187,\n\t3204031479,\n\t3329325298\n];\nvar blocks = [];\nfunction Sha256(is224, sharedMemory) {\n\tif (sharedMemory) {\n\t\tblocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n\t\tthis.blocks = blocks;\n\t} else this.blocks = [\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0,\n\t\t0\n\t];\n\tif (is224) {\n\t\tthis.h0 = 3238371032;\n\t\tthis.h1 = 914150663;\n\t\tthis.h2 = 812702999;\n\t\tthis.h3 = 4144912697;\n\t\tthis.h4 = 4290775857;\n\t\tthis.h5 = 1750603025;\n\t\tthis.h6 = 1694076839;\n\t\tthis.h7 = 3204075428;\n\t} else {\n\t\tthis.h0 = 1779033703;\n\t\tthis.h1 = 3144134277;\n\t\tthis.h2 = 1013904242;\n\t\tthis.h3 = 2773480762;\n\t\tthis.h4 = 1359893119;\n\t\tthis.h5 = 2600822924;\n\t\tthis.h6 = 528734635;\n\t\tthis.h7 = 1541459225;\n\t}\n\tthis.block = this.start = this.bytes = this.hBytes = 0;\n\tthis.finalized = this.hashed = false;\n\tthis.first = true;\n\tthis.is224 = is224;\n}\nSha256.prototype.update = function(message) {\n\tif (this.finalized) return;\n\tvar notString, type = typeof message;\n\tif (type !== \"string\") {\n\t\tif (type === \"object\") {\n\t\t\tif (message === null) throw new Error(ERROR);\n\t\t\telse if (ARRAY_BUFFER && message.constructor === ArrayBuffer) message = new Uint8Array(message);\n\t\t\telse if (!Array.isArray(message)) {\n\t\t\t\tif (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) throw new Error(ERROR);\n\t\t\t}\n\t\t} else throw new Error(ERROR);\n\t\tnotString = true;\n\t}\n\tvar code, index = 0, i, length = message.length, blocks$1 = this.blocks;\n\twhile (index < length) {\n\t\tif (this.hashed) {\n\t\t\tthis.hashed = false;\n\t\t\tblocks$1[0] = this.block;\n\t\t\tthis.block = blocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t\t}\n\t\tif (notString) for (i = this.start; index < length && i < 64; ++index) blocks$1[i >>> 2] |= message[index] << SHIFT[i++ & 3];\n\t\telse for (i = this.start; index < length && i < 64; ++index) {\n\t\t\tcode = message.charCodeAt(index);\n\t\t\tif (code < 128) blocks$1[i >>> 2] |= code << SHIFT[i++ & 3];\n\t\t\telse if (code < 2048) {\n\t\t\t\tblocks$1[i >>> 2] |= (192 | code >>> 6) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else if (code < 55296 || code >= 57344) {\n\t\t\t\tblocks$1[i >>> 2] |= (224 | code >>> 12) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t} else {\n\t\t\t\tcode = 65536 + ((code & 1023) << 10 | message.charCodeAt(++index) & 1023);\n\t\t\t\tblocks$1[i >>> 2] |= (240 | code >>> 18) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 12 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code >>> 6 & 63) << SHIFT[i++ & 3];\n\t\t\t\tblocks$1[i >>> 2] |= (128 | code & 63) << SHIFT[i++ & 3];\n\t\t\t}\n\t\t}\n\t\tthis.lastByteIndex = i;\n\t\tthis.bytes += i - this.start;\n\t\tif (i >= 64) {\n\t\t\tthis.block = blocks$1[16];\n\t\t\tthis.start = i - 64;\n\t\t\tthis.hash();\n\t\t\tthis.hashed = true;\n\t\t} else this.start = i;\n\t}\n\tif (this.bytes > 4294967295) {\n\t\tthis.hBytes += this.bytes / 4294967296 << 0;\n\t\tthis.bytes = this.bytes % 4294967296;\n\t}\n\treturn this;\n};\nSha256.prototype.finalize = function() {\n\tif (this.finalized) return;\n\tthis.finalized = true;\n\tvar blocks$1 = this.blocks, i = this.lastByteIndex;\n\tblocks$1[16] = this.block;\n\tblocks$1[i >>> 2] |= EXTRA[i & 3];\n\tthis.block = blocks$1[16];\n\tif (i >= 56) {\n\t\tif (!this.hashed) this.hash();\n\t\tblocks$1[0] = this.block;\n\t\tblocks$1[16] = blocks$1[1] = blocks$1[2] = blocks$1[3] = blocks$1[4] = blocks$1[5] = blocks$1[6] = blocks$1[7] = blocks$1[8] = blocks$1[9] = blocks$1[10] = blocks$1[11] = blocks$1[12] = blocks$1[13] = blocks$1[14] = blocks$1[15] = 0;\n\t}\n\tblocks$1[14] = this.hBytes << 3 | this.bytes >>> 29;\n\tblocks$1[15] = this.bytes << 3;\n\tthis.hash();\n};\nSha256.prototype.hash = function() {\n\tvar a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6, h = this.h7, blocks$1 = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\tfor (j = 16; j < 64; ++j) {\n\t\tt1 = blocks$1[j - 15];\n\t\ts0 = (t1 >>> 7 | t1 << 25) ^ (t1 >>> 18 | t1 << 14) ^ t1 >>> 3;\n\t\tt1 = blocks$1[j - 2];\n\t\ts1 = (t1 >>> 17 | t1 << 15) ^ (t1 >>> 19 | t1 << 13) ^ t1 >>> 10;\n\t\tblocks$1[j] = blocks$1[j - 16] + s0 + blocks$1[j - 7] + s1 << 0;\n\t}\n\tbc = b & c;\n\tfor (j = 0; j < 64; j += 4) {\n\t\tif (this.first) {\n\t\t\tif (this.is224) {\n\t\t\t\tab = 300032;\n\t\t\t\tt1 = blocks$1[0] - 1413257819;\n\t\t\t\th = t1 - 150054599 << 0;\n\t\t\t\td = t1 + 24177077 << 0;\n\t\t\t} else {\n\t\t\t\tab = 704751109;\n\t\t\t\tt1 = blocks$1[0] - 210244248;\n\t\t\t\th = t1 - 1521486534 << 0;\n\t\t\t\td = t1 + 143694565 << 0;\n\t\t\t}\n\t\t\tthis.first = false;\n\t\t} else {\n\t\t\ts0 = (a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10);\n\t\t\ts1 = (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);\n\t\t\tab = a & b;\n\t\t\tmaj = ab ^ a & c ^ bc;\n\t\t\tch = e & f ^ ~e & g;\n\t\t\tt1 = h + s1 + ch + K[j] + blocks$1[j];\n\t\t\tt2 = s0 + maj;\n\t\t\th = d + t1 << 0;\n\t\t\td = t1 + t2 << 0;\n\t\t}\n\t\ts0 = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10);\n\t\ts1 = (h >>> 6 | h << 26) ^ (h >>> 11 | h << 21) ^ (h >>> 25 | h << 7);\n\t\tda = d & a;\n\t\tmaj = da ^ d & b ^ ab;\n\t\tch = g & h ^ ~g & e;\n\t\tt1 = f + s1 + ch + K[j + 1] + blocks$1[j + 1];\n\t\tt2 = s0 + maj;\n\t\tg = c + t1 << 0;\n\t\tc = t1 + t2 << 0;\n\t\ts0 = (c >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10);\n\t\ts1 = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7);\n\t\tcd = c & d;\n\t\tmaj = cd ^ c & a ^ da;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 2] + blocks$1[j + 2];\n\t\tt2 = s0 + maj;\n\t\tf = b + t1 << 0;\n\t\tb = t1 + t2 << 0;\n\t\ts0 = (b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10);\n\t\ts1 = (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);\n\t\tbc = b & c;\n\t\tmaj = bc ^ b & d ^ cd;\n\t\tch = f & g ^ ~f & h;\n\t\tt1 = e + s1 + ch + K[j + 3] + blocks$1[j + 3];\n\t\tt2 = s0 + maj;\n\t\te = a + t1 << 0;\n\t\ta = t1 + t2 << 0;\n\t\tthis.chromeBugWorkAround = true;\n\t}\n\tthis.h0 = this.h0 + a << 0;\n\tthis.h1 = this.h1 + b << 0;\n\tthis.h2 = this.h2 + c << 0;\n\tthis.h3 = this.h3 + d << 0;\n\tthis.h4 = this.h4 + e << 0;\n\tthis.h5 = this.h5 + f << 0;\n\tthis.h6 = this.h6 + g << 0;\n\tthis.h7 = this.h7 + h << 0;\n};\nSha256.prototype.hex = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar hex = HEX_CHARS[h0 >>> 28 & 15] + HEX_CHARS[h0 >>> 24 & 15] + HEX_CHARS[h0 >>> 20 & 15] + HEX_CHARS[h0 >>> 16 & 15] + HEX_CHARS[h0 >>> 12 & 15] + HEX_CHARS[h0 >>> 8 & 15] + HEX_CHARS[h0 >>> 4 & 15] + HEX_CHARS[h0 & 15] + HEX_CHARS[h1 >>> 28 & 15] + HEX_CHARS[h1 >>> 24 & 15] + HEX_CHARS[h1 >>> 20 & 15] + HEX_CHARS[h1 >>> 16 & 15] + HEX_CHARS[h1 >>> 12 & 15] + HEX_CHARS[h1 >>> 8 & 15] + HEX_CHARS[h1 >>> 4 & 15] + HEX_CHARS[h1 & 15] + HEX_CHARS[h2 >>> 28 & 15] + HEX_CHARS[h2 >>> 24 & 15] + HEX_CHARS[h2 >>> 20 & 15] + HEX_CHARS[h2 >>> 16 & 15] + HEX_CHARS[h2 >>> 12 & 15] + HEX_CHARS[h2 >>> 8 & 15] + HEX_CHARS[h2 >>> 4 & 15] + HEX_CHARS[h2 & 15] + HEX_CHARS[h3 >>> 28 & 15] + HEX_CHARS[h3 >>> 24 & 15] + HEX_CHARS[h3 >>> 20 & 15] + HEX_CHARS[h3 >>> 16 & 15] + HEX_CHARS[h3 >>> 12 & 15] + HEX_CHARS[h3 >>> 8 & 15] + HEX_CHARS[h3 >>> 4 & 15] + HEX_CHARS[h3 & 15] + HEX_CHARS[h4 >>> 28 & 15] + HEX_CHARS[h4 >>> 24 & 15] + HEX_CHARS[h4 >>> 20 & 15] + HEX_CHARS[h4 >>> 16 & 15] + HEX_CHARS[h4 >>> 12 & 15] + HEX_CHARS[h4 >>> 8 & 15] + HEX_CHARS[h4 >>> 4 & 15] + HEX_CHARS[h4 & 15] + HEX_CHARS[h5 >>> 28 & 15] + HEX_CHARS[h5 >>> 24 & 15] + HEX_CHARS[h5 >>> 20 & 15] + HEX_CHARS[h5 >>> 16 & 15] + HEX_CHARS[h5 >>> 12 & 15] + HEX_CHARS[h5 >>> 8 & 15] + HEX_CHARS[h5 >>> 4 & 15] + HEX_CHARS[h5 & 15] + HEX_CHARS[h6 >>> 28 & 15] + HEX_CHARS[h6 >>> 24 & 15] + HEX_CHARS[h6 >>> 20 & 15] + HEX_CHARS[h6 >>> 16 & 15] + HEX_CHARS[h6 >>> 12 & 15] + HEX_CHARS[h6 >>> 8 & 15] + HEX_CHARS[h6 >>> 4 & 15] + HEX_CHARS[h6 & 15];\n\tif (!this.is224) hex += HEX_CHARS[h7 >>> 28 & 15] + HEX_CHARS[h7 >>> 24 & 15] + HEX_CHARS[h7 >>> 20 & 15] + HEX_CHARS[h7 >>> 16 & 15] + HEX_CHARS[h7 >>> 12 & 15] + HEX_CHARS[h7 >>> 8 & 15] + HEX_CHARS[h7 >>> 4 & 15] + HEX_CHARS[h7 & 15];\n\treturn hex;\n};\nSha256.prototype.toString = Sha256.prototype.hex;\nSha256.prototype.digest = function() {\n\tthis.finalize();\n\tvar h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5, h6 = this.h6, h7 = this.h7;\n\tvar arr = [\n\t\th0 >>> 24 & 255,\n\t\th0 >>> 16 & 255,\n\t\th0 >>> 8 & 255,\n\t\th0 & 255,\n\t\th1 >>> 24 & 255,\n\t\th1 >>> 16 & 255,\n\t\th1 >>> 8 & 255,\n\t\th1 & 255,\n\t\th2 >>> 24 & 255,\n\t\th2 >>> 16 & 255,\n\t\th2 >>> 8 & 255,\n\t\th2 & 255,\n\t\th3 >>> 24 & 255,\n\t\th3 >>> 16 & 255,\n\t\th3 >>> 8 & 255,\n\t\th3 & 255,\n\t\th4 >>> 24 & 255,\n\t\th4 >>> 16 & 255,\n\t\th4 >>> 8 & 255,\n\t\th4 & 255,\n\t\th5 >>> 24 & 255,\n\t\th5 >>> 16 & 255,\n\t\th5 >>> 8 & 255,\n\t\th5 & 255,\n\t\th6 >>> 24 & 255,\n\t\th6 >>> 16 & 255,\n\t\th6 >>> 8 & 255,\n\t\th6 & 255\n\t];\n\tif (!this.is224) arr.push(h7 >>> 24 & 255, h7 >>> 16 & 255, h7 >>> 8 & 255, h7 & 255);\n\treturn arr;\n};\nSha256.prototype.array = Sha256.prototype.digest;\nSha256.prototype.arrayBuffer = function() {\n\tthis.finalize();\n\tvar buffer = /* @__PURE__ */ new ArrayBuffer(this.is224 ? 28 : 32);\n\tvar dataView = new DataView(buffer);\n\tdataView.setUint32(0, this.h0);\n\tdataView.setUint32(4, this.h1);\n\tdataView.setUint32(8, this.h2);\n\tdataView.setUint32(12, this.h3);\n\tdataView.setUint32(16, this.h4);\n\tdataView.setUint32(20, this.h5);\n\tdataView.setUint32(24, this.h6);\n\tif (!this.is224) dataView.setUint32(28, this.h7);\n\treturn buffer;\n};\nconst sha256 = (...strings) => {\n\treturn new Sha256(false, true).update(strings.join(\"\")).hex();\n};\n\n//#endregion\nexports.sha256 = sha256;\n//# sourceMappingURL=hash.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qcy1zaGEyNTYvaGFzaC5janMiLCJtYXBwaW5ncyI6IkFBQWE7Ozs7QUFJYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywwQkFBMEI7QUFDaEUsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvanMtc2hhMjU2L2hhc2guY2pzPzJkM2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cblxuXG4vLyNyZWdpb24gc3JjL3V0aWxzL2pzLXNoYTI1Ni9oYXNoLnRzXG52YXIgSEVYX0NIQVJTID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCIuc3BsaXQoXCJcIik7XG52YXIgRVhUUkEgPSBbXG5cdC0yMTQ3NDgzNjQ4LFxuXHQ4Mzg4NjA4LFxuXHQzMjc2OCxcblx0MTI4XG5dO1xudmFyIFNISUZUID0gW1xuXHQyNCxcblx0MTYsXG5cdDgsXG5cdDBcbl07XG52YXIgSyA9IFtcblx0MTExNjM1MjQwOCxcblx0MTg5OTQ0NzQ0MSxcblx0MzA0OTMyMzQ3MSxcblx0MzkyMTAwOTU3Myxcblx0OTYxOTg3MTYzLFxuXHQxNTA4OTcwOTkzLFxuXHQyNDUzNjM1NzQ4LFxuXHQyODcwNzYzMjIxLFxuXHQzNjI0MzgxMDgwLFxuXHQzMTA1OTg0MDEsXG5cdDYwNzIyNTI3OCxcblx0MTQyNjg4MTk4Nyxcblx0MTkyNTA3ODM4OCxcblx0MjE2MjA3ODIwNixcblx0MjYxNDg4ODEwMyxcblx0MzI0ODIyMjU4MCxcblx0MzgzNTM5MDQwMSxcblx0NDAyMjIyNDc3NCxcblx0MjY0MzQ3MDc4LFxuXHQ2MDQ4MDc2MjgsXG5cdDc3MDI1NTk4Myxcblx0MTI0OTE1MDEyMixcblx0MTU1NTA4MTY5Mixcblx0MTk5NjA2NDk4Nixcblx0MjU1NDIyMDg4Mixcblx0MjgyMTgzNDM0OSxcblx0Mjk1Mjk5NjgwOCxcblx0MzIxMDMxMzY3MSxcblx0MzMzNjU3MTg5MSxcblx0MzU4NDUyODcxMSxcblx0MTEzOTI2OTkzLFxuXHQzMzgyNDE4OTUsXG5cdDY2NjMwNzIwNSxcblx0NzczNTI5OTEyLFxuXHQxMjk0NzU3MzcyLFxuXHQxMzk2MTgyMjkxLFxuXHQxNjk1MTgzNzAwLFxuXHQxOTg2NjYxMDUxLFxuXHQyMTc3MDI2MzUwLFxuXHQyNDU2OTU2MDM3LFxuXHQyNzMwNDg1OTIxLFxuXHQyODIwMzAyNDExLFxuXHQzMjU5NzMwODAwLFxuXHQzMzQ1NzY0NzcxLFxuXHQzNTE2MDY1ODE3LFxuXHQzNjAwMzUyODA0LFxuXHQ0MDk0NTcxOTA5LFxuXHQyNzU0MjMzNDQsXG5cdDQzMDIyNzczNCxcblx0NTA2OTQ4NjE2LFxuXHQ2NTkwNjA1NTYsXG5cdDg4Mzk5Nzg3Nyxcblx0OTU4MTM5NTcxLFxuXHQxMzIyODIyMjE4LFxuXHQxNTM3MDAyMDYzLFxuXHQxNzQ3ODczNzc5LFxuXHQxOTU1NTYyMjIyLFxuXHQyMDI0MTA0ODE1LFxuXHQyMjI3NzMwNDUyLFxuXHQyMzYxODUyNDI0LFxuXHQyNDI4NDM2NDc0LFxuXHQyNzU2NzM0MTg3LFxuXHQzMjA0MDMxNDc5LFxuXHQzMzI5MzI1Mjk4XG5dO1xudmFyIGJsb2NrcyA9IFtdO1xuZnVuY3Rpb24gU2hhMjU2KGlzMjI0LCBzaGFyZWRNZW1vcnkpIHtcblx0aWYgKHNoYXJlZE1lbW9yeSkge1xuXHRcdGJsb2Nrc1swXSA9IGJsb2Nrc1sxNl0gPSBibG9ja3NbMV0gPSBibG9ja3NbMl0gPSBibG9ja3NbM10gPSBibG9ja3NbNF0gPSBibG9ja3NbNV0gPSBibG9ja3NbNl0gPSBibG9ja3NbN10gPSBibG9ja3NbOF0gPSBibG9ja3NbOV0gPSBibG9ja3NbMTBdID0gYmxvY2tzWzExXSA9IGJsb2Nrc1sxMl0gPSBibG9ja3NbMTNdID0gYmxvY2tzWzE0XSA9IGJsb2Nrc1sxNV0gPSAwO1xuXHRcdHRoaXMuYmxvY2tzID0gYmxvY2tzO1xuXHR9IGVsc2UgdGhpcy5ibG9ja3MgPSBbXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwLFxuXHRcdDAsXG5cdFx0MCxcblx0XHQwXG5cdF07XG5cdGlmIChpczIyNCkge1xuXHRcdHRoaXMuaDAgPSAzMjM4MzcxMDMyO1xuXHRcdHRoaXMuaDEgPSA5MTQxNTA2NjM7XG5cdFx0dGhpcy5oMiA9IDgxMjcwMjk5OTtcblx0XHR0aGlzLmgzID0gNDE0NDkxMjY5Nztcblx0XHR0aGlzLmg0ID0gNDI5MDc3NTg1Nztcblx0XHR0aGlzLmg1ID0gMTc1MDYwMzAyNTtcblx0XHR0aGlzLmg2ID0gMTY5NDA3NjgzOTtcblx0XHR0aGlzLmg3ID0gMzIwNDA3NTQyODtcblx0fSBlbHNlIHtcblx0XHR0aGlzLmgwID0gMTc3OTAzMzcwMztcblx0XHR0aGlzLmgxID0gMzE0NDEzNDI3Nztcblx0XHR0aGlzLmgyID0gMTAxMzkwNDI0Mjtcblx0XHR0aGlzLmgzID0gMjc3MzQ4MDc2Mjtcblx0XHR0aGlzLmg0ID0gMTM1OTg5MzExOTtcblx0XHR0aGlzLmg1ID0gMjYwMDgyMjkyNDtcblx0XHR0aGlzLmg2ID0gNTI4NzM0NjM1O1xuXHRcdHRoaXMuaDcgPSAxNTQxNDU5MjI1O1xuXHR9XG5cdHRoaXMuYmxvY2sgPSB0aGlzLnN0YXJ0ID0gdGhpcy5ieXRlcyA9IHRoaXMuaEJ5dGVzID0gMDtcblx0dGhpcy5maW5hbGl6ZWQgPSB0aGlzLmhhc2hlZCA9IGZhbHNlO1xuXHR0aGlzLmZpcnN0ID0gdHJ1ZTtcblx0dGhpcy5pczIyNCA9IGlzMjI0O1xufVxuU2hhMjU2LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdGlmICh0aGlzLmZpbmFsaXplZCkgcmV0dXJuO1xuXHR2YXIgbm90U3RyaW5nLCB0eXBlID0gdHlwZW9mIG1lc3NhZ2U7XG5cdGlmICh0eXBlICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0aWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdGlmIChtZXNzYWdlID09PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuXHRcdFx0ZWxzZSBpZiAoQVJSQVlfQlVGRkVSICYmIG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSBtZXNzYWdlID0gbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSk7XG5cdFx0XHRlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSkge1xuXHRcdFx0XHRpZiAoIUFSUkFZX0JVRkZFUiB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KG1lc3NhZ2UpKSB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuXHRcdG5vdFN0cmluZyA9IHRydWU7XG5cdH1cblx0dmFyIGNvZGUsIGluZGV4ID0gMCwgaSwgbGVuZ3RoID0gbWVzc2FnZS5sZW5ndGgsIGJsb2NrcyQxID0gdGhpcy5ibG9ja3M7XG5cdHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuXHRcdGlmICh0aGlzLmhhc2hlZCkge1xuXHRcdFx0dGhpcy5oYXNoZWQgPSBmYWxzZTtcblx0XHRcdGJsb2NrcyQxWzBdID0gdGhpcy5ibG9jaztcblx0XHRcdHRoaXMuYmxvY2sgPSBibG9ja3MkMVsxNl0gPSBibG9ja3MkMVsxXSA9IGJsb2NrcyQxWzJdID0gYmxvY2tzJDFbM10gPSBibG9ja3MkMVs0XSA9IGJsb2NrcyQxWzVdID0gYmxvY2tzJDFbNl0gPSBibG9ja3MkMVs3XSA9IGJsb2NrcyQxWzhdID0gYmxvY2tzJDFbOV0gPSBibG9ja3MkMVsxMF0gPSBibG9ja3MkMVsxMV0gPSBibG9ja3MkMVsxMl0gPSBibG9ja3MkMVsxM10gPSBibG9ja3MkMVsxNF0gPSBibG9ja3MkMVsxNV0gPSAwO1xuXHRcdH1cblx0XHRpZiAobm90U3RyaW5nKSBmb3IgKGkgPSB0aGlzLnN0YXJ0OyBpbmRleCA8IGxlbmd0aCAmJiBpIDwgNjQ7ICsraW5kZXgpIGJsb2NrcyQxW2kgPj4+IDJdIHw9IG1lc3NhZ2VbaW5kZXhdIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdGVsc2UgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSB7XG5cdFx0XHRjb2RlID0gbWVzc2FnZS5jaGFyQ29kZUF0KGluZGV4KTtcblx0XHRcdGlmIChjb2RlIDwgMTI4KSBibG9ja3MkMVtpID4+PiAyXSB8PSBjb2RlIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0ZWxzZSBpZiAoY29kZSA8IDIwNDgpIHtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDE5MiB8IGNvZGUgPj4+IDYpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdH0gZWxzZSBpZiAoY29kZSA8IDU1Mjk2IHx8IGNvZGUgPj0gNTczNDQpIHtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDIyNCB8IGNvZGUgPj4+IDEyKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgPj4+IDYgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHRcdGJsb2NrcyQxW2kgPj4+IDJdIHw9ICgxMjggfCBjb2RlICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29kZSA9IDY1NTM2ICsgKChjb2RlICYgMTAyMykgPDwgMTAgfCBtZXNzYWdlLmNoYXJDb2RlQXQoKytpbmRleCkgJiAxMDIzKTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDI0MCB8IGNvZGUgPj4+IDE4KSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgPj4+IDEyICYgNjMpIDw8IFNISUZUW2krKyAmIDNdO1xuXHRcdFx0XHRibG9ja3MkMVtpID4+PiAyXSB8PSAoMTI4IHwgY29kZSA+Pj4gNiAmIDYzKSA8PCBTSElGVFtpKysgJiAzXTtcblx0XHRcdFx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gKDEyOCB8IGNvZGUgJiA2MykgPDwgU0hJRlRbaSsrICYgM107XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7XG5cdFx0dGhpcy5ieXRlcyArPSBpIC0gdGhpcy5zdGFydDtcblx0XHRpZiAoaSA+PSA2NCkge1xuXHRcdFx0dGhpcy5ibG9jayA9IGJsb2NrcyQxWzE2XTtcblx0XHRcdHRoaXMuc3RhcnQgPSBpIC0gNjQ7XG5cdFx0XHR0aGlzLmhhc2goKTtcblx0XHRcdHRoaXMuaGFzaGVkID0gdHJ1ZTtcblx0XHR9IGVsc2UgdGhpcy5zdGFydCA9IGk7XG5cdH1cblx0aWYgKHRoaXMuYnl0ZXMgPiA0Mjk0OTY3Mjk1KSB7XG5cdFx0dGhpcy5oQnl0ZXMgKz0gdGhpcy5ieXRlcyAvIDQyOTQ5NjcyOTYgPDwgMDtcblx0XHR0aGlzLmJ5dGVzID0gdGhpcy5ieXRlcyAlIDQyOTQ5NjcyOTY7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59O1xuU2hhMjU2LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5maW5hbGl6ZWQpIHJldHVybjtcblx0dGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuXHR2YXIgYmxvY2tzJDEgPSB0aGlzLmJsb2NrcywgaSA9IHRoaXMubGFzdEJ5dGVJbmRleDtcblx0YmxvY2tzJDFbMTZdID0gdGhpcy5ibG9jaztcblx0YmxvY2tzJDFbaSA+Pj4gMl0gfD0gRVhUUkFbaSAmIDNdO1xuXHR0aGlzLmJsb2NrID0gYmxvY2tzJDFbMTZdO1xuXHRpZiAoaSA+PSA1Nikge1xuXHRcdGlmICghdGhpcy5oYXNoZWQpIHRoaXMuaGFzaCgpO1xuXHRcdGJsb2NrcyQxWzBdID0gdGhpcy5ibG9jaztcblx0XHRibG9ja3MkMVsxNl0gPSBibG9ja3MkMVsxXSA9IGJsb2NrcyQxWzJdID0gYmxvY2tzJDFbM10gPSBibG9ja3MkMVs0XSA9IGJsb2NrcyQxWzVdID0gYmxvY2tzJDFbNl0gPSBibG9ja3MkMVs3XSA9IGJsb2NrcyQxWzhdID0gYmxvY2tzJDFbOV0gPSBibG9ja3MkMVsxMF0gPSBibG9ja3MkMVsxMV0gPSBibG9ja3MkMVsxMl0gPSBibG9ja3MkMVsxM10gPSBibG9ja3MkMVsxNF0gPSBibG9ja3MkMVsxNV0gPSAwO1xuXHR9XG5cdGJsb2NrcyQxWzE0XSA9IHRoaXMuaEJ5dGVzIDw8IDMgfCB0aGlzLmJ5dGVzID4+PiAyOTtcblx0YmxvY2tzJDFbMTVdID0gdGhpcy5ieXRlcyA8PCAzO1xuXHR0aGlzLmhhc2goKTtcbn07XG5TaGEyNTYucHJvdG90eXBlLmhhc2ggPSBmdW5jdGlvbigpIHtcblx0dmFyIGEgPSB0aGlzLmgwLCBiID0gdGhpcy5oMSwgYyA9IHRoaXMuaDIsIGQgPSB0aGlzLmgzLCBlID0gdGhpcy5oNCwgZiA9IHRoaXMuaDUsIGcgPSB0aGlzLmg2LCBoID0gdGhpcy5oNywgYmxvY2tzJDEgPSB0aGlzLmJsb2NrcywgaiwgczAsIHMxLCBtYWosIHQxLCB0MiwgY2gsIGFiLCBkYSwgY2QsIGJjO1xuXHRmb3IgKGogPSAxNjsgaiA8IDY0OyArK2opIHtcblx0XHR0MSA9IGJsb2NrcyQxW2ogLSAxNV07XG5cdFx0czAgPSAodDEgPj4+IDcgfCB0MSA8PCAyNSkgXiAodDEgPj4+IDE4IHwgdDEgPDwgMTQpIF4gdDEgPj4+IDM7XG5cdFx0dDEgPSBibG9ja3MkMVtqIC0gMl07XG5cdFx0czEgPSAodDEgPj4+IDE3IHwgdDEgPDwgMTUpIF4gKHQxID4+PiAxOSB8IHQxIDw8IDEzKSBeIHQxID4+PiAxMDtcblx0XHRibG9ja3MkMVtqXSA9IGJsb2NrcyQxW2ogLSAxNl0gKyBzMCArIGJsb2NrcyQxW2ogLSA3XSArIHMxIDw8IDA7XG5cdH1cblx0YmMgPSBiICYgYztcblx0Zm9yIChqID0gMDsgaiA8IDY0OyBqICs9IDQpIHtcblx0XHRpZiAodGhpcy5maXJzdCkge1xuXHRcdFx0aWYgKHRoaXMuaXMyMjQpIHtcblx0XHRcdFx0YWIgPSAzMDAwMzI7XG5cdFx0XHRcdHQxID0gYmxvY2tzJDFbMF0gLSAxNDEzMjU3ODE5O1xuXHRcdFx0XHRoID0gdDEgLSAxNTAwNTQ1OTkgPDwgMDtcblx0XHRcdFx0ZCA9IHQxICsgMjQxNzcwNzcgPDwgMDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFiID0gNzA0NzUxMTA5O1xuXHRcdFx0XHR0MSA9IGJsb2NrcyQxWzBdIC0gMjEwMjQ0MjQ4O1xuXHRcdFx0XHRoID0gdDEgLSAxNTIxNDg2NTM0IDw8IDA7XG5cdFx0XHRcdGQgPSB0MSArIDE0MzY5NDU2NSA8PCAwO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5maXJzdCA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzMCA9IChhID4+PiAyIHwgYSA8PCAzMCkgXiAoYSA+Pj4gMTMgfCBhIDw8IDE5KSBeIChhID4+PiAyMiB8IGEgPDwgMTApO1xuXHRcdFx0czEgPSAoZSA+Pj4gNiB8IGUgPDwgMjYpIF4gKGUgPj4+IDExIHwgZSA8PCAyMSkgXiAoZSA+Pj4gMjUgfCBlIDw8IDcpO1xuXHRcdFx0YWIgPSBhICYgYjtcblx0XHRcdG1haiA9IGFiIF4gYSAmIGMgXiBiYztcblx0XHRcdGNoID0gZSAmIGYgXiB+ZSAmIGc7XG5cdFx0XHR0MSA9IGggKyBzMSArIGNoICsgS1tqXSArIGJsb2NrcyQxW2pdO1xuXHRcdFx0dDIgPSBzMCArIG1hajtcblx0XHRcdGggPSBkICsgdDEgPDwgMDtcblx0XHRcdGQgPSB0MSArIHQyIDw8IDA7XG5cdFx0fVxuXHRcdHMwID0gKGQgPj4+IDIgfCBkIDw8IDMwKSBeIChkID4+PiAxMyB8IGQgPDwgMTkpIF4gKGQgPj4+IDIyIHwgZCA8PCAxMCk7XG5cdFx0czEgPSAoaCA+Pj4gNiB8IGggPDwgMjYpIF4gKGggPj4+IDExIHwgaCA8PCAyMSkgXiAoaCA+Pj4gMjUgfCBoIDw8IDcpO1xuXHRcdGRhID0gZCAmIGE7XG5cdFx0bWFqID0gZGEgXiBkICYgYiBeIGFiO1xuXHRcdGNoID0gZyAmIGggXiB+ZyAmIGU7XG5cdFx0dDEgPSBmICsgczEgKyBjaCArIEtbaiArIDFdICsgYmxvY2tzJDFbaiArIDFdO1xuXHRcdHQyID0gczAgKyBtYWo7XG5cdFx0ZyA9IGMgKyB0MSA8PCAwO1xuXHRcdGMgPSB0MSArIHQyIDw8IDA7XG5cdFx0czAgPSAoYyA+Pj4gMiB8IGMgPDwgMzApIF4gKGMgPj4+IDEzIHwgYyA8PCAxOSkgXiAoYyA+Pj4gMjIgfCBjIDw8IDEwKTtcblx0XHRzMSA9IChnID4+PiA2IHwgZyA8PCAyNikgXiAoZyA+Pj4gMTEgfCBnIDw8IDIxKSBeIChnID4+PiAyNSB8IGcgPDwgNyk7XG5cdFx0Y2QgPSBjICYgZDtcblx0XHRtYWogPSBjZCBeIGMgJiBhIF4gZGE7XG5cdFx0Y2ggPSBmICYgZyBeIH5mICYgaDtcblx0XHR0MSA9IGUgKyBzMSArIGNoICsgS1tqICsgMl0gKyBibG9ja3MkMVtqICsgMl07XG5cdFx0dDIgPSBzMCArIG1hajtcblx0XHRmID0gYiArIHQxIDw8IDA7XG5cdFx0YiA9IHQxICsgdDIgPDwgMDtcblx0XHRzMCA9IChiID4+PiAyIHwgYiA8PCAzMCkgXiAoYiA+Pj4gMTMgfCBiIDw8IDE5KSBeIChiID4+PiAyMiB8IGIgPDwgMTApO1xuXHRcdHMxID0gKGYgPj4+IDYgfCBmIDw8IDI2KSBeIChmID4+PiAxMSB8IGYgPDwgMjEpIF4gKGYgPj4+IDI1IHwgZiA8PCA3KTtcblx0XHRiYyA9IGIgJiBjO1xuXHRcdG1haiA9IGJjIF4gYiAmIGQgXiBjZDtcblx0XHRjaCA9IGYgJiBnIF4gfmYgJiBoO1xuXHRcdHQxID0gZSArIHMxICsgY2ggKyBLW2ogKyAzXSArIGJsb2NrcyQxW2ogKyAzXTtcblx0XHR0MiA9IHMwICsgbWFqO1xuXHRcdGUgPSBhICsgdDEgPDwgMDtcblx0XHRhID0gdDEgKyB0MiA8PCAwO1xuXHRcdHRoaXMuY2hyb21lQnVnV29ya0Fyb3VuZCA9IHRydWU7XG5cdH1cblx0dGhpcy5oMCA9IHRoaXMuaDAgKyBhIDw8IDA7XG5cdHRoaXMuaDEgPSB0aGlzLmgxICsgYiA8PCAwO1xuXHR0aGlzLmgyID0gdGhpcy5oMiArIGMgPDwgMDtcblx0dGhpcy5oMyA9IHRoaXMuaDMgKyBkIDw8IDA7XG5cdHRoaXMuaDQgPSB0aGlzLmg0ICsgZSA8PCAwO1xuXHR0aGlzLmg1ID0gdGhpcy5oNSArIGYgPDwgMDtcblx0dGhpcy5oNiA9IHRoaXMuaDYgKyBnIDw8IDA7XG5cdHRoaXMuaDcgPSB0aGlzLmg3ICsgaCA8PCAwO1xufTtcblNoYTI1Ni5wcm90b3R5cGUuaGV4ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZmluYWxpemUoKTtcblx0dmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMywgaDQgPSB0aGlzLmg0LCBoNSA9IHRoaXMuaDUsIGg2ID0gdGhpcy5oNiwgaDcgPSB0aGlzLmg3O1xuXHR2YXIgaGV4ID0gSEVYX0NIQVJTW2gwID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2gwID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toMCA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDAgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDAgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDEgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2gxID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toMSA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toMSAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toMiA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDIgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2gyID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2gyICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2gzID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toMyA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDMgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDMgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDI4ICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiAyNCAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gMjAgJiAxNV0gKyBIRVhfQ0hBUlNbaDQgPj4+IDE2ICYgMTVdICsgSEVYX0NIQVJTW2g0ID4+PiAxMiAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gOCAmIDE1XSArIEhFWF9DSEFSU1toNCA+Pj4gNCAmIDE1XSArIEhFWF9DSEFSU1toNCAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toNSA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDUgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2g1ID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2g1ICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiAyOCAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gMjQgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDIwICYgMTVdICsgSEVYX0NIQVJTW2g2ID4+PiAxNiAmIDE1XSArIEhFWF9DSEFSU1toNiA+Pj4gMTIgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDggJiAxNV0gKyBIRVhfQ0hBUlNbaDYgPj4+IDQgJiAxNV0gKyBIRVhfQ0hBUlNbaDYgJiAxNV07XG5cdGlmICghdGhpcy5pczIyNCkgaGV4ICs9IEhFWF9DSEFSU1toNyA+Pj4gMjggJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDI0ICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiAyMCAmIDE1XSArIEhFWF9DSEFSU1toNyA+Pj4gMTYgJiAxNV0gKyBIRVhfQ0hBUlNbaDcgPj4+IDEyICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiA4ICYgMTVdICsgSEVYX0NIQVJTW2g3ID4+PiA0ICYgMTVdICsgSEVYX0NIQVJTW2g3ICYgMTVdO1xuXHRyZXR1cm4gaGV4O1xufTtcblNoYTI1Ni5wcm90b3R5cGUudG9TdHJpbmcgPSBTaGEyNTYucHJvdG90eXBlLmhleDtcblNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZmluYWxpemUoKTtcblx0dmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMywgaDQgPSB0aGlzLmg0LCBoNSA9IHRoaXMuaDUsIGg2ID0gdGhpcy5oNiwgaDcgPSB0aGlzLmg3O1xuXHR2YXIgYXJyID0gW1xuXHRcdGgwID4+PiAyNCAmIDI1NSxcblx0XHRoMCA+Pj4gMTYgJiAyNTUsXG5cdFx0aDAgPj4+IDggJiAyNTUsXG5cdFx0aDAgJiAyNTUsXG5cdFx0aDEgPj4+IDI0ICYgMjU1LFxuXHRcdGgxID4+PiAxNiAmIDI1NSxcblx0XHRoMSA+Pj4gOCAmIDI1NSxcblx0XHRoMSAmIDI1NSxcblx0XHRoMiA+Pj4gMjQgJiAyNTUsXG5cdFx0aDIgPj4+IDE2ICYgMjU1LFxuXHRcdGgyID4+PiA4ICYgMjU1LFxuXHRcdGgyICYgMjU1LFxuXHRcdGgzID4+PiAyNCAmIDI1NSxcblx0XHRoMyA+Pj4gMTYgJiAyNTUsXG5cdFx0aDMgPj4+IDggJiAyNTUsXG5cdFx0aDMgJiAyNTUsXG5cdFx0aDQgPj4+IDI0ICYgMjU1LFxuXHRcdGg0ID4+PiAxNiAmIDI1NSxcblx0XHRoNCA+Pj4gOCAmIDI1NSxcblx0XHRoNCAmIDI1NSxcblx0XHRoNSA+Pj4gMjQgJiAyNTUsXG5cdFx0aDUgPj4+IDE2ICYgMjU1LFxuXHRcdGg1ID4+PiA4ICYgMjU1LFxuXHRcdGg1ICYgMjU1LFxuXHRcdGg2ID4+PiAyNCAmIDI1NSxcblx0XHRoNiA+Pj4gMTYgJiAyNTUsXG5cdFx0aDYgPj4+IDggJiAyNTUsXG5cdFx0aDYgJiAyNTVcblx0XTtcblx0aWYgKCF0aGlzLmlzMjI0KSBhcnIucHVzaChoNyA+Pj4gMjQgJiAyNTUsIGg3ID4+PiAxNiAmIDI1NSwgaDcgPj4+IDggJiAyNTUsIGg3ICYgMjU1KTtcblx0cmV0dXJuIGFycjtcbn07XG5TaGEyNTYucHJvdG90eXBlLmFycmF5ID0gU2hhMjU2LnByb3RvdHlwZS5kaWdlc3Q7XG5TaGEyNTYucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZmluYWxpemUoKTtcblx0dmFyIGJ1ZmZlciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgQXJyYXlCdWZmZXIodGhpcy5pczIyNCA/IDI4IDogMzIpO1xuXHR2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDAsIHRoaXMuaDApO1xuXHRkYXRhVmlldy5zZXRVaW50MzIoNCwgdGhpcy5oMSk7XG5cdGRhdGFWaWV3LnNldFVpbnQzMig4LCB0aGlzLmgyKTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDEyLCB0aGlzLmgzKTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDE2LCB0aGlzLmg0KTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDIwLCB0aGlzLmg1KTtcblx0ZGF0YVZpZXcuc2V0VWludDMyKDI0LCB0aGlzLmg2KTtcblx0aWYgKCF0aGlzLmlzMjI0KSBkYXRhVmlldy5zZXRVaW50MzIoMjgsIHRoaXMuaDcpO1xuXHRyZXR1cm4gYnVmZmVyO1xufTtcbmNvbnN0IHNoYTI1NiA9ICguLi5zdHJpbmdzKSA9PiB7XG5cdHJldHVybiBuZXcgU2hhMjU2KGZhbHNlLCB0cnVlKS51cGRhdGUoc3RyaW5ncy5qb2luKFwiXCIpKS5oZXgoKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5zaGEyNTYgPSBzaGEyNTY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/js-sha256/hash.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/json.cjs":
/*!**********************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/json.cjs ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/json.ts\nfunction parseJsonMarkdown(s, parser = parsePartialJson) {\n\ts = s.trim();\n\tconst firstFenceIndex = s.indexOf(\"```\");\n\tif (firstFenceIndex === -1) return parser(s);\n\tlet contentAfterFence = s.substring(firstFenceIndex + 3);\n\tif (contentAfterFence.startsWith(\"json\\n\")) contentAfterFence = contentAfterFence.substring(5);\n\telse if (contentAfterFence.startsWith(\"json\")) contentAfterFence = contentAfterFence.substring(4);\n\telse if (contentAfterFence.startsWith(\"\\n\")) contentAfterFence = contentAfterFence.substring(1);\n\tconst closingFenceIndex = contentAfterFence.indexOf(\"```\");\n\tlet finalContent = contentAfterFence;\n\tif (closingFenceIndex !== -1) finalContent = contentAfterFence.substring(0, closingFenceIndex);\n\treturn parser(finalContent.trim());\n}\n/**\n* Recursive descent partial JSON parser.\n* @param s - The string to parse.\n* @returns The parsed value.\n* @throws Error if the input is a malformed JSON string.\n*/\nfunction strictParsePartialJson(s) {\n\ttry {\n\t\treturn JSON.parse(s);\n\t} catch {}\n\tconst buffer = s.trim();\n\tif (buffer.length === 0) throw new Error(\"Unexpected end of JSON input\");\n\tlet pos = 0;\n\tfunction skipWhitespace() {\n\t\twhile (pos < buffer.length && /\\s/.test(buffer[pos])) pos += 1;\n\t}\n\tfunction parseString() {\n\t\tif (buffer[pos] !== \"\\\"\") throw new Error(`Expected '\"' at position ${pos}, got '${buffer[pos]}'`);\n\t\tpos += 1;\n\t\tlet result = \"\";\n\t\tlet escaped = false;\n\t\twhile (pos < buffer.length) {\n\t\t\tconst char = buffer[pos];\n\t\t\tif (escaped) {\n\t\t\t\tif (char === \"n\") result += \"\\n\";\n\t\t\t\telse if (char === \"t\") result += \"\t\";\n\t\t\t\telse if (char === \"r\") result += \"\\r\";\n\t\t\t\telse if (char === \"\\\\\") result += \"\\\\\";\n\t\t\t\telse if (char === \"\\\"\") result += \"\\\"\";\n\t\t\t\telse if (char === \"b\") result += \"\\b\";\n\t\t\t\telse if (char === \"f\") result += \"\\f\";\n\t\t\t\telse if (char === \"/\") result += \"/\";\n\t\t\t\telse if (char === \"u\") {\n\t\t\t\t\tconst hex = buffer.substring(pos + 1, pos + 5);\n\t\t\t\t\tif (/^[0-9A-Fa-f]{0,4}$/.test(hex)) {\n\t\t\t\t\t\tif (hex.length === 4) result += String.fromCharCode(Number.parseInt(hex, 16));\n\t\t\t\t\t\telse result += `u${hex}`;\n\t\t\t\t\t\tpos += hex.length;\n\t\t\t\t\t} else throw new Error(`Invalid unicode escape sequence '\\\\u${hex}' at position ${pos}`);\n\t\t\t\t} else throw new Error(`Invalid escape sequence '\\\\${char}' at position ${pos}`);\n\t\t\t\tescaped = false;\n\t\t\t} else if (char === \"\\\\\") escaped = true;\n\t\t\telse if (char === \"\\\"\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn result;\n\t\t\t} else result += char;\n\t\t\tpos += 1;\n\t\t}\n\t\tif (escaped) result += \"\\\\\";\n\t\treturn result;\n\t}\n\tfunction parseNumber() {\n\t\tconst start = pos;\n\t\tlet numStr = \"\";\n\t\tif (buffer[pos] === \"-\") {\n\t\t\tnumStr += \"-\";\n\t\t\tpos += 1;\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] === \"0\") {\n\t\t\tnumStr += \"0\";\n\t\t\tpos += 1;\n\t\t\tif (buffer[pos] >= \"0\" && buffer[pos] <= \"9\") throw new Error(`Invalid number at position ${start}`);\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] >= \"1\" && buffer[pos] <= \"9\") while (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\tnumStr += buffer[pos];\n\t\t\tpos += 1;\n\t\t}\n\t\tif (pos < buffer.length && buffer[pos] === \".\") {\n\t\t\tnumStr += \".\";\n\t\t\tpos += 1;\n\t\t\twhile (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\t\tif (pos < buffer.length && (buffer[pos] === \"e\" || buffer[pos] === \"E\")) {\n\t\t\tnumStr += buffer[pos];\n\t\t\tpos += 1;\n\t\t\tif (pos < buffer.length && (buffer[pos] === \"+\" || buffer[pos] === \"-\")) {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t\twhile (pos < buffer.length && buffer[pos] >= \"0\" && buffer[pos] <= \"9\") {\n\t\t\t\tnumStr += buffer[pos];\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\t\tif (numStr === \"-\") return -0;\n\t\tconst num = Number.parseFloat(numStr);\n\t\tif (Number.isNaN(num)) {\n\t\t\tpos = start;\n\t\t\tthrow new Error(`Invalid number '${numStr}' at position ${start}`);\n\t\t}\n\t\treturn num;\n\t}\n\tfunction parseValue() {\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) throw new Error(`Unexpected end of input at position ${pos}`);\n\t\tconst char = buffer[pos];\n\t\tif (char === \"{\") return parseObject();\n\t\tif (char === \"[\") return parseArray();\n\t\tif (char === \"\\\"\") return parseString();\n\t\tif (\"null\".startsWith(buffer.substring(pos, pos + 4))) {\n\t\t\tpos += Math.min(4, buffer.length - pos);\n\t\t\treturn null;\n\t\t}\n\t\tif (\"true\".startsWith(buffer.substring(pos, pos + 4))) {\n\t\t\tpos += Math.min(4, buffer.length - pos);\n\t\t\treturn true;\n\t\t}\n\t\tif (\"false\".startsWith(buffer.substring(pos, pos + 5))) {\n\t\t\tpos += Math.min(5, buffer.length - pos);\n\t\t\treturn false;\n\t\t}\n\t\tif (char === \"-\" || char >= \"0\" && char <= \"9\") return parseNumber();\n\t\tthrow new Error(`Unexpected character '${char}' at position ${pos}`);\n\t}\n\tfunction parseArray() {\n\t\tif (buffer[pos] !== \"[\") throw new Error(`Expected '[' at position ${pos}, got '${buffer[pos]}'`);\n\t\tconst arr = [];\n\t\tpos += 1;\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) return arr;\n\t\tif (buffer[pos] === \"]\") {\n\t\t\tpos += 1;\n\t\t\treturn arr;\n\t\t}\n\t\twhile (pos < buffer.length) {\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return arr;\n\t\t\tarr.push(parseValue());\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return arr;\n\t\t\tif (buffer[pos] === \"]\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn arr;\n\t\t\t} else if (buffer[pos] === \",\") {\n\t\t\t\tpos += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(`Expected ',' or ']' at position ${pos}, got '${buffer[pos]}'`);\n\t\t}\n\t\treturn arr;\n\t}\n\tfunction parseObject() {\n\t\tif (buffer[pos] !== \"{\") throw new Error(`Expected '{' at position ${pos}, got '${buffer[pos]}'`);\n\t\tconst obj = {};\n\t\tpos += 1;\n\t\tskipWhitespace();\n\t\tif (pos >= buffer.length) return obj;\n\t\tif (buffer[pos] === \"}\") {\n\t\t\tpos += 1;\n\t\t\treturn obj;\n\t\t}\n\t\twhile (pos < buffer.length) {\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tconst key = parseString();\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tif (buffer[pos] !== \":\") throw new Error(`Expected ':' at position ${pos}, got '${buffer[pos]}'`);\n\t\t\tpos += 1;\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tobj[key] = parseValue();\n\t\t\tskipWhitespace();\n\t\t\tif (pos >= buffer.length) return obj;\n\t\t\tif (buffer[pos] === \"}\") {\n\t\t\t\tpos += 1;\n\t\t\t\treturn obj;\n\t\t\t} else if (buffer[pos] === \",\") {\n\t\t\t\tpos += 1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthrow new Error(`Expected ',' or '}' at position ${pos}, got '${buffer[pos]}'`);\n\t\t}\n\t\treturn obj;\n\t}\n\tconst value = parseValue();\n\tskipWhitespace();\n\tif (pos < buffer.length) throw new Error(`Unexpected character '${buffer[pos]}' at position ${pos}`);\n\treturn value;\n}\nfunction parsePartialJson(s) {\n\ttry {\n\t\tif (typeof s === \"undefined\") return null;\n\t\treturn strictParsePartialJson(s);\n\t} catch {\n\t\treturn null;\n\t}\n}\n\n//#endregion\nexports.parseJsonMarkdown = parseJsonMarkdown;\nexports.parsePartialJson = parsePartialJson;\n//# sourceMappingURL=json.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxJQUFJLFNBQVMsWUFBWTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixJQUFJO0FBQzNCO0FBQ0EseUJBQXlCLElBQUk7QUFDN0I7QUFDQSxPQUFPLDREQUE0RCxJQUFJLGdCQUFnQixJQUFJO0FBQzNGLE1BQU0sbURBQW1ELEtBQUssZ0JBQWdCLElBQUk7QUFDbEY7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixNQUFNO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsT0FBTyxnQkFBZ0IsTUFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLElBQUk7QUFDdkY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLEtBQUssZ0JBQWdCLElBQUk7QUFDcEU7QUFDQTtBQUNBLHVFQUF1RSxJQUFJLFNBQVMsWUFBWTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxJQUFJLFNBQVMsWUFBWTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQkFBK0IsZ0JBQWdCLElBQUksU0FBUyxZQUFZO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxJQUFJLFNBQVMsWUFBWTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0JBQWdCLElBQUksU0FBUyxZQUFZO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsWUFBWSxnQkFBZ0IsSUFBSTtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvanNvbi5janM/YWI1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvanNvbi50c1xuZnVuY3Rpb24gcGFyc2VKc29uTWFya2Rvd24ocywgcGFyc2VyID0gcGFyc2VQYXJ0aWFsSnNvbikge1xuXHRzID0gcy50cmltKCk7XG5cdGNvbnN0IGZpcnN0RmVuY2VJbmRleCA9IHMuaW5kZXhPZihcImBgYFwiKTtcblx0aWYgKGZpcnN0RmVuY2VJbmRleCA9PT0gLTEpIHJldHVybiBwYXJzZXIocyk7XG5cdGxldCBjb250ZW50QWZ0ZXJGZW5jZSA9IHMuc3Vic3RyaW5nKGZpcnN0RmVuY2VJbmRleCArIDMpO1xuXHRpZiAoY29udGVudEFmdGVyRmVuY2Uuc3RhcnRzV2l0aChcImpzb25cXG5cIikpIGNvbnRlbnRBZnRlckZlbmNlID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDUpO1xuXHRlbHNlIGlmIChjb250ZW50QWZ0ZXJGZW5jZS5zdGFydHNXaXRoKFwianNvblwiKSkgY29udGVudEFmdGVyRmVuY2UgPSBjb250ZW50QWZ0ZXJGZW5jZS5zdWJzdHJpbmcoNCk7XG5cdGVsc2UgaWYgKGNvbnRlbnRBZnRlckZlbmNlLnN0YXJ0c1dpdGgoXCJcXG5cIikpIGNvbnRlbnRBZnRlckZlbmNlID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDEpO1xuXHRjb25zdCBjbG9zaW5nRmVuY2VJbmRleCA9IGNvbnRlbnRBZnRlckZlbmNlLmluZGV4T2YoXCJgYGBcIik7XG5cdGxldCBmaW5hbENvbnRlbnQgPSBjb250ZW50QWZ0ZXJGZW5jZTtcblx0aWYgKGNsb3NpbmdGZW5jZUluZGV4ICE9PSAtMSkgZmluYWxDb250ZW50ID0gY29udGVudEFmdGVyRmVuY2Uuc3Vic3RyaW5nKDAsIGNsb3NpbmdGZW5jZUluZGV4KTtcblx0cmV0dXJuIHBhcnNlcihmaW5hbENvbnRlbnQudHJpbSgpKTtcbn1cbi8qKlxuKiBSZWN1cnNpdmUgZGVzY2VudCBwYXJ0aWFsIEpTT04gcGFyc2VyLlxuKiBAcGFyYW0gcyAtIFRoZSBzdHJpbmcgdG8gcGFyc2UuXG4qIEByZXR1cm5zIFRoZSBwYXJzZWQgdmFsdWUuXG4qIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGlucHV0IGlzIGEgbWFsZm9ybWVkIEpTT04gc3RyaW5nLlxuKi9cbmZ1bmN0aW9uIHN0cmljdFBhcnNlUGFydGlhbEpzb24ocykge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHMpO1xuXHR9IGNhdGNoIHt9XG5cdGNvbnN0IGJ1ZmZlciA9IHMudHJpbSgpO1xuXHRpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgSlNPTiBpbnB1dFwiKTtcblx0bGV0IHBvcyA9IDA7XG5cdGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuXHRcdHdoaWxlIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIC9cXHMvLnRlc3QoYnVmZmVyW3Bvc10pKSBwb3MgKz0gMTtcblx0fVxuXHRmdW5jdGlvbiBwYXJzZVN0cmluZygpIHtcblx0XHRpZiAoYnVmZmVyW3Bvc10gIT09IFwiXFxcIlwiKSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICdcIicgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdHBvcyArPSAxO1xuXHRcdGxldCByZXN1bHQgPSBcIlwiO1xuXHRcdGxldCBlc2NhcGVkID0gZmFsc2U7XG5cdFx0d2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGNoYXIgPSBidWZmZXJbcG9zXTtcblx0XHRcdGlmIChlc2NhcGVkKSB7XG5cdFx0XHRcdGlmIChjaGFyID09PSBcIm5cIikgcmVzdWx0ICs9IFwiXFxuXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwidFwiKSByZXN1bHQgKz0gXCJcdFwiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcInJcIikgcmVzdWx0ICs9IFwiXFxyXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiXFxcXFwiKSByZXN1bHQgKz0gXCJcXFxcXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiXFxcIlwiKSByZXN1bHQgKz0gXCJcXFwiXCI7XG5cdFx0XHRcdGVsc2UgaWYgKGNoYXIgPT09IFwiYlwiKSByZXN1bHQgKz0gXCJcXGJcIjtcblx0XHRcdFx0ZWxzZSBpZiAoY2hhciA9PT0gXCJmXCIpIHJlc3VsdCArPSBcIlxcZlwiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcIi9cIikgcmVzdWx0ICs9IFwiL1wiO1xuXHRcdFx0XHRlbHNlIGlmIChjaGFyID09PSBcInVcIikge1xuXHRcdFx0XHRcdGNvbnN0IGhleCA9IGJ1ZmZlci5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgNSk7XG5cdFx0XHRcdFx0aWYgKC9eWzAtOUEtRmEtZl17MCw0fSQvLnRlc3QoaGV4KSkge1xuXHRcdFx0XHRcdFx0aWYgKGhleC5sZW5ndGggPT09IDQpIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlci5wYXJzZUludChoZXgsIDE2KSk7XG5cdFx0XHRcdFx0XHRlbHNlIHJlc3VsdCArPSBgdSR7aGV4fWA7XG5cdFx0XHRcdFx0XHRwb3MgKz0gaGV4Lmxlbmd0aDtcblx0XHRcdFx0XHR9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlICdcXFxcdSR7aGV4fScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdFx0XHRcdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXNjYXBlIHNlcXVlbmNlICdcXFxcJHtjaGFyfScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdFx0XHRcdGVzY2FwZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoY2hhciA9PT0gXCJcXFxcXCIpIGVzY2FwZWQgPSB0cnVlO1xuXHRcdFx0ZWxzZSBpZiAoY2hhciA9PT0gXCJcXFwiXCIpIHtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9IGVsc2UgcmVzdWx0ICs9IGNoYXI7XG5cdFx0XHRwb3MgKz0gMTtcblx0XHR9XG5cdFx0aWYgKGVzY2FwZWQpIHJlc3VsdCArPSBcIlxcXFxcIjtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGZ1bmN0aW9uIHBhcnNlTnVtYmVyKCkge1xuXHRcdGNvbnN0IHN0YXJ0ID0gcG9zO1xuXHRcdGxldCBudW1TdHIgPSBcIlwiO1xuXHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCItXCIpIHtcblx0XHRcdG51bVN0ciArPSBcIi1cIjtcblx0XHRcdHBvcyArPSAxO1xuXHRcdH1cblx0XHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA9PT0gXCIwXCIpIHtcblx0XHRcdG51bVN0ciArPSBcIjBcIjtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0aWYgKGJ1ZmZlcltwb3NdID49IFwiMFwiICYmIGJ1ZmZlcltwb3NdIDw9IFwiOVwiKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbnVtYmVyIGF0IHBvc2l0aW9uICR7c3RhcnR9YCk7XG5cdFx0fVxuXHRcdGlmIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdID49IFwiMVwiICYmIGJ1ZmZlcltwb3NdIDw9IFwiOVwiKSB3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0bnVtU3RyICs9IGJ1ZmZlcltwb3NdO1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0fVxuXHRcdGlmIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdID09PSBcIi5cIikge1xuXHRcdFx0bnVtU3RyICs9IFwiLlwiO1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0XHRudW1TdHIgKz0gYnVmZmVyW3Bvc107XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiAoYnVmZmVyW3Bvc10gPT09IFwiZVwiIHx8IGJ1ZmZlcltwb3NdID09PSBcIkVcIikpIHtcblx0XHRcdG51bVN0ciArPSBidWZmZXJbcG9zXTtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0aWYgKHBvcyA8IGJ1ZmZlci5sZW5ndGggJiYgKGJ1ZmZlcltwb3NdID09PSBcIitcIiB8fCBidWZmZXJbcG9zXSA9PT0gXCItXCIpKSB7XG5cdFx0XHRcdG51bVN0ciArPSBidWZmZXJbcG9zXTtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSA+PSBcIjBcIiAmJiBidWZmZXJbcG9zXSA8PSBcIjlcIikge1xuXHRcdFx0XHRudW1TdHIgKz0gYnVmZmVyW3Bvc107XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobnVtU3RyID09PSBcIi1cIikgcmV0dXJuIC0wO1xuXHRcdGNvbnN0IG51bSA9IE51bWJlci5wYXJzZUZsb2F0KG51bVN0cik7XG5cdFx0aWYgKE51bWJlci5pc05hTihudW0pKSB7XG5cdFx0XHRwb3MgPSBzdGFydDtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBudW1iZXIgJyR7bnVtU3RyfScgYXQgcG9zaXRpb24gJHtzdGFydH1gKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bTtcblx0fVxuXHRmdW5jdGlvbiBwYXJzZVZhbHVlKCkge1xuXHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0IGF0IHBvc2l0aW9uICR7cG9zfWApO1xuXHRcdGNvbnN0IGNoYXIgPSBidWZmZXJbcG9zXTtcblx0XHRpZiAoY2hhciA9PT0gXCJ7XCIpIHJldHVybiBwYXJzZU9iamVjdCgpO1xuXHRcdGlmIChjaGFyID09PSBcIltcIikgcmV0dXJuIHBhcnNlQXJyYXkoKTtcblx0XHRpZiAoY2hhciA9PT0gXCJcXFwiXCIpIHJldHVybiBwYXJzZVN0cmluZygpO1xuXHRcdGlmIChcIm51bGxcIi5zdGFydHNXaXRoKGJ1ZmZlci5zdWJzdHJpbmcocG9zLCBwb3MgKyA0KSkpIHtcblx0XHRcdHBvcyArPSBNYXRoLm1pbig0LCBidWZmZXIubGVuZ3RoIC0gcG9zKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChidWZmZXIuc3Vic3RyaW5nKHBvcywgcG9zICsgNCkpKSB7XG5cdFx0XHRwb3MgKz0gTWF0aC5taW4oNCwgYnVmZmVyLmxlbmd0aCAtIHBvcyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKFwiZmFsc2VcIi5zdGFydHNXaXRoKGJ1ZmZlci5zdWJzdHJpbmcocG9zLCBwb3MgKyA1KSkpIHtcblx0XHRcdHBvcyArPSBNYXRoLm1pbig1LCBidWZmZXIubGVuZ3RoIC0gcG9zKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKGNoYXIgPT09IFwiLVwiIHx8IGNoYXIgPj0gXCIwXCIgJiYgY2hhciA8PSBcIjlcIikgcmV0dXJuIHBhcnNlTnVtYmVyKCk7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtjaGFyfScgYXQgcG9zaXRpb24gJHtwb3N9YCk7XG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VBcnJheSgpIHtcblx0XHRpZiAoYnVmZmVyW3Bvc10gIT09IFwiW1wiKSB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICdbJyBhdCBwb3NpdGlvbiAke3Bvc30sIGdvdCAnJHtidWZmZXJbcG9zXX0nYCk7XG5cdFx0Y29uc3QgYXJyID0gW107XG5cdFx0cG9zICs9IDE7XG5cdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRpZiAocG9zID49IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBhcnI7XG5cdFx0aWYgKGJ1ZmZlcltwb3NdID09PSBcIl1cIikge1xuXHRcdFx0cG9zICs9IDE7XG5cdFx0XHRyZXR1cm4gYXJyO1xuXHRcdH1cblx0XHR3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCkge1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIGFycjtcblx0XHRcdGFyci5wdXNoKHBhcnNlVmFsdWUoKSk7XG5cdFx0XHRza2lwV2hpdGVzcGFjZSgpO1xuXHRcdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSByZXR1cm4gYXJyO1xuXHRcdFx0aWYgKGJ1ZmZlcltwb3NdID09PSBcIl1cIikge1xuXHRcdFx0XHRwb3MgKz0gMTtcblx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdH0gZWxzZSBpZiAoYnVmZmVyW3Bvc10gPT09IFwiLFwiKSB7XG5cdFx0XHRcdHBvcyArPSAxO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJywnIG9yICddJyBhdCBwb3NpdGlvbiAke3Bvc30sIGdvdCAnJHtidWZmZXJbcG9zXX0nYCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnI7XG5cdH1cblx0ZnVuY3Rpb24gcGFyc2VPYmplY3QoKSB7XG5cdFx0aWYgKGJ1ZmZlcltwb3NdICE9PSBcIntcIikgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAneycgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdHBvcyArPSAxO1xuXHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0aWYgKHBvcyA+PSBidWZmZXIubGVuZ3RoKSByZXR1cm4gb2JqO1xuXHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCJ9XCIpIHtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9XG5cdFx0d2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGgpIHtcblx0XHRcdHNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0XHRpZiAocG9zID49IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBvYmo7XG5cdFx0XHRjb25zdCBrZXkgPSBwYXJzZVN0cmluZygpO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdGlmIChidWZmZXJbcG9zXSAhPT0gXCI6XCIpIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgJzonIGF0IHBvc2l0aW9uICR7cG9zfSwgZ290ICcke2J1ZmZlcltwb3NdfSdgKTtcblx0XHRcdHBvcyArPSAxO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdG9ialtrZXldID0gcGFyc2VWYWx1ZSgpO1xuXHRcdFx0c2tpcFdoaXRlc3BhY2UoKTtcblx0XHRcdGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG9iajtcblx0XHRcdGlmIChidWZmZXJbcG9zXSA9PT0gXCJ9XCIpIHtcblx0XHRcdFx0cG9zICs9IDE7XG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHR9IGVsc2UgaWYgKGJ1ZmZlcltwb3NdID09PSBcIixcIikge1xuXHRcdFx0XHRwb3MgKz0gMTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkICcsJyBvciAnfScgYXQgcG9zaXRpb24gJHtwb3N9LCBnb3QgJyR7YnVmZmVyW3Bvc119J2ApO1xuXHRcdH1cblx0XHRyZXR1cm4gb2JqO1xuXHR9XG5cdGNvbnN0IHZhbHVlID0gcGFyc2VWYWx1ZSgpO1xuXHRza2lwV2hpdGVzcGFjZSgpO1xuXHRpZiAocG9zIDwgYnVmZmVyLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciAnJHtidWZmZXJbcG9zXX0nIGF0IHBvc2l0aW9uICR7cG9zfWApO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKHMpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHMgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBudWxsO1xuXHRcdHJldHVybiBzdHJpY3RQYXJzZVBhcnRpYWxKc29uKHMpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VKc29uTWFya2Rvd24gPSBwYXJzZUpzb25NYXJrZG93bjtcbmV4cG9ydHMucGFyc2VQYXJ0aWFsSnNvbiA9IHBhcnNlUGFydGlhbEpzb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/json.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/json_schema.cjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/json_schema.cjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_zod = __webpack_require__(/*! ./types/zod.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs\");\nconst require_zodToJsonSchema = __webpack_require__(/*! ./zod-to-json-schema/zodToJsonSchema.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.cjs\");\n__webpack_require__(/*! ./zod-to-json-schema/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.cjs\");\nconst zod_v4_core = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v4/core */ \"(action-browser)/./node_modules/zod/v4/core/index.cjs\"));\nconst __cfworker_json_schema = require_rolldown_runtime.__toESM(__webpack_require__(/*! @cfworker/json-schema */ \"(action-browser)/./node_modules/@cfworker/json-schema/dist/commonjs/index.js\"));\n\n//#region src/utils/json_schema.ts\nvar json_schema_exports = {};\nrequire_rolldown_runtime.__export(json_schema_exports, {\n\tValidator: () => __cfworker_json_schema.Validator,\n\tdeepCompareStrict: () => __cfworker_json_schema.deepCompareStrict,\n\ttoJsonSchema: () => toJsonSchema,\n\tvalidatesOnlyStrings: () => validatesOnlyStrings\n});\n/**\n* Converts a Zod schema or JSON schema to a JSON schema.\n* @param schema - The schema to convert.\n* @param params - The parameters to pass to the toJSONSchema function.\n* @returns The converted schema.\n*/\nfunction toJsonSchema(schema, params) {\n\tif (require_zod.isZodSchemaV4(schema)) {\n\t\tconst inputSchema = require_zod.interopZodTransformInputSchema(schema, true);\n\t\tif (require_zod.isZodObjectV4(inputSchema)) {\n\t\t\tconst strictSchema = require_zod.interopZodObjectStrict(inputSchema, true);\n\t\t\treturn (0, zod_v4_core.toJSONSchema)(strictSchema, params);\n\t\t} else return (0, zod_v4_core.toJSONSchema)(schema, params);\n\t}\n\tif (require_zod.isZodSchemaV3(schema)) return require_zodToJsonSchema.zodToJsonSchema(schema);\n\treturn schema;\n}\n/**\n* Validates if a JSON schema validates only strings. May return false negatives in some edge cases\n* (like recursive or unresolvable refs).\n*\n* @param schema - The schema to validate.\n* @returns `true` if the schema validates only strings, `false` otherwise.\n*/\nfunction validatesOnlyStrings(schema) {\n\tif (!schema || typeof schema !== \"object\" || Object.keys(schema).length === 0 || Array.isArray(schema)) return false;\n\tif (\"type\" in schema) {\n\t\tif (typeof schema.type === \"string\") return schema.type === \"string\";\n\t\tif (Array.isArray(schema.type)) return schema.type.every((t) => t === \"string\");\n\t\treturn false;\n\t}\n\tif (\"enum\" in schema) return Array.isArray(schema.enum) && schema.enum.length > 0 && schema.enum.every((val) => typeof val === \"string\");\n\tif (\"const\" in schema) return typeof schema.const === \"string\";\n\tif (\"allOf\" in schema && Array.isArray(schema.allOf)) return schema.allOf.some((subschema) => validatesOnlyStrings(subschema));\n\tif (\"anyOf\" in schema && Array.isArray(schema.anyOf) || \"oneOf\" in schema && Array.isArray(schema.oneOf)) {\n\t\tconst subschemas = \"anyOf\" in schema ? schema.anyOf : schema.oneOf;\n\t\treturn subschemas.length > 0 && subschemas.every((subschema) => validatesOnlyStrings(subschema));\n\t}\n\tif (\"not\" in schema) return false;\n\tif (\"$ref\" in schema && typeof schema.$ref === \"string\") {\n\t\tconst ref = schema.$ref;\n\t\tconst resolved = (0, __cfworker_json_schema.dereference)(schema);\n\t\tif (resolved[ref]) return validatesOnlyStrings(resolved[ref]);\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n//#endregion\nObject.defineProperty(exports, \"Validator\", ({\n  enumerable: true,\n  get: function () {\n    return __cfworker_json_schema.Validator;\n  }\n}));\nObject.defineProperty(exports, \"deepCompareStrict\", ({\n  enumerable: true,\n  get: function () {\n    return __cfworker_json_schema.deepCompareStrict;\n  }\n}));\nObject.defineProperty(exports, \"json_schema_exports\", ({\n  enumerable: true,\n  get: function () {\n    return json_schema_exports;\n  }\n}));\nexports.toJsonSchema = toJsonSchema;\nexports.validatesOnlyStrings = validatesOnlyStrings;\n//# sourceMappingURL=json_schema.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uX3NjaGVtYS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLG9CQUFvQixtQkFBTyxDQUFDLGlHQUFpQjtBQUM3QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxtSkFBMEM7QUFDbEYsbUJBQU8sQ0FBQywrSEFBZ0M7QUFDeEMscURBQXFELG1CQUFPLENBQUMsMEVBQWE7QUFDMUUsZ0VBQWdFLG1CQUFPLENBQUMsMkdBQXVCOztBQUUvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixxREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRix1REFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixvQkFBb0I7QUFDcEIsNEJBQTRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9qc29uX3NjaGVtYS5janM/YmY4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV96b2QgPSByZXF1aXJlKCcuL3R5cGVzL3pvZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfem9kVG9Kc29uU2NoZW1hID0gcmVxdWlyZSgnLi96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmNqcycpO1xucmVxdWlyZSgnLi96b2QtdG8tanNvbi1zY2hlbWEvaW5kZXguY2pzJyk7XG5jb25zdCB6b2RfdjRfY29yZSA9IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZS5fX3RvRVNNKHJlcXVpcmUoXCJ6b2QvdjQvY29yZVwiKSk7XG5jb25zdCBfX2Nmd29ya2VyX2pzb25fc2NoZW1hID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcIkBjZndvcmtlci9qc29uLXNjaGVtYVwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvanNvbl9zY2hlbWEudHNcbnZhciBqc29uX3NjaGVtYV9leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQoanNvbl9zY2hlbWFfZXhwb3J0cywge1xuXHRWYWxpZGF0b3I6ICgpID0+IF9fY2Z3b3JrZXJfanNvbl9zY2hlbWEuVmFsaWRhdG9yLFxuXHRkZWVwQ29tcGFyZVN0cmljdDogKCkgPT4gX19jZndvcmtlcl9qc29uX3NjaGVtYS5kZWVwQ29tcGFyZVN0cmljdCxcblx0dG9Kc29uU2NoZW1hOiAoKSA9PiB0b0pzb25TY2hlbWEsXG5cdHZhbGlkYXRlc09ubHlTdHJpbmdzOiAoKSA9PiB2YWxpZGF0ZXNPbmx5U3RyaW5nc1xufSk7XG4vKipcbiogQ29udmVydHMgYSBab2Qgc2NoZW1hIG9yIEpTT04gc2NoZW1hIHRvIGEgSlNPTiBzY2hlbWEuXG4qIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIGNvbnZlcnQuXG4qIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0b0pTT05TY2hlbWEgZnVuY3Rpb24uXG4qIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIHRvSnNvblNjaGVtYShzY2hlbWEsIHBhcmFtcykge1xuXHRpZiAocmVxdWlyZV96b2QuaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgaW5wdXRTY2hlbWEgPSByZXF1aXJlX3pvZC5pbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEoc2NoZW1hLCB0cnVlKTtcblx0XHRpZiAocmVxdWlyZV96b2QuaXNab2RPYmplY3RWNChpbnB1dFNjaGVtYSkpIHtcblx0XHRcdGNvbnN0IHN0cmljdFNjaGVtYSA9IHJlcXVpcmVfem9kLmludGVyb3Bab2RPYmplY3RTdHJpY3QoaW5wdXRTY2hlbWEsIHRydWUpO1xuXHRcdFx0cmV0dXJuICgwLCB6b2RfdjRfY29yZS50b0pTT05TY2hlbWEpKHN0cmljdFNjaGVtYSwgcGFyYW1zKTtcblx0XHR9IGVsc2UgcmV0dXJuICgwLCB6b2RfdjRfY29yZS50b0pTT05TY2hlbWEpKHNjaGVtYSwgcGFyYW1zKTtcblx0fVxuXHRpZiAocmVxdWlyZV96b2QuaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gcmVxdWlyZV96b2RUb0pzb25TY2hlbWEuem9kVG9Kc29uU2NoZW1hKHNjaGVtYSk7XG5cdHJldHVybiBzY2hlbWE7XG59XG4vKipcbiogVmFsaWRhdGVzIGlmIGEgSlNPTiBzY2hlbWEgdmFsaWRhdGVzIG9ubHkgc3RyaW5ncy4gTWF5IHJldHVybiBmYWxzZSBuZWdhdGl2ZXMgaW4gc29tZSBlZGdlIGNhc2VzXG4qIChsaWtlIHJlY3Vyc2l2ZSBvciB1bnJlc29sdmFibGUgcmVmcykuXG4qXG4qIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIHZhbGlkYXRlLlxuKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNjaGVtYSB2YWxpZGF0ZXMgb25seSBzdHJpbmdzLCBgZmFsc2VgIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiB2YWxpZGF0ZXNPbmx5U3RyaW5ncyhzY2hlbWEpIHtcblx0aWYgKCFzY2hlbWEgfHwgdHlwZW9mIHNjaGVtYSAhPT0gXCJvYmplY3RcIiB8fCBPYmplY3Qua2V5cyhzY2hlbWEpLmxlbmd0aCA9PT0gMCB8fCBBcnJheS5pc0FycmF5KHNjaGVtYSkpIHJldHVybiBmYWxzZTtcblx0aWYgKFwidHlwZVwiIGluIHNjaGVtYSkge1xuXHRcdGlmICh0eXBlb2Ygc2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIpIHJldHVybiBzY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIjtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkpIHJldHVybiBzY2hlbWEudHlwZS5ldmVyeSgodCkgPT4gdCA9PT0gXCJzdHJpbmdcIik7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmIChcImVudW1cIiBpbiBzY2hlbWEpIHJldHVybiBBcnJheS5pc0FycmF5KHNjaGVtYS5lbnVtKSAmJiBzY2hlbWEuZW51bS5sZW5ndGggPiAwICYmIHNjaGVtYS5lbnVtLmV2ZXJ5KCh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpO1xuXHRpZiAoXCJjb25zdFwiIGluIHNjaGVtYSkgcmV0dXJuIHR5cGVvZiBzY2hlbWEuY29uc3QgPT09IFwic3RyaW5nXCI7XG5cdGlmIChcImFsbE9mXCIgaW4gc2NoZW1hICYmIEFycmF5LmlzQXJyYXkoc2NoZW1hLmFsbE9mKSkgcmV0dXJuIHNjaGVtYS5hbGxPZi5zb21lKChzdWJzY2hlbWEpID0+IHZhbGlkYXRlc09ubHlTdHJpbmdzKHN1YnNjaGVtYSkpO1xuXHRpZiAoXCJhbnlPZlwiIGluIHNjaGVtYSAmJiBBcnJheS5pc0FycmF5KHNjaGVtYS5hbnlPZikgfHwgXCJvbmVPZlwiIGluIHNjaGVtYSAmJiBBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikpIHtcblx0XHRjb25zdCBzdWJzY2hlbWFzID0gXCJhbnlPZlwiIGluIHNjaGVtYSA/IHNjaGVtYS5hbnlPZiA6IHNjaGVtYS5vbmVPZjtcblx0XHRyZXR1cm4gc3Vic2NoZW1hcy5sZW5ndGggPiAwICYmIHN1YnNjaGVtYXMuZXZlcnkoKHN1YnNjaGVtYSkgPT4gdmFsaWRhdGVzT25seVN0cmluZ3Moc3Vic2NoZW1hKSk7XG5cdH1cblx0aWYgKFwibm90XCIgaW4gc2NoZW1hKSByZXR1cm4gZmFsc2U7XG5cdGlmIChcIiRyZWZcIiBpbiBzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYS4kcmVmID09PSBcInN0cmluZ1wiKSB7XG5cdFx0Y29uc3QgcmVmID0gc2NoZW1hLiRyZWY7XG5cdFx0Y29uc3QgcmVzb2x2ZWQgPSAoMCwgX19jZndvcmtlcl9qc29uX3NjaGVtYS5kZXJlZmVyZW5jZSkoc2NoZW1hKTtcblx0XHRpZiAocmVzb2x2ZWRbcmVmXSkgcmV0dXJuIHZhbGlkYXRlc09ubHlTdHJpbmdzKHJlc29sdmVkW3JlZl0pO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vI2VuZHJlZ2lvblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdWYWxpZGF0b3InLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2Nmd29ya2VyX2pzb25fc2NoZW1hLlZhbGlkYXRvcjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2RlZXBDb21wYXJlU3RyaWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19jZndvcmtlcl9qc29uX3NjaGVtYS5kZWVwQ29tcGFyZVN0cmljdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2pzb25fc2NoZW1hX2V4cG9ydHMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBqc29uX3NjaGVtYV9leHBvcnRzO1xuICB9XG59KTtcbmV4cG9ydHMudG9Kc29uU2NoZW1hID0gdG9Kc29uU2NoZW1hO1xuZXhwb3J0cy52YWxpZGF0ZXNPbmx5U3RyaW5ncyA9IHZhbGlkYXRlc09ubHlTdHJpbmdzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbl9zY2hlbWEuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/json_schema.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/p-retry/index.cjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/p-retry/index.cjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_index = __webpack_require__(/*! ../is-network-error/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/is-network-error/index.cjs\");\n\n//#region src/utils/p-retry/index.js\nfunction validateRetries(retries) {\n\tif (typeof retries === \"number\") {\n\t\tif (retries < 0) throw new TypeError(\"Expected `retries` to be a non-negative number.\");\n\t\tif (Number.isNaN(retries)) throw new TypeError(\"Expected `retries` to be a valid number or Infinity, got NaN.\");\n\t} else if (retries !== void 0) throw new TypeError(\"Expected `retries` to be a number or Infinity.\");\n}\nfunction validateNumberOption(name, value, { min = 0, allowInfinity = false } = {}) {\n\tif (value === void 0) return;\n\tif (typeof value !== \"number\" || Number.isNaN(value)) throw new TypeError(`Expected \\`${name}\\` to be a number${allowInfinity ? \" or Infinity\" : \"\"}.`);\n\tif (!allowInfinity && !Number.isFinite(value)) throw new TypeError(`Expected \\`${name}\\` to be a finite number.`);\n\tif (value < min) throw new TypeError(`Expected \\`${name}\\` to be \\u2265 ${min}.`);\n}\nvar AbortError = class extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tif (message instanceof Error) {\n\t\t\tthis.originalError = message;\n\t\t\t({message} = message);\n\t\t} else {\n\t\t\tthis.originalError = new Error(message);\n\t\t\tthis.originalError.stack = this.stack;\n\t\t}\n\t\tthis.name = \"AbortError\";\n\t\tthis.message = message;\n\t}\n};\nfunction calculateDelay(retriesConsumed, options) {\n\tconst attempt = Math.max(1, retriesConsumed + 1);\n\tconst random = options.randomize ? Math.random() + 1 : 1;\n\tlet timeout = Math.round(random * options.minTimeout * options.factor ** (attempt - 1));\n\ttimeout = Math.min(timeout, options.maxTimeout);\n\treturn timeout;\n}\nfunction calculateRemainingTime(start, max) {\n\tif (!Number.isFinite(max)) return max;\n\treturn max - (performance.now() - start);\n}\nasync function onAttemptFailure({ error, attemptNumber, retriesConsumed, startTime, options }) {\n\tconst normalizedError = error instanceof Error ? error : /* @__PURE__ */ new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`);\n\tif (normalizedError instanceof AbortError) throw normalizedError.originalError;\n\tconst retriesLeft = Number.isFinite(options.retries) ? Math.max(0, options.retries - retriesConsumed) : options.retries;\n\tconst maxRetryTime = options.maxRetryTime ?? Number.POSITIVE_INFINITY;\n\tconst context = Object.freeze({\n\t\terror: normalizedError,\n\t\tattemptNumber,\n\t\tretriesLeft,\n\t\tretriesConsumed\n\t});\n\tawait options.onFailedAttempt(context);\n\tif (calculateRemainingTime(startTime, maxRetryTime) <= 0) throw normalizedError;\n\tconst consumeRetry = await options.shouldConsumeRetry(context);\n\tconst remainingTime = calculateRemainingTime(startTime, maxRetryTime);\n\tif (remainingTime <= 0 || retriesLeft <= 0) throw normalizedError;\n\tif (normalizedError instanceof TypeError && !require_index.isNetworkError(normalizedError)) {\n\t\tif (consumeRetry) throw normalizedError;\n\t\toptions.signal?.throwIfAborted();\n\t\treturn false;\n\t}\n\tif (!await options.shouldRetry(context)) throw normalizedError;\n\tif (!consumeRetry) {\n\t\toptions.signal?.throwIfAborted();\n\t\treturn false;\n\t}\n\tconst delayTime = calculateDelay(retriesConsumed, options);\n\tconst finalDelay = Math.min(delayTime, remainingTime);\n\tif (finalDelay > 0) await new Promise((resolve, reject) => {\n\t\tconst onAbort = () => {\n\t\t\tclearTimeout(timeoutToken);\n\t\t\toptions.signal?.removeEventListener(\"abort\", onAbort);\n\t\t\treject(options.signal.reason);\n\t\t};\n\t\tconst timeoutToken = setTimeout(() => {\n\t\t\toptions.signal?.removeEventListener(\"abort\", onAbort);\n\t\t\tresolve();\n\t\t}, finalDelay);\n\t\tif (options.unref) timeoutToken.unref?.();\n\t\toptions.signal?.addEventListener(\"abort\", onAbort, { once: true });\n\t});\n\toptions.signal?.throwIfAborted();\n\treturn true;\n}\nasync function pRetry(input, options = {}) {\n\toptions = { ...options };\n\tvalidateRetries(options.retries);\n\tif (Object.hasOwn(options, \"forever\")) throw new Error(\"The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.\");\n\toptions.retries ??= 10;\n\toptions.factor ??= 2;\n\toptions.minTimeout ??= 1e3;\n\toptions.maxTimeout ??= Number.POSITIVE_INFINITY;\n\toptions.maxRetryTime ??= Number.POSITIVE_INFINITY;\n\toptions.randomize ??= false;\n\toptions.onFailedAttempt ??= () => {};\n\toptions.shouldRetry ??= () => true;\n\toptions.shouldConsumeRetry ??= () => true;\n\tvalidateNumberOption(\"factor\", options.factor, {\n\t\tmin: 0,\n\t\tallowInfinity: false\n\t});\n\tvalidateNumberOption(\"minTimeout\", options.minTimeout, {\n\t\tmin: 0,\n\t\tallowInfinity: false\n\t});\n\tvalidateNumberOption(\"maxTimeout\", options.maxTimeout, {\n\t\tmin: 0,\n\t\tallowInfinity: true\n\t});\n\tvalidateNumberOption(\"maxRetryTime\", options.maxRetryTime, {\n\t\tmin: 0,\n\t\tallowInfinity: true\n\t});\n\tif (!(options.factor > 0)) options.factor = 1;\n\toptions.signal?.throwIfAborted();\n\tlet attemptNumber = 0;\n\tlet retriesConsumed = 0;\n\tconst startTime = performance.now();\n\twhile (Number.isFinite(options.retries) ? retriesConsumed <= options.retries : true) {\n\t\tattemptNumber++;\n\t\ttry {\n\t\t\toptions.signal?.throwIfAborted();\n\t\t\tconst result = await input(attemptNumber);\n\t\t\toptions.signal?.throwIfAborted();\n\t\t\treturn result;\n\t\t} catch (error) {\n\t\t\tif (await onAttemptFailure({\n\t\t\t\terror,\n\t\t\t\tattemptNumber,\n\t\t\t\tretriesConsumed,\n\t\t\t\tstartTime,\n\t\t\t\toptions\n\t\t\t})) retriesConsumed++;\n\t\t}\n\t}\n\tthrow new Error(\"Retry attempts exhausted without throwing an error.\");\n}\n\n//#endregion\nexports.pRetry = pRetry;\n//# sourceMappingURL=index.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9wLXJldHJ5L2luZGV4LmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxzQkFBc0IsbUJBQU8sQ0FBQyw0SEFBK0I7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw2Q0FBNkMsaUNBQWlDLElBQUk7QUFDbEY7QUFDQSx5RkFBeUYsS0FBSyxtQkFBbUIsb0NBQW9DO0FBQ3JKLGtGQUFrRixLQUFLO0FBQ3ZGLG9EQUFvRCxLQUFLLGtCQUFrQixJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssU0FBUztBQUNkLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkRBQTJEO0FBQzdGLGtIQUFrSCxNQUFNO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHVEQUF1RCxZQUFZO0FBQ25FLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvcC1yZXRyeS9pbmRleC5janM/MzczNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2luZGV4ID0gcmVxdWlyZSgnLi4vaXMtbmV0d29yay1lcnJvci9pbmRleC5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9wLXJldHJ5L2luZGV4LmpzXG5mdW5jdGlvbiB2YWxpZGF0ZVJldHJpZXMocmV0cmllcykge1xuXHRpZiAodHlwZW9mIHJldHJpZXMgPT09IFwibnVtYmVyXCIpIHtcblx0XHRpZiAocmV0cmllcyA8IDApIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBgcmV0cmllc2AgdG8gYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTtcblx0XHRpZiAoTnVtYmVyLmlzTmFOKHJldHJpZXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYHJldHJpZXNgIHRvIGJlIGEgdmFsaWQgbnVtYmVyIG9yIEluZmluaXR5LCBnb3QgTmFOLlwiKTtcblx0fSBlbHNlIGlmIChyZXRyaWVzICE9PSB2b2lkIDApIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBgcmV0cmllc2AgdG8gYmUgYSBudW1iZXIgb3IgSW5maW5pdHkuXCIpO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXJPcHRpb24obmFtZSwgdmFsdWUsIHsgbWluID0gMCwgYWxsb3dJbmZpbml0eSA9IGZhbHNlIH0gPSB7fSkge1xuXHRpZiAodmFsdWUgPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiIHx8IE51bWJlci5pc05hTih2YWx1ZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYCR7bmFtZX1cXGAgdG8gYmUgYSBudW1iZXIke2FsbG93SW5maW5pdHkgPyBcIiBvciBJbmZpbml0eVwiIDogXCJcIn0uYCk7XG5cdGlmICghYWxsb3dJbmZpbml0eSAmJiAhTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgJHtuYW1lfVxcYCB0byBiZSBhIGZpbml0ZSBudW1iZXIuYCk7XG5cdGlmICh2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgJHtuYW1lfVxcYCB0byBiZSBcXHUyMjY1ICR7bWlufS5gKTtcbn1cbnZhciBBYm9ydEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcblx0XHRzdXBlcigpO1xuXHRcdGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHRoaXMub3JpZ2luYWxFcnJvciA9IG1lc3NhZ2U7XG5cdFx0XHQoe21lc3NhZ2V9ID0gbWVzc2FnZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub3JpZ2luYWxFcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0XHRcdHRoaXMub3JpZ2luYWxFcnJvci5zdGFjayA9IHRoaXMuc3RhY2s7XG5cdFx0fVxuXHRcdHRoaXMubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cbn07XG5mdW5jdGlvbiBjYWxjdWxhdGVEZWxheShyZXRyaWVzQ29uc3VtZWQsIG9wdGlvbnMpIHtcblx0Y29uc3QgYXR0ZW1wdCA9IE1hdGgubWF4KDEsIHJldHJpZXNDb25zdW1lZCArIDEpO1xuXHRjb25zdCByYW5kb20gPSBvcHRpb25zLnJhbmRvbWl6ZSA/IE1hdGgucmFuZG9tKCkgKyAxIDogMTtcblx0bGV0IHRpbWVvdXQgPSBNYXRoLnJvdW5kKHJhbmRvbSAqIG9wdGlvbnMubWluVGltZW91dCAqIG9wdGlvbnMuZmFjdG9yICoqIChhdHRlbXB0IC0gMSkpO1xuXHR0aW1lb3V0ID0gTWF0aC5taW4odGltZW91dCwgb3B0aW9ucy5tYXhUaW1lb3V0KTtcblx0cmV0dXJuIHRpbWVvdXQ7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVSZW1haW5pbmdUaW1lKHN0YXJ0LCBtYXgpIHtcblx0aWYgKCFOdW1iZXIuaXNGaW5pdGUobWF4KSkgcmV0dXJuIG1heDtcblx0cmV0dXJuIG1heCAtIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIG9uQXR0ZW1wdEZhaWx1cmUoeyBlcnJvciwgYXR0ZW1wdE51bWJlciwgcmV0cmllc0NvbnN1bWVkLCBzdGFydFRpbWUsIG9wdGlvbnMgfSkge1xuXHRjb25zdCBub3JtYWxpemVkRXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiAvKiBAX19QVVJFX18gKi8gbmV3IFR5cGVFcnJvcihgTm9uLWVycm9yIHdhcyB0aHJvd246IFwiJHtlcnJvcn1cIi4gWW91IHNob3VsZCBvbmx5IHRocm93IGVycm9ycy5gKTtcblx0aWYgKG5vcm1hbGl6ZWRFcnJvciBpbnN0YW5jZW9mIEFib3J0RXJyb3IpIHRocm93IG5vcm1hbGl6ZWRFcnJvci5vcmlnaW5hbEVycm9yO1xuXHRjb25zdCByZXRyaWVzTGVmdCA9IE51bWJlci5pc0Zpbml0ZShvcHRpb25zLnJldHJpZXMpID8gTWF0aC5tYXgoMCwgb3B0aW9ucy5yZXRyaWVzIC0gcmV0cmllc0NvbnN1bWVkKSA6IG9wdGlvbnMucmV0cmllcztcblx0Y29uc3QgbWF4UmV0cnlUaW1lID0gb3B0aW9ucy5tYXhSZXRyeVRpbWUgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXHRjb25zdCBjb250ZXh0ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0ZXJyb3I6IG5vcm1hbGl6ZWRFcnJvcixcblx0XHRhdHRlbXB0TnVtYmVyLFxuXHRcdHJldHJpZXNMZWZ0LFxuXHRcdHJldHJpZXNDb25zdW1lZFxuXHR9KTtcblx0YXdhaXQgb3B0aW9ucy5vbkZhaWxlZEF0dGVtcHQoY29udGV4dCk7XG5cdGlmIChjYWxjdWxhdGVSZW1haW5pbmdUaW1lKHN0YXJ0VGltZSwgbWF4UmV0cnlUaW1lKSA8PSAwKSB0aHJvdyBub3JtYWxpemVkRXJyb3I7XG5cdGNvbnN0IGNvbnN1bWVSZXRyeSA9IGF3YWl0IG9wdGlvbnMuc2hvdWxkQ29uc3VtZVJldHJ5KGNvbnRleHQpO1xuXHRjb25zdCByZW1haW5pbmdUaW1lID0gY2FsY3VsYXRlUmVtYWluaW5nVGltZShzdGFydFRpbWUsIG1heFJldHJ5VGltZSk7XG5cdGlmIChyZW1haW5pbmdUaW1lIDw9IDAgfHwgcmV0cmllc0xlZnQgPD0gMCkgdGhyb3cgbm9ybWFsaXplZEVycm9yO1xuXHRpZiAobm9ybWFsaXplZEVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yICYmICFyZXF1aXJlX2luZGV4LmlzTmV0d29ya0Vycm9yKG5vcm1hbGl6ZWRFcnJvcikpIHtcblx0XHRpZiAoY29uc3VtZVJldHJ5KSB0aHJvdyBub3JtYWxpemVkRXJyb3I7XG5cdFx0b3B0aW9ucy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmICghYXdhaXQgb3B0aW9ucy5zaG91bGRSZXRyeShjb250ZXh0KSkgdGhyb3cgbm9ybWFsaXplZEVycm9yO1xuXHRpZiAoIWNvbnN1bWVSZXRyeSkge1xuXHRcdG9wdGlvbnMuc2lnbmFsPy50aHJvd0lmQWJvcnRlZCgpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBkZWxheVRpbWUgPSBjYWxjdWxhdGVEZWxheShyZXRyaWVzQ29uc3VtZWQsIG9wdGlvbnMpO1xuXHRjb25zdCBmaW5hbERlbGF5ID0gTWF0aC5taW4oZGVsYXlUaW1lLCByZW1haW5pbmdUaW1lKTtcblx0aWYgKGZpbmFsRGVsYXkgPiAwKSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0Y29uc3Qgb25BYm9ydCA9ICgpID0+IHtcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0VG9rZW4pO1xuXHRcdFx0b3B0aW9ucy5zaWduYWw/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcblx0XHRcdHJlamVjdChvcHRpb25zLnNpZ25hbC5yZWFzb24pO1xuXHRcdH07XG5cdFx0Y29uc3QgdGltZW91dFRva2VuID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRvcHRpb25zLnNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuXHRcdFx0cmVzb2x2ZSgpO1xuXHRcdH0sIGZpbmFsRGVsYXkpO1xuXHRcdGlmIChvcHRpb25zLnVucmVmKSB0aW1lb3V0VG9rZW4udW5yZWY/LigpO1xuXHRcdG9wdGlvbnMuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCwgeyBvbmNlOiB0cnVlIH0pO1xuXHR9KTtcblx0b3B0aW9ucy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdHJldHVybiB0cnVlO1xufVxuYXN5bmMgZnVuY3Rpb24gcFJldHJ5KGlucHV0LCBvcHRpb25zID0ge30pIHtcblx0b3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuXHR2YWxpZGF0ZVJldHJpZXMob3B0aW9ucy5yZXRyaWVzKTtcblx0aWYgKE9iamVjdC5oYXNPd24ob3B0aW9ucywgXCJmb3JldmVyXCIpKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYGZvcmV2ZXJgIG9wdGlvbiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBGb3IgbWFueSB1c2UtY2FzZXMsIHlvdSBjYW4gc2V0IGByZXRyaWVzOiBJbmZpbml0eWAgaW5zdGVhZC5cIik7XG5cdG9wdGlvbnMucmV0cmllcyA/Pz0gMTA7XG5cdG9wdGlvbnMuZmFjdG9yID8/PSAyO1xuXHRvcHRpb25zLm1pblRpbWVvdXQgPz89IDFlMztcblx0b3B0aW9ucy5tYXhUaW1lb3V0ID8/PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cdG9wdGlvbnMubWF4UmV0cnlUaW1lID8/PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cdG9wdGlvbnMucmFuZG9taXplID8/PSBmYWxzZTtcblx0b3B0aW9ucy5vbkZhaWxlZEF0dGVtcHQgPz89ICgpID0+IHt9O1xuXHRvcHRpb25zLnNob3VsZFJldHJ5ID8/PSAoKSA9PiB0cnVlO1xuXHRvcHRpb25zLnNob3VsZENvbnN1bWVSZXRyeSA/Pz0gKCkgPT4gdHJ1ZTtcblx0dmFsaWRhdGVOdW1iZXJPcHRpb24oXCJmYWN0b3JcIiwgb3B0aW9ucy5mYWN0b3IsIHtcblx0XHRtaW46IDAsXG5cdFx0YWxsb3dJbmZpbml0eTogZmFsc2Vcblx0fSk7XG5cdHZhbGlkYXRlTnVtYmVyT3B0aW9uKFwibWluVGltZW91dFwiLCBvcHRpb25zLm1pblRpbWVvdXQsIHtcblx0XHRtaW46IDAsXG5cdFx0YWxsb3dJbmZpbml0eTogZmFsc2Vcblx0fSk7XG5cdHZhbGlkYXRlTnVtYmVyT3B0aW9uKFwibWF4VGltZW91dFwiLCBvcHRpb25zLm1heFRpbWVvdXQsIHtcblx0XHRtaW46IDAsXG5cdFx0YWxsb3dJbmZpbml0eTogdHJ1ZVxuXHR9KTtcblx0dmFsaWRhdGVOdW1iZXJPcHRpb24oXCJtYXhSZXRyeVRpbWVcIiwgb3B0aW9ucy5tYXhSZXRyeVRpbWUsIHtcblx0XHRtaW46IDAsXG5cdFx0YWxsb3dJbmZpbml0eTogdHJ1ZVxuXHR9KTtcblx0aWYgKCEob3B0aW9ucy5mYWN0b3IgPiAwKSkgb3B0aW9ucy5mYWN0b3IgPSAxO1xuXHRvcHRpb25zLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0bGV0IGF0dGVtcHROdW1iZXIgPSAwO1xuXHRsZXQgcmV0cmllc0NvbnN1bWVkID0gMDtcblx0Y29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cdHdoaWxlIChOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5yZXRyaWVzKSA/IHJldHJpZXNDb25zdW1lZCA8PSBvcHRpb25zLnJldHJpZXMgOiB0cnVlKSB7XG5cdFx0YXR0ZW1wdE51bWJlcisrO1xuXHRcdHRyeSB7XG5cdFx0XHRvcHRpb25zLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGlucHV0KGF0dGVtcHROdW1iZXIpO1xuXHRcdFx0b3B0aW9ucy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpZiAoYXdhaXQgb25BdHRlbXB0RmFpbHVyZSh7XG5cdFx0XHRcdGVycm9yLFxuXHRcdFx0XHRhdHRlbXB0TnVtYmVyLFxuXHRcdFx0XHRyZXRyaWVzQ29uc3VtZWQsXG5cdFx0XHRcdHN0YXJ0VGltZSxcblx0XHRcdFx0b3B0aW9uc1xuXHRcdFx0fSkpIHJldHJpZXNDb25zdW1lZCsrO1xuXHRcdH1cblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJSZXRyeSBhdHRlbXB0cyBleGhhdXN0ZWQgd2l0aG91dCB0aHJvd2luZyBhbiBlcnJvci5cIik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wUmV0cnkgPSBwUmV0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/p-retry/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/signal.cjs ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/signal.ts\n/**\n* Race a promise with an abort signal. If the signal is aborted, the promise will\n* be rejected with the error from the signal. If the promise is rejected, the signal will be aborted.\n*\n* @param promise - The promise to race.\n* @param signal - The abort signal.\n* @returns The result of the promise.\n*/\nasync function raceWithSignal(promise, signal) {\n\tif (signal === void 0) return promise;\n\tlet listener;\n\treturn Promise.race([promise.catch((err) => {\n\t\tif (!signal?.aborted) throw err;\n\t\telse return void 0;\n\t}), new Promise((_, reject) => {\n\t\tlistener = () => {\n\t\t\treject(getAbortSignalError(signal));\n\t\t};\n\t\tsignal.addEventListener(\"abort\", listener);\n\t\tif (signal.aborted) reject(getAbortSignalError(signal));\n\t})]).finally(() => signal.removeEventListener(\"abort\", listener));\n}\n/**\n* Get the error from an abort signal. Since you can set the reason to anything,\n* we have to do some type gymnastics to get a proper error message.\n*\n* @param signal - The abort signal.\n* @returns The error from the abort signal.\n*/\nfunction getAbortSignalError(signal) {\n\tif (signal?.reason instanceof Error) return signal.reason;\n\tif (typeof signal?.reason === \"string\") return new Error(signal.reason);\n\treturn /* @__PURE__ */ new Error(\"Aborted\");\n}\n\n//#endregion\nexports.getAbortSignalError = getAbortSignalError;\nexports.raceWithSignal = raceWithSignal;\n//# sourceMappingURL=signal.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zaWduYWwuY2pzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQixzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3NpZ25hbC5janM/NjAwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvc2lnbmFsLnRzXG4vKipcbiogUmFjZSBhIHByb21pc2Ugd2l0aCBhbiBhYm9ydCBzaWduYWwuIElmIHRoZSBzaWduYWwgaXMgYWJvcnRlZCwgdGhlIHByb21pc2Ugd2lsbFxuKiBiZSByZWplY3RlZCB3aXRoIHRoZSBlcnJvciBmcm9tIHRoZSBzaWduYWwuIElmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLCB0aGUgc2lnbmFsIHdpbGwgYmUgYWJvcnRlZC5cbipcbiogQHBhcmFtIHByb21pc2UgLSBUaGUgcHJvbWlzZSB0byByYWNlLlxuKiBAcGFyYW0gc2lnbmFsIC0gVGhlIGFib3J0IHNpZ25hbC5cbiogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB0aGUgcHJvbWlzZS5cbiovXG5hc3luYyBmdW5jdGlvbiByYWNlV2l0aFNpZ25hbChwcm9taXNlLCBzaWduYWwpIHtcblx0aWYgKHNpZ25hbCA9PT0gdm9pZCAwKSByZXR1cm4gcHJvbWlzZTtcblx0bGV0IGxpc3RlbmVyO1xuXHRyZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcblx0XHRpZiAoIXNpZ25hbD8uYWJvcnRlZCkgdGhyb3cgZXJyO1xuXHRcdGVsc2UgcmV0dXJuIHZvaWQgMDtcblx0fSksIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcblx0XHRsaXN0ZW5lciA9ICgpID0+IHtcblx0XHRcdHJlamVjdChnZXRBYm9ydFNpZ25hbEVycm9yKHNpZ25hbCkpO1xuXHRcdH07XG5cdFx0c2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0aWYgKHNpZ25hbC5hYm9ydGVkKSByZWplY3QoZ2V0QWJvcnRTaWduYWxFcnJvcihzaWduYWwpKTtcblx0fSldKS5maW5hbGx5KCgpID0+IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIpKTtcbn1cbi8qKlxuKiBHZXQgdGhlIGVycm9yIGZyb20gYW4gYWJvcnQgc2lnbmFsLiBTaW5jZSB5b3UgY2FuIHNldCB0aGUgcmVhc29uIHRvIGFueXRoaW5nLFxuKiB3ZSBoYXZlIHRvIGRvIHNvbWUgdHlwZSBneW1uYXN0aWNzIHRvIGdldCBhIHByb3BlciBlcnJvciBtZXNzYWdlLlxuKlxuKiBAcGFyYW0gc2lnbmFsIC0gVGhlIGFib3J0IHNpZ25hbC5cbiogQHJldHVybnMgVGhlIGVycm9yIGZyb20gdGhlIGFib3J0IHNpZ25hbC5cbiovXG5mdW5jdGlvbiBnZXRBYm9ydFNpZ25hbEVycm9yKHNpZ25hbCkge1xuXHRpZiAoc2lnbmFsPy5yZWFzb24gaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHNpZ25hbC5yZWFzb247XG5cdGlmICh0eXBlb2Ygc2lnbmFsPy5yZWFzb24gPT09IFwic3RyaW5nXCIpIHJldHVybiBuZXcgRXJyb3Ioc2lnbmFsLnJlYXNvbik7XG5cdHJldHVybiAvKiBAX19QVVJFX18gKi8gbmV3IEVycm9yKFwiQWJvcnRlZFwiKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmdldEFib3J0U2lnbmFsRXJyb3IgPSBnZXRBYm9ydFNpZ25hbEVycm9yO1xuZXhwb3J0cy5yYWNlV2l0aFNpZ25hbCA9IHJhY2VXaXRoU2lnbmFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbmFsLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs":
/*!************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/stream.cjs ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_index = __webpack_require__(/*! ../singletons/async_local_storage/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/async_local_storage/index.cjs\");\n__webpack_require__(/*! ../singletons/index.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/singletons/index.cjs\");\nconst require_config = __webpack_require__(/*! ../runnables/config.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/runnables/config.cjs\");\nconst require_signal = __webpack_require__(/*! ./signal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/signal.cjs\");\n\n//#region src/utils/stream.ts\nvar stream_exports = {};\nrequire_rolldown_runtime.__export(stream_exports, {\n\tAsyncGeneratorWithSetup: () => AsyncGeneratorWithSetup,\n\tIterableReadableStream: () => IterableReadableStream,\n\tatee: () => atee,\n\tconcat: () => concat,\n\tpipeGeneratorWithSetup: () => pipeGeneratorWithSetup\n});\nvar IterableReadableStream = class IterableReadableStream extends ReadableStream {\n\treader;\n\tensureReader() {\n\t\tif (!this.reader) this.reader = this.getReader();\n\t}\n\tasync next() {\n\t\tthis.ensureReader();\n\t\ttry {\n\t\t\tconst result = await this.reader.read();\n\t\t\tif (result.done) {\n\t\t\t\tthis.reader.releaseLock();\n\t\t\t\treturn {\n\t\t\t\t\tdone: true,\n\t\t\t\t\tvalue: void 0\n\t\t\t\t};\n\t\t\t} else return {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: result.value\n\t\t\t};\n\t\t} catch (e) {\n\t\t\tthis.reader.releaseLock();\n\t\t\tthrow e;\n\t\t}\n\t}\n\tasync return() {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\treturn {\n\t\t\tdone: true,\n\t\t\tvalue: void 0\n\t\t};\n\t}\n\tasync throw(e) {\n\t\tthis.ensureReader();\n\t\tif (this.locked) {\n\t\t\tconst cancelPromise = this.reader.cancel();\n\t\t\tthis.reader.releaseLock();\n\t\t\tawait cancelPromise;\n\t\t}\n\t\tthrow e;\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n\tstatic fromReadableStream(stream) {\n\t\tconst reader = stream.getReader();\n\t\treturn new IterableReadableStream({\n\t\t\tstart(controller) {\n\t\t\t\treturn pump();\n\t\t\t\tfunction pump() {\n\t\t\t\t\treturn reader.read().then(({ done, value }) => {\n\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\treturn pump();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tcancel() {\n\t\t\t\treader.releaseLock();\n\t\t\t}\n\t\t});\n\t}\n\tstatic fromAsyncGenerator(generator) {\n\t\treturn new IterableReadableStream({\n\t\t\tasync pull(controller) {\n\t\t\t\tconst { value, done } = await generator.next();\n\t\t\t\tif (done) controller.close();\n\t\t\t\tcontroller.enqueue(value);\n\t\t\t},\n\t\t\tasync cancel(reason) {\n\t\t\t\tawait generator.return(reason);\n\t\t\t}\n\t\t});\n\t}\n};\nfunction atee(iter, length = 2) {\n\tconst buffers = Array.from({ length }, () => []);\n\treturn buffers.map(async function* makeIter(buffer) {\n\t\twhile (true) if (buffer.length === 0) {\n\t\t\tconst result = await iter.next();\n\t\t\tfor (const buffer$1 of buffers) buffer$1.push(result);\n\t\t} else if (buffer[0].done) return;\n\t\telse yield buffer.shift().value;\n\t});\n}\nfunction concat(first, second) {\n\tif (Array.isArray(first) && Array.isArray(second)) return first.concat(second);\n\telse if (typeof first === \"string\" && typeof second === \"string\") return first + second;\n\telse if (typeof first === \"number\" && typeof second === \"number\") return first + second;\n\telse if (\"concat\" in first && typeof first.concat === \"function\") return first.concat(second);\n\telse if (typeof first === \"object\" && typeof second === \"object\") {\n\t\tconst chunk = { ...first };\n\t\tfor (const [key, value] of Object.entries(second)) if (key in chunk && !Array.isArray(chunk[key])) chunk[key] = concat(chunk[key], value);\n\t\telse chunk[key] = value;\n\t\treturn chunk;\n\t} else throw new Error(`Cannot concat ${typeof first} and ${typeof second}`);\n}\nvar AsyncGeneratorWithSetup = class {\n\tgenerator;\n\tsetup;\n\tconfig;\n\tsignal;\n\tfirstResult;\n\tfirstResultUsed = false;\n\tconstructor(params) {\n\t\tthis.generator = params.generator;\n\t\tthis.config = params.config;\n\t\tthis.signal = params.signal ?? this.config?.signal;\n\t\tthis.setup = new Promise((resolve, reject) => {\n\t\t\trequire_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(params.config), async () => {\n\t\t\t\tthis.firstResult = params.generator.next();\n\t\t\t\tif (params.startSetup) this.firstResult.then(params.startSetup).then(resolve, reject);\n\t\t\t\telse this.firstResult.then((_result) => resolve(void 0), reject);\n\t\t\t}, true);\n\t\t});\n\t}\n\tasync next(...args) {\n\t\tthis.signal?.throwIfAborted();\n\t\tif (!this.firstResultUsed) {\n\t\t\tthis.firstResultUsed = true;\n\t\t\treturn this.firstResult;\n\t\t}\n\t\treturn require_index.AsyncLocalStorageProviderSingleton.runWithConfig(require_config.pickRunnableConfigKeys(this.config), this.signal ? async () => {\n\t\t\treturn require_signal.raceWithSignal(this.generator.next(...args), this.signal);\n\t\t} : async () => {\n\t\t\treturn this.generator.next(...args);\n\t\t}, true);\n\t}\n\tasync return(value) {\n\t\treturn this.generator.return(value);\n\t}\n\tasync throw(e) {\n\t\treturn this.generator.throw(e);\n\t}\n\t[Symbol.asyncIterator]() {\n\t\treturn this;\n\t}\n\tasync [Symbol.asyncDispose]() {\n\t\tawait this.return();\n\t}\n};\nasync function pipeGeneratorWithSetup(to, generator, startSetup, signal, ...args) {\n\tconst gen = new AsyncGeneratorWithSetup({\n\t\tgenerator,\n\t\tstartSetup,\n\t\tsignal\n\t});\n\tconst setup = await gen.setup;\n\treturn {\n\t\toutput: to(gen, setup, ...args),\n\t\tsetup\n\t};\n}\n\n//#endregion\nexports.AsyncGeneratorWithSetup = AsyncGeneratorWithSetup;\nexports.IterableReadableStream = IterableReadableStream;\nexports.atee = atee;\nexports.concat = concat;\nexports.pipeGeneratorWithSetup = pipeGeneratorWithSetup;\nObject.defineProperty(exports, \"stream_exports\", ({\n  enumerable: true,\n  get: function () {\n    return stream_exports;\n  }\n}));\n//# sourceMappingURL=stream.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zdHJlYW0uY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLDRIQUFrQztBQUMzRSxzQkFBc0IsbUJBQU8sQ0FBQyxrSkFBNkM7QUFDM0UsbUJBQU8sQ0FBQywwR0FBeUI7QUFDakMsdUJBQXVCLG1CQUFPLENBQUMsMEdBQXlCO0FBQ3hELHVCQUF1QixtQkFBTyxDQUFDLDJGQUFjOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsc0NBQXNDLGNBQWMsTUFBTSxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0IsOEJBQThCO0FBQzlCLFlBQVk7QUFDWixjQUFjO0FBQ2QsOEJBQThCO0FBQzlCLGtEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy9zdHJlYW0uY2pzP2FiY2QiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfaW5kZXggPSByZXF1aXJlKCcuLi9zaW5nbGV0b25zL2FzeW5jX2xvY2FsX3N0b3JhZ2UvaW5kZXguY2pzJyk7XG5yZXF1aXJlKCcuLi9zaW5nbGV0b25zL2luZGV4LmNqcycpO1xuY29uc3QgcmVxdWlyZV9jb25maWcgPSByZXF1aXJlKCcuLi9ydW5uYWJsZXMvY29uZmlnLmNqcycpO1xuY29uc3QgcmVxdWlyZV9zaWduYWwgPSByZXF1aXJlKCcuL3NpZ25hbC5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy9zdHJlYW0udHNcbnZhciBzdHJlYW1fZXhwb3J0cyA9IHt9O1xucmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fZXhwb3J0KHN0cmVhbV9leHBvcnRzLCB7XG5cdEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwOiAoKSA9PiBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCxcblx0SXRlcmFibGVSZWFkYWJsZVN0cmVhbTogKCkgPT4gSXRlcmFibGVSZWFkYWJsZVN0cmVhbSxcblx0YXRlZTogKCkgPT4gYXRlZSxcblx0Y29uY2F0OiAoKSA9PiBjb25jYXQsXG5cdHBpcGVHZW5lcmF0b3JXaXRoU2V0dXA6ICgpID0+IHBpcGVHZW5lcmF0b3JXaXRoU2V0dXBcbn0pO1xudmFyIEl0ZXJhYmxlUmVhZGFibGVTdHJlYW0gPSBjbGFzcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0ge1xuXHRyZWFkZXI7XG5cdGVuc3VyZVJlYWRlcigpIHtcblx0XHRpZiAoIXRoaXMucmVhZGVyKSB0aGlzLnJlYWRlciA9IHRoaXMuZ2V0UmVhZGVyKCk7XG5cdH1cblx0YXN5bmMgbmV4dCgpIHtcblx0XHR0aGlzLmVuc3VyZVJlYWRlcigpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJlYWRlci5yZWFkKCk7XG5cdFx0XHRpZiAocmVzdWx0LmRvbmUpIHtcblx0XHRcdFx0dGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRkb25lOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2b2lkIDBcblx0XHRcdFx0fTtcblx0XHRcdH0gZWxzZSByZXR1cm4ge1xuXHRcdFx0XHRkb25lOiBmYWxzZSxcblx0XHRcdFx0dmFsdWU6IHJlc3VsdC52YWx1ZVxuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdH1cblx0YXN5bmMgcmV0dXJuKCkge1xuXHRcdHRoaXMuZW5zdXJlUmVhZGVyKCk7XG5cdFx0aWYgKHRoaXMubG9ja2VkKSB7XG5cdFx0XHRjb25zdCBjYW5jZWxQcm9taXNlID0gdGhpcy5yZWFkZXIuY2FuY2VsKCk7XG5cdFx0XHR0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHRcdFx0YXdhaXQgY2FuY2VsUHJvbWlzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdGRvbmU6IHRydWUsXG5cdFx0XHR2YWx1ZTogdm9pZCAwXG5cdFx0fTtcblx0fVxuXHRhc3luYyB0aHJvdyhlKSB7XG5cdFx0dGhpcy5lbnN1cmVSZWFkZXIoKTtcblx0XHRpZiAodGhpcy5sb2NrZWQpIHtcblx0XHRcdGNvbnN0IGNhbmNlbFByb21pc2UgPSB0aGlzLnJlYWRlci5jYW5jZWwoKTtcblx0XHRcdHRoaXMucmVhZGVyLnJlbGVhc2VMb2NrKCk7XG5cdFx0XHRhd2FpdCBjYW5jZWxQcm9taXNlO1xuXHRcdH1cblx0XHR0aHJvdyBlO1xuXHR9XG5cdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0YXN5bmMgW1N5bWJvbC5hc3luY0Rpc3Bvc2VdKCkge1xuXHRcdGF3YWl0IHRoaXMucmV0dXJuKCk7XG5cdH1cblx0c3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcblx0XHRjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG5cdFx0cmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtKHtcblx0XHRcdHN0YXJ0KGNvbnRyb2xsZXIpIHtcblx0XHRcdFx0cmV0dXJuIHB1bXAoKTtcblx0XHRcdFx0ZnVuY3Rpb24gcHVtcCgpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVhZGVyLnJlYWQoKS50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHtcblx0XHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXIuY2xvc2UoKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcblx0XHRcdFx0XHRcdHJldHVybiBwdW1wKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRjYW5jZWwoKSB7XG5cdFx0XHRcdHJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdHN0YXRpYyBmcm9tQXN5bmNHZW5lcmF0b3IoZ2VuZXJhdG9yKSB7XG5cdFx0cmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtKHtcblx0XHRcdGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuXHRcdFx0XHRjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBnZW5lcmF0b3IubmV4dCgpO1xuXHRcdFx0XHRpZiAoZG9uZSkgY29udHJvbGxlci5jbG9zZSgpO1xuXHRcdFx0XHRjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuXHRcdFx0fSxcblx0XHRcdGFzeW5jIGNhbmNlbChyZWFzb24pIHtcblx0XHRcdFx0YXdhaXQgZ2VuZXJhdG9yLnJldHVybihyZWFzb24pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gYXRlZShpdGVyLCBsZW5ndGggPSAyKSB7XG5cdGNvbnN0IGJ1ZmZlcnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sICgpID0+IFtdKTtcblx0cmV0dXJuIGJ1ZmZlcnMubWFwKGFzeW5jIGZ1bmN0aW9uKiBtYWtlSXRlcihidWZmZXIpIHtcblx0XHR3aGlsZSAodHJ1ZSkgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGl0ZXIubmV4dCgpO1xuXHRcdFx0Zm9yIChjb25zdCBidWZmZXIkMSBvZiBidWZmZXJzKSBidWZmZXIkMS5wdXNoKHJlc3VsdCk7XG5cdFx0fSBlbHNlIGlmIChidWZmZXJbMF0uZG9uZSkgcmV0dXJuO1xuXHRcdGVsc2UgeWllbGQgYnVmZmVyLnNoaWZ0KCkudmFsdWU7XG5cdH0pO1xufVxuZnVuY3Rpb24gY29uY2F0KGZpcnN0LCBzZWNvbmQpIHtcblx0aWYgKEFycmF5LmlzQXJyYXkoZmlyc3QpICYmIEFycmF5LmlzQXJyYXkoc2Vjb25kKSkgcmV0dXJuIGZpcnN0LmNvbmNhdChzZWNvbmQpO1xuXHRlbHNlIGlmICh0eXBlb2YgZmlyc3QgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHNlY29uZCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZpcnN0ICsgc2Vjb25kO1xuXHRlbHNlIGlmICh0eXBlb2YgZmlyc3QgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHNlY29uZCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIGZpcnN0ICsgc2Vjb25kO1xuXHRlbHNlIGlmIChcImNvbmNhdFwiIGluIGZpcnN0ICYmIHR5cGVvZiBmaXJzdC5jb25jYXQgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGZpcnN0LmNvbmNhdChzZWNvbmQpO1xuXHRlbHNlIGlmICh0eXBlb2YgZmlyc3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHNlY29uZCA9PT0gXCJvYmplY3RcIikge1xuXHRcdGNvbnN0IGNodW5rID0geyAuLi5maXJzdCB9O1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNlY29uZCkpIGlmIChrZXkgaW4gY2h1bmsgJiYgIUFycmF5LmlzQXJyYXkoY2h1bmtba2V5XSkpIGNodW5rW2tleV0gPSBjb25jYXQoY2h1bmtba2V5XSwgdmFsdWUpO1xuXHRcdGVsc2UgY2h1bmtba2V5XSA9IHZhbHVlO1xuXHRcdHJldHVybiBjaHVuaztcblx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbmNhdCAke3R5cGVvZiBmaXJzdH0gYW5kICR7dHlwZW9mIHNlY29uZH1gKTtcbn1cbnZhciBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCA9IGNsYXNzIHtcblx0Z2VuZXJhdG9yO1xuXHRzZXR1cDtcblx0Y29uZmlnO1xuXHRzaWduYWw7XG5cdGZpcnN0UmVzdWx0O1xuXHRmaXJzdFJlc3VsdFVzZWQgPSBmYWxzZTtcblx0Y29uc3RydWN0b3IocGFyYW1zKSB7XG5cdFx0dGhpcy5nZW5lcmF0b3IgPSBwYXJhbXMuZ2VuZXJhdG9yO1xuXHRcdHRoaXMuY29uZmlnID0gcGFyYW1zLmNvbmZpZztcblx0XHR0aGlzLnNpZ25hbCA9IHBhcmFtcy5zaWduYWwgPz8gdGhpcy5jb25maWc/LnNpZ25hbDtcblx0XHR0aGlzLnNldHVwID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0cmVxdWlyZV9pbmRleC5Bc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLnJ1bldpdGhDb25maWcocmVxdWlyZV9jb25maWcucGlja1J1bm5hYmxlQ29uZmlnS2V5cyhwYXJhbXMuY29uZmlnKSwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmZpcnN0UmVzdWx0ID0gcGFyYW1zLmdlbmVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdGlmIChwYXJhbXMuc3RhcnRTZXR1cCkgdGhpcy5maXJzdFJlc3VsdC50aGVuKHBhcmFtcy5zdGFydFNldHVwKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG5cdFx0XHRcdGVsc2UgdGhpcy5maXJzdFJlc3VsdC50aGVuKChfcmVzdWx0KSA9PiByZXNvbHZlKHZvaWQgMCksIHJlamVjdCk7XG5cdFx0XHR9LCB0cnVlKTtcblx0XHR9KTtcblx0fVxuXHRhc3luYyBuZXh0KC4uLmFyZ3MpIHtcblx0XHR0aGlzLnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcblx0XHRpZiAoIXRoaXMuZmlyc3RSZXN1bHRVc2VkKSB7XG5cdFx0XHR0aGlzLmZpcnN0UmVzdWx0VXNlZCA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdGhpcy5maXJzdFJlc3VsdDtcblx0XHR9XG5cdFx0cmV0dXJuIHJlcXVpcmVfaW5kZXguQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKHJlcXVpcmVfY29uZmlnLnBpY2tSdW5uYWJsZUNvbmZpZ0tleXModGhpcy5jb25maWcpLCB0aGlzLnNpZ25hbCA/IGFzeW5jICgpID0+IHtcblx0XHRcdHJldHVybiByZXF1aXJlX3NpZ25hbC5yYWNlV2l0aFNpZ25hbCh0aGlzLmdlbmVyYXRvci5uZXh0KC4uLmFyZ3MpLCB0aGlzLnNpZ25hbCk7XG5cdFx0fSA6IGFzeW5jICgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLmdlbmVyYXRvci5uZXh0KC4uLmFyZ3MpO1xuXHRcdH0sIHRydWUpO1xuXHR9XG5cdGFzeW5jIHJldHVybih2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLmdlbmVyYXRvci5yZXR1cm4odmFsdWUpO1xuXHR9XG5cdGFzeW5jIHRocm93KGUpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0b3IudGhyb3coZSk7XG5cdH1cblx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRhc3luYyBbU3ltYm9sLmFzeW5jRGlzcG9zZV0oKSB7XG5cdFx0YXdhaXQgdGhpcy5yZXR1cm4oKTtcblx0fVxufTtcbmFzeW5jIGZ1bmN0aW9uIHBpcGVHZW5lcmF0b3JXaXRoU2V0dXAodG8sIGdlbmVyYXRvciwgc3RhcnRTZXR1cCwgc2lnbmFsLCAuLi5hcmdzKSB7XG5cdGNvbnN0IGdlbiA9IG5ldyBBc3luY0dlbmVyYXRvcldpdGhTZXR1cCh7XG5cdFx0Z2VuZXJhdG9yLFxuXHRcdHN0YXJ0U2V0dXAsXG5cdFx0c2lnbmFsXG5cdH0pO1xuXHRjb25zdCBzZXR1cCA9IGF3YWl0IGdlbi5zZXR1cDtcblx0cmV0dXJuIHtcblx0XHRvdXRwdXQ6IHRvKGdlbiwgc2V0dXAsIC4uLmFyZ3MpLFxuXHRcdHNldHVwXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5Bc3luY0dlbmVyYXRvcldpdGhTZXR1cCA9IEFzeW5jR2VuZXJhdG9yV2l0aFNldHVwO1xuZXhwb3J0cy5JdGVyYWJsZVJlYWRhYmxlU3RyZWFtID0gSXRlcmFibGVSZWFkYWJsZVN0cmVhbTtcbmV4cG9ydHMuYXRlZSA9IGF0ZWU7XG5leHBvcnRzLmNvbmNhdCA9IGNvbmNhdDtcbmV4cG9ydHMucGlwZUdlbmVyYXRvcldpdGhTZXR1cCA9IHBpcGVHZW5lcmF0b3JXaXRoU2V0dXA7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3N0cmVhbV9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc3RyZWFtX2V4cG9ydHM7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/stream.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/tiktoken.cjs":
/*!**************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/tiktoken.cjs ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_utils_async_caller = __webpack_require__(/*! ./async_caller.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/async_caller.cjs\");\nconst js_tiktoken_lite = require_rolldown_runtime.__toESM(__webpack_require__(/*! js-tiktoken/lite */ \"(action-browser)/./node_modules/js-tiktoken/dist/lite.cjs\"));\n\n//#region src/utils/tiktoken.ts\nvar tiktoken_exports = {};\nrequire_rolldown_runtime.__export(tiktoken_exports, {\n\tencodingForModel: () => encodingForModel,\n\tgetEncoding: () => getEncoding\n});\nconst cache = {};\nconst caller = /* @__PURE__ */ new require_utils_async_caller.AsyncCaller({});\nasync function getEncoding(encoding) {\n\tif (!(encoding in cache)) cache[encoding] = caller.fetch(`https://tiktoken.pages.dev/js/${encoding}.json`).then((res) => res.json()).then((data) => new js_tiktoken_lite.Tiktoken(data)).catch((e) => {\n\t\tdelete cache[encoding];\n\t\tthrow e;\n\t});\n\treturn await cache[encoding];\n}\nasync function encodingForModel(model) {\n\treturn getEncoding((0, js_tiktoken_lite.getEncodingNameForModel)(model));\n}\n\n//#endregion\nexports.encodingForModel = encodingForModel;\nexports.getEncoding = getEncoding;\nObject.defineProperty(exports, \"tiktoken_exports\", ({\n  enumerable: true,\n  get: function () {\n    return tiktoken_exports;\n  }\n}));\n//# sourceMappingURL=tiktoken.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90aWt0b2tlbi5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsNEhBQWtDO0FBQzNFLG1DQUFtQyxtQkFBTyxDQUFDLHVHQUFvQjtBQUMvRCwwREFBMEQsbUJBQU8sQ0FBQyxtRkFBa0I7O0FBRXBGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQSwyRkFBMkYsU0FBUztBQUNwRztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7QUFDeEIsbUJBQW1CO0FBQ25CLG9EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90aWt0b2tlbi5janM/NDhhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV91dGlsc19hc3luY19jYWxsZXIgPSByZXF1aXJlKCcuL2FzeW5jX2NhbGxlci5janMnKTtcbmNvbnN0IGpzX3Rpa3Rva2VuX2xpdGUgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwianMtdGlrdG9rZW4vbGl0ZVwiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvdGlrdG9rZW4udHNcbnZhciB0aWt0b2tlbl9leHBvcnRzID0ge307XG5yZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX19leHBvcnQodGlrdG9rZW5fZXhwb3J0cywge1xuXHRlbmNvZGluZ0Zvck1vZGVsOiAoKSA9PiBlbmNvZGluZ0Zvck1vZGVsLFxuXHRnZXRFbmNvZGluZzogKCkgPT4gZ2V0RW5jb2Rpbmdcbn0pO1xuY29uc3QgY2FjaGUgPSB7fTtcbmNvbnN0IGNhbGxlciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgcmVxdWlyZV91dGlsc19hc3luY19jYWxsZXIuQXN5bmNDYWxsZXIoe30pO1xuYXN5bmMgZnVuY3Rpb24gZ2V0RW5jb2RpbmcoZW5jb2RpbmcpIHtcblx0aWYgKCEoZW5jb2RpbmcgaW4gY2FjaGUpKSBjYWNoZVtlbmNvZGluZ10gPSBjYWxsZXIuZmV0Y2goYGh0dHBzOi8vdGlrdG9rZW4ucGFnZXMuZGV2L2pzLyR7ZW5jb2Rpbmd9Lmpzb25gKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpLnRoZW4oKGRhdGEpID0+IG5ldyBqc190aWt0b2tlbl9saXRlLlRpa3Rva2VuKGRhdGEpKS5jYXRjaCgoZSkgPT4ge1xuXHRcdGRlbGV0ZSBjYWNoZVtlbmNvZGluZ107XG5cdFx0dGhyb3cgZTtcblx0fSk7XG5cdHJldHVybiBhd2FpdCBjYWNoZVtlbmNvZGluZ107XG59XG5hc3luYyBmdW5jdGlvbiBlbmNvZGluZ0Zvck1vZGVsKG1vZGVsKSB7XG5cdHJldHVybiBnZXRFbmNvZGluZygoMCwganNfdGlrdG9rZW5fbGl0ZS5nZXRFbmNvZGluZ05hbWVGb3JNb2RlbCkobW9kZWwpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmVuY29kaW5nRm9yTW9kZWwgPSBlbmNvZGluZ0Zvck1vZGVsO1xuZXhwb3J0cy5nZXRFbmNvZGluZyA9IGdldEVuY29kaW5nO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0aWt0b2tlbl9leHBvcnRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGlrdG9rZW5fZXhwb3J0cztcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWt0b2tlbi5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/tiktoken.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs":
/*!***************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/types/zod.cjs ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst zod_v4_core = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v4/core */ \"(action-browser)/./node_modules/zod/v4/core/index.cjs\"));\n\n//#region src/utils/types/zod.ts\nfunction isZodSchemaV4(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_zod\" in obj)) return false;\n\tconst zod = obj._zod;\n\treturn typeof zod === \"object\" && zod !== null && \"def\" in zod;\n}\nfunction isZodSchemaV3(schema) {\n\tif (typeof schema !== \"object\" || schema === null) return false;\n\tconst obj = schema;\n\tif (!(\"_def\" in obj) || \"_zod\" in obj) return false;\n\tconst def = obj._def;\n\treturn typeof def === \"object\" && def != null && \"typeName\" in def;\n}\n/** Backward compatible isZodSchema for Zod 3 */\nfunction isZodSchema(schema) {\n\tif (isZodSchemaV4(schema)) console.warn(\"[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior.\");\n\treturn isZodSchemaV3(schema);\n}\n/**\n* Given either a Zod schema, or plain object, determine if the input is a Zod schema.\n*\n* @param {unknown} input\n* @returns {boolean} Whether or not the provided input is a Zod schema.\n*/\nfunction isInteropZodSchema(input) {\n\tif (!input) return false;\n\tif (typeof input !== \"object\") return false;\n\tif (Array.isArray(input)) return false;\n\tif (isZodSchemaV4(input) || isZodSchemaV3(input)) return true;\n\treturn false;\n}\nfunction isZodLiteralV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodLiteral\") return true;\n\treturn false;\n}\nfunction isZodLiteralV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"literal\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodLiteral (Zod v3 or v4 literal schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 literal schema, false otherwise.\n*/\nfunction isInteropZodLiteral(obj) {\n\tif (isZodLiteralV3(obj)) return true;\n\tif (isZodLiteralV4(obj)) return true;\n\treturn false;\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns a safe parse result.\n* This function handles both Zod v3 and v4 schemas, returning a result object indicating success or failure.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<InteropZodSafeParseResult<T>>} A promise that resolves to a safe parse result object.\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopSafeParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = await (0, zod_v4_core.parseAsync)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return await schema.safeParseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Asynchronously parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {Promise<T>} A promise that resolves to the parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nasync function interopParseAsync(schema, input) {\n\tif (isZodSchemaV4(schema)) return await (0, zod_v4_core.parseAsync)(schema, input);\n\tif (isZodSchemaV3(schema)) return await schema.parseAsync(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Safely parses the input using the provided Zod schema (v3 or v4) and returns a result object\n* indicating success or failure. This function is compatible with both Zod v3 and v4 schemas.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {InteropZodSafeParseResult<T>} An object with either the parsed data (on success)\n*   or the error (on failure).\n* @throws {Error} If the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopSafeParse(schema, input) {\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst data = (0, zod_v4_core.parse)(schema, input);\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror\n\t\t};\n\t}\n\tif (isZodSchemaV3(schema)) return schema.safeParse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Parses the input using the provided Zod schema (v3 or v4) and returns the parsed value.\n* Throws an error if parsing fails or if the schema is not a recognized Zod v3 or v4 schema.\n*\n* @template T - The expected output type of the schema.\n* @param {InteropZodType<T>} schema - The Zod schema (v3 or v4) to use for parsing.\n* @param {unknown} input - The input value to parse.\n* @returns {T} The parsed value.\n* @throws {Error} If parsing fails or the schema is not a recognized Zod v3 or v4 schema.\n*/\nfunction interopParse(schema, input) {\n\tif (isZodSchemaV4(schema)) return (0, zod_v4_core.parse)(schema, input);\n\tif (isZodSchemaV3(schema)) return schema.parse(input);\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Retrieves the description from a schema definition (v3, v4, or plain object), if available.\n*\n* @param {unknown} schema - The schema to extract the description from.\n* @returns {string | undefined} The description of the schema, or undefined if not present.\n*/\nfunction getSchemaDescription(schema) {\n\tif (isZodSchemaV4(schema)) return zod_v4_core.globalRegistry.get(schema)?.description;\n\tif (isZodSchemaV3(schema)) return schema.description;\n\tif (\"description\" in schema && typeof schema.description === \"string\") return schema.description;\n\treturn void 0;\n}\n/**\n* Determines if the provided Zod schema is \"shapeless\".\n* A shapeless schema is one that does not define any object shape,\n* such as ZodString, ZodNumber, ZodBoolean, ZodAny, etc.\n* For ZodObject, it must have no shape keys to be considered shapeless.\n* ZodRecord schemas are considered shapeless since they define dynamic\n* key-value mappings without fixed keys.\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is shapeless, false otherwise.\n*/\nfunction isShapelessZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\tif (def.typeName === \"ZodObject\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.typeName === \"ZodRecord\") return true;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\tif (def.type === \"object\") {\n\t\t\tconst obj = schema;\n\t\t\treturn !obj.shape || Object.keys(obj.shape).length === 0;\n\t\t}\n\t\tif (def.type === \"record\") return true;\n\t}\n\tif (typeof schema === \"object\" && schema !== null && !(\"shape\" in schema)) return true;\n\treturn false;\n}\n/**\n* Determines if the provided Zod schema should be treated as a simple string schema\n* that maps to DynamicTool. This aligns with the type-level constraint of\n* InteropZodType<string | undefined> which only matches basic string schemas.\n* If the provided schema is just z.string(), we can make the determination that\n* the tool is just a generic string tool that doesn't require any input validation.\n*\n* This function only returns true for basic ZodString schemas, including:\n* - Basic string schemas (z.string())\n* - String schemas with validations (z.string().min(1), z.string().email(), etc.)\n*\n* This function returns false for everything else, including:\n* - String schemas with defaults (z.string().default(\"value\"))\n* - Branded string schemas (z.string().brand<\"UserId\">())\n* - String schemas with catch operations (z.string().catch(\"default\"))\n* - Optional/nullable string schemas (z.string().optional())\n* - Transformed schemas (z.string().transform() or z.object().transform())\n* - Object or record schemas, even if they're empty\n* - Any other schema type\n*\n* @param schema The Zod schema to check.\n* @returns {boolean} True if the schema is a basic ZodString, false otherwise.\n*/\nfunction isSimpleStringZodSchema(schema) {\n\tif (!isInteropZodSchema(schema)) return false;\n\tif (isZodSchemaV3(schema)) {\n\t\tconst def = schema._def;\n\t\treturn def.typeName === \"ZodString\";\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst def = schema._zod.def;\n\t\treturn def.type === \"string\";\n\t}\n\treturn false;\n}\nfunction isZodObjectV3(obj) {\n\tif (typeof obj === \"object\" && obj !== null && \"_def\" in obj && typeof obj._def === \"object\" && obj._def !== null && \"typeName\" in obj._def && obj._def.typeName === \"ZodObject\") return true;\n\treturn false;\n}\nfunction isZodObjectV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"object\") return true;\n\treturn false;\n}\nfunction isZodArrayV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"array\") return true;\n\treturn false;\n}\nfunction isZodOptionalV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"optional\") return true;\n\treturn false;\n}\nfunction isZodNullableV4(obj) {\n\tif (!isZodSchemaV4(obj)) return false;\n\tif (typeof obj === \"object\" && obj !== null && \"_zod\" in obj && typeof obj._zod === \"object\" && obj._zod !== null && \"def\" in obj._zod && typeof obj._zod.def === \"object\" && obj._zod.def !== null && \"type\" in obj._zod.def && obj._zod.def.type === \"nullable\") return true;\n\treturn false;\n}\n/**\n* Determines if the provided value is an InteropZodObject (Zod v3 or v4 object schema).\n*\n* @param obj The value to check.\n* @returns {boolean} True if the value is a Zod v3 or v4 object schema, false otherwise.\n*/\nfunction isInteropZodObject(obj) {\n\tif (isZodObjectV3(obj)) return true;\n\tif (isZodObjectV4(obj)) return true;\n\treturn false;\n}\n/**\n* Retrieves the shape (fields) of a Zod object schema, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObjectShape<T>} The shape of the object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction getInteropZodObjectShape(schema) {\n\tif (isZodSchemaV3(schema)) return schema.shape;\n\tif (isZodSchemaV4(schema)) return schema._zod.def.shape;\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Extends a Zod object schema with additional fields, supporting both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {InteropZodObjectShape} extension - The fields to add to the schema.\n* @returns {InteropZodObject} The extended Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction extendInteropZodObject(schema, extension) {\n\tif (isZodSchemaV3(schema)) return schema.extend(extension);\n\tif (isZodSchemaV4(schema)) return zod_v4_core.util.extend(schema, extension);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a partial version of a Zod object schema, making all fields optional.\n* Supports both Zod v3 and v4.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @returns {InteropZodObject} The partial Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPartial(schema) {\n\tif (isZodSchemaV3(schema)) return schema.partial();\n\tif (isZodSchemaV4(schema)) return zod_v4_core.util.partial(zod_v4_core.$ZodOptional, schema, void 0);\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a strict version of a Zod object schema, disallowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies strictness\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply strictness recursively to nested objects/arrays.\n* @returns {InteropZodObject} The strict Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectStrict(schema, recursive = false) {\n\tif (isZodSchemaV3(schema)) return schema.strict();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectStrict(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectStrict(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0, zod_v4_core.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0, zod_v4_core.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0, zod_v4_core._never)(zod_v4_core.$ZodNever)\n\t\t});\n\t\tconst meta = zod_v4_core.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a passthrough version of a Zod object schema, allowing unknown keys.\n* Supports both Zod v3 and v4 object schemas. If `recursive` is true, applies passthrough\n* recursively to all nested object schemas and arrays of object schemas.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {boolean} [recursive=false] - Whether to apply passthrough recursively to nested objects/arrays.\n* @returns {InteropZodObject} The passthrough Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectPassthrough(schema, recursive = false) {\n\tif (isZodObjectV3(schema)) return schema.passthrough();\n\tif (isZodObjectV4(schema)) {\n\t\tconst outputShape = schema._zod.def.shape;\n\t\tif (recursive) for (const [key, keySchema] of Object.entries(schema._zod.def.shape)) {\n\t\t\tif (isZodObjectV4(keySchema)) {\n\t\t\t\tconst outputSchema = interopZodObjectPassthrough(keySchema, recursive);\n\t\t\t\toutputShape[key] = outputSchema;\n\t\t\t} else if (isZodArrayV4(keySchema)) {\n\t\t\t\tlet elementSchema = keySchema._zod.def.element;\n\t\t\t\tif (isZodObjectV4(elementSchema)) elementSchema = interopZodObjectPassthrough(elementSchema, recursive);\n\t\t\t\toutputShape[key] = (0, zod_v4_core.clone)(keySchema, {\n\t\t\t\t\t...keySchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else outputShape[key] = keySchema;\n\t\t\tconst meta$1 = zod_v4_core.globalRegistry.get(keySchema);\n\t\t\tif (meta$1) zod_v4_core.globalRegistry.add(outputShape[key], meta$1);\n\t\t}\n\t\tconst modifiedSchema = (0, zod_v4_core.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape,\n\t\t\tcatchall: (0, zod_v4_core._unknown)(zod_v4_core.$ZodUnknown)\n\t\t});\n\t\tconst meta = zod_v4_core.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\n/**\n* Returns a getter function for the default value of a Zod schema, if one is defined.\n* Supports both Zod v3 and v4 schemas. If the schema has a default value,\n* the returned function will return that value when called. If no default is defined,\n* returns undefined.\n*\n* @template T - The type of the Zod schema.\n* @param {T} schema - The Zod schema instance (either v3 or v4).\n* @returns {(() => InferInteropZodOutput<T>) | undefined} A function that returns the default value, or undefined if no default is set.\n*/\nfunction getInteropZodDefaultGetter(schema) {\n\tif (isZodSchemaV3(schema)) try {\n\t\tconst defaultValue = schema.parse(void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\tif (isZodSchemaV4(schema)) try {\n\t\tconst defaultValue = (0, zod_v4_core.parse)(schema, void 0);\n\t\treturn () => defaultValue;\n\t} catch {\n\t\treturn void 0;\n\t}\n\treturn void 0;\n}\nfunction isZodTransformV3(schema) {\n\treturn isZodSchemaV3(schema) && \"typeName\" in schema._def && schema._def.typeName === \"ZodEffects\";\n}\nfunction isZodTransformV4(schema) {\n\treturn isZodSchemaV4(schema) && schema._zod.def.type === \"pipe\";\n}\nfunction interopZodTransformInputSchemaImpl(schema, recursive, cache) {\n\tconst cached = cache.get(schema);\n\tif (cached !== void 0) return cached;\n\tif (isZodSchemaV3(schema)) {\n\t\tif (isZodTransformV3(schema)) return interopZodTransformInputSchemaImpl(schema._def.schema, recursive, cache);\n\t\treturn schema;\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tlet outputSchema = schema;\n\t\tif (isZodTransformV4(schema)) outputSchema = interopZodTransformInputSchemaImpl(schema._zod.def.in, recursive, cache);\n\t\tif (recursive) {\n\t\t\tif (isZodObjectV4(outputSchema)) {\n\t\t\t\tconst outputShape = {};\n\t\t\t\tfor (const [key, keySchema] of Object.entries(outputSchema._zod.def.shape)) outputShape[key] = interopZodTransformInputSchemaImpl(keySchema, recursive, cache);\n\t\t\t\toutputSchema = (0, zod_v4_core.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tshape: outputShape\n\t\t\t\t});\n\t\t\t} else if (isZodArrayV4(outputSchema)) {\n\t\t\t\tconst elementSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.element, recursive, cache);\n\t\t\t\toutputSchema = (0, zod_v4_core.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\telement: elementSchema\n\t\t\t\t});\n\t\t\t} else if (isZodOptionalV4(outputSchema)) {\n\t\t\t\tconst innerSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.innerType, recursive, cache);\n\t\t\t\toutputSchema = (0, zod_v4_core.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tinnerType: innerSchema\n\t\t\t\t});\n\t\t\t} else if (isZodNullableV4(outputSchema)) {\n\t\t\t\tconst innerSchema = interopZodTransformInputSchemaImpl(outputSchema._zod.def.innerType, recursive, cache);\n\t\t\t\toutputSchema = (0, zod_v4_core.clone)(outputSchema, {\n\t\t\t\t\t...outputSchema._zod.def,\n\t\t\t\t\tinnerType: innerSchema\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst meta = zod_v4_core.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core.globalRegistry.add(outputSchema, meta);\n\t\tcache.set(schema, outputSchema);\n\t\treturn outputSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodType or z4.$ZodType\");\n}\n/**\n* Returns the input type of a Zod transform schema, for both v3 and v4.\n* If the schema is not a transform, returns undefined. If `recursive` is true,\n* recursively processes nested object schemas and arrays of object schemas.\n*\n* @param schema - The Zod schema instance (v3 or v4)\n* @param {boolean} [recursive=false] - Whether to recursively process nested objects/arrays.\n* @returns The input Zod schema of the transform, or undefined if not a transform\n*/\nfunction interopZodTransformInputSchema(schema, recursive = false) {\n\tconst cache = /* @__PURE__ */ new WeakMap();\n\treturn interopZodTransformInputSchemaImpl(schema, recursive, cache);\n}\n/**\n* Creates a modified version of a Zod object schema where fields matching a predicate are made optional.\n* Supports both Zod v3 and v4 schemas and preserves the original schema version.\n*\n* @template T - The type of the Zod object schema.\n* @param {T} schema - The Zod object schema instance (either v3 or v4).\n* @param {(key: string, value: InteropZodType) => boolean} predicate - Function to determine which fields should be optional.\n* @returns {InteropZodObject} The modified Zod object schema.\n* @throws {Error} If the schema is not a Zod v3 or v4 object.\n*/\nfunction interopZodObjectMakeFieldsOptional(schema, predicate) {\n\tif (isZodSchemaV3(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst modifiedShape = {};\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) modifiedShape[key] = value.optional();\n\t\telse modifiedShape[key] = value;\n\t\treturn schema.extend(modifiedShape);\n\t}\n\tif (isZodSchemaV4(schema)) {\n\t\tconst shape = getInteropZodObjectShape(schema);\n\t\tconst outputShape = { ...schema._zod.def.shape };\n\t\tfor (const [key, value] of Object.entries(shape)) if (predicate(key, value)) outputShape[key] = new zod_v4_core.$ZodOptional({\n\t\t\ttype: \"optional\",\n\t\t\tinnerType: value\n\t\t});\n\t\tconst modifiedSchema = (0, zod_v4_core.clone)(schema, {\n\t\t\t...schema._zod.def,\n\t\t\tshape: outputShape\n\t\t});\n\t\tconst meta = zod_v4_core.globalRegistry.get(schema);\n\t\tif (meta) zod_v4_core.globalRegistry.add(modifiedSchema, meta);\n\t\treturn modifiedSchema;\n\t}\n\tthrow new Error(\"Schema must be an instance of z3.ZodObject or z4.$ZodObject\");\n}\nfunction isInteropZodError(e) {\n\treturn e instanceof Error && (e.constructor.name === \"ZodError\" || e.constructor.name === \"$ZodError\");\n}\n\n//#endregion\nexports.extendInteropZodObject = extendInteropZodObject;\nexports.getInteropZodDefaultGetter = getInteropZodDefaultGetter;\nexports.getInteropZodObjectShape = getInteropZodObjectShape;\nexports.getSchemaDescription = getSchemaDescription;\nexports.interopParse = interopParse;\nexports.interopParseAsync = interopParseAsync;\nexports.interopSafeParse = interopSafeParse;\nexports.interopSafeParseAsync = interopSafeParseAsync;\nexports.interopZodObjectMakeFieldsOptional = interopZodObjectMakeFieldsOptional;\nexports.interopZodObjectPartial = interopZodObjectPartial;\nexports.interopZodObjectPassthrough = interopZodObjectPassthrough;\nexports.interopZodObjectStrict = interopZodObjectStrict;\nexports.interopZodTransformInputSchema = interopZodTransformInputSchema;\nexports.isInteropZodError = isInteropZodError;\nexports.isInteropZodLiteral = isInteropZodLiteral;\nexports.isInteropZodObject = isInteropZodObject;\nexports.isInteropZodSchema = isInteropZodSchema;\nexports.isShapelessZodSchema = isShapelessZodSchema;\nexports.isSimpleStringZodSchema = isSimpleStringZodSchema;\nexports.isZodArrayV4 = isZodArrayV4;\nexports.isZodLiteralV3 = isZodLiteralV3;\nexports.isZodLiteralV4 = isZodLiteralV4;\nexports.isZodNullableV4 = isZodNullableV4;\nexports.isZodObjectV3 = isZodObjectV3;\nexports.isZodObjectV4 = isZodObjectV4;\nexports.isZodOptionalV4 = isZodOptionalV4;\nexports.isZodSchema = isZodSchema;\nexports.isZodSchemaV3 = isZodSchemaV3;\nexports.isZodSchemaV4 = isZodSchemaV4;\n//# sourceMappingURL=zod.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90eXBlcy96b2QuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLCtIQUFxQztBQUM5RSxxREFBcUQsbUJBQU8sQ0FBQywwRUFBYTs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSx1Q0FBdUM7QUFDbkQsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSxZQUFZO0FBQ3hCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0IsVUFBVSxTQUFTO0FBQ25CLFlBQVksOEJBQThCO0FBQzFDO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1CQUFtQjtBQUM3QixVQUFVLFNBQVM7QUFDbkIsWUFBWSxHQUFHO0FBQ2YsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQixZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsWUFBWSwwQkFBMEI7QUFDdEMsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSx1QkFBdUI7QUFDakMsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixZQUFZLGtCQUFrQjtBQUM5QixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxTQUFTO0FBQ25CLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxTQUFTO0FBQ25CLFlBQVksa0JBQWtCO0FBQzlCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEdBQUc7QUFDYixZQUFZLDhDQUE4QztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxHQUFHO0FBQ2IsVUFBVSxpREFBaUQ7QUFDM0QsWUFBWSxrQkFBa0I7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUIsa0NBQWtDO0FBQ2xDLGdDQUFnQztBQUNoQyw0QkFBNEI7QUFDNUIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsNkJBQTZCO0FBQzdCLDBDQUEwQztBQUMxQywrQkFBK0I7QUFDL0IsbUNBQW1DO0FBQ25DLDhCQUE4QjtBQUM5QixzQ0FBc0M7QUFDdEMseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQiwwQkFBMEI7QUFDMUIsMEJBQTBCO0FBQzFCLDRCQUE0QjtBQUM1QiwrQkFBK0I7QUFDL0Isb0JBQW9CO0FBQ3BCLHNCQUFzQjtBQUN0QixzQkFBc0I7QUFDdEIsdUJBQXVCO0FBQ3ZCLHFCQUFxQjtBQUNyQixxQkFBcUI7QUFDckIsdUJBQXVCO0FBQ3ZCLG1CQUFtQjtBQUNuQixxQkFBcUI7QUFDckIscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy90eXBlcy96b2QuY2pzP2QxOTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHpvZF92NF9jb3JlID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcInpvZC92NC9jb3JlXCIpKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy90eXBlcy96b2QudHNcbmZ1bmN0aW9uIGlzWm9kU2NoZW1hVjQoc2NoZW1hKSB7XG5cdGlmICh0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IHNjaGVtYSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBvYmogPSBzY2hlbWE7XG5cdGlmICghKFwiX3pvZFwiIGluIG9iaikpIHJldHVybiBmYWxzZTtcblx0Y29uc3Qgem9kID0gb2JqLl96b2Q7XG5cdHJldHVybiB0eXBlb2Ygem9kID09PSBcIm9iamVjdFwiICYmIHpvZCAhPT0gbnVsbCAmJiBcImRlZlwiIGluIHpvZDtcbn1cbmZ1bmN0aW9uIGlzWm9kU2NoZW1hVjMoc2NoZW1hKSB7XG5cdGlmICh0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiIHx8IHNjaGVtYSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBvYmogPSBzY2hlbWE7XG5cdGlmICghKFwiX2RlZlwiIGluIG9iaikgfHwgXCJfem9kXCIgaW4gb2JqKSByZXR1cm4gZmFsc2U7XG5cdGNvbnN0IGRlZiA9IG9iai5fZGVmO1xuXHRyZXR1cm4gdHlwZW9mIGRlZiA9PT0gXCJvYmplY3RcIiAmJiBkZWYgIT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gZGVmO1xufVxuLyoqIEJhY2t3YXJkIGNvbXBhdGlibGUgaXNab2RTY2hlbWEgZm9yIFpvZCAzICovXG5mdW5jdGlvbiBpc1pvZFNjaGVtYShzY2hlbWEpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgY29uc29sZS53YXJuKFwiW1dBUk5JTkddIEF0dGVtcHRpbmcgdG8gdXNlIFpvZCA0IHNjaGVtYSBpbiBhIGNvbnRleHQgd2hlcmUgWm9kIDMgc2NoZW1hIGlzIGV4cGVjdGVkLiBUaGlzIG1heSBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKTtcblx0cmV0dXJuIGlzWm9kU2NoZW1hVjMoc2NoZW1hKTtcbn1cbi8qKlxuKiBHaXZlbiBlaXRoZXIgYSBab2Qgc2NoZW1hLCBvciBwbGFpbiBvYmplY3QsIGRldGVybWluZSBpZiB0aGUgaW5wdXQgaXMgYSBab2Qgc2NoZW1hLlxuKlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0XG4qIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvdmlkZWQgaW5wdXQgaXMgYSBab2Qgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZFNjaGVtYShpbnB1dCkge1xuXHRpZiAoIWlucHV0KSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcblx0aWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSByZXR1cm4gZmFsc2U7XG5cdGlmIChpc1pvZFNjaGVtYVY0KGlucHV0KSB8fCBpc1pvZFNjaGVtYVYzKGlucHV0KSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kTGl0ZXJhbFYzKG9iaikge1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfZGVmXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX2RlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX2RlZiAhPT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gb2JqLl9kZWYgJiYgb2JqLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kTGl0ZXJhbFwiKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNab2RMaXRlcmFsVjQob2JqKSB7XG5cdGlmICghaXNab2RTY2hlbWFWNChvYmopKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcIl96b2RcIiBpbiBvYmogJiYgdHlwZW9mIG9iai5fem9kID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kICE9PSBudWxsICYmIFwiZGVmXCIgaW4gb2JqLl96b2QgJiYgdHlwZW9mIG9iai5fem9kLmRlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZC5kZWYgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gb2JqLl96b2QuZGVmICYmIG9iai5fem9kLmRlZi50eXBlID09PSBcImxpdGVyYWxcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBJbnRlcm9wWm9kTGl0ZXJhbCAoWm9kIHYzIG9yIHY0IGxpdGVyYWwgc2NoZW1hKS5cbipcbiogQHBhcmFtIG9iaiBUaGUgdmFsdWUgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBhIFpvZCB2MyBvciB2NCBsaXRlcmFsIHNjaGVtYSwgZmFsc2Ugb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZExpdGVyYWwob2JqKSB7XG5cdGlmIChpc1pvZExpdGVyYWxWMyhvYmopKSByZXR1cm4gdHJ1ZTtcblx0aWYgKGlzWm9kTGl0ZXJhbFY0KG9iaikpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogQXN5bmNocm9ub3VzbHkgcGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIGEgc2FmZSBwYXJzZSByZXN1bHQuXG4qIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcywgcmV0dXJuaW5nIGEgcmVzdWx0IG9iamVjdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZS5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgZXhwZWN0ZWQgb3V0cHV0IHR5cGUgb2YgdGhlIHNjaGVtYS5cbiogQHBhcmFtIHtJbnRlcm9wWm9kVHlwZTxUPn0gc2NoZW1hIC0gVGhlIFpvZCBzY2hlbWEgKHYzIG9yIHY0KSB0byB1c2UgZm9yIHBhcnNpbmcuXG4qIEBwYXJhbSB7dW5rbm93bn0gaW5wdXQgLSBUaGUgaW5wdXQgdmFsdWUgdG8gcGFyc2UuXG4qIEByZXR1cm5zIHtQcm9taXNlPEludGVyb3Bab2RTYWZlUGFyc2VSZXN1bHQ8VD4+fSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHNhZmUgcGFyc2UgcmVzdWx0IG9iamVjdC5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGludGVyb3BTYWZlUGFyc2VBc3luYyhzY2hlbWEsIGlucHV0KSB7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHRyeSB7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0ICgwLCB6b2RfdjRfY29yZS5wYXJzZUFzeW5jKShzY2hlbWEsIGlucHV0KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGFcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yXG5cdFx0fTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gYXdhaXQgc2NoZW1hLnNhZmVQYXJzZUFzeW5jKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBBc3luY2hyb25vdXNseSBwYXJzZXMgdGhlIGlucHV0IHVzaW5nIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hICh2MyBvciB2NCkgYW5kIHJldHVybnMgdGhlIHBhcnNlZCB2YWx1ZS5cbiogVGhyb3dzIGFuIGVycm9yIGlmIHBhcnNpbmcgZmFpbHMgb3IgaWYgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIGV4cGVjdGVkIG91dHB1dCB0eXBlIG9mIHRoZSBzY2hlbWEuXG4qIEBwYXJhbSB7SW50ZXJvcFpvZFR5cGU8VD59IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hICh2MyBvciB2NCkgdG8gdXNlIGZvciBwYXJzaW5nLlxuKiBAcGFyYW0ge3Vua25vd259IGlucHV0IC0gVGhlIGlucHV0IHZhbHVlIHRvIHBhcnNlLlxuKiBAcmV0dXJucyB7UHJvbWlzZTxUPn0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHBhcnNlZCB2YWx1ZS5cbiogQHRocm93cyB7RXJyb3J9IElmIHBhcnNpbmcgZmFpbHMgb3IgdGhlIHNjaGVtYSBpcyBub3QgYSByZWNvZ25pemVkIFpvZCB2MyBvciB2NCBzY2hlbWEuXG4qL1xuYXN5bmMgZnVuY3Rpb24gaW50ZXJvcFBhcnNlQXN5bmMoc2NoZW1hLCBpbnB1dCkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gYXdhaXQgKDAsIHpvZF92NF9jb3JlLnBhcnNlQXN5bmMpKHNjaGVtYSwgaW5wdXQpO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gYXdhaXQgc2NoZW1hLnBhcnNlQXN5bmMoaW5wdXQpO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RUeXBlIG9yIHo0LiRab2RUeXBlXCIpO1xufVxuLyoqXG4qIFNhZmVseSBwYXJzZXMgdGhlIGlucHV0IHVzaW5nIHRoZSBwcm92aWRlZCBab2Qgc2NoZW1hICh2MyBvciB2NCkgYW5kIHJldHVybnMgYSByZXN1bHQgb2JqZWN0XG4qIGluZGljYXRpbmcgc3VjY2VzcyBvciBmYWlsdXJlLiBUaGlzIGZ1bmN0aW9uIGlzIGNvbXBhdGlibGUgd2l0aCBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcy5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgZXhwZWN0ZWQgb3V0cHV0IHR5cGUgb2YgdGhlIHNjaGVtYS5cbiogQHBhcmFtIHtJbnRlcm9wWm9kVHlwZTxUPn0gc2NoZW1hIC0gVGhlIFpvZCBzY2hlbWEgKHYzIG9yIHY0KSB0byB1c2UgZm9yIHBhcnNpbmcuXG4qIEBwYXJhbSB7dW5rbm93bn0gaW5wdXQgLSBUaGUgaW5wdXQgdmFsdWUgdG8gcGFyc2UuXG4qIEByZXR1cm5zIHtJbnRlcm9wWm9kU2FmZVBhcnNlUmVzdWx0PFQ+fSBBbiBvYmplY3Qgd2l0aCBlaXRoZXIgdGhlIHBhcnNlZCBkYXRhIChvbiBzdWNjZXNzKVxuKiAgIG9yIHRoZSBlcnJvciAob24gZmFpbHVyZSkuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIHJlY29nbml6ZWQgWm9kIHYzIG9yIHY0IHNjaGVtYS5cbiovXG5mdW5jdGlvbiBpbnRlcm9wU2FmZVBhcnNlKHNjaGVtYSwgaW5wdXQpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgdHJ5IHtcblx0XHRjb25zdCBkYXRhID0gKDAsIHpvZF92NF9jb3JlLnBhcnNlKShzY2hlbWEsIGlucHV0KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGFcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yXG5cdFx0fTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZFR5cGUgb3IgejQuJFpvZFR5cGVcIik7XG59XG4vKipcbiogUGFyc2VzIHRoZSBpbnB1dCB1c2luZyB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSAodjMgb3IgdjQpIGFuZCByZXR1cm5zIHRoZSBwYXJzZWQgdmFsdWUuXG4qIFRocm93cyBhbiBlcnJvciBpZiBwYXJzaW5nIGZhaWxzIG9yIGlmIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSBleHBlY3RlZCBvdXRwdXQgdHlwZSBvZiB0aGUgc2NoZW1hLlxuKiBAcGFyYW0ge0ludGVyb3Bab2RUeXBlPFQ+fSBzY2hlbWEgLSBUaGUgWm9kIHNjaGVtYSAodjMgb3IgdjQpIHRvIHVzZSBmb3IgcGFyc2luZy5cbiogQHBhcmFtIHt1bmtub3dufSBpbnB1dCAtIFRoZSBpbnB1dCB2YWx1ZSB0byBwYXJzZS5cbiogQHJldHVybnMge1R9IFRoZSBwYXJzZWQgdmFsdWUuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiBwYXJzaW5nIGZhaWxzIG9yIHRoZSBzY2hlbWEgaXMgbm90IGEgcmVjb2duaXplZCBab2QgdjMgb3IgdjQgc2NoZW1hLlxuKi9cbmZ1bmN0aW9uIGludGVyb3BQYXJzZShzY2hlbWEsIGlucHV0KSB7XG5cdGlmIChpc1pvZFNjaGVtYVY0KHNjaGVtYSkpIHJldHVybiAoMCwgem9kX3Y0X2NvcmUucGFyc2UpKHNjaGVtYSwgaW5wdXQpO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnBhcnNlKGlucHV0KTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kVHlwZSBvciB6NC4kWm9kVHlwZVwiKTtcbn1cbi8qKlxuKiBSZXRyaWV2ZXMgdGhlIGRlc2NyaXB0aW9uIGZyb20gYSBzY2hlbWEgZGVmaW5pdGlvbiAodjMsIHY0LCBvciBwbGFpbiBvYmplY3QpLCBpZiBhdmFpbGFibGUuXG4qXG4qIEBwYXJhbSB7dW5rbm93bn0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBleHRyYWN0IHRoZSBkZXNjcmlwdGlvbiBmcm9tLlxuKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfSBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHNjaGVtYSwgb3IgdW5kZWZpbmVkIGlmIG5vdCBwcmVzZW50LlxuKi9cbmZ1bmN0aW9uIGdldFNjaGVtYURlc2NyaXB0aW9uKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gem9kX3Y0X2NvcmUuZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk/LmRlc2NyaXB0aW9uO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLmRlc2NyaXB0aW9uO1xuXHRpZiAoXCJkZXNjcmlwdGlvblwiIGluIHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hLmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiKSByZXR1cm4gc2NoZW1hLmRlc2NyaXB0aW9uO1xuXHRyZXR1cm4gdm9pZCAwO1xufVxuLyoqXG4qIERldGVybWluZXMgaWYgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgaXMgXCJzaGFwZWxlc3NcIi5cbiogQSBzaGFwZWxlc3Mgc2NoZW1hIGlzIG9uZSB0aGF0IGRvZXMgbm90IGRlZmluZSBhbnkgb2JqZWN0IHNoYXBlLFxuKiBzdWNoIGFzIFpvZFN0cmluZywgWm9kTnVtYmVyLCBab2RCb29sZWFuLCBab2RBbnksIGV0Yy5cbiogRm9yIFpvZE9iamVjdCwgaXQgbXVzdCBoYXZlIG5vIHNoYXBlIGtleXMgdG8gYmUgY29uc2lkZXJlZCBzaGFwZWxlc3MuXG4qIFpvZFJlY29yZCBzY2hlbWFzIGFyZSBjb25zaWRlcmVkIHNoYXBlbGVzcyBzaW5jZSB0aGV5IGRlZmluZSBkeW5hbWljXG4qIGtleS12YWx1ZSBtYXBwaW5ncyB3aXRob3V0IGZpeGVkIGtleXMuXG4qXG4qIEBwYXJhbSBzY2hlbWEgVGhlIFpvZCBzY2hlbWEgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY2hlbWEgaXMgc2hhcGVsZXNzLCBmYWxzZSBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gaXNTaGFwZWxlc3Nab2RTY2hlbWEoc2NoZW1hKSB7XG5cdGlmICghaXNJbnRlcm9wWm9kU2NoZW1hKHNjaGVtYSkpIHJldHVybiBmYWxzZTtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkge1xuXHRcdGNvbnN0IGRlZiA9IHNjaGVtYS5fZGVmO1xuXHRcdGlmIChkZWYudHlwZU5hbWUgPT09IFwiWm9kT2JqZWN0XCIpIHtcblx0XHRcdGNvbnN0IG9iaiA9IHNjaGVtYTtcblx0XHRcdHJldHVybiAhb2JqLnNoYXBlIHx8IE9iamVjdC5rZXlzKG9iai5zaGFwZSkubGVuZ3RoID09PSAwO1xuXHRcdH1cblx0XHRpZiAoZGVmLnR5cGVOYW1lID09PSBcIlpvZFJlY29yZFwiKSByZXR1cm4gdHJ1ZTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuXHRcdGlmIChkZWYudHlwZSA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0Y29uc3Qgb2JqID0gc2NoZW1hO1xuXHRcdFx0cmV0dXJuICFvYmouc2hhcGUgfHwgT2JqZWN0LmtleXMob2JqLnNoYXBlKS5sZW5ndGggPT09IDA7XG5cdFx0fVxuXHRcdGlmIChkZWYudHlwZSA9PT0gXCJyZWNvcmRcIikgcmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgc2NoZW1hICE9PSBudWxsICYmICEoXCJzaGFwZVwiIGluIHNjaGVtYSkpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogRGV0ZXJtaW5lcyBpZiB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIHNpbXBsZSBzdHJpbmcgc2NoZW1hXG4qIHRoYXQgbWFwcyB0byBEeW5hbWljVG9vbC4gVGhpcyBhbGlnbnMgd2l0aCB0aGUgdHlwZS1sZXZlbCBjb25zdHJhaW50IG9mXG4qIEludGVyb3Bab2RUeXBlPHN0cmluZyB8IHVuZGVmaW5lZD4gd2hpY2ggb25seSBtYXRjaGVzIGJhc2ljIHN0cmluZyBzY2hlbWFzLlxuKiBJZiB0aGUgcHJvdmlkZWQgc2NoZW1hIGlzIGp1c3Qgei5zdHJpbmcoKSwgd2UgY2FuIG1ha2UgdGhlIGRldGVybWluYXRpb24gdGhhdFxuKiB0aGUgdG9vbCBpcyBqdXN0IGEgZ2VuZXJpYyBzdHJpbmcgdG9vbCB0aGF0IGRvZXNuJ3QgcmVxdWlyZSBhbnkgaW5wdXQgdmFsaWRhdGlvbi5cbipcbiogVGhpcyBmdW5jdGlvbiBvbmx5IHJldHVybnMgdHJ1ZSBmb3IgYmFzaWMgWm9kU3RyaW5nIHNjaGVtYXMsIGluY2x1ZGluZzpcbiogLSBCYXNpYyBzdHJpbmcgc2NoZW1hcyAoei5zdHJpbmcoKSlcbiogLSBTdHJpbmcgc2NoZW1hcyB3aXRoIHZhbGlkYXRpb25zICh6LnN0cmluZygpLm1pbigxKSwgei5zdHJpbmcoKS5lbWFpbCgpLCBldGMuKVxuKlxuKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgZmFsc2UgZm9yIGV2ZXJ5dGhpbmcgZWxzZSwgaW5jbHVkaW5nOlxuKiAtIFN0cmluZyBzY2hlbWFzIHdpdGggZGVmYXVsdHMgKHouc3RyaW5nKCkuZGVmYXVsdChcInZhbHVlXCIpKVxuKiAtIEJyYW5kZWQgc3RyaW5nIHNjaGVtYXMgKHouc3RyaW5nKCkuYnJhbmQ8XCJVc2VySWRcIj4oKSlcbiogLSBTdHJpbmcgc2NoZW1hcyB3aXRoIGNhdGNoIG9wZXJhdGlvbnMgKHouc3RyaW5nKCkuY2F0Y2goXCJkZWZhdWx0XCIpKVxuKiAtIE9wdGlvbmFsL251bGxhYmxlIHN0cmluZyBzY2hlbWFzICh6LnN0cmluZygpLm9wdGlvbmFsKCkpXG4qIC0gVHJhbnNmb3JtZWQgc2NoZW1hcyAoei5zdHJpbmcoKS50cmFuc2Zvcm0oKSBvciB6Lm9iamVjdCgpLnRyYW5zZm9ybSgpKVxuKiAtIE9iamVjdCBvciByZWNvcmQgc2NoZW1hcywgZXZlbiBpZiB0aGV5J3JlIGVtcHR5XG4qIC0gQW55IG90aGVyIHNjaGVtYSB0eXBlXG4qXG4qIEBwYXJhbSBzY2hlbWEgVGhlIFpvZCBzY2hlbWEgdG8gY2hlY2suXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzY2hlbWEgaXMgYSBiYXNpYyBab2RTdHJpbmcsIGZhbHNlIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBpc1NpbXBsZVN0cmluZ1pvZFNjaGVtYShzY2hlbWEpIHtcblx0aWYgKCFpc0ludGVyb3Bab2RTY2hlbWEoc2NoZW1hKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl9kZWY7XG5cdFx0cmV0dXJuIGRlZi50eXBlTmFtZSA9PT0gXCJab2RTdHJpbmdcIjtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuXHRcdHJldHVybiBkZWYudHlwZSA9PT0gXCJzdHJpbmdcIjtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE9iamVjdFYzKG9iaikge1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfZGVmXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX2RlZiA9PT0gXCJvYmplY3RcIiAmJiBvYmouX2RlZiAhPT0gbnVsbCAmJiBcInR5cGVOYW1lXCIgaW4gb2JqLl9kZWYgJiYgb2JqLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kT2JqZWN0XCIpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1pvZE9iamVjdFY0KG9iaikge1xuXHRpZiAoIWlzWm9kU2NoZW1hVjQob2JqKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgXCJfem9kXCIgaW4gb2JqICYmIHR5cGVvZiBvYmouX3pvZCA9PT0gXCJvYmplY3RcIiAmJiBvYmouX3pvZCAhPT0gbnVsbCAmJiBcImRlZlwiIGluIG9iai5fem9kICYmIHR5cGVvZiBvYmouX3pvZC5kZWYgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QuZGVmICE9PSBudWxsICYmIFwidHlwZVwiIGluIG9iai5fem9kLmRlZiAmJiBvYmouX3pvZC5kZWYudHlwZSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kQXJyYXlWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwiYXJyYXlcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kT3B0aW9uYWxWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwib3B0aW9uYWxcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWm9kTnVsbGFibGVWNChvYmopIHtcblx0aWYgKCFpc1pvZFNjaGVtYVY0KG9iaikpIHJldHVybiBmYWxzZTtcblx0aWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmIFwiX3pvZFwiIGluIG9iaiAmJiB0eXBlb2Ygb2JqLl96b2QgPT09IFwib2JqZWN0XCIgJiYgb2JqLl96b2QgIT09IG51bGwgJiYgXCJkZWZcIiBpbiBvYmouX3pvZCAmJiB0eXBlb2Ygb2JqLl96b2QuZGVmID09PSBcIm9iamVjdFwiICYmIG9iai5fem9kLmRlZiAhPT0gbnVsbCAmJiBcInR5cGVcIiBpbiBvYmouX3pvZC5kZWYgJiYgb2JqLl96b2QuZGVmLnR5cGUgPT09IFwibnVsbGFibGVcIikgcmV0dXJuIHRydWU7XG5cdHJldHVybiBmYWxzZTtcbn1cbi8qKlxuKiBEZXRlcm1pbmVzIGlmIHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBhbiBJbnRlcm9wWm9kT2JqZWN0IChab2QgdjMgb3IgdjQgb2JqZWN0IHNjaGVtYSkuXG4qXG4qIEBwYXJhbSBvYmogVGhlIHZhbHVlIHRvIGNoZWNrLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBab2QgdjMgb3IgdjQgb2JqZWN0IHNjaGVtYSwgZmFsc2Ugb3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZE9iamVjdChvYmopIHtcblx0aWYgKGlzWm9kT2JqZWN0VjMob2JqKSkgcmV0dXJuIHRydWU7XG5cdGlmIChpc1pvZE9iamVjdFY0KG9iaikpIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4vKipcbiogUmV0cmlldmVzIHRoZSBzaGFwZSAoZmllbGRzKSBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBzdXBwb3J0aW5nIGJvdGggWm9kIHYzIGFuZCB2NC5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEBwYXJhbSB7VH0gc2NoZW1hIC0gVGhlIFpvZCBvYmplY3Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdFNoYXBlPFQ+fSBUaGUgc2hhcGUgb2YgdGhlIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnNoYXBlO1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBFeHRlbmRzIGEgWm9kIG9iamVjdCBzY2hlbWEgd2l0aCBhZGRpdGlvbmFsIGZpZWxkcywgc3VwcG9ydGluZyBib3RoIFpvZCB2MyBhbmQgdjQuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHBhcmFtIHtJbnRlcm9wWm9kT2JqZWN0U2hhcGV9IGV4dGVuc2lvbiAtIFRoZSBmaWVsZHMgdG8gYWRkIHRvIHRoZSBzY2hlbWEuXG4qIEByZXR1cm5zIHtJbnRlcm9wWm9kT2JqZWN0fSBUaGUgZXh0ZW5kZWQgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIFpvZCB2MyBvciB2NCBvYmplY3QuXG4qL1xuZnVuY3Rpb24gZXh0ZW5kSW50ZXJvcFpvZE9iamVjdChzY2hlbWEsIGV4dGVuc2lvbikge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLmV4dGVuZChleHRlbnNpb24pO1xuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSByZXR1cm4gem9kX3Y0X2NvcmUudXRpbC5leHRlbmQoc2NoZW1hLCBleHRlbnNpb24pO1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBSZXR1cm5zIGEgcGFydGlhbCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEsIG1ha2luZyBhbGwgZmllbGRzIG9wdGlvbmFsLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBwYXJ0aWFsIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGludGVyb3Bab2RPYmplY3RQYXJ0aWFsKHNjaGVtYSkge1xuXHRpZiAoaXNab2RTY2hlbWFWMyhzY2hlbWEpKSByZXR1cm4gc2NoZW1hLnBhcnRpYWwoKTtcblx0aWYgKGlzWm9kU2NoZW1hVjQoc2NoZW1hKSkgcmV0dXJuIHpvZF92NF9jb3JlLnV0aWwucGFydGlhbCh6b2RfdjRfY29yZS4kWm9kT3B0aW9uYWwsIHNjaGVtYSwgdm9pZCAwKTtcblx0dGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgejMuWm9kT2JqZWN0IG9yIHo0LiRab2RPYmplY3RcIik7XG59XG4vKipcbiogUmV0dXJucyBhIHN0cmljdCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEsIGRpc2FsbG93aW5nIHVua25vd24ga2V5cy5cbiogU3VwcG9ydHMgYm90aCBab2QgdjMgYW5kIHY0IG9iamVjdCBzY2hlbWFzLiBJZiBgcmVjdXJzaXZlYCBpcyB0cnVlLCBhcHBsaWVzIHN0cmljdG5lc3NcbiogcmVjdXJzaXZlbHkgdG8gYWxsIG5lc3RlZCBvYmplY3Qgc2NoZW1hcyBhbmQgYXJyYXlzIG9mIG9iamVjdCBzY2hlbWFzLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHBhcmFtIHtUfSBzY2hlbWEgLSBUaGUgWm9kIG9iamVjdCBzY2hlbWEgaW5zdGFuY2UgKGVpdGhlciB2MyBvciB2NCkuXG4qIEBwYXJhbSB7Ym9vbGVhbn0gW3JlY3Vyc2l2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGFwcGx5IHN0cmljdG5lc3MgcmVjdXJzaXZlbHkgdG8gbmVzdGVkIG9iamVjdHMvYXJyYXlzLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdH0gVGhlIHN0cmljdCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0U3RyaWN0KHNjaGVtYSwgcmVjdXJzaXZlID0gZmFsc2UpIHtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkgcmV0dXJuIHNjaGVtYS5zdHJpY3QoKTtcblx0aWYgKGlzWm9kT2JqZWN0VjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IG91dHB1dFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHRcdGlmIChyZWN1cnNpdmUpIGZvciAoY29uc3QgW2tleSwga2V5U2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEuX3pvZC5kZWYuc2hhcGUpKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RTdHJpY3Qoa2V5U2NoZW1hLCByZWN1cnNpdmUpO1xuXHRcdFx0XHRvdXRwdXRTaGFwZVtrZXldID0gb3V0cHV0U2NoZW1hO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZEFycmF5VjQoa2V5U2NoZW1hKSkge1xuXHRcdFx0XHRsZXQgZWxlbWVudFNjaGVtYSA9IGtleVNjaGVtYS5fem9kLmRlZi5lbGVtZW50O1xuXHRcdFx0XHRpZiAoaXNab2RPYmplY3RWNChlbGVtZW50U2NoZW1hKSkgZWxlbWVudFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RTdHJpY3QoZWxlbWVudFNjaGVtYSwgcmVjdXJzaXZlKTtcblx0XHRcdFx0b3V0cHV0U2hhcGVba2V5XSA9ICgwLCB6b2RfdjRfY29yZS5jbG9uZSkoa2V5U2NoZW1hLCB7XG5cdFx0XHRcdFx0Li4ua2V5U2NoZW1hLl96b2QuZGVmLFxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRTY2hlbWFcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Ugb3V0cHV0U2hhcGVba2V5XSA9IGtleVNjaGVtYTtcblx0XHRcdGNvbnN0IG1ldGEkMSA9IHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmdldChrZXlTY2hlbWEpO1xuXHRcdFx0aWYgKG1ldGEkMSkgem9kX3Y0X2NvcmUuZ2xvYmFsUmVnaXN0cnkuYWRkKG91dHB1dFNoYXBlW2tleV0sIG1ldGEkMSk7XG5cdFx0fVxuXHRcdGNvbnN0IG1vZGlmaWVkU2NoZW1hID0gKDAsIHpvZF92NF9jb3JlLmNsb25lKShzY2hlbWEsIHtcblx0XHRcdC4uLnNjaGVtYS5fem9kLmRlZixcblx0XHRcdHNoYXBlOiBvdXRwdXRTaGFwZSxcblx0XHRcdGNhdGNoYWxsOiAoMCwgem9kX3Y0X2NvcmUuX25ldmVyKSh6b2RfdjRfY29yZS4kWm9kTmV2ZXIpXG5cdFx0fSk7XG5cdFx0Y29uc3QgbWV0YSA9IHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmdldChzY2hlbWEpO1xuXHRcdGlmIChtZXRhKSB6b2RfdjRfY29yZS5nbG9iYWxSZWdpc3RyeS5hZGQobW9kaWZpZWRTY2hlbWEsIG1ldGEpO1xuXHRcdHJldHVybiBtb2RpZmllZFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbi8qKlxuKiBSZXR1cm5zIGEgcGFzc3Rocm91Z2ggdmVyc2lvbiBvZiBhIFpvZCBvYmplY3Qgc2NoZW1hLCBhbGxvd2luZyB1bmtub3duIGtleXMuXG4qIFN1cHBvcnRzIGJvdGggWm9kIHYzIGFuZCB2NCBvYmplY3Qgc2NoZW1hcy4gSWYgYHJlY3Vyc2l2ZWAgaXMgdHJ1ZSwgYXBwbGllcyBwYXNzdGhyb3VnaFxuKiByZWN1cnNpdmVseSB0byBhbGwgbmVzdGVkIG9iamVjdCBzY2hlbWFzIGFuZCBhcnJheXMgb2Ygb2JqZWN0IHNjaGVtYXMuXG4qXG4qIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgb2JqZWN0IHNjaGVtYSBpbnN0YW5jZSAoZWl0aGVyIHYzIG9yIHY0KS5cbiogQHBhcmFtIHtib29sZWFufSBbcmVjdXJzaXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gYXBwbHkgcGFzc3Rocm91Z2ggcmVjdXJzaXZlbHkgdG8gbmVzdGVkIG9iamVjdHMvYXJyYXlzLlxuKiBAcmV0dXJucyB7SW50ZXJvcFpvZE9iamVjdH0gVGhlIHBhc3N0aHJvdWdoIFpvZCBvYmplY3Qgc2NoZW1hLlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVtYSBpcyBub3QgYSBab2QgdjMgb3IgdjQgb2JqZWN0LlxuKi9cbmZ1bmN0aW9uIGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaChzY2hlbWEsIHJlY3Vyc2l2ZSA9IGZhbHNlKSB7XG5cdGlmIChpc1pvZE9iamVjdFYzKHNjaGVtYSkpIHJldHVybiBzY2hlbWEucGFzc3Rocm91Z2goKTtcblx0aWYgKGlzWm9kT2JqZWN0VjQoc2NoZW1hKSkge1xuXHRcdGNvbnN0IG91dHB1dFNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuXHRcdGlmIChyZWN1cnNpdmUpIGZvciAoY29uc3QgW2tleSwga2V5U2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEuX3pvZC5kZWYuc2hhcGUpKSB7XG5cdFx0XHRpZiAoaXNab2RPYmplY3RWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IG91dHB1dFNjaGVtYSA9IGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaChrZXlTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNoYXBlW2tleV0gPSBvdXRwdXRTY2hlbWE7XG5cdFx0XHR9IGVsc2UgaWYgKGlzWm9kQXJyYXlWNChrZXlTY2hlbWEpKSB7XG5cdFx0XHRcdGxldCBlbGVtZW50U2NoZW1hID0ga2V5U2NoZW1hLl96b2QuZGVmLmVsZW1lbnQ7XG5cdFx0XHRcdGlmIChpc1pvZE9iamVjdFY0KGVsZW1lbnRTY2hlbWEpKSBlbGVtZW50U2NoZW1hID0gaW50ZXJvcFpvZE9iamVjdFBhc3N0aHJvdWdoKGVsZW1lbnRTY2hlbWEsIHJlY3Vyc2l2ZSk7XG5cdFx0XHRcdG91dHB1dFNoYXBlW2tleV0gPSAoMCwgem9kX3Y0X2NvcmUuY2xvbmUpKGtleVNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLmtleVNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50U2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIG91dHB1dFNoYXBlW2tleV0gPSBrZXlTY2hlbWE7XG5cdFx0XHRjb25zdCBtZXRhJDEgPSB6b2RfdjRfY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoa2V5U2NoZW1hKTtcblx0XHRcdGlmIChtZXRhJDEpIHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChvdXRwdXRTaGFwZVtrZXldLCBtZXRhJDEpO1xuXHRcdH1cblx0XHRjb25zdCBtb2RpZmllZFNjaGVtYSA9ICgwLCB6b2RfdjRfY29yZS5jbG9uZSkoc2NoZW1hLCB7XG5cdFx0XHQuLi5zY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRzaGFwZTogb3V0cHV0U2hhcGUsXG5cdFx0XHRjYXRjaGFsbDogKDAsIHpvZF92NF9jb3JlLl91bmtub3duKSh6b2RfdjRfY29yZS4kWm9kVW5rbm93bilcblx0XHR9KTtcblx0XHRjb25zdCBtZXRhID0gem9kX3Y0X2NvcmUuZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChtb2RpZmllZFNjaGVtYSwgbWV0YSk7XG5cdFx0cmV0dXJuIG1vZGlmaWVkU2NoZW1hO1xuXHR9XG5cdHRocm93IG5ldyBFcnJvcihcIlNjaGVtYSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIHozLlpvZE9iamVjdCBvciB6NC4kWm9kT2JqZWN0XCIpO1xufVxuLyoqXG4qIFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gZm9yIHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgWm9kIHNjaGVtYSwgaWYgb25lIGlzIGRlZmluZWQuXG4qIFN1cHBvcnRzIGJvdGggWm9kIHYzIGFuZCB2NCBzY2hlbWFzLiBJZiB0aGUgc2NoZW1hIGhhcyBhIGRlZmF1bHQgdmFsdWUsXG4qIHRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGF0IHZhbHVlIHdoZW4gY2FsbGVkLiBJZiBubyBkZWZhdWx0IGlzIGRlZmluZWQsXG4qIHJldHVybnMgdW5kZWZpbmVkLlxuKlxuKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBab2Qgc2NoZW1hLlxuKiBAcGFyYW0ge1R9IHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcmV0dXJucyB7KCgpID0+IEluZmVySW50ZXJvcFpvZE91dHB1dDxUPikgfCB1bmRlZmluZWR9IEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlLCBvciB1bmRlZmluZWQgaWYgbm8gZGVmYXVsdCBpcyBzZXQuXG4qL1xuZnVuY3Rpb24gZ2V0SW50ZXJvcFpvZERlZmF1bHRHZXR0ZXIoc2NoZW1hKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHRyeSB7XG5cdFx0Y29uc3QgZGVmYXVsdFZhbHVlID0gc2NoZW1hLnBhcnNlKHZvaWQgMCk7XG5cdFx0cmV0dXJuICgpID0+IGRlZmF1bHRWYWx1ZTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB0cnkge1xuXHRcdGNvbnN0IGRlZmF1bHRWYWx1ZSA9ICgwLCB6b2RfdjRfY29yZS5wYXJzZSkoc2NoZW1hLCB2b2lkIDApO1xuXHRcdHJldHVybiAoKSA9PiBkZWZhdWx0VmFsdWU7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0cmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzWm9kVHJhbnNmb3JtVjMoc2NoZW1hKSB7XG5cdHJldHVybiBpc1pvZFNjaGVtYVYzKHNjaGVtYSkgJiYgXCJ0eXBlTmFtZVwiIGluIHNjaGVtYS5fZGVmICYmIHNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBcIlpvZEVmZmVjdHNcIjtcbn1cbmZ1bmN0aW9uIGlzWm9kVHJhbnNmb3JtVjQoc2NoZW1hKSB7XG5cdHJldHVybiBpc1pvZFNjaGVtYVY0KHNjaGVtYSkgJiYgc2NoZW1hLl96b2QuZGVmLnR5cGUgPT09IFwicGlwZVwiO1xufVxuZnVuY3Rpb24gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChzY2hlbWEsIHJlY3Vyc2l2ZSwgY2FjaGUpIHtcblx0Y29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KHNjaGVtYSk7XG5cdGlmIChjYWNoZWQgIT09IHZvaWQgMCkgcmV0dXJuIGNhY2hlZDtcblx0aWYgKGlzWm9kU2NoZW1hVjMoc2NoZW1hKSkge1xuXHRcdGlmIChpc1pvZFRyYW5zZm9ybVYzKHNjaGVtYSkpIHJldHVybiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWFJbXBsKHNjaGVtYS5fZGVmLnNjaGVtYSwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0cmV0dXJuIHNjaGVtYTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0bGV0IG91dHB1dFNjaGVtYSA9IHNjaGVtYTtcblx0XHRpZiAoaXNab2RUcmFuc2Zvcm1WNChzY2hlbWEpKSBvdXRwdXRTY2hlbWEgPSBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWFJbXBsKHNjaGVtYS5fem9kLmRlZi5pbiwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0aWYgKHJlY3Vyc2l2ZSkge1xuXHRcdFx0aWYgKGlzWm9kT2JqZWN0VjQob3V0cHV0U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBvdXRwdXRTaGFwZSA9IHt9O1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIGtleVNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMob3V0cHV0U2NoZW1hLl96b2QuZGVmLnNoYXBlKSkgb3V0cHV0U2hhcGVba2V5XSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYUltcGwoa2V5U2NoZW1hLCByZWN1cnNpdmUsIGNhY2hlKTtcblx0XHRcdFx0b3V0cHV0U2NoZW1hID0gKDAsIHpvZF92NF9jb3JlLmNsb25lKShvdXRwdXRTY2hlbWEsIHtcblx0XHRcdFx0XHQuLi5vdXRwdXRTY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRcdFx0c2hhcGU6IG91dHB1dFNoYXBlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIGlmIChpc1pvZEFycmF5VjQob3V0cHV0U2NoZW1hKSkge1xuXHRcdFx0XHRjb25zdCBlbGVtZW50U2NoZW1hID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChvdXRwdXRTY2hlbWEuX3pvZC5kZWYuZWxlbWVudCwgcmVjdXJzaXZlLCBjYWNoZSk7XG5cdFx0XHRcdG91dHB1dFNjaGVtYSA9ICgwLCB6b2RfdjRfY29yZS5jbG9uZSkob3V0cHV0U2NoZW1hLCB7XG5cdFx0XHRcdFx0Li4ub3V0cHV0U2NoZW1hLl96b2QuZGVmLFxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRTY2hlbWFcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2UgaWYgKGlzWm9kT3B0aW9uYWxWNChvdXRwdXRTY2hlbWEpKSB7XG5cdFx0XHRcdGNvbnN0IGlubmVyU2NoZW1hID0gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChvdXRwdXRTY2hlbWEuX3pvZC5kZWYuaW5uZXJUeXBlLCByZWN1cnNpdmUsIGNhY2hlKTtcblx0XHRcdFx0b3V0cHV0U2NoZW1hID0gKDAsIHpvZF92NF9jb3JlLmNsb25lKShvdXRwdXRTY2hlbWEsIHtcblx0XHRcdFx0XHQuLi5vdXRwdXRTY2hlbWEuX3pvZC5kZWYsXG5cdFx0XHRcdFx0aW5uZXJUeXBlOiBpbm5lclNjaGVtYVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAoaXNab2ROdWxsYWJsZVY0KG91dHB1dFNjaGVtYSkpIHtcblx0XHRcdFx0Y29uc3QgaW5uZXJTY2hlbWEgPSBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWFJbXBsKG91dHB1dFNjaGVtYS5fem9kLmRlZi5pbm5lclR5cGUsIHJlY3Vyc2l2ZSwgY2FjaGUpO1xuXHRcdFx0XHRvdXRwdXRTY2hlbWEgPSAoMCwgem9kX3Y0X2NvcmUuY2xvbmUpKG91dHB1dFNjaGVtYSwge1xuXHRcdFx0XHRcdC4uLm91dHB1dFNjaGVtYS5fem9kLmRlZixcblx0XHRcdFx0XHRpbm5lclR5cGU6IGlubmVyU2NoZW1hXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBtZXRhID0gem9kX3Y0X2NvcmUuZ2xvYmFsUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG5cdFx0aWYgKG1ldGEpIHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChvdXRwdXRTY2hlbWEsIG1ldGEpO1xuXHRcdGNhY2hlLnNldChzY2hlbWEsIG91dHB1dFNjaGVtYSk7XG5cdFx0cmV0dXJuIG91dHB1dFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RUeXBlIG9yIHo0LiRab2RUeXBlXCIpO1xufVxuLyoqXG4qIFJldHVybnMgdGhlIGlucHV0IHR5cGUgb2YgYSBab2QgdHJhbnNmb3JtIHNjaGVtYSwgZm9yIGJvdGggdjMgYW5kIHY0LlxuKiBJZiB0aGUgc2NoZW1hIGlzIG5vdCBhIHRyYW5zZm9ybSwgcmV0dXJucyB1bmRlZmluZWQuIElmIGByZWN1cnNpdmVgIGlzIHRydWUsXG4qIHJlY3Vyc2l2ZWx5IHByb2Nlc3NlcyBuZXN0ZWQgb2JqZWN0IHNjaGVtYXMgYW5kIGFycmF5cyBvZiBvYmplY3Qgc2NoZW1hcy5cbipcbiogQHBhcmFtIHNjaGVtYSAtIFRoZSBab2Qgc2NoZW1hIGluc3RhbmNlICh2MyBvciB2NClcbiogQHBhcmFtIHtib29sZWFufSBbcmVjdXJzaXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmVjdXJzaXZlbHkgcHJvY2VzcyBuZXN0ZWQgb2JqZWN0cy9hcnJheXMuXG4qIEByZXR1cm5zIFRoZSBpbnB1dCBab2Qgc2NoZW1hIG9mIHRoZSB0cmFuc2Zvcm0sIG9yIHVuZGVmaW5lZCBpZiBub3QgYSB0cmFuc2Zvcm1cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kVHJhbnNmb3JtSW5wdXRTY2hlbWEoc2NoZW1hLCByZWN1cnNpdmUgPSBmYWxzZSkge1xuXHRjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuXHRyZXR1cm4gaW50ZXJvcFpvZFRyYW5zZm9ybUlucHV0U2NoZW1hSW1wbChzY2hlbWEsIHJlY3Vyc2l2ZSwgY2FjaGUpO1xufVxuLyoqXG4qIENyZWF0ZXMgYSBtb2RpZmllZCB2ZXJzaW9uIG9mIGEgWm9kIG9iamVjdCBzY2hlbWEgd2hlcmUgZmllbGRzIG1hdGNoaW5nIGEgcHJlZGljYXRlIGFyZSBtYWRlIG9wdGlvbmFsLlxuKiBTdXBwb3J0cyBib3RoIFpvZCB2MyBhbmQgdjQgc2NoZW1hcyBhbmQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzY2hlbWEgdmVyc2lvbi5cbipcbiogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgWm9kIG9iamVjdCBzY2hlbWEuXG4qIEBwYXJhbSB7VH0gc2NoZW1hIC0gVGhlIFpvZCBvYmplY3Qgc2NoZW1hIGluc3RhbmNlIChlaXRoZXIgdjMgb3IgdjQpLlxuKiBAcGFyYW0geyhrZXk6IHN0cmluZywgdmFsdWU6IEludGVyb3Bab2RUeXBlKSA9PiBib29sZWFufSBwcmVkaWNhdGUgLSBGdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hpY2ggZmllbGRzIHNob3VsZCBiZSBvcHRpb25hbC5cbiogQHJldHVybnMge0ludGVyb3Bab2RPYmplY3R9IFRoZSBtb2RpZmllZCBab2Qgb2JqZWN0IHNjaGVtYS5cbiogQHRocm93cyB7RXJyb3J9IElmIHRoZSBzY2hlbWEgaXMgbm90IGEgWm9kIHYzIG9yIHY0IG9iamVjdC5cbiovXG5mdW5jdGlvbiBpbnRlcm9wWm9kT2JqZWN0TWFrZUZpZWxkc09wdGlvbmFsKHNjaGVtYSwgcHJlZGljYXRlKSB7XG5cdGlmIChpc1pvZFNjaGVtYVYzKHNjaGVtYSkpIHtcblx0XHRjb25zdCBzaGFwZSA9IGdldEludGVyb3Bab2RPYmplY3RTaGFwZShzY2hlbWEpO1xuXHRcdGNvbnN0IG1vZGlmaWVkU2hhcGUgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIGlmIChwcmVkaWNhdGUoa2V5LCB2YWx1ZSkpIG1vZGlmaWVkU2hhcGVba2V5XSA9IHZhbHVlLm9wdGlvbmFsKCk7XG5cdFx0ZWxzZSBtb2RpZmllZFNoYXBlW2tleV0gPSB2YWx1ZTtcblx0XHRyZXR1cm4gc2NoZW1hLmV4dGVuZChtb2RpZmllZFNoYXBlKTtcblx0fVxuXHRpZiAoaXNab2RTY2hlbWFWNChzY2hlbWEpKSB7XG5cdFx0Y29uc3Qgc2hhcGUgPSBnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGUoc2NoZW1hKTtcblx0XHRjb25zdCBvdXRwdXRTaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlIH07XG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hhcGUpKSBpZiAocHJlZGljYXRlKGtleSwgdmFsdWUpKSBvdXRwdXRTaGFwZVtrZXldID0gbmV3IHpvZF92NF9jb3JlLiRab2RPcHRpb25hbCh7XG5cdFx0XHR0eXBlOiBcIm9wdGlvbmFsXCIsXG5cdFx0XHRpbm5lclR5cGU6IHZhbHVlXG5cdFx0fSk7XG5cdFx0Y29uc3QgbW9kaWZpZWRTY2hlbWEgPSAoMCwgem9kX3Y0X2NvcmUuY2xvbmUpKHNjaGVtYSwge1xuXHRcdFx0Li4uc2NoZW1hLl96b2QuZGVmLFxuXHRcdFx0c2hhcGU6IG91dHB1dFNoYXBlXG5cdFx0fSk7XG5cdFx0Y29uc3QgbWV0YSA9IHpvZF92NF9jb3JlLmdsb2JhbFJlZ2lzdHJ5LmdldChzY2hlbWEpO1xuXHRcdGlmIChtZXRhKSB6b2RfdjRfY29yZS5nbG9iYWxSZWdpc3RyeS5hZGQobW9kaWZpZWRTY2hlbWEsIG1ldGEpO1xuXHRcdHJldHVybiBtb2RpZmllZFNjaGVtYTtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiB6My5ab2RPYmplY3Qgb3IgejQuJFpvZE9iamVjdFwiKTtcbn1cbmZ1bmN0aW9uIGlzSW50ZXJvcFpvZEVycm9yKGUpIHtcblx0cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvciAmJiAoZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIlpvZEVycm9yXCIgfHwgZS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIiRab2RFcnJvclwiKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmV4dGVuZEludGVyb3Bab2RPYmplY3QgPSBleHRlbmRJbnRlcm9wWm9kT2JqZWN0O1xuZXhwb3J0cy5nZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlciA9IGdldEludGVyb3Bab2REZWZhdWx0R2V0dGVyO1xuZXhwb3J0cy5nZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGUgPSBnZXRJbnRlcm9wWm9kT2JqZWN0U2hhcGU7XG5leHBvcnRzLmdldFNjaGVtYURlc2NyaXB0aW9uID0gZ2V0U2NoZW1hRGVzY3JpcHRpb247XG5leHBvcnRzLmludGVyb3BQYXJzZSA9IGludGVyb3BQYXJzZTtcbmV4cG9ydHMuaW50ZXJvcFBhcnNlQXN5bmMgPSBpbnRlcm9wUGFyc2VBc3luYztcbmV4cG9ydHMuaW50ZXJvcFNhZmVQYXJzZSA9IGludGVyb3BTYWZlUGFyc2U7XG5leHBvcnRzLmludGVyb3BTYWZlUGFyc2VBc3luYyA9IGludGVyb3BTYWZlUGFyc2VBc3luYztcbmV4cG9ydHMuaW50ZXJvcFpvZE9iamVjdE1ha2VGaWVsZHNPcHRpb25hbCA9IGludGVyb3Bab2RPYmplY3RNYWtlRmllbGRzT3B0aW9uYWw7XG5leHBvcnRzLmludGVyb3Bab2RPYmplY3RQYXJ0aWFsID0gaW50ZXJvcFpvZE9iamVjdFBhcnRpYWw7XG5leHBvcnRzLmludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaCA9IGludGVyb3Bab2RPYmplY3RQYXNzdGhyb3VnaDtcbmV4cG9ydHMuaW50ZXJvcFpvZE9iamVjdFN0cmljdCA9IGludGVyb3Bab2RPYmplY3RTdHJpY3Q7XG5leHBvcnRzLmludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYSA9IGludGVyb3Bab2RUcmFuc2Zvcm1JbnB1dFNjaGVtYTtcbmV4cG9ydHMuaXNJbnRlcm9wWm9kRXJyb3IgPSBpc0ludGVyb3Bab2RFcnJvcjtcbmV4cG9ydHMuaXNJbnRlcm9wWm9kTGl0ZXJhbCA9IGlzSW50ZXJvcFpvZExpdGVyYWw7XG5leHBvcnRzLmlzSW50ZXJvcFpvZE9iamVjdCA9IGlzSW50ZXJvcFpvZE9iamVjdDtcbmV4cG9ydHMuaXNJbnRlcm9wWm9kU2NoZW1hID0gaXNJbnRlcm9wWm9kU2NoZW1hO1xuZXhwb3J0cy5pc1NoYXBlbGVzc1pvZFNjaGVtYSA9IGlzU2hhcGVsZXNzWm9kU2NoZW1hO1xuZXhwb3J0cy5pc1NpbXBsZVN0cmluZ1pvZFNjaGVtYSA9IGlzU2ltcGxlU3RyaW5nWm9kU2NoZW1hO1xuZXhwb3J0cy5pc1pvZEFycmF5VjQgPSBpc1pvZEFycmF5VjQ7XG5leHBvcnRzLmlzWm9kTGl0ZXJhbFYzID0gaXNab2RMaXRlcmFsVjM7XG5leHBvcnRzLmlzWm9kTGl0ZXJhbFY0ID0gaXNab2RMaXRlcmFsVjQ7XG5leHBvcnRzLmlzWm9kTnVsbGFibGVWNCA9IGlzWm9kTnVsbGFibGVWNDtcbmV4cG9ydHMuaXNab2RPYmplY3RWMyA9IGlzWm9kT2JqZWN0VjM7XG5leHBvcnRzLmlzWm9kT2JqZWN0VjQgPSBpc1pvZE9iamVjdFY0O1xuZXhwb3J0cy5pc1pvZE9wdGlvbmFsVjQgPSBpc1pvZE9wdGlvbmFsVjQ7XG5leHBvcnRzLmlzWm9kU2NoZW1hID0gaXNab2RTY2hlbWE7XG5leHBvcnRzLmlzWm9kU2NoZW1hVjMgPSBpc1pvZFNjaGVtYVYzO1xuZXhwb3J0cy5pc1pvZFNjaGVtYVY0ID0gaXNab2RTY2hlbWFWNDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/types/zod.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/Options.ts\nconst ignoreOverride = Symbol(\"Let zodToJsonSchema decide on which parser to use\");\nconst defaultOptions = {\n\tname: void 0,\n\t$refStrategy: \"root\",\n\tbasePath: [\"#\"],\n\teffectStrategy: \"input\",\n\tpipeStrategy: \"all\",\n\tdateStrategy: \"format:date-time\",\n\tmapStrategy: \"entries\",\n\tremoveAdditionalStrategy: \"passthrough\",\n\tallowedAdditionalProperties: true,\n\trejectedAdditionalProperties: false,\n\tdefinitionPath: \"definitions\",\n\ttarget: \"jsonSchema7\",\n\tstrictUnions: false,\n\tdefinitions: {},\n\terrorMessages: false,\n\tmarkdownDescription: false,\n\tpatternStrategy: \"escape\",\n\tapplyRegexFlags: false,\n\temailStrategy: \"format:email\",\n\tbase64Strategy: \"contentEncoding:base64\",\n\tnameStrategy: \"ref\",\n\topenAiAnyTypeName: \"OpenAiAnyType\"\n};\nconst getDefaultOptions = (options) => typeof options === \"string\" ? {\n\t...defaultOptions,\n\tname: options\n} : {\n\t...defaultOptions,\n\t...options\n};\n\n//#endregion\nexports.defaultOptions = defaultOptions;\nexports.getDefaultOptions = getDefaultOptions;\nexports.ignoreOverride = ignoreOverride;\n//# sourceMappingURL=Options.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvT3B0aW9ucy5janMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEIseUJBQXlCO0FBQ3pCLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL09wdGlvbnMuY2pzP2NhYmUiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9PcHRpb25zLnRzXG5jb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbChcIkxldCB6b2RUb0pzb25TY2hlbWEgZGVjaWRlIG9uIHdoaWNoIHBhcnNlciB0byB1c2VcIik7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcblx0bmFtZTogdm9pZCAwLFxuXHQkcmVmU3RyYXRlZ3k6IFwicm9vdFwiLFxuXHRiYXNlUGF0aDogW1wiI1wiXSxcblx0ZWZmZWN0U3RyYXRlZ3k6IFwiaW5wdXRcIixcblx0cGlwZVN0cmF0ZWd5OiBcImFsbFwiLFxuXHRkYXRlU3RyYXRlZ3k6IFwiZm9ybWF0OmRhdGUtdGltZVwiLFxuXHRtYXBTdHJhdGVneTogXCJlbnRyaWVzXCIsXG5cdHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogXCJwYXNzdGhyb3VnaFwiLFxuXHRhbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG5cdHJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuXHRkZWZpbml0aW9uUGF0aDogXCJkZWZpbml0aW9uc1wiLFxuXHR0YXJnZXQ6IFwianNvblNjaGVtYTdcIixcblx0c3RyaWN0VW5pb25zOiBmYWxzZSxcblx0ZGVmaW5pdGlvbnM6IHt9LFxuXHRlcnJvck1lc3NhZ2VzOiBmYWxzZSxcblx0bWFya2Rvd25EZXNjcmlwdGlvbjogZmFsc2UsXG5cdHBhdHRlcm5TdHJhdGVneTogXCJlc2NhcGVcIixcblx0YXBwbHlSZWdleEZsYWdzOiBmYWxzZSxcblx0ZW1haWxTdHJhdGVneTogXCJmb3JtYXQ6ZW1haWxcIixcblx0YmFzZTY0U3RyYXRlZ3k6IFwiY29udGVudEVuY29kaW5nOmJhc2U2NFwiLFxuXHRuYW1lU3RyYXRlZ3k6IFwicmVmXCIsXG5cdG9wZW5BaUFueVR5cGVOYW1lOiBcIk9wZW5BaUFueVR5cGVcIlxufTtcbmNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKG9wdGlvbnMpID0+IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8ge1xuXHQuLi5kZWZhdWx0T3B0aW9ucyxcblx0bmFtZTogb3B0aW9uc1xufSA6IHtcblx0Li4uZGVmYXVsdE9wdGlvbnMsXG5cdC4uLm9wdGlvbnNcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5kZWZhdWx0T3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuZXhwb3J0cy5nZXREZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zO1xuZXhwb3J0cy5pZ25vcmVPdmVycmlkZSA9IGlnbm9yZU92ZXJyaWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9ucy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.cjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.cjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_Options = __webpack_require__(/*! ./Options.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs\");\n\n//#region src/utils/zod-to-json-schema/Refs.ts\nconst getRefs = (options) => {\n\tconst _options = require_Options.getDefaultOptions(options);\n\tconst currentPath = _options.name !== void 0 ? [\n\t\t..._options.basePath,\n\t\t_options.definitionPath,\n\t\t_options.name\n\t] : _options.basePath;\n\treturn {\n\t\t..._options,\n\t\tflags: { hasReferencedOpenAiAnyType: false },\n\t\tcurrentPath,\n\t\tpropertyPath: void 0,\n\t\tseen: new Map(Object.entries(_options.definitions).map(([name, def]) => [def._def, {\n\t\t\tdef: def._def,\n\t\t\tpath: [\n\t\t\t\t..._options.basePath,\n\t\t\t\t_options.definitionPath,\n\t\t\t\tname\n\t\t\t],\n\t\t\tjsonSchema: void 0\n\t\t}]))\n\t};\n};\n\n//#endregion\nexports.getRefs = getRefs;\n//# sourceMappingURL=Refs.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy5janMiLCJtYXBwaW5ncyI6IkFBQUEsd0JBQXdCLG1CQUFPLENBQUMsZ0hBQWU7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQ0FBbUM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLGVBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL1JlZnMuY2pzPzkzMzIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9PcHRpb25zID0gcmVxdWlyZSgnLi9PcHRpb25zLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9SZWZzLnRzXG5jb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcblx0Y29uc3QgX29wdGlvbnMgPSByZXF1aXJlX09wdGlvbnMuZ2V0RGVmYXVsdE9wdGlvbnMob3B0aW9ucyk7XG5cdGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdm9pZCAwID8gW1xuXHRcdC4uLl9vcHRpb25zLmJhc2VQYXRoLFxuXHRcdF9vcHRpb25zLmRlZmluaXRpb25QYXRoLFxuXHRcdF9vcHRpb25zLm5hbWVcblx0XSA6IF9vcHRpb25zLmJhc2VQYXRoO1xuXHRyZXR1cm4ge1xuXHRcdC4uLl9vcHRpb25zLFxuXHRcdGZsYWdzOiB7IGhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlOiBmYWxzZSB9LFxuXHRcdGN1cnJlbnRQYXRoLFxuXHRcdHByb3BlcnR5UGF0aDogdm9pZCAwLFxuXHRcdHNlZW46IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtkZWYuX2RlZiwge1xuXHRcdFx0ZGVmOiBkZWYuX2RlZixcblx0XHRcdHBhdGg6IFtcblx0XHRcdFx0Li4uX29wdGlvbnMuYmFzZVBhdGgsXG5cdFx0XHRcdF9vcHRpb25zLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0XHRuYW1lXG5cdFx0XHRdLFxuXHRcdFx0anNvblNjaGVtYTogdm9pZCAwXG5cdFx0fV0pKVxuXHR9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmdldFJlZnMgPSBnZXRSZWZzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVmcy5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/errorMessages.ts\nfunction addErrorMessage(res, key, errorMessage, refs) {\n\tif (!refs?.errorMessages) return;\n\tif (errorMessage) res.errorMessage = {\n\t\t...res.errorMessage,\n\t\t[key]: errorMessage\n\t};\n}\nfunction setResponseValueAndErrors(res, key, value, errorMessage, refs) {\n\tres[key] = value;\n\taddErrorMessage(res, key, errorMessage, refs);\n}\n\n//#endregion\nexports.addErrorMessage = addErrorMessage;\nexports.setResponseValueAndErrors = setResponseValueAndErrors;\n//# sourceMappingURL=errorMessages.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy5janMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QixpQ0FBaUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9lcnJvck1lc3NhZ2VzLmNqcz84MDRiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy50c1xuZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcblx0aWYgKCFyZWZzPy5lcnJvck1lc3NhZ2VzKSByZXR1cm47XG5cdGlmIChlcnJvck1lc3NhZ2UpIHJlcy5lcnJvck1lc3NhZ2UgPSB7XG5cdFx0Li4ucmVzLmVycm9yTWVzc2FnZSxcblx0XHRba2V5XTogZXJyb3JNZXNzYWdlXG5cdH07XG59XG5mdW5jdGlvbiBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywga2V5LCB2YWx1ZSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG5cdHJlc1trZXldID0gdmFsdWU7XG5cdGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLmFkZEVycm9yTWVzc2FnZSA9IGFkZEVycm9yTWVzc2FnZTtcbmV4cG9ydHMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyA9IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvck1lc3NhZ2VzLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/getRelativePath.ts\nconst getRelativePath = (pathA, pathB) => {\n\tlet i = 0;\n\tfor (; i < pathA.length && i < pathB.length; i++) if (pathA[i] !== pathB[i]) break;\n\treturn [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\n\n//#endregion\nexports.getRelativePath = getRelativePath;\n//# sourceMappingURL=getRelativePath.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvZ2V0UmVsYXRpdmVQYXRoLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzQ0FBc0M7QUFDOUM7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2dldFJlbGF0aXZlUGF0aC5janM/YzMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL2dldFJlbGF0aXZlUGF0aC50c1xuY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuXHRsZXQgaSA9IDA7XG5cdGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSkgYnJlYWs7XG5cdHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKFwiL1wiKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5nZXRSZWxhdGl2ZVBhdGggPSBnZXRSZWxhdGl2ZVBhdGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRSZWxhdGl2ZVBhdGguY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.cjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.cjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("const require_Options = __webpack_require__(/*! ./Options.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs\");\nconst require_Refs = __webpack_require__(/*! ./Refs.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.cjs\");\nconst require_errorMessages = __webpack_require__(/*! ./errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\nconst require_getRelativePath = __webpack_require__(/*! ./getRelativePath.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs\");\nconst require_any = __webpack_require__(/*! ./parsers/any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_array = __webpack_require__(/*! ./parsers/array.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.cjs\");\nconst require_bigint = __webpack_require__(/*! ./parsers/bigint.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.cjs\");\nconst require_boolean = __webpack_require__(/*! ./parsers/boolean.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.cjs\");\nconst require_branded = __webpack_require__(/*! ./parsers/branded.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs\");\nconst require_catch = __webpack_require__(/*! ./parsers/catch.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.cjs\");\nconst require_date = __webpack_require__(/*! ./parsers/date.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.cjs\");\nconst require_default = __webpack_require__(/*! ./parsers/default.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.cjs\");\nconst require_effects = __webpack_require__(/*! ./parsers/effects.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.cjs\");\nconst require_enum = __webpack_require__(/*! ./parsers/enum.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.cjs\");\nconst require_intersection = __webpack_require__(/*! ./parsers/intersection.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.cjs\");\nconst require_literal = __webpack_require__(/*! ./parsers/literal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.cjs\");\nconst require_string = __webpack_require__(/*! ./parsers/string.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs\");\nconst require_record = __webpack_require__(/*! ./parsers/record.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs\");\nconst require_map = __webpack_require__(/*! ./parsers/map.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.cjs\");\nconst require_nativeEnum = __webpack_require__(/*! ./parsers/nativeEnum.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.cjs\");\nconst require_never = __webpack_require__(/*! ./parsers/never.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.cjs\");\nconst require_null = __webpack_require__(/*! ./parsers/null.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.cjs\");\nconst require_union = __webpack_require__(/*! ./parsers/union.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs\");\nconst require_nullable = __webpack_require__(/*! ./parsers/nullable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.cjs\");\nconst require_number = __webpack_require__(/*! ./parsers/number.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.cjs\");\nconst require_object = __webpack_require__(/*! ./parsers/object.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.cjs\");\nconst require_optional = __webpack_require__(/*! ./parsers/optional.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.cjs\");\nconst require_pipeline = __webpack_require__(/*! ./parsers/pipeline.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.cjs\");\nconst require_promise = __webpack_require__(/*! ./parsers/promise.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.cjs\");\nconst require_set = __webpack_require__(/*! ./parsers/set.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.cjs\");\nconst require_tuple = __webpack_require__(/*! ./parsers/tuple.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.cjs\");\nconst require_undefined = __webpack_require__(/*! ./parsers/undefined.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.cjs\");\nconst require_unknown = __webpack_require__(/*! ./parsers/unknown.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.cjs\");\nconst require_readonly = __webpack_require__(/*! ./parsers/readonly.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.cjs\");\nconst require_selectParser = __webpack_require__(/*! ./selectParser.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.cjs\");\nconst require_parseDef = __webpack_require__(/*! ./parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\nconst require_zodToJsonSchema = __webpack_require__(/*! ./zodToJsonSchema.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.cjs\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvaW5kZXguY2pzIiwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QixtQkFBTyxDQUFDLGdIQUFlO0FBQy9DLHFCQUFxQixtQkFBTyxDQUFDLDBHQUFZO0FBQ3pDLDhCQUE4QixtQkFBTyxDQUFDLDRIQUFxQjtBQUMzRCxnQ0FBZ0MsbUJBQU8sQ0FBQyxnSUFBdUI7QUFDL0Qsb0JBQW9CLG1CQUFPLENBQUMsd0hBQW1CO0FBQy9DLHNCQUFzQixtQkFBTyxDQUFDLDRIQUFxQjtBQUNuRCx1QkFBdUIsbUJBQU8sQ0FBQyw4SEFBc0I7QUFDckQsd0JBQXdCLG1CQUFPLENBQUMsZ0lBQXVCO0FBQ3ZELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCxzQkFBc0IsbUJBQU8sQ0FBQyw0SEFBcUI7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMsMEhBQW9CO0FBQ2pELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCx3QkFBd0IsbUJBQU8sQ0FBQyxnSUFBdUI7QUFDdkQscUJBQXFCLG1CQUFPLENBQUMsMEhBQW9CO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLDBJQUE0QjtBQUNqRSx3QkFBd0IsbUJBQU8sQ0FBQyxnSUFBdUI7QUFDdkQsdUJBQXVCLG1CQUFPLENBQUMsOEhBQXNCO0FBQ3JELHVCQUF1QixtQkFBTyxDQUFDLDhIQUFzQjtBQUNyRCxvQkFBb0IsbUJBQU8sQ0FBQyx3SEFBbUI7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMsc0lBQTBCO0FBQzdELHNCQUFzQixtQkFBTyxDQUFDLDRIQUFxQjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQywwSEFBb0I7QUFDakQsc0JBQXNCLG1CQUFPLENBQUMsNEhBQXFCO0FBQ25ELHlCQUF5QixtQkFBTyxDQUFDLGtJQUF3QjtBQUN6RCx1QkFBdUIsbUJBQU8sQ0FBQyw4SEFBc0I7QUFDckQsdUJBQXVCLG1CQUFPLENBQUMsOEhBQXNCO0FBQ3JELHlCQUF5QixtQkFBTyxDQUFDLGtJQUF3QjtBQUN6RCx5QkFBeUIsbUJBQU8sQ0FBQyxrSUFBd0I7QUFDekQsd0JBQXdCLG1CQUFPLENBQUMsZ0lBQXVCO0FBQ3ZELG9CQUFvQixtQkFBTyxDQUFDLHdIQUFtQjtBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQyw0SEFBcUI7QUFDbkQsMEJBQTBCLG1CQUFPLENBQUMsb0lBQXlCO0FBQzNELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCx5QkFBeUIsbUJBQU8sQ0FBQyxrSUFBd0I7QUFDekQsNkJBQTZCLG1CQUFPLENBQUMsMEhBQW9CO0FBQ3pELHlCQUF5QixtQkFBTyxDQUFDLGtIQUFnQjtBQUNqRCxnQ0FBZ0MsbUJBQU8sQ0FBQyxnSUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5janM/NjcwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX09wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMuY2pzJyk7XG5jb25zdCByZXF1aXJlX1JlZnMgPSByZXF1aXJlKCcuL1JlZnMuY2pzJyk7XG5jb25zdCByZXF1aXJlX2Vycm9yTWVzc2FnZXMgPSByZXF1aXJlKCcuL2Vycm9yTWVzc2FnZXMuY2pzJyk7XG5jb25zdCByZXF1aXJlX2dldFJlbGF0aXZlUGF0aCA9IHJlcXVpcmUoJy4vZ2V0UmVsYXRpdmVQYXRoLmNqcycpO1xuY29uc3QgcmVxdWlyZV9hbnkgPSByZXF1aXJlKCcuL3BhcnNlcnMvYW55LmNqcycpO1xuY29uc3QgcmVxdWlyZV9hcnJheSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9hcnJheS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYmlnaW50ID0gcmVxdWlyZSgnLi9wYXJzZXJzL2JpZ2ludC5janMnKTtcbmNvbnN0IHJlcXVpcmVfYm9vbGVhbiA9IHJlcXVpcmUoJy4vcGFyc2Vycy9ib29sZWFuLmNqcycpO1xuY29uc3QgcmVxdWlyZV9icmFuZGVkID0gcmVxdWlyZSgnLi9wYXJzZXJzL2JyYW5kZWQuY2pzJyk7XG5jb25zdCByZXF1aXJlX2NhdGNoID0gcmVxdWlyZSgnLi9wYXJzZXJzL2NhdGNoLmNqcycpO1xuY29uc3QgcmVxdWlyZV9kYXRlID0gcmVxdWlyZSgnLi9wYXJzZXJzL2RhdGUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2RlZmF1bHQgPSByZXF1aXJlKCcuL3BhcnNlcnMvZGVmYXVsdC5janMnKTtcbmNvbnN0IHJlcXVpcmVfZWZmZWN0cyA9IHJlcXVpcmUoJy4vcGFyc2Vycy9lZmZlY3RzLmNqcycpO1xuY29uc3QgcmVxdWlyZV9lbnVtID0gcmVxdWlyZSgnLi9wYXJzZXJzL2VudW0uY2pzJyk7XG5jb25zdCByZXF1aXJlX2ludGVyc2VjdGlvbiA9IHJlcXVpcmUoJy4vcGFyc2Vycy9pbnRlcnNlY3Rpb24uY2pzJyk7XG5jb25zdCByZXF1aXJlX2xpdGVyYWwgPSByZXF1aXJlKCcuL3BhcnNlcnMvbGl0ZXJhbC5janMnKTtcbmNvbnN0IHJlcXVpcmVfc3RyaW5nID0gcmVxdWlyZSgnLi9wYXJzZXJzL3N0cmluZy5janMnKTtcbmNvbnN0IHJlcXVpcmVfcmVjb3JkID0gcmVxdWlyZSgnLi9wYXJzZXJzL3JlY29yZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfbWFwID0gcmVxdWlyZSgnLi9wYXJzZXJzL21hcC5janMnKTtcbmNvbnN0IHJlcXVpcmVfbmF0aXZlRW51bSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9uYXRpdmVFbnVtLmNqcycpO1xuY29uc3QgcmVxdWlyZV9uZXZlciA9IHJlcXVpcmUoJy4vcGFyc2Vycy9uZXZlci5janMnKTtcbmNvbnN0IHJlcXVpcmVfbnVsbCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9udWxsLmNqcycpO1xuY29uc3QgcmVxdWlyZV91bmlvbiA9IHJlcXVpcmUoJy4vcGFyc2Vycy91bmlvbi5janMnKTtcbmNvbnN0IHJlcXVpcmVfbnVsbGFibGUgPSByZXF1aXJlKCcuL3BhcnNlcnMvbnVsbGFibGUuY2pzJyk7XG5jb25zdCByZXF1aXJlX251bWJlciA9IHJlcXVpcmUoJy4vcGFyc2Vycy9udW1iZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX29iamVjdCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9vYmplY3QuY2pzJyk7XG5jb25zdCByZXF1aXJlX29wdGlvbmFsID0gcmVxdWlyZSgnLi9wYXJzZXJzL29wdGlvbmFsLmNqcycpO1xuY29uc3QgcmVxdWlyZV9waXBlbGluZSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9waXBlbGluZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfcHJvbWlzZSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9wcm9taXNlLmNqcycpO1xuY29uc3QgcmVxdWlyZV9zZXQgPSByZXF1aXJlKCcuL3BhcnNlcnMvc2V0LmNqcycpO1xuY29uc3QgcmVxdWlyZV90dXBsZSA9IHJlcXVpcmUoJy4vcGFyc2Vycy90dXBsZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfdW5kZWZpbmVkID0gcmVxdWlyZSgnLi9wYXJzZXJzL3VuZGVmaW5lZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfdW5rbm93biA9IHJlcXVpcmUoJy4vcGFyc2Vycy91bmtub3duLmNqcycpO1xuY29uc3QgcmVxdWlyZV9yZWFkb25seSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9yZWFkb25seS5janMnKTtcbmNvbnN0IHJlcXVpcmVfc2VsZWN0UGFyc2VyID0gcmVxdWlyZSgnLi9zZWxlY3RQYXJzZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi9wYXJzZURlZi5janMnKTtcbmNvbnN0IHJlcXVpcmVfem9kVG9Kc29uU2NoZW1hID0gcmVxdWlyZSgnLi96b2RUb0pzb25TY2hlbWEuY2pzJyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/index.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_Options = __webpack_require__(/*! ./Options.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Options.cjs\");\nconst require_getRelativePath = __webpack_require__(/*! ./getRelativePath.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs\");\nconst require_any = __webpack_require__(/*! ./parsers/any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_selectParser = __webpack_require__(/*! ./selectParser.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.cjs\");\n\n//#region src/utils/zod-to-json-schema/parseDef.ts\nfunction parseDef(def, refs, forceResolution = false) {\n\tconst seenItem = refs.seen.get(def);\n\tif (refs.override) {\n\t\tconst overrideResult = refs.override?.(def, refs, seenItem, forceResolution);\n\t\tif (overrideResult !== require_Options.ignoreOverride) return overrideResult;\n\t}\n\tif (seenItem && !forceResolution) {\n\t\tconst seenSchema = get$ref(seenItem, refs);\n\t\tif (seenSchema !== void 0) return seenSchema;\n\t}\n\tconst newItem = {\n\t\tdef,\n\t\tpath: refs.currentPath,\n\t\tjsonSchema: void 0\n\t};\n\trefs.seen.set(def, newItem);\n\tconst jsonSchemaOrGetter = require_selectParser.selectParser(def, def.typeName, refs);\n\tconst jsonSchema = typeof jsonSchemaOrGetter === \"function\" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;\n\tif (jsonSchema) addMeta(def, refs, jsonSchema);\n\tif (refs.postProcess) {\n\t\tconst postProcessResult = refs.postProcess(jsonSchema, def, refs);\n\t\tnewItem.jsonSchema = jsonSchema;\n\t\treturn postProcessResult;\n\t}\n\tnewItem.jsonSchema = jsonSchema;\n\treturn jsonSchema;\n}\nconst get$ref = (item, refs) => {\n\tswitch (refs.$refStrategy) {\n\t\tcase \"root\": return { $ref: item.path.join(\"/\") };\n\t\tcase \"relative\": return { $ref: require_getRelativePath.getRelativePath(refs.currentPath, item.path) };\n\t\tcase \"none\":\n\t\tcase \"seen\":\n\t\t\tif (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {\n\t\t\t\tconsole.warn(`Recursive reference detected at ${refs.currentPath.join(\"/\")}! Defaulting to any`);\n\t\t\t\treturn require_any.parseAnyDef(refs);\n\t\t\t}\n\t\t\treturn refs.$refStrategy === \"seen\" ? require_any.parseAnyDef(refs) : void 0;\n\t}\n};\nconst addMeta = (def, refs, jsonSchema) => {\n\tif (def.description) {\n\t\tjsonSchema.description = def.description;\n\t\tif (refs.markdownDescription) jsonSchema.markdownDescription = def.description;\n\t}\n\treturn jsonSchema;\n};\n\n//#endregion\nexports.parseDef = parseDef;\n//# sourceMappingURL=parseDef.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QixtQkFBTyxDQUFDLGdIQUFlO0FBQy9DLGdDQUFnQyxtQkFBTyxDQUFDLGdJQUF1QjtBQUMvRCxvQkFBb0IsbUJBQU8sQ0FBQyx3SEFBbUI7QUFDL0MsNkJBQTZCLG1CQUFPLENBQUMsMEhBQW9COztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwyQkFBMkI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYuY2pzP2QzNjMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9PcHRpb25zID0gcmVxdWlyZSgnLi9PcHRpb25zLmNqcycpO1xuY29uc3QgcmVxdWlyZV9nZXRSZWxhdGl2ZVBhdGggPSByZXF1aXJlKCcuL2dldFJlbGF0aXZlUGF0aC5janMnKTtcbmNvbnN0IHJlcXVpcmVfYW55ID0gcmVxdWlyZSgnLi9wYXJzZXJzL2FueS5janMnKTtcbmNvbnN0IHJlcXVpcmVfc2VsZWN0UGFyc2VyID0gcmVxdWlyZSgnLi9zZWxlY3RQYXJzZXIuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlRGVmLnRzXG5mdW5jdGlvbiBwYXJzZURlZihkZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbiA9IGZhbHNlKSB7XG5cdGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuXHRpZiAocmVmcy5vdmVycmlkZSkge1xuXHRcdGNvbnN0IG92ZXJyaWRlUmVzdWx0ID0gcmVmcy5vdmVycmlkZT8uKGRlZiwgcmVmcywgc2Vlbkl0ZW0sIGZvcmNlUmVzb2x1dGlvbik7XG5cdFx0aWYgKG92ZXJyaWRlUmVzdWx0ICE9PSByZXF1aXJlX09wdGlvbnMuaWdub3JlT3ZlcnJpZGUpIHJldHVybiBvdmVycmlkZVJlc3VsdDtcblx0fVxuXHRpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuXHRcdGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcblx0XHRpZiAoc2VlblNjaGVtYSAhPT0gdm9pZCAwKSByZXR1cm4gc2VlblNjaGVtYTtcblx0fVxuXHRjb25zdCBuZXdJdGVtID0ge1xuXHRcdGRlZixcblx0XHRwYXRoOiByZWZzLmN1cnJlbnRQYXRoLFxuXHRcdGpzb25TY2hlbWE6IHZvaWQgMFxuXHR9O1xuXHRyZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG5cdGNvbnN0IGpzb25TY2hlbWFPckdldHRlciA9IHJlcXVpcmVfc2VsZWN0UGFyc2VyLnNlbGVjdFBhcnNlcihkZWYsIGRlZi50eXBlTmFtZSwgcmVmcyk7XG5cdGNvbnN0IGpzb25TY2hlbWEgPSB0eXBlb2YganNvblNjaGVtYU9yR2V0dGVyID09PSBcImZ1bmN0aW9uXCIgPyBwYXJzZURlZihqc29uU2NoZW1hT3JHZXR0ZXIoKSwgcmVmcykgOiBqc29uU2NoZW1hT3JHZXR0ZXI7XG5cdGlmIChqc29uU2NoZW1hKSBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG5cdGlmIChyZWZzLnBvc3RQcm9jZXNzKSB7XG5cdFx0Y29uc3QgcG9zdFByb2Nlc3NSZXN1bHQgPSByZWZzLnBvc3RQcm9jZXNzKGpzb25TY2hlbWEsIGRlZiwgcmVmcyk7XG5cdFx0bmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblx0XHRyZXR1cm4gcG9zdFByb2Nlc3NSZXN1bHQ7XG5cdH1cblx0bmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcblx0cmV0dXJuIGpzb25TY2hlbWE7XG59XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcblx0c3dpdGNoIChyZWZzLiRyZWZTdHJhdGVneSkge1xuXHRcdGNhc2UgXCJyb290XCI6IHJldHVybiB7ICRyZWY6IGl0ZW0ucGF0aC5qb2luKFwiL1wiKSB9O1xuXHRcdGNhc2UgXCJyZWxhdGl2ZVwiOiByZXR1cm4geyAkcmVmOiByZXF1aXJlX2dldFJlbGF0aXZlUGF0aC5nZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuXHRcdGNhc2UgXCJub25lXCI6XG5cdFx0Y2FzZSBcInNlZW5cIjpcblx0XHRcdGlmIChpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiYgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG5cdFx0XHRcdHJldHVybiByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJzZWVuXCIgPyByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKSA6IHZvaWQgMDtcblx0fVxufTtcbmNvbnN0IGFkZE1ldGEgPSAoZGVmLCByZWZzLCBqc29uU2NoZW1hKSA9PiB7XG5cdGlmIChkZWYuZGVzY3JpcHRpb24pIHtcblx0XHRqc29uU2NoZW1hLmRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuXHRcdGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcblx0fVxuXHRyZXR1cm4ganNvblNjaGVtYTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZURlZiA9IHBhcnNlRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VEZWYuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_getRelativePath = __webpack_require__(/*! ../getRelativePath.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/getRelativePath.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/any.ts\nfunction parseAnyDef(refs) {\n\tif (refs.target !== \"openAi\") return {};\n\tconst anyDefinitionPath = [\n\t\t...refs.basePath,\n\t\trefs.definitionPath,\n\t\trefs.openAiAnyTypeName\n\t];\n\trefs.flags.hasReferencedOpenAiAnyType = true;\n\treturn { $ref: refs.$refStrategy === \"relative\" ? require_getRelativePath.getRelativePath(anyDefinitionPath, refs.currentPath) : anyDefinitionPath.join(\"/\") };\n}\n\n//#endregion\nexports.parseAnyDef = parseAnyDef;\n//# sourceMappingURL=any.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGdDQUFnQyxtQkFBTyxDQUFDLGlJQUF3Qjs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkuY2pzPzFiMTIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9nZXRSZWxhdGl2ZVBhdGggPSByZXF1aXJlKCcuLi9nZXRSZWxhdGl2ZVBhdGguY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55LnRzXG5mdW5jdGlvbiBwYXJzZUFueURlZihyZWZzKSB7XG5cdGlmIChyZWZzLnRhcmdldCAhPT0gXCJvcGVuQWlcIikgcmV0dXJuIHt9O1xuXHRjb25zdCBhbnlEZWZpbml0aW9uUGF0aCA9IFtcblx0XHQuLi5yZWZzLmJhc2VQYXRoLFxuXHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0cmVmcy5vcGVuQWlBbnlUeXBlTmFtZVxuXHRdO1xuXHRyZWZzLmZsYWdzLmhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlID0gdHJ1ZTtcblx0cmV0dXJuIHsgJHJlZjogcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IHJlcXVpcmVfZ2V0UmVsYXRpdmVQYXRoLmdldFJlbGF0aXZlUGF0aChhbnlEZWZpbml0aW9uUGF0aCwgcmVmcy5jdXJyZW50UGF0aCkgOiBhbnlEZWZpbml0aW9uUGF0aC5qb2luKFwiL1wiKSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VBbnlEZWYgPSBwYXJzZUFueURlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFueS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\nconst zod_v3 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v3 */ \"(action-browser)/./node_modules/zod/v3/index.cjs\"));\n\n//#region src/utils/zod-to-json-schema/parsers/array.ts\nfunction parseArrayDef(def, refs) {\n\tconst res = { type: \"array\" };\n\tif (def.type?._def && def.type?._def?.typeName !== zod_v3.ZodFirstPartyTypeKind.ZodAny) res.items = require_parseDef.parseDef(def.type._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tif (def.minLength) require_errorMessages.setResponseValueAndErrors(res, \"minItems\", def.minLength.value, def.minLength.message, refs);\n\tif (def.maxLength) require_errorMessages.setResponseValueAndErrors(res, \"maxItems\", def.maxLength.value, def.maxLength.message, refs);\n\tif (def.exactLength) {\n\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minItems\", def.exactLength.value, def.exactLength.message, refs);\n\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maxItems\", def.exactLength.value, def.exactLength.message, refs);\n\t}\n\treturn res;\n}\n\n//#endregion\nexports.parseArrayDef = parseArrayDef;\n//# sourceMappingURL=array.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS5janMiLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLG1CQUFPLENBQUMsa0lBQXdDO0FBQ2pGLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFzQjtBQUM1RCx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7QUFDbEQsZ0RBQWdELG1CQUFPLENBQUMsZ0VBQVE7O0FBRWhFO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5LmNqcz81NTg2Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcm9sbGRvd25fcnVudGltZSA9IHJlcXVpcmUoJy4uLy4uLy4uL192aXJ0dWFsL3JvbGxkb3duX3J1bnRpbWUuY2pzJyk7XG5jb25zdCByZXF1aXJlX2Vycm9yTWVzc2FnZXMgPSByZXF1aXJlKCcuLi9lcnJvck1lc3NhZ2VzLmNqcycpO1xuY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuY29uc3Qgem9kX3YzID0gcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lLl9fdG9FU00ocmVxdWlyZShcInpvZC92M1wiKSk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYXJyYXkudHNcbmZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKSB7XG5cdGNvbnN0IHJlcyA9IHsgdHlwZTogXCJhcnJheVwiIH07XG5cdGlmIChkZWYudHlwZT8uX2RlZiAmJiBkZWYudHlwZT8uX2RlZj8udHlwZU5hbWUgIT09IHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55KSByZXMuaXRlbXMgPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXVxuXHR9KTtcblx0aWYgKGRlZi5taW5MZW5ndGgpIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuXHRpZiAoZGVmLm1heExlbmd0aCkgcmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhMZW5ndGgudmFsdWUsIGRlZi5tYXhMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG5cdGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcblx0XHRyZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluSXRlbXNcIiwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG5cdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heEl0ZW1zXCIsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZUFycmF5RGVmID0gcGFyc2VBcnJheURlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/bigint.ts\nfunction parseBigintDef(def, refs) {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"int64\"\n\t};\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) require_errorMessages.setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse require_errorMessages.setResponseValueAndErrors(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) require_errorMessages.setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse require_errorMessages.setResponseValueAndErrors(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\nexports.parseBigintDef = parseBigintDef;\n//# sourceMappingURL=bigint.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFzQjs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQuY2pzPzhhYWEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9lcnJvck1lc3NhZ2VzID0gcmVxdWlyZSgnLi4vZXJyb3JNZXNzYWdlcy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQudHNcbmZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7XG5cdFx0dHlwZTogXCJpbnRlZ2VyXCIsXG5cdFx0Zm9ybWF0OiBcImludDY0XCJcblx0fTtcblx0aWYgKCFkZWYuY2hlY2tzKSByZXR1cm4gcmVzO1xuXHRmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHN3aXRjaCAoY2hlY2sua2luZCkge1xuXHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSBpZiAoY2hlY2suaW5jbHVzaXZlKSByZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNoZWNrLmluY2x1c2l2ZSkgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuXHRcdFx0XHRyZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgaWYgKGNoZWNrLmluY2x1c2l2ZSkgcmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSByZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCFjaGVjay5pbmNsdXNpdmUpIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcblx0XHRcdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm11bHRpcGxlT2ZcIjpcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZUJpZ2ludERlZiA9IHBhcnNlQmlnaW50RGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlnaW50LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/parsers/boolean.ts\nfunction parseBooleanDef() {\n\treturn { type: \"boolean\" };\n}\n\n//#endregion\nexports.parseBooleanDef = parseBooleanDef;\n//# sourceMappingURL=boolean.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYm9vbGVhbi5janM/ZDVlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYm9vbGVhbi50c1xuZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCkge1xuXHRyZXR1cm4geyB0eXBlOiBcImJvb2xlYW5cIiB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VCb29sZWFuRGVmID0gcGFyc2VCb29sZWFuRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbGVhbi5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/branded.ts\nfunction parseBrandedDef(_def, refs) {\n\treturn require_parseDef.parseDef(_def.type._def, refs);\n}\n\n//#endregion\nexports.parseBrandedDef = parseBrandedDef;\n//# sourceMappingURL=branded.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLmNqcz82YzViIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLnRzXG5mdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xuXHRyZXR1cm4gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZUJyYW5kZWREZWYgPSBwYXJzZUJyYW5kZWREZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFuZGVkLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/catch.ts\nconst parseCatchDef = (def, refs) => {\n\treturn require_parseDef.parseDef(def.innerType._def, refs);\n};\n\n//#endregion\nexports.parseCatchDef = parseCatchDef;\n//# sourceMappingURL=catch.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC5janMiLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvY2F0Y2guY2pzP2U5M2QiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLnRzXG5jb25zdCBwYXJzZUNhdGNoRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuXHRyZXR1cm4gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlQ2F0Y2hEZWYgPSBwYXJzZUNhdGNoRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2F0Y2guY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.cjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.cjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/date.ts\nfunction parseDateDef(def, refs, overrideDateStrategy) {\n\tconst strategy = overrideDateStrategy ?? refs.dateStrategy;\n\tif (Array.isArray(strategy)) return { anyOf: strategy.map((item) => parseDateDef(def, refs, item)) };\n\tswitch (strategy) {\n\t\tcase \"string\":\n\t\tcase \"format:date-time\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date-time\"\n\t\t};\n\t\tcase \"format:date\": return {\n\t\t\ttype: \"string\",\n\t\t\tformat: \"date\"\n\t\t};\n\t\tcase \"integer\": return integerDateParser(def, refs);\n\t}\n}\nconst integerDateParser = (def, refs) => {\n\tconst res = {\n\t\ttype: \"integer\",\n\t\tformat: \"unix-time\"\n\t};\n\tif (refs.target === \"openApi3\") return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n};\n\n//#endregion\nexports.parseDateDef = parseDateDef;\n//# sourceMappingURL=date.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSw4QkFBOEIsbUJBQU8sQ0FBQyw2SEFBc0I7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLmNqcz9jMGNmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfZXJyb3JNZXNzYWdlcyA9IHJlcXVpcmUoJy4uL2Vycm9yTWVzc2FnZXMuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS50c1xuZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgb3ZlcnJpZGVEYXRlU3RyYXRlZ3kpIHtcblx0Y29uc3Qgc3RyYXRlZ3kgPSBvdmVycmlkZURhdGVTdHJhdGVneSA/PyByZWZzLmRhdGVTdHJhdGVneTtcblx0aWYgKEFycmF5LmlzQXJyYXkoc3RyYXRlZ3kpKSByZXR1cm4geyBhbnlPZjogc3RyYXRlZ3kubWFwKChpdGVtKSA9PiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBpdGVtKSkgfTtcblx0c3dpdGNoIChzdHJhdGVneSkge1xuXHRcdGNhc2UgXCJzdHJpbmdcIjpcblx0XHRjYXNlIFwiZm9ybWF0OmRhdGUtdGltZVwiOiByZXR1cm4ge1xuXHRcdFx0dHlwZTogXCJzdHJpbmdcIixcblx0XHRcdGZvcm1hdDogXCJkYXRlLXRpbWVcIlxuXHRcdH07XG5cdFx0Y2FzZSBcImZvcm1hdDpkYXRlXCI6IHJldHVybiB7XG5cdFx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdFx0Zm9ybWF0OiBcImRhdGVcIlxuXHRcdH07XG5cdFx0Y2FzZSBcImludGVnZXJcIjogcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG5cdH1cbn1cbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZiwgcmVmcykgPT4ge1xuXHRjb25zdCByZXMgPSB7XG5cdFx0dHlwZTogXCJpbnRlZ2VyXCIsXG5cdFx0Zm9ybWF0OiBcInVuaXgtdGltZVwiXG5cdH07XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4gcmVzO1xuXHRmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHN3aXRjaCAoY2hlY2sua2luZCkge1xuXHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cdHJldHVybiByZXM7XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VEYXRlRGVmID0gcGFyc2VEYXRlRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/default.ts\nfunction parseDefaultDef(_def, refs) {\n\treturn {\n\t\t...require_parseDef.parseDef(_def.innerType._def, refs),\n\t\tdefault: _def.defaultValue()\n\t};\n}\n\n//#endregion\nexports.parseDefaultDef = parseDefaultDef;\n//# sourceMappingURL=default.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LmNqcyIsIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LmNqcz9jY2MzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0LnRzXG5mdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoX2RlZiwgcmVmcykge1xuXHRyZXR1cm4ge1xuXHRcdC4uLnJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoX2RlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyksXG5cdFx0ZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKVxuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VEZWZhdWx0RGVmID0gcGFyc2VEZWZhdWx0RGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/effects.ts\nfunction parseEffectsDef(_def, refs) {\n\treturn refs.effectStrategy === \"input\" ? require_parseDef.parseDef(_def.schema._def, refs) : require_any.parseAnyDef(refs);\n}\n\n//#endregion\nexports.parseEffectsDef = parseEffectsDef;\n//# sourceMappingURL=effects.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsbUJBQU8sQ0FBQyxnSEFBVztBQUN2Qyx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLmNqcz9mNjY3Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfYW55ID0gcmVxdWlyZSgnLi9hbnkuY2pzJyk7XG5jb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi4vcGFyc2VEZWYuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZWZmZWN0cy50c1xuZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKF9kZWYsIHJlZnMpIHtcblx0cmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09IFwiaW5wdXRcIiA/IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcykgOiByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlRWZmZWN0c0RlZiA9IHBhcnNlRWZmZWN0c0RlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVmZmVjdHMuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.cjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.cjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/parsers/enum.ts\nfunction parseEnumDef(def) {\n\treturn {\n\t\ttype: \"string\",\n\t\tenum: Array.from(def.values)\n\t};\n}\n\n//#endregion\nexports.parseEnumDef = parseEnumDef;\n//# sourceMappingURL=enum.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lbnVtLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VudW0uY2pzPzkyNTUiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2VudW0udHNcbmZ1bmN0aW9uIHBhcnNlRW51bURlZihkZWYpIHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdGVudW06IEFycmF5LmZyb20oZGVmLnZhbHVlcylcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlRW51bURlZiA9IHBhcnNlRW51bURlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudW0uY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.cjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.cjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/intersection.ts\nconst isJsonSchema7AllOfType = (type) => {\n\tif (\"type\" in type && type.type === \"string\") return false;\n\treturn \"allOf\" in type;\n};\nfunction parseIntersectionDef(def, refs) {\n\tconst allOf = [require_parseDef.parseDef(def.left._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t}), require_parseDef.parseDef(def.right._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"1\"\n\t\t]\n\t})].filter((x) => !!x);\n\tlet unevaluatedProperties = refs.target === \"jsonSchema2019-09\" ? { unevaluatedProperties: false } : void 0;\n\tconst mergedAllOf = [];\n\tallOf.forEach((schema) => {\n\t\tif (isJsonSchema7AllOfType(schema)) {\n\t\t\tmergedAllOf.push(...schema.allOf);\n\t\t\tif (schema.unevaluatedProperties === void 0) unevaluatedProperties = void 0;\n\t\t} else {\n\t\t\tlet nestedSchema = schema;\n\t\t\tif (\"additionalProperties\" in schema && schema.additionalProperties === false) {\n\t\t\t\tconst { additionalProperties,...rest } = schema;\n\t\t\t\tnestedSchema = rest;\n\t\t\t} else unevaluatedProperties = void 0;\n\t\t\tmergedAllOf.push(nestedSchema);\n\t\t}\n\t});\n\treturn mergedAllOf.length ? {\n\t\tallOf: mergedAllOf,\n\t\t...unevaluatedProperties\n\t} : void 0;\n}\n\n//#endregion\nexports.parseIntersectionDef = parseIntersectionDef;\n//# sourceMappingURL=intersection.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24uY2pzIiwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QixtQkFBTyxDQUFDLG1IQUFpQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLHFFQUFxRSwrQkFBK0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSw0QkFBNEI7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2ludGVyc2VjdGlvbi5janM/M2VkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi4vcGFyc2VEZWYuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvaW50ZXJzZWN0aW9uLnRzXG5jb25zdCBpc0pzb25TY2hlbWE3QWxsT2ZUeXBlID0gKHR5cGUpID0+IHtcblx0aWYgKFwidHlwZVwiIGluIHR5cGUgJiYgdHlwZS50eXBlID09PSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBcImFsbE9mXCIgaW4gdHlwZTtcbn07XG5mdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgYWxsT2YgPSBbcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYubGVmdC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYWxsT2ZcIixcblx0XHRcdFwiMFwiXG5cdFx0XVxuXHR9KSwgcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYucmlnaHQuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFsbE9mXCIsXG5cdFx0XHRcIjFcIlxuXHRcdF1cblx0fSldLmZpbHRlcigoeCkgPT4gISF4KTtcblx0bGV0IHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCIgPyB7IHVuZXZhbHVhdGVkUHJvcGVydGllczogZmFsc2UgfSA6IHZvaWQgMDtcblx0Y29uc3QgbWVyZ2VkQWxsT2YgPSBbXTtcblx0YWxsT2YuZm9yRWFjaCgoc2NoZW1hKSA9PiB7XG5cdFx0aWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuXHRcdFx0bWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuXHRcdFx0aWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHZvaWQgMCkgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdm9pZCAwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsZXQgbmVzdGVkU2NoZW1hID0gc2NoZW1hO1xuXHRcdFx0aWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEgJiYgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuXHRcdFx0XHRjb25zdCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzLC4uLnJlc3QgfSA9IHNjaGVtYTtcblx0XHRcdFx0bmVzdGVkU2NoZW1hID0gcmVzdDtcblx0XHRcdH0gZWxzZSB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB2b2lkIDA7XG5cdFx0XHRtZXJnZWRBbGxPZi5wdXNoKG5lc3RlZFNjaGVtYSk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aCA/IHtcblx0XHRhbGxPZjogbWVyZ2VkQWxsT2YsXG5cdFx0Li4udW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG5cdH0gOiB2b2lkIDA7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZUludGVyc2VjdGlvbkRlZiA9IHBhcnNlSW50ZXJzZWN0aW9uRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0aW9uLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/parsers/literal.ts\nfunction parseLiteralDef(def, refs) {\n\tconst parsedType = typeof def.value;\n\tif (parsedType !== \"bigint\" && parsedType !== \"number\" && parsedType !== \"boolean\" && parsedType !== \"string\") return { type: Array.isArray(def.value) ? \"array\" : \"object\" };\n\tif (refs.target === \"openApi3\") return {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tenum: [def.value]\n\t};\n\treturn {\n\t\ttype: parsedType === \"bigint\" ? \"integer\" : parsedType,\n\t\tconst: def.value\n\t};\n}\n\n//#endregion\nexports.parseLiteralDef = parseLiteralDef;\n//# sourceMappingURL=literal.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUhBQXlIO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC5janM/NmM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbGl0ZXJhbC50c1xuZnVuY3Rpb24gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcblx0aWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiYgcGFyc2VkVHlwZSAhPT0gXCJudW1iZXJcIiAmJiBwYXJzZWRUeXBlICE9PSBcImJvb2xlYW5cIiAmJiBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSByZXR1cm4geyB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiIH07XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4ge1xuXHRcdHR5cGU6IHBhcnNlZFR5cGUgPT09IFwiYmlnaW50XCIgPyBcImludGVnZXJcIiA6IHBhcnNlZFR5cGUsXG5cdFx0ZW51bTogW2RlZi52YWx1ZV1cblx0fTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuXHRcdGNvbnN0OiBkZWYudmFsdWVcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlTGl0ZXJhbERlZiA9IHBhcnNlTGl0ZXJhbERlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdGVyYWwuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_record = __webpack_require__(/*! ./record.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/map.ts\nfunction parseMapDef(def, refs) {\n\tif (refs.mapStrategy === \"record\") return require_record.parseRecordDef(def, refs);\n\tconst keys = require_parseDef.parseDef(def.keyType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"0\"\n\t\t]\n\t}) || require_any.parseAnyDef(refs);\n\tconst values = require_parseDef.parseDef(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"items\",\n\t\t\t\"items\",\n\t\t\t\"1\"\n\t\t]\n\t}) || require_any.parseAnyDef(refs);\n\treturn {\n\t\ttype: \"array\",\n\t\tmaxItems: 125,\n\t\titems: {\n\t\t\ttype: \"array\",\n\t\t\titems: [keys, values],\n\t\t\tminItems: 2,\n\t\t\tmaxItems: 2\n\t\t}\n\t};\n}\n\n//#endregion\nexports.parseMapDef = parseMapDef;\n//# sourceMappingURL=map.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAuY2pzIiwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixtQkFBTyxDQUFDLGdIQUFXO0FBQ3ZDLHVCQUF1QixtQkFBTyxDQUFDLHNIQUFjO0FBQzdDLHlCQUF5QixtQkFBTyxDQUFDLG1IQUFpQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL21hcC5janM/NmM5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2FueSA9IHJlcXVpcmUoJy4vYW55LmNqcycpO1xuY29uc3QgcmVxdWlyZV9yZWNvcmQgPSByZXF1aXJlKCcuL3JlY29yZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAudHNcbmZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuXHRpZiAocmVmcy5tYXBTdHJhdGVneSA9PT0gXCJyZWNvcmRcIikgcmV0dXJuIHJlcXVpcmVfcmVjb3JkLnBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG5cdGNvbnN0IGtleXMgPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCJpdGVtc1wiLFxuXHRcdFx0XCIwXCJcblx0XHRdXG5cdH0pIHx8IHJlcXVpcmVfYW55LnBhcnNlQW55RGVmKHJlZnMpO1xuXHRjb25zdCB2YWx1ZXMgPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcIml0ZW1zXCIsXG5cdFx0XHRcIml0ZW1zXCIsXG5cdFx0XHRcIjFcIlxuXHRcdF1cblx0fSkgfHwgcmVxdWlyZV9hbnkucGFyc2VBbnlEZWYocmVmcyk7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdG1heEl0ZW1zOiAxMjUsXG5cdFx0aXRlbXM6IHtcblx0XHRcdHR5cGU6IFwiYXJyYXlcIixcblx0XHRcdGl0ZW1zOiBba2V5cywgdmFsdWVzXSxcblx0XHRcdG1pbkl0ZW1zOiAyLFxuXHRcdFx0bWF4SXRlbXM6IDJcblx0XHR9XG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZU1hcERlZiA9IHBhcnNlTWFwRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.cjs":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.cjs ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/parsers/nativeEnum.ts\nfunction parseNativeEnumDef(def) {\n\tconst object = def.values;\n\tconst actualKeys = Object.keys(def.values).filter((key) => {\n\t\treturn typeof object[object[key]] !== \"number\";\n\t});\n\tconst actualValues = actualKeys.map((key) => object[key]);\n\tconst parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));\n\treturn {\n\t\ttype: parsedTypes.length === 1 ? parsedTypes[0] === \"string\" ? \"string\" : \"number\" : [\"string\", \"number\"],\n\t\tenum: actualValues\n\t};\n}\n\n//#endregion\nexports.parseNativeEnumDef = parseNativeEnumDef;\n//# sourceMappingURL=nativeEnum.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmF0aXZlRW51bS5janM/NGMyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmF0aXZlRW51bS50c1xuZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuXHRjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuXHRjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXkpID0+IHtcblx0XHRyZXR1cm4gdHlwZW9mIG9iamVjdFtvYmplY3Rba2V5XV0gIT09IFwibnVtYmVyXCI7XG5cdH0pO1xuXHRjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG5cdGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlcykgPT4gdHlwZW9mIHZhbHVlcykpKTtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDEgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIiA/IFwic3RyaW5nXCIgOiBcIm51bWJlclwiIDogW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLFxuXHRcdGVudW06IGFjdHVhbFZhbHVlc1xuXHR9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VOYXRpdmVFbnVtRGVmID0gcGFyc2VOYXRpdmVFbnVtRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlRW51bS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/never.ts\nfunction parseNeverDef(refs) {\n\treturn refs.target === \"openAi\" ? void 0 : { not: require_any.parseAnyDef({\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"not\"]\n\t}) };\n}\n\n//#endregion\nexports.parseNeverDef = parseNeverDef;\n//# sourceMappingURL=never.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci5janMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsZ0hBQVc7O0FBRXZDO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbmV2ZXIuY2pzPzk5NzAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9hbnkgPSByZXF1aXJlKCcuL2FueS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci50c1xuZnVuY3Rpb24gcGFyc2VOZXZlckRlZihyZWZzKSB7XG5cdHJldHVybiByZWZzLnRhcmdldCA9PT0gXCJvcGVuQWlcIiA/IHZvaWQgMCA6IHsgbm90OiByZXF1aXJlX2FueS5wYXJzZUFueURlZih7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwibm90XCJdXG5cdH0pIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZU5ldmVyRGVmID0gcGFyc2VOZXZlckRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldmVyLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.cjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.cjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n//#region src/utils/zod-to-json-schema/parsers/null.ts\nfunction parseNullDef(refs) {\n\treturn refs.target === \"openApi3\" ? {\n\t\tenum: [\"null\"],\n\t\tnullable: true\n\t} : { type: \"null\" };\n}\n\n//#endregion\nexports.parseNullDef = parseNullDef;\n//# sourceMappingURL=null.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLmNqcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQOztBQUVBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLmNqcz8zNDVlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLnRzXG5mdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xuXHRyZXR1cm4gcmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiA/IHtcblx0XHRlbnVtOiBbXCJudWxsXCJdLFxuXHRcdG51bGxhYmxlOiB0cnVlXG5cdH0gOiB7IHR5cGU6IFwibnVsbFwiIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZU51bGxEZWYgPSBwYXJzZU51bGxEZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.cjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.cjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_union = __webpack_require__(/*! ./union.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/nullable.ts\nfunction parseNullableDef(def, refs) {\n\tif ([\n\t\t\"ZodString\",\n\t\t\"ZodNumber\",\n\t\t\"ZodBigInt\",\n\t\t\"ZodBoolean\",\n\t\t\"ZodNull\"\n\t].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n\t\tif (refs.target === \"openApi3\") return {\n\t\t\ttype: require_union.primitiveMappings[def.innerType._def.typeName],\n\t\t\tnullable: true\n\t\t};\n\t\treturn { type: [require_union.primitiveMappings[def.innerType._def.typeName], \"null\"] };\n\t}\n\tif (refs.target === \"openApi3\") {\n\t\tconst base$1 = require_parseDef.parseDef(def.innerType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath]\n\t\t});\n\t\tif (base$1 && \"$ref\" in base$1) return {\n\t\t\tallOf: [base$1],\n\t\t\tnullable: true\n\t\t};\n\t\treturn base$1 && {\n\t\t\t...base$1,\n\t\t\tnullable: true\n\t\t};\n\t}\n\tconst base = require_parseDef.parseDef(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\treturn base && { anyOf: [base, { type: \"null\" }] };\n}\n\n//#endregion\nexports.parseNullableDef = parseNullableDef;\n//# sourceMappingURL=nullable.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsYWJsZS5janMiLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMsb0hBQWE7QUFDM0MseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLGtCQUFrQixnQkFBZ0IsY0FBYztBQUNoRDs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUuY2pzP2Q5YWMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV91bmlvbiA9IHJlcXVpcmUoJy4vdW5pb24uY2pzJyk7XG5jb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi4vcGFyc2VEZWYuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUudHNcbmZ1bmN0aW9uIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKSB7XG5cdGlmIChbXG5cdFx0XCJab2RTdHJpbmdcIixcblx0XHRcIlpvZE51bWJlclwiLFxuXHRcdFwiWm9kQmlnSW50XCIsXG5cdFx0XCJab2RCb29sZWFuXCIsXG5cdFx0XCJab2ROdWxsXCJcblx0XS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG5cdFx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHJldHVybiB7XG5cdFx0XHR0eXBlOiByZXF1aXJlX3VuaW9uLnByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG5cdFx0XHRudWxsYWJsZTogdHJ1ZVxuXHRcdH07XG5cdFx0cmV0dXJuIHsgdHlwZTogW3JlcXVpcmVfdW5pb24ucHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSwgXCJudWxsXCJdIH07XG5cdH1cblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcblx0XHRjb25zdCBiYXNlJDEgPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aF1cblx0XHR9KTtcblx0XHRpZiAoYmFzZSQxICYmIFwiJHJlZlwiIGluIGJhc2UkMSkgcmV0dXJuIHtcblx0XHRcdGFsbE9mOiBbYmFzZSQxXSxcblx0XHRcdG51bGxhYmxlOiB0cnVlXG5cdFx0fTtcblx0XHRyZXR1cm4gYmFzZSQxICYmIHtcblx0XHRcdC4uLmJhc2UkMSxcblx0XHRcdG51bGxhYmxlOiB0cnVlXG5cdFx0fTtcblx0fVxuXHRjb25zdCBiYXNlID0gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbnlPZlwiLFxuXHRcdFx0XCIwXCJcblx0XHRdXG5cdH0pO1xuXHRyZXR1cm4gYmFzZSAmJiB7IGFueU9mOiBbYmFzZSwgeyB0eXBlOiBcIm51bGxcIiB9XSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VOdWxsYWJsZURlZiA9IHBhcnNlTnVsbGFibGVEZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsYWJsZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/number.ts\nfunction parseNumberDef(def, refs) {\n\tconst res = { type: \"number\" };\n\tif (!def.checks) return res;\n\tfor (const check of def.checks) switch (check.kind) {\n\t\tcase \"int\":\n\t\t\tres.type = \"integer\";\n\t\t\trequire_errorMessages.addErrorMessage(res, \"type\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"min\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) require_errorMessages.setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n\t\t\telse require_errorMessages.setResponseValueAndErrors(res, \"exclusiveMinimum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMinimum = true;\n\t\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tif (refs.target === \"jsonSchema7\") if (check.inclusive) require_errorMessages.setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n\t\t\telse require_errorMessages.setResponseValueAndErrors(res, \"exclusiveMaximum\", check.value, check.message, refs);\n\t\t\telse {\n\t\t\t\tif (!check.inclusive) res.exclusiveMaximum = true;\n\t\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"multipleOf\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"multipleOf\", check.value, check.message, refs);\n\t\t\tbreak;\n\t}\n\treturn res;\n}\n\n//#endregion\nexports.parseNumberDef = parseNumberDef;\n//# sourceMappingURL=number.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFzQjs7QUFFNUQ7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVtYmVyLmNqcz81ZWUxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfZXJyb3JNZXNzYWdlcyA9IHJlcXVpcmUoJy4uL2Vycm9yTWVzc2FnZXMuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVtYmVyLnRzXG5mdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgcmVzID0geyB0eXBlOiBcIm51bWJlclwiIH07XG5cdGlmICghZGVmLmNoZWNrcykgcmV0dXJuIHJlcztcblx0Zm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcblx0XHRjYXNlIFwiaW50XCI6XG5cdFx0XHRyZXMudHlwZSA9IFwiaW50ZWdlclwiO1xuXHRcdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLmFkZEVycm9yTWVzc2FnZShyZXMsIFwidHlwZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtaW5cIjpcblx0XHRcdGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hN1wiKSBpZiAoY2hlY2suaW5jbHVzaXZlKSByZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNoZWNrLmluY2x1c2l2ZSkgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuXHRcdFx0XHRyZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibWF4XCI6XG5cdFx0XHRpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikgaWYgKGNoZWNrLmluY2x1c2l2ZSkgcmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0ZWxzZSByZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiZXhjbHVzaXZlTWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYgKCFjaGVjay5pbmNsdXNpdmUpIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcblx0XHRcdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcIm11bHRpcGxlT2ZcIjpcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtdWx0aXBsZU9mXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cdHJldHVybiByZXM7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZU51bWJlckRlZiA9IHBhcnNlTnVtYmVyRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtYmVyLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/object.ts\nfunction parseObjectDef(def, refs) {\n\tconst forceOptionalIntoNullable = refs.target === \"openAi\";\n\tconst result = {\n\t\ttype: \"object\",\n\t\tproperties: {}\n\t};\n\tconst required = [];\n\tconst shape = def.shape();\n\tfor (const propName in shape) {\n\t\tlet propDef = shape[propName];\n\t\tif (propDef === void 0 || propDef._def === void 0) continue;\n\t\tlet propOptional = safeIsOptional(propDef);\n\t\tif (propOptional && forceOptionalIntoNullable) {\n\t\t\tif (propDef._def.typeName === \"ZodOptional\") propDef = propDef._def.innerType;\n\t\t\tif (!propDef.isNullable()) propDef = propDef.nullable();\n\t\t\tpropOptional = false;\n\t\t}\n\t\tconst parsedDef = require_parseDef.parseDef(propDef._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t],\n\t\t\tpropertyPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"properties\",\n\t\t\t\tpropName\n\t\t\t]\n\t\t});\n\t\tif (parsedDef === void 0) continue;\n\t\tresult.properties[propName] = parsedDef;\n\t\tif (!propOptional) required.push(propName);\n\t}\n\tif (required.length) result.required = required;\n\tconst additionalProperties = decideAdditionalProperties(def, refs);\n\tif (additionalProperties !== void 0) result.additionalProperties = additionalProperties;\n\treturn result;\n}\nfunction decideAdditionalProperties(def, refs) {\n\tif (def.catchall._def.typeName !== \"ZodNever\") return require_parseDef.parseDef(def.catchall._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t});\n\tswitch (def.unknownKeys) {\n\t\tcase \"passthrough\": return refs.allowedAdditionalProperties;\n\t\tcase \"strict\": return refs.rejectedAdditionalProperties;\n\t\tcase \"strip\": return refs.removeAdditionalStrategy === \"strict\" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;\n\t}\n}\nfunction safeIsOptional(schema) {\n\ttry {\n\t\treturn schema.isOptional();\n\t} catch {\n\t\treturn true;\n\t}\n}\n\n//#endregion\nexports.parseObjectDef = parseObjectDef;\n//# sourceMappingURL=object.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vYmplY3QuY2pzIiwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QixtQkFBTyxDQUFDLG1IQUFpQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC5janM/NDllOSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi4vcGFyc2VEZWYuY2pzJyk7XG5cbi8vI3JlZ2lvbiBzcmMvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb2JqZWN0LnRzXG5mdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcblx0Y29uc3QgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSA9IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiO1xuXHRjb25zdCByZXN1bHQgPSB7XG5cdFx0dHlwZTogXCJvYmplY3RcIixcblx0XHRwcm9wZXJ0aWVzOiB7fVxuXHR9O1xuXHRjb25zdCByZXF1aXJlZCA9IFtdO1xuXHRjb25zdCBzaGFwZSA9IGRlZi5zaGFwZSgpO1xuXHRmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNoYXBlKSB7XG5cdFx0bGV0IHByb3BEZWYgPSBzaGFwZVtwcm9wTmFtZV07XG5cdFx0aWYgKHByb3BEZWYgPT09IHZvaWQgMCB8fCBwcm9wRGVmLl9kZWYgPT09IHZvaWQgMCkgY29udGludWU7XG5cdFx0bGV0IHByb3BPcHRpb25hbCA9IHNhZmVJc09wdGlvbmFsKHByb3BEZWYpO1xuXHRcdGlmIChwcm9wT3B0aW9uYWwgJiYgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSkge1xuXHRcdFx0aWYgKHByb3BEZWYuX2RlZi50eXBlTmFtZSA9PT0gXCJab2RPcHRpb25hbFwiKSBwcm9wRGVmID0gcHJvcERlZi5fZGVmLmlubmVyVHlwZTtcblx0XHRcdGlmICghcHJvcERlZi5pc051bGxhYmxlKCkpIHByb3BEZWYgPSBwcm9wRGVmLm51bGxhYmxlKCk7XG5cdFx0XHRwcm9wT3B0aW9uYWwgPSBmYWxzZTtcblx0XHR9XG5cdFx0Y29uc3QgcGFyc2VkRGVmID0gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcInByb3BlcnRpZXNcIixcblx0XHRcdFx0cHJvcE5hbWVcblx0XHRcdF0sXG5cdFx0XHRwcm9wZXJ0eVBhdGg6IFtcblx0XHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFx0XCJwcm9wZXJ0aWVzXCIsXG5cdFx0XHRcdHByb3BOYW1lXG5cdFx0XHRdXG5cdFx0fSk7XG5cdFx0aWYgKHBhcnNlZERlZiA9PT0gdm9pZCAwKSBjb250aW51ZTtcblx0XHRyZXN1bHQucHJvcGVydGllc1twcm9wTmFtZV0gPSBwYXJzZWREZWY7XG5cdFx0aWYgKCFwcm9wT3B0aW9uYWwpIHJlcXVpcmVkLnB1c2gocHJvcE5hbWUpO1xuXHR9XG5cdGlmIChyZXF1aXJlZC5sZW5ndGgpIHJlc3VsdC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuXHRjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyk7XG5cdGlmIChhZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdm9pZCAwKSByZXN1bHQuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcykge1xuXHRpZiAoZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgIT09IFwiWm9kTmV2ZXJcIikgcmV0dXJuIHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLmNhdGNoYWxsLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXVxuXHR9KTtcblx0c3dpdGNoIChkZWYudW5rbm93bktleXMpIHtcblx0XHRjYXNlIFwicGFzc3Rocm91Z2hcIjogcmV0dXJuIHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuXHRcdGNhc2UgXCJzdHJpY3RcIjogcmV0dXJuIHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcblx0XHRjYXNlIFwic3RyaXBcIjogcmV0dXJuIHJlZnMucmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5ID09PSBcInN0cmljdFwiID8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXMgOiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM7XG5cdH1cbn1cbmZ1bmN0aW9uIHNhZmVJc09wdGlvbmFsKHNjaGVtYSkge1xuXHR0cnkge1xuXHRcdHJldHVybiBzY2hlbWEuaXNPcHRpb25hbCgpO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VPYmplY3REZWYgPSBwYXJzZU9iamVjdERlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iamVjdC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.cjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.cjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/optional.ts\nconst parseOptionalDef = (def, refs) => {\n\tif (refs.currentPath.toString() === refs.propertyPath?.toString()) return require_parseDef.parseDef(def.innerType._def, refs);\n\tconst innerSchema = require_parseDef.parseDef(def.innerType._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t\"1\"\n\t\t]\n\t});\n\treturn innerSchema ? { anyOf: [{ not: require_any.parseAnyDef(refs) }, innerSchema] } : require_any.parseAnyDef(refs);\n};\n\n//#endregion\nexports.parseOptionalDef = parseOptionalDef;\n//# sourceMappingURL=optional.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC5janMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsZ0hBQVc7QUFDdkMseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRix3QkFBd0IsVUFBVSxvQ0FBb0MsaUJBQWlCO0FBQ3ZGOztBQUVBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC5janM/N2ZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX2FueSA9IHJlcXVpcmUoJy4vYW55LmNqcycpO1xuY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29wdGlvbmFsLnRzXG5jb25zdCBwYXJzZU9wdGlvbmFsRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuXHRpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aD8udG9TdHJpbmcoKSkgcmV0dXJuIHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcblx0Y29uc3QgaW5uZXJTY2hlbWEgPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcImFueU9mXCIsXG5cdFx0XHRcIjFcIlxuXHRcdF1cblx0fSk7XG5cdHJldHVybiBpbm5lclNjaGVtYSA/IHsgYW55T2Y6IFt7IG5vdDogcmVxdWlyZV9hbnkucGFyc2VBbnlEZWYocmVmcykgfSwgaW5uZXJTY2hlbWFdIH0gOiByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKTtcbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZU9wdGlvbmFsRGVmID0gcGFyc2VPcHRpb25hbERlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGlvbmFsLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.cjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.cjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/pipeline.ts\nconst parsePipelineDef = (def, refs) => {\n\tif (refs.pipeStrategy === \"input\") return require_parseDef.parseDef(def.in._def, refs);\n\telse if (refs.pipeStrategy === \"output\") return require_parseDef.parseDef(def.out._def, refs);\n\tconst a = require_parseDef.parseDef(def.in._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\t\"0\"\n\t\t]\n\t});\n\tconst b = require_parseDef.parseDef(def.out._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"allOf\",\n\t\t\ta ? \"1\" : \"0\"\n\t\t]\n\t});\n\treturn { allOf: [a, b].filter((x) => x !== void 0) };\n};\n\n//#endregion\nexports.parsePipelineDef = parsePipelineDef;\n//# sourceMappingURL=pipeline.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9waXBlbGluZS5janMiLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLFVBQVU7QUFDVjs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUuY2pzPzNmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLnRzXG5jb25zdCBwYXJzZVBpcGVsaW5lRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuXHRpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwiaW5wdXRcIikgcmV0dXJuIHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuXHRlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJvdXRwdXRcIikgcmV0dXJuIHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLm91dC5fZGVmLCByZWZzKTtcblx0Y29uc3QgYSA9IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbGxPZlwiLFxuXHRcdFx0XCIwXCJcblx0XHRdXG5cdH0pO1xuXHRjb25zdCBiID0gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcblx0XHQuLi5yZWZzLFxuXHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XCJhbGxPZlwiLFxuXHRcdFx0YSA/IFwiMVwiIDogXCIwXCJcblx0XHRdXG5cdH0pO1xuXHRyZXR1cm4geyBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCkgPT4geCAhPT0gdm9pZCAwKSB9O1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlUGlwZWxpbmVEZWYgPSBwYXJzZVBpcGVsaW5lRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZWxpbmUuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/promise.ts\nfunction parsePromiseDef(def, refs) {\n\treturn require_parseDef.parseDef(def.type._def, refs);\n}\n\n//#endregion\nexports.parsePromiseDef = parsePromiseDef;\n//# sourceMappingURL=promise.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLmNqcz81OTkxIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLnRzXG5mdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG5cdHJldHVybiByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VQcm9taXNlRGVmID0gcGFyc2VQcm9taXNlRGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.cjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.cjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/readonly.ts\nconst parseReadonlyDef = (def, refs) => {\n\treturn require_parseDef.parseDef(def.innerType._def, refs);\n};\n\n//#endregion\nexports.parseReadonlyDef = parseReadonlyDef;\n//# sourceMappingURL=readonly.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWFkb25seS5janMiLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkuY2pzPzBhOWIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5LnRzXG5jb25zdCBwYXJzZVJlYWRvbmx5RGVmID0gKGRlZiwgcmVmcykgPT4ge1xuXHRyZXR1cm4gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlUmVhZG9ubHlEZWYgPSBwYXJzZVJlYWRvbmx5RGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhZG9ubHkuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_branded = __webpack_require__(/*! ./branded.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs\");\nconst require_string = __webpack_require__(/*! ./string.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\nconst zod_v3 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v3 */ \"(action-browser)/./node_modules/zod/v3/index.cjs\"));\n\n//#region src/utils/zod-to-json-schema/parsers/record.ts\nfunction parseRecordDef(def, refs) {\n\tif (refs.target === \"openAi\") console.warn(\"Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.\");\n\tif (refs.target === \"openApi3\" && def.keyType?._def.typeName === zod_v3.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\ttype: \"object\",\n\t\trequired: def.keyType._def.values,\n\t\tproperties: def.keyType._def.values.reduce((acc, key) => ({\n\t\t\t...acc,\n\t\t\t[key]: require_parseDef.parseDef(def.valueType._def, {\n\t\t\t\t...refs,\n\t\t\t\tcurrentPath: [\n\t\t\t\t\t...refs.currentPath,\n\t\t\t\t\t\"properties\",\n\t\t\t\t\tkey\n\t\t\t\t]\n\t\t\t}) ?? require_any.parseAnyDef(refs)\n\t\t}), {}),\n\t\tadditionalProperties: refs.rejectedAdditionalProperties\n\t};\n\tconst schema = {\n\t\ttype: \"object\",\n\t\tadditionalProperties: require_parseDef.parseDef(def.valueType._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalProperties\"]\n\t\t}) ?? refs.allowedAdditionalProperties\n\t};\n\tif (refs.target === \"openApi3\") return schema;\n\tif (def.keyType?._def.typeName === zod_v3.ZodFirstPartyTypeKind.ZodString && def.keyType._def.checks?.length) {\n\t\tconst { type,...keyType } = require_string.parseStringDef(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t} else if (def.keyType?._def.typeName === zod_v3.ZodFirstPartyTypeKind.ZodEnum) return {\n\t\t...schema,\n\t\tpropertyNames: { enum: def.keyType._def.values }\n\t};\n\telse if (def.keyType?._def.typeName === zod_v3.ZodFirstPartyTypeKind.ZodBranded && def.keyType._def.type._def.typeName === zod_v3.ZodFirstPartyTypeKind.ZodString && def.keyType._def.type._def.checks?.length) {\n\t\tconst { type,...keyType } = require_branded.parseBrandedDef(def.keyType._def, refs);\n\t\treturn {\n\t\t\t...schema,\n\t\t\tpropertyNames: keyType\n\t\t};\n\t}\n\treturn schema;\n}\n\n//#endregion\nexports.parseRecordDef = parseRecordDef;\n//# sourceMappingURL=record.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQuY2pzIiwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQyxtQkFBTyxDQUFDLGtJQUF3QztBQUNqRixvQkFBb0IsbUJBQU8sQ0FBQyxnSEFBVztBQUN2Qyx3QkFBd0IsbUJBQU8sQ0FBQyx3SEFBZTtBQUMvQyx1QkFBdUIsbUJBQU8sQ0FBQyxzSEFBYztBQUM3Qyx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7QUFDbEQsZ0RBQWdELG1CQUFPLENBQUMsZ0VBQVE7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHLEtBQUs7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtCQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC5janM/ZTI4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUgPSByZXF1aXJlKCcuLi8uLi8uLi9fdmlydHVhbC9yb2xsZG93bl9ydW50aW1lLmNqcycpO1xuY29uc3QgcmVxdWlyZV9hbnkgPSByZXF1aXJlKCcuL2FueS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYnJhbmRlZCA9IHJlcXVpcmUoJy4vYnJhbmRlZC5janMnKTtcbmNvbnN0IHJlcXVpcmVfc3RyaW5nID0gcmVxdWlyZSgnLi9zdHJpbmcuY2pzJyk7XG5jb25zdCByZXF1aXJlX3BhcnNlRGVmID0gcmVxdWlyZSgnLi4vcGFyc2VEZWYuY2pzJyk7XG5jb25zdCB6b2RfdjMgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwiem9kL3YzXCIpKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9yZWNvcmQudHNcbmZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcykge1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIpIGNvbnNvbGUud2FybihcIldhcm5pbmc6IE9wZW5BSSBtYXkgbm90IHN1cHBvcnQgcmVjb3JkcyBpbiBzY2hlbWFzISBUcnkgYW4gYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzIGluc3RlYWQuXCIpO1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIiAmJiBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwib2JqZWN0XCIsXG5cdFx0cmVxdWlyZWQ6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuXHRcdHByb3BlcnRpZXM6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLnJlZHVjZSgoYWNjLCBrZXkpID0+ICh7XG5cdFx0XHQuLi5hY2MsXG5cdFx0XHRba2V5XTogcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcblx0XHRcdFx0Li4ucmVmcyxcblx0XHRcdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcdFwicHJvcGVydGllc1wiLFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHRdXG5cdFx0XHR9KSA/PyByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKVxuXHRcdH0pLCB7fSksXG5cdFx0YWRkaXRpb25hbFByb3BlcnRpZXM6IHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuXHR9O1xuXHRjb25zdCBzY2hlbWEgPSB7XG5cdFx0dHlwZTogXCJvYmplY3RcIixcblx0XHRhZGRpdGlvbmFsUHJvcGVydGllczogcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl1cblx0XHR9KSA/PyByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllc1xuXHR9O1xuXHRpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikgcmV0dXJuIHNjaGVtYTtcblx0aWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJiBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoKSB7XG5cdFx0Y29uc3QgeyB0eXBlLC4uLmtleVR5cGUgfSA9IHJlcXVpcmVfc3RyaW5nLnBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5zY2hlbWEsXG5cdFx0XHRwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlXG5cdFx0fTtcblx0fSBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSByZXR1cm4ge1xuXHRcdC4uLnNjaGVtYSxcblx0XHRwcm9wZXJ0eU5hbWVzOiB7IGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzIH1cblx0fTtcblx0ZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCAmJiBkZWYua2V5VHlwZS5fZGVmLnR5cGUuX2RlZi50eXBlTmFtZSA9PT0gem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiYgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcblx0XHRjb25zdCB7IHR5cGUsLi4ua2V5VHlwZSB9ID0gcmVxdWlyZV9icmFuZGVkLnBhcnNlQnJhbmRlZERlZihkZWYua2V5VHlwZS5fZGVmLCByZWZzKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc2NoZW1hLFxuXHRcdFx0cHJvcGVydHlOYW1lczoga2V5VHlwZVxuXHRcdH07XG5cdH1cblx0cmV0dXJuIHNjaGVtYTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlUmVjb3JkRGVmID0gcGFyc2VSZWNvcmREZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmQuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.cjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.cjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\nconst require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/set.ts\nfunction parseSetDef(def, refs) {\n\tconst items = require_parseDef.parseDef(def.valueType._def, {\n\t\t...refs,\n\t\tcurrentPath: [...refs.currentPath, \"items\"]\n\t});\n\tconst schema = {\n\t\ttype: \"array\",\n\t\tuniqueItems: true,\n\t\titems\n\t};\n\tif (def.minSize) require_errorMessages.setResponseValueAndErrors(schema, \"minItems\", def.minSize.value, def.minSize.message, refs);\n\tif (def.maxSize) require_errorMessages.setResponseValueAndErrors(schema, \"maxItems\", def.maxSize.value, def.maxSize.message, refs);\n\treturn schema;\n}\n\n//#endregion\nexports.parseSetDef = parseSetDef;\n//# sourceMappingURL=set.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFzQjtBQUM1RCx5QkFBeUIsbUJBQU8sQ0FBQyxtSEFBaUI7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQuY2pzPzIxZTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9lcnJvck1lc3NhZ2VzID0gcmVxdWlyZSgnLi4vZXJyb3JNZXNzYWdlcy5janMnKTtcbmNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQudHNcbmZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCBpdGVtcyA9IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIl1cblx0fSk7XG5cdGNvbnN0IHNjaGVtYSA9IHtcblx0XHR0eXBlOiBcImFycmF5XCIsXG5cdFx0dW5pcXVlSXRlbXM6IHRydWUsXG5cdFx0aXRlbXNcblx0fTtcblx0aWYgKGRlZi5taW5TaXplKSByZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwibWluSXRlbXNcIiwgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xuXHRpZiAoZGVmLm1heFNpemUpIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgXCJtYXhJdGVtc1wiLCBkZWYubWF4U2l6ZS52YWx1ZSwgZGVmLm1heFNpemUubWVzc2FnZSwgcmVmcyk7XG5cdHJldHVybiBzY2hlbWE7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZVNldERlZiA9IHBhcnNlU2V0RGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0LmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_errorMessages = __webpack_require__(/*! ../errorMessages.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/errorMessages.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/string.ts\nlet emojiRegex = void 0;\n/**\n* Generated from the regular expressions found here as of 2024-05-22:\n* https://github.com/colinhacks/zod/blob/master/src/types.ts.\n*\n* Expressions with /i flag have been changed accordingly.\n*/\nconst zodPatterns = {\n\tcuid: /^[cC][^\\s-]{8,}$/,\n\tcuid2: /^[0-9a-z]+$/,\n\tulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n\temail: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n\temoji: () => {\n\t\tif (emojiRegex === void 0) emojiRegex = RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\", \"u\");\n\t\treturn emojiRegex;\n\t},\n\tuuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n\tipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n\tipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n\tipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n\tipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n\tbase64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n\tbase64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n\tnanoid: /^[a-zA-Z0-9_-]{21}$/,\n\tjwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/\n};\nfunction parseStringDef(def, refs) {\n\tconst res = { type: \"string\" };\n\tif (def.checks) for (const check of def.checks) switch (check.kind) {\n\t\tcase \"min\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"email\":\n\t\t\tswitch (refs.emailStrategy) {\n\t\t\t\tcase \"format:email\":\n\t\t\t\t\taddFormat(res, \"email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"format:idn-email\":\n\t\t\t\t\taddFormat(res, \"idn-email\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.email, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"url\":\n\t\t\taddFormat(res, \"uri\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"uuid\":\n\t\t\taddFormat(res, \"uuid\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"regex\":\n\t\t\taddPattern(res, check.regex, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid\":\n\t\t\taddPattern(res, zodPatterns.cuid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cuid2\":\n\t\t\taddPattern(res, zodPatterns.cuid2, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"startsWith\":\n\t\t\taddPattern(res, RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"endsWith\":\n\t\t\taddPattern(res, RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"datetime\":\n\t\t\taddFormat(res, \"date-time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"date\":\n\t\t\taddFormat(res, \"date\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"time\":\n\t\t\taddFormat(res, \"time\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"duration\":\n\t\t\taddFormat(res, \"duration\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"length\":\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"minLength\", typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value, check.message, refs);\n\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"maxLength\", typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"includes\":\n\t\t\taddPattern(res, RegExp(escapeLiteralCheckValue(check.value, refs)), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ip\":\n\t\t\tif (check.version !== \"v6\") addFormat(res, \"ipv4\", check.message, refs);\n\t\t\tif (check.version !== \"v4\") addFormat(res, \"ipv6\", check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64url\":\n\t\t\taddPattern(res, zodPatterns.base64url, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"jwt\":\n\t\t\taddPattern(res, zodPatterns.jwt, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"cidr\":\n\t\t\tif (check.version !== \"v6\") addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n\t\t\tif (check.version !== \"v4\") addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"emoji\":\n\t\t\taddPattern(res, zodPatterns.emoji(), check.message, refs);\n\t\t\tbreak;\n\t\tcase \"ulid\":\n\t\t\taddPattern(res, zodPatterns.ulid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"base64\":\n\t\t\tswitch (refs.base64Strategy) {\n\t\t\t\tcase \"format:binary\":\n\t\t\t\t\taddFormat(res, \"binary\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"contentEncoding:base64\":\n\t\t\t\t\trequire_errorMessages.setResponseValueAndErrors(res, \"contentEncoding\", \"base64\", check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pattern:zod\":\n\t\t\t\t\taddPattern(res, zodPatterns.base64, check.message, refs);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"nanoid\":\n\t\t\taddPattern(res, zodPatterns.nanoid, check.message, refs);\n\t\t\tbreak;\n\t\tcase \"toLowerCase\":\n\t\tcase \"toUpperCase\":\n\t\tcase \"trim\": break;\n\t\tdefault:\n /* c8 ignore next */\n\t\t((_) => {})(check);\n\t}\n\treturn res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n\treturn refs.patternStrategy === \"escape\" ? escapeNonAlphaNumeric(literal) : literal;\n}\nconst ALPHA_NUMERIC = /* @__PURE__ */ new Set(\"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\");\nfunction escapeNonAlphaNumeric(source) {\n\tlet result = \"\";\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (!ALPHA_NUMERIC.has(source[i])) result += \"\\\\\";\n\t\tresult += source[i];\n\t}\n\treturn result;\n}\nfunction addFormat(schema, value, message, refs) {\n\tif (schema.format || schema.anyOf?.some((x) => x.format)) {\n\t\tif (!schema.anyOf) schema.anyOf = [];\n\t\tif (schema.format) {\n\t\t\tschema.anyOf.push({\n\t\t\t\tformat: schema.format,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { format: schema.errorMessage.format } }\n\t\t\t});\n\t\t\tdelete schema.format;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.format;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.anyOf.push({\n\t\t\tformat: value,\n\t\t\t...message && refs.errorMessages && { errorMessage: { format: message } }\n\t\t});\n\t} else require_errorMessages.setResponseValueAndErrors(schema, \"format\", value, message, refs);\n}\nfunction addPattern(schema, regex, message, refs) {\n\tif (schema.pattern || schema.allOf?.some((x) => x.pattern)) {\n\t\tif (!schema.allOf) schema.allOf = [];\n\t\tif (schema.pattern) {\n\t\t\tschema.allOf.push({\n\t\t\t\tpattern: schema.pattern,\n\t\t\t\t...schema.errorMessage && refs.errorMessages && { errorMessage: { pattern: schema.errorMessage.pattern } }\n\t\t\t});\n\t\t\tdelete schema.pattern;\n\t\t\tif (schema.errorMessage) {\n\t\t\t\tdelete schema.errorMessage.pattern;\n\t\t\t\tif (Object.keys(schema.errorMessage).length === 0) delete schema.errorMessage;\n\t\t\t}\n\t\t}\n\t\tschema.allOf.push({\n\t\t\tpattern: stringifyRegExpWithFlags(regex, refs),\n\t\t\t...message && refs.errorMessages && { errorMessage: { pattern: message } }\n\t\t});\n\t} else require_errorMessages.setResponseValueAndErrors(schema, \"pattern\", stringifyRegExpWithFlags(regex, refs), message, refs);\n}\nfunction stringifyRegExpWithFlags(regex, refs) {\n\tif (!refs.applyRegexFlags || !regex.flags) return regex.source;\n\tconst flags = {\n\t\ti: regex.flags.includes(\"i\"),\n\t\tm: regex.flags.includes(\"m\"),\n\t\ts: regex.flags.includes(\"s\")\n\t};\n\tconst source = flags.i ? regex.source.toLowerCase() : regex.source;\n\tlet pattern = \"\";\n\tlet isEscaped = false;\n\tlet inCharGroup = false;\n\tlet inCharRange = false;\n\tfor (let i = 0; i < source.length; i++) {\n\t\tif (isEscaped) {\n\t\t\tpattern += source[i];\n\t\t\tisEscaped = false;\n\t\t\tcontinue;\n\t\t}\n\t\tif (flags.i) {\n\t\t\tif (inCharGroup) {\n\t\t\t\tif (source[i].match(/[a-z]/)) {\n\t\t\t\t\tif (inCharRange) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tpattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n\t\t\t\t\t\tinCharRange = false;\n\t\t\t\t\t} else if (source[i + 1] === \"-\" && source[i + 2]?.match(/[a-z]/)) {\n\t\t\t\t\t\tpattern += source[i];\n\t\t\t\t\t\tinCharRange = true;\n\t\t\t\t\t} else pattern += `${source[i]}${source[i].toUpperCase()}`;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t} else if (source[i].match(/[a-z]/)) {\n\t\t\t\tpattern += `[${source[i]}${source[i].toUpperCase()}]`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.m) {\n\t\t\tif (source[i] === \"^\") {\n\t\t\t\tpattern += `(^|(?<=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t} else if (source[i] === \"$\") {\n\t\t\t\tpattern += `($|(?=[\\r\\n]))`;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif (flags.s && source[i] === \".\") {\n\t\t\tpattern += inCharGroup ? `${source[i]}\\r\\n` : `[${source[i]}\\r\\n]`;\n\t\t\tcontinue;\n\t\t}\n\t\tpattern += source[i];\n\t\tif (source[i] === \"\\\\\") isEscaped = true;\n\t\telse if (inCharGroup && source[i] === \"]\") inCharGroup = false;\n\t\telse if (!inCharGroup && source[i] === \"[\") inCharGroup = true;\n\t}\n\ttry {\n\t\tnew RegExp(pattern);\n\t} catch {\n\t\tconsole.warn(`Could not convert regex pattern at ${refs.currentPath.join(\"/\")} to a flag-independent form! Falling back to the flag-ignorant source`);\n\t\treturn regex.source;\n\t}\n\treturn pattern;\n}\n\n//#endregion\nexports.parseStringDef = parseStringDef;\nexports.zodPatterns = zodPatterns;\n//# sourceMappingURL=string.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcuY2pzIiwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFzQjs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEdBQUc7QUFDdkI7QUFDQSw0QkFBNEIsR0FBRztBQUMvQixxR0FBcUcsR0FBRztBQUN4RztBQUNBLHdEQUF3RCxzQkFBc0IsS0FBSyxnQkFBZ0I7QUFDbkc7QUFDQSxFQUFFO0FBQ0YscUJBQXFCLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsZUFBZSxHQUFHO0FBQzVGLG9FQUFvRSxFQUFFO0FBQ3RFLHdFQUF3RSxFQUFFO0FBQzFFLG9CQUFvQixJQUFJLEdBQUcsRUFBRSxhQUFhLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEdBQUcsRUFBRSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxHQUFHLEVBQUUsV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLG1DQUFtQyxFQUFFLFNBQVMsSUFBSSxNQUFNLEVBQUUsaUNBQWlDLEVBQUUsU0FBUyxJQUFJO0FBQ2hZLDJCQUEyQixJQUFJLEdBQUcsSUFBSSxZQUFZLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxlQUFlLElBQUksR0FBRyxJQUFJLGFBQWEsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksY0FBYyxJQUFJLEdBQUcsSUFBSSxjQUFjLElBQUksRUFBRSxJQUFJLGNBQWMsSUFBSSxHQUFHLElBQUksY0FBYyxJQUFJLEVBQUUsSUFBSSxjQUFjLElBQUksR0FBRyxJQUFJLGNBQWMsSUFBSSxFQUFFLElBQUksYUFBYSxJQUFJLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxrQkFBa0IsSUFBSSxFQUFFLElBQUksdUJBQXVCLElBQUksRUFBRSxJQUFJLGFBQWEsR0FBRyxZQUFZLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxvQkFBb0IsSUFBSSxPQUFPLElBQUksVUFBVSxJQUFJLG1CQUFtQixJQUFJLE9BQU8sSUFBSSxvQkFBb0IsSUFBSSxHQUFHLElBQUkscUJBQXFCLElBQUksT0FBTyxJQUFJLFVBQVUsSUFBSSxtQkFBbUIsSUFBSSxPQUFPLElBQUk7QUFDenBCLDBCQUEwQixFQUFFLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFO0FBQ3JFLDZCQUE2QixFQUFFLGtCQUFrQixFQUFFLHNCQUFzQixFQUFFO0FBQzNFLHlCQUF5QixHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkNBQTJDO0FBQ3pFO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQTJDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEUsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pELEdBQUc7QUFDSCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RCxHQUFHO0FBQ0gsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjLEdBQUcsVUFBVTtBQUMvQztBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTyxtQkFBbUIsVUFBVSxFQUFFLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixVQUFVLEVBQUUsd0JBQXdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsVUFBVSxZQUFZLFVBQVU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFEQUFxRCw0QkFBNEI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEIsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcuY2pzPzkyYTQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9lcnJvck1lc3NhZ2VzID0gcmVxdWlyZSgnLi4vZXJyb3JNZXNzYWdlcy5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcudHNcbmxldCBlbW9qaVJlZ2V4ID0gdm9pZCAwO1xuLyoqXG4qIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2Jsb2IvbWFzdGVyL3NyYy90eXBlcy50cy5cbipcbiogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuKi9cbmNvbnN0IHpvZFBhdHRlcm5zID0ge1xuXHRjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuXHRjdWlkMjogL15bMC05YS16XSskLyxcblx0dWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG5cdGVtYWlsOiAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG5cdGVtb2ppOiAoKSA9PiB7XG5cdFx0aWYgKGVtb2ppUmVnZXggPT09IHZvaWQgMCkgZW1vamlSZWdleCA9IFJlZ0V4cChcIl4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskXCIsIFwidVwiKTtcblx0XHRyZXR1cm4gZW1vamlSZWdleDtcblx0fSxcblx0dXVpZDogL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kLyxcblx0aXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcblx0aXB2NENpZHI6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvLFxuXHRpcHY2OiAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLyxcblx0aXB2NkNpZHI6IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG5cdGJhc2U2NDogL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvLFxuXHRiYXNlNjR1cmw6IC9eKFswLTlhLXpBLVotX117NH0pKigoWzAtOWEtekEtWi1fXXsyfSg9PSk/KXwoWzAtOWEtekEtWi1fXXszfSg9KT8pKT8kLyxcblx0bmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG5cdGp3dDogL15bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXSokL1xufTtcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xuXHRjb25zdCByZXMgPSB7IHR5cGU6IFwic3RyaW5nXCIgfTtcblx0aWYgKGRlZi5jaGVja3MpIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykgc3dpdGNoIChjaGVjay5raW5kKSB7XG5cdFx0Y2FzZSBcIm1pblwiOlxuXHRcdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIiA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJtYXhcIjpcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCIgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZW1haWxcIjpcblx0XHRcdHN3aXRjaCAocmVmcy5lbWFpbFN0cmF0ZWd5KSB7XG5cdFx0XHRcdGNhc2UgXCJmb3JtYXQ6ZW1haWxcIjpcblx0XHRcdFx0XHRhZGRGb3JtYXQocmVzLCBcImVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiZm9ybWF0Omlkbi1lbWFpbFwiOlxuXHRcdFx0XHRcdGFkZEZvcm1hdChyZXMsIFwiaWRuLWVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGF0dGVybjp6b2RcIjpcblx0XHRcdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1haWwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInVybFwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ1cmlcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwidXVpZFwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ1dWlkXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJlZ2V4XCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImN1aWRcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJjdWlkMlwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJzdGFydHNXaXRoXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGBeJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9YCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImVuZHNXaXRoXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGAke2VzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKX0kYCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImRhdGV0aW1lXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImRhdGUtdGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJkYXRlXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImRhdGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwidGltZVwiOlxuXHRcdFx0YWRkRm9ybWF0KHJlcywgXCJ0aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImR1cmF0aW9uXCI6XG5cdFx0XHRhZGRGb3JtYXQocmVzLCBcImR1cmF0aW9uXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImxlbmd0aFwiOlxuXHRcdFx0cmVxdWlyZV9lcnJvck1lc3NhZ2VzLnNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbkxlbmd0aFwiLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gXCJudW1iZXJcIiA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhMZW5ndGhcIiwgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09IFwibnVtYmVyXCIgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiaW5jbHVkZXNcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCBSZWdFeHAoZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUoY2hlY2sudmFsdWUsIHJlZnMpKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiaXBcIjpcblx0XHRcdGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY2XCIpIGFkZEZvcm1hdChyZXMsIFwiaXB2NFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIGFkZEZvcm1hdChyZXMsIFwiaXB2NlwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJiYXNlNjR1cmxcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5iYXNlNjR1cmwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImp3dFwiOlxuXHRcdFx0YWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmp3dCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiY2lkclwiOlxuXHRcdFx0aWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmlwdjRDaWRyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY2Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZW1vamlcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbW9qaSgpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJ1bGlkXCI6XG5cdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMudWxpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYmFzZTY0XCI6XG5cdFx0XHRzd2l0Y2ggKHJlZnMuYmFzZTY0U3RyYXRlZ3kpIHtcblx0XHRcdFx0Y2FzZSBcImZvcm1hdDpiaW5hcnlcIjpcblx0XHRcdFx0XHRhZGRGb3JtYXQocmVzLCBcImJpbmFyeVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImNvbnRlbnRFbmNvZGluZzpiYXNlNjRcIjpcblx0XHRcdFx0XHRyZXF1aXJlX2Vycm9yTWVzc2FnZXMuc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwiY29udGVudEVuY29kaW5nXCIsIFwiYmFzZTY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicGF0dGVybjp6b2RcIjpcblx0XHRcdFx0XHRhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJuYW5vaWRcIjpcblx0XHRcdGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5uYW5vaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInRvTG93ZXJDYXNlXCI6XG5cdFx0Y2FzZSBcInRvVXBwZXJDYXNlXCI6XG5cdFx0Y2FzZSBcInRyaW1cIjogYnJlYWs7XG5cdFx0ZGVmYXVsdDpcbiAvKiBjOCBpZ25vcmUgbmV4dCAqL1xuXHRcdCgoXykgPT4ge30pKGNoZWNrKTtcblx0fVxuXHRyZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUobGl0ZXJhbCwgcmVmcykge1xuXHRyZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09IFwiZXNjYXBlXCIgPyBlc2NhcGVOb25BbHBoYU51bWVyaWMobGl0ZXJhbCkgOiBsaXRlcmFsO1xufVxuY29uc3QgQUxQSEFfTlVNRVJJQyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVlhZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ4eXowMTIzNDU2Nzg5XCIpO1xuZnVuY3Rpb24gZXNjYXBlTm9uQWxwaGFOdW1lcmljKHNvdXJjZSkge1xuXHRsZXQgcmVzdWx0ID0gXCJcIjtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHJlc3VsdCArPSBcIlxcXFxcIjtcblx0XHRyZXN1bHQgKz0gc291cmNlW2ldO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBhZGRGb3JtYXQoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykge1xuXHRpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoKHgpID0+IHguZm9ybWF0KSkge1xuXHRcdGlmICghc2NoZW1hLmFueU9mKSBzY2hlbWEuYW55T2YgPSBbXTtcblx0XHRpZiAoc2NoZW1hLmZvcm1hdCkge1xuXHRcdFx0c2NoZW1hLmFueU9mLnB1c2goe1xuXHRcdFx0XHRmb3JtYXQ6IHNjaGVtYS5mb3JtYXQsXG5cdFx0XHRcdC4uLnNjaGVtYS5lcnJvck1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQgfSB9XG5cdFx0XHR9KTtcblx0XHRcdGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuXHRcdFx0aWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcblx0XHRcdFx0ZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0O1xuXHRcdFx0XHRpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0c2NoZW1hLmFueU9mLnB1c2goe1xuXHRcdFx0Zm9ybWF0OiB2YWx1ZSxcblx0XHRcdC4uLm1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH1cblx0XHR9KTtcblx0fSBlbHNlIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgXCJmb3JtYXRcIiwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xufVxuZnVuY3Rpb24gYWRkUGF0dGVybihzY2hlbWEsIHJlZ2V4LCBtZXNzYWdlLCByZWZzKSB7XG5cdGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoKHgpID0+IHgucGF0dGVybikpIHtcblx0XHRpZiAoIXNjaGVtYS5hbGxPZikgc2NoZW1hLmFsbE9mID0gW107XG5cdFx0aWYgKHNjaGVtYS5wYXR0ZXJuKSB7XG5cdFx0XHRzY2hlbWEuYWxsT2YucHVzaCh7XG5cdFx0XHRcdHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuXHRcdFx0XHQuLi5zY2hlbWEuZXJyb3JNZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSB9XG5cdFx0XHR9KTtcblx0XHRcdGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcblx0XHRcdGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG5cdFx0XHRcdGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm47XG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRzY2hlbWEuYWxsT2YucHVzaCh7XG5cdFx0XHRwYXR0ZXJuOiBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLFxuXHRcdFx0Li4ubWVzc2FnZSAmJiByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogbWVzc2FnZSB9IH1cblx0XHR9KTtcblx0fSBlbHNlIHJlcXVpcmVfZXJyb3JNZXNzYWdlcy5zZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgXCJwYXR0ZXJuXCIsIHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyksIG1lc3NhZ2UsIHJlZnMpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSB7XG5cdGlmICghcmVmcy5hcHBseVJlZ2V4RmxhZ3MgfHwgIXJlZ2V4LmZsYWdzKSByZXR1cm4gcmVnZXguc291cmNlO1xuXHRjb25zdCBmbGFncyA9IHtcblx0XHRpOiByZWdleC5mbGFncy5pbmNsdWRlcyhcImlcIiksXG5cdFx0bTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoXCJtXCIpLFxuXHRcdHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKFwic1wiKVxuXHR9O1xuXHRjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG5cdGxldCBwYXR0ZXJuID0gXCJcIjtcblx0bGV0IGlzRXNjYXBlZCA9IGZhbHNlO1xuXHRsZXQgaW5DaGFyR3JvdXAgPSBmYWxzZTtcblx0bGV0IGluQ2hhclJhbmdlID0gZmFsc2U7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKGlzRXNjYXBlZCkge1xuXHRcdFx0cGF0dGVybiArPSBzb3VyY2VbaV07XG5cdFx0XHRpc0VzY2FwZWQgPSBmYWxzZTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoZmxhZ3MuaSkge1xuXHRcdFx0aWYgKGluQ2hhckdyb3VwKSB7XG5cdFx0XHRcdGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcblx0XHRcdFx0XHRpZiAoaW5DaGFyUmFuZ2UpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4gKz0gc291cmNlW2ldO1xuXHRcdFx0XHRcdFx0cGF0dGVybiArPSBgJHtzb3VyY2VbaSAtIDJdfS0ke3NvdXJjZVtpXX1gLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRpbkNoYXJSYW5nZSA9IGZhbHNlO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoc291cmNlW2kgKyAxXSA9PT0gXCItXCIgJiYgc291cmNlW2kgKyAyXT8ubWF0Y2goL1thLXpdLykpIHtcblx0XHRcdFx0XHRcdHBhdHRlcm4gKz0gc291cmNlW2ldO1xuXHRcdFx0XHRcdFx0aW5DaGFyUmFuZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG5cdFx0XHRcdHBhdHRlcm4gKz0gYFske3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfV1gO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGZsYWdzLm0pIHtcblx0XHRcdGlmIChzb3VyY2VbaV0gPT09IFwiXlwiKSB7XG5cdFx0XHRcdHBhdHRlcm4gKz0gYChefCg/PD1bXFxyXFxuXSkpYDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IGVsc2UgaWYgKHNvdXJjZVtpXSA9PT0gXCIkXCIpIHtcblx0XHRcdFx0cGF0dGVybiArPSBgKCR8KD89W1xcclxcbl0pKWA7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoZmxhZ3MucyAmJiBzb3VyY2VbaV0gPT09IFwiLlwiKSB7XG5cdFx0XHRwYXR0ZXJuICs9IGluQ2hhckdyb3VwID8gYCR7c291cmNlW2ldfVxcclxcbmAgOiBgWyR7c291cmNlW2ldfVxcclxcbl1gO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdHBhdHRlcm4gKz0gc291cmNlW2ldO1xuXHRcdGlmIChzb3VyY2VbaV0gPT09IFwiXFxcXFwiKSBpc0VzY2FwZWQgPSB0cnVlO1xuXHRcdGVsc2UgaWYgKGluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gXCJdXCIpIGluQ2hhckdyb3VwID0gZmFsc2U7XG5cdFx0ZWxzZSBpZiAoIWluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gXCJbXCIpIGluQ2hhckdyb3VwID0gdHJ1ZTtcblx0fVxuXHR0cnkge1xuXHRcdG5ldyBSZWdFeHAocGF0dGVybik7XG5cdH0gY2F0Y2gge1xuXHRcdGNvbnNvbGUud2FybihgQ291bGQgbm90IGNvbnZlcnQgcmVnZXggcGF0dGVybiBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbihcIi9cIil9IHRvIGEgZmxhZy1pbmRlcGVuZGVudCBmb3JtISBGYWxsaW5nIGJhY2sgdG8gdGhlIGZsYWctaWdub3JhbnQgc291cmNlYCk7XG5cdFx0cmV0dXJuIHJlZ2V4LnNvdXJjZTtcblx0fVxuXHRyZXR1cm4gcGF0dGVybjtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlU3RyaW5nRGVmID0gcGFyc2VTdHJpbmdEZWY7XG5leHBvcnRzLnpvZFBhdHRlcm5zID0gem9kUGF0dGVybnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpbmcuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/tuple.ts\nfunction parseTupleDef(def, refs) {\n\tif (def.rest) return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\titems: def.items.map((x, i) => require_parseDef.parseDef(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], []),\n\t\tadditionalItems: require_parseDef.parseDef(def.rest._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [...refs.currentPath, \"additionalItems\"]\n\t\t})\n\t};\n\telse return {\n\t\ttype: \"array\",\n\t\tminItems: def.items.length,\n\t\tmaxItems: def.items.length,\n\t\titems: def.items.map((x, i) => require_parseDef.parseDef(x._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.currentPath,\n\t\t\t\t\"items\",\n\t\t\t\t`${i}`\n\t\t\t]\n\t\t})).reduce((acc, x) => x === void 0 ? acc : [...acc, x], [])\n\t};\n}\n\n//#endregion\nexports.parseTupleDef = parseTupleDef;\n//# sourceMappingURL=tuple.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy90dXBsZS5janMiLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTtBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBRTtBQUNUO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLmNqcz85YTNiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuLi9wYXJzZURlZi5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy90dXBsZS50c1xuZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcblx0aWYgKGRlZi5yZXN0KSByZXR1cm4ge1xuXHRcdHR5cGU6IFwiYXJyYXlcIixcblx0XHRtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcblx0XHRpdGVtczogZGVmLml0ZW1zLm1hcCgoeCwgaSkgPT4gcmVxdWlyZV9wYXJzZURlZi5wYXJzZURlZih4Ll9kZWYsIHtcblx0XHRcdC4uLnJlZnMsXG5cdFx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0XHQuLi5yZWZzLmN1cnJlbnRQYXRoLFxuXHRcdFx0XHRcIml0ZW1zXCIsXG5cdFx0XHRcdGAke2l9YFxuXHRcdFx0XVxuXHRcdH0pKS5yZWR1Y2UoKGFjYywgeCkgPT4geCA9PT0gdm9pZCAwID8gYWNjIDogWy4uLmFjYywgeF0sIFtdKSxcblx0XHRhZGRpdGlvbmFsSXRlbXM6IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsSXRlbXNcIl1cblx0XHR9KVxuXHR9O1xuXHRlbHNlIHJldHVybiB7XG5cdFx0dHlwZTogXCJhcnJheVwiLFxuXHRcdG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuXHRcdG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuXHRcdGl0ZW1zOiBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKHguX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHRcdC4uLnJlZnMuY3VycmVudFBhdGgsXG5cdFx0XHRcdFwiaXRlbXNcIixcblx0XHRcdFx0YCR7aX1gXG5cdFx0XHRdXG5cdFx0fSkpLnJlZHVjZSgoYWNjLCB4KSA9PiB4ID09PSB2b2lkIDAgPyBhY2MgOiBbLi4uYWNjLCB4XSwgW10pXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZVR1cGxlRGVmID0gcGFyc2VUdXBsZURlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR1cGxlLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.cjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.cjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/undefined.ts\nfunction parseUndefinedDef(refs) {\n\treturn { not: require_any.parseAnyDef(refs) };\n}\n\n//#endregion\nexports.parseUndefinedDef = parseUndefinedDef;\n//# sourceMappingURL=undefined.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQuY2pzIiwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixtQkFBTyxDQUFDLGdIQUFXOztBQUV2QztBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQuY2pzP2QyMDAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9hbnkgPSByZXF1aXJlKCcuL2FueS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQudHNcbmZ1bmN0aW9uIHBhcnNlVW5kZWZpbmVkRGVmKHJlZnMpIHtcblx0cmV0dXJuIHsgbm90OiByZXF1aXJlX2FueS5wYXJzZUFueURlZihyZWZzKSB9O1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydHMucGFyc2VVbmRlZmluZWREZWYgPSBwYXJzZVVuZGVmaW5lZERlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZGVmaW5lZC5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_parseDef = __webpack_require__(/*! ../parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/union.ts\nconst primitiveMappings = {\n\tZodString: \"string\",\n\tZodNumber: \"number\",\n\tZodBigInt: \"integer\",\n\tZodBoolean: \"boolean\",\n\tZodNull: \"null\"\n};\nfunction parseUnionDef(def, refs) {\n\tif (refs.target === \"openApi3\") return asAnyOf(def, refs);\n\tconst options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n\tif (options.every((x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length))) {\n\t\tconst types = options.reduce((types$1, x) => {\n\t\t\tconst type = primitiveMappings[x._def.typeName];\n\t\t\treturn type && !types$1.includes(type) ? [...types$1, type] : types$1;\n\t\t}, []);\n\t\treturn { type: types.length > 1 ? types : types[0] };\n\t} else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n\t\tconst types = options.reduce((acc, x) => {\n\t\t\tconst type = typeof x._def.value;\n\t\t\tswitch (type) {\n\t\t\t\tcase \"string\":\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"boolean\": return [...acc, type];\n\t\t\t\tcase \"bigint\": return [...acc, \"integer\"];\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif (x._def.value === null) return [...acc, \"null\"];\n\t\t\t\t\treturn acc;\n\t\t\t\tcase \"symbol\":\n\t\t\t\tcase \"undefined\":\n\t\t\t\tcase \"function\":\n\t\t\t\tdefault: return acc;\n\t\t\t}\n\t\t}, []);\n\t\tif (types.length === options.length) {\n\t\t\tconst uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n\t\t\treturn {\n\t\t\t\ttype: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n\t\t\t\tenum: options.reduce((acc, x) => {\n\t\t\t\t\treturn acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n\t\t\t\t}, [])\n\t\t\t};\n\t\t}\n\t} else if (options.every((x) => x._def.typeName === \"ZodEnum\")) return {\n\t\ttype: \"string\",\n\t\tenum: options.reduce((acc, x) => [...acc, ...x._def.values.filter((x$1) => !acc.includes(x$1))], [])\n\t};\n\treturn asAnyOf(def, refs);\n}\nconst asAnyOf = (def, refs) => {\n\tconst anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map((x, i) => require_parseDef.parseDef(x._def, {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.currentPath,\n\t\t\t\"anyOf\",\n\t\t\t`${i}`\n\t\t]\n\t})).filter((x) => !!x && (!refs.strictUnions || typeof x === \"object\" && Object.keys(x).length > 0));\n\treturn anyOf.length ? { anyOf } : void 0;\n};\n\n//#endregion\nexports.parseUnionDef = parseUnionDef;\nexports.primitiveMappings = primitiveMappings;\n//# sourceMappingURL=union.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmlvbi5janMiLCJtYXBwaW5ncyI6IkFBQUEseUJBQXlCLG1CQUFPLENBQUMsbUhBQWlCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sRUFBRTtBQUNSO0FBQ0EsRUFBRTtBQUNGLHlCQUF5QixRQUFRO0FBQ2pDOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL29yYml0YWwtYWktYWdlbnQvLi9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9jb3JlL2Rpc3QvdXRpbHMvem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5pb24uY2pzPzMzNTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9wYXJzZURlZiA9IHJlcXVpcmUoJy4uL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuaW9uLnRzXG5jb25zdCBwcmltaXRpdmVNYXBwaW5ncyA9IHtcblx0Wm9kU3RyaW5nOiBcInN0cmluZ1wiLFxuXHRab2ROdW1iZXI6IFwibnVtYmVyXCIsXG5cdFpvZEJpZ0ludDogXCJpbnRlZ2VyXCIsXG5cdFpvZEJvb2xlYW46IFwiYm9vbGVhblwiLFxuXHRab2ROdWxsOiBcIm51bGxcIlxufTtcbmZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKSB7XG5cdGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiKSByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xuXHRjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuXHRpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lIGluIHByaW1pdGl2ZU1hcHBpbmdzICYmICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpKSkge1xuXHRcdGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKHR5cGVzJDEsIHgpID0+IHtcblx0XHRcdGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdO1xuXHRcdFx0cmV0dXJuIHR5cGUgJiYgIXR5cGVzJDEuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMkMSwgdHlwZV0gOiB0eXBlcyQxO1xuXHRcdH0sIFtdKTtcblx0XHRyZXR1cm4geyB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSB9O1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RMaXRlcmFsXCIgJiYgIXguZGVzY3JpcHRpb24pKSB7XG5cdFx0Y29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG5cdFx0XHRjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcblx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRcdGNhc2UgXCJudW1iZXJcIjpcblx0XHRcdFx0Y2FzZSBcImJvb2xlYW5cIjogcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuXHRcdFx0XHRjYXNlIFwiYmlnaW50XCI6IHJldHVybiBbLi4uYWNjLCBcImludGVnZXJcIl07XG5cdFx0XHRcdGNhc2UgXCJvYmplY3RcIjpcblx0XHRcdFx0XHRpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKSByZXR1cm4gWy4uLmFjYywgXCJudWxsXCJdO1xuXHRcdFx0XHRcdHJldHVybiBhY2M7XG5cdFx0XHRcdGNhc2UgXCJzeW1ib2xcIjpcblx0XHRcdFx0Y2FzZSBcInVuZGVmaW5lZFwiOlxuXHRcdFx0XHRjYXNlIFwiZnVuY3Rpb25cIjpcblx0XHRcdFx0ZGVmYXVsdDogcmV0dXJuIGFjYztcblx0XHRcdH1cblx0XHR9LCBbXSk7XG5cdFx0aWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG5cdFx0XHRcdGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuXHRcdFx0XHR9LCBbXSlcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RFbnVtXCIpKSByZXR1cm4ge1xuXHRcdHR5cGU6IFwic3RyaW5nXCIsXG5cdFx0ZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4gWy4uLmFjYywgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgkMSkgPT4gIWFjYy5pbmNsdWRlcyh4JDEpKV0sIFtdKVxuXHR9O1xuXHRyZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcblx0Y29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zKS5tYXAoKHgsIGkpID0+IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoeC5fZGVmLCB7XG5cdFx0Li4ucmVmcyxcblx0XHRjdXJyZW50UGF0aDogW1xuXHRcdFx0Li4ucmVmcy5jdXJyZW50UGF0aCxcblx0XHRcdFwiYW55T2ZcIixcblx0XHRcdGAke2l9YFxuXHRcdF1cblx0fSkpLmZpbHRlcigoeCkgPT4gISF4ICYmICghcmVmcy5zdHJpY3RVbmlvbnMgfHwgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpO1xuXHRyZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdm9pZCAwO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnBhcnNlVW5pb25EZWYgPSBwYXJzZVVuaW9uRGVmO1xuZXhwb3J0cy5wcmltaXRpdmVNYXBwaW5ncyA9IHByaW1pdGl2ZU1hcHBpbmdzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pb24uY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_any = __webpack_require__(/*! ./any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\n\n//#region src/utils/zod-to-json-schema/parsers/unknown.ts\nfunction parseUnknownDef(refs) {\n\treturn require_any.parseAnyDef(refs);\n}\n\n//#endregion\nexports.parseUnknownDef = parseUnknownDef;\n//# sourceMappingURL=unknown.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmtub3duLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsbUJBQU8sQ0FBQyxnSEFBVzs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24uY2pzP2Y4NjAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9hbnkgPSByZXF1aXJlKCcuL2FueS5janMnKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmtub3duLnRzXG5mdW5jdGlvbiBwYXJzZVVua25vd25EZWYocmVmcykge1xuXHRyZXR1cm4gcmVxdWlyZV9hbnkucGFyc2VBbnlEZWYocmVmcyk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5wYXJzZVVua25vd25EZWYgPSBwYXJzZVVua25vd25EZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmtub3duLmNqcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.cjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.cjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_rolldown_runtime = __webpack_require__(/*! ../../_virtual/rolldown_runtime.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/_virtual/rolldown_runtime.cjs\");\nconst require_any = __webpack_require__(/*! ./parsers/any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_array = __webpack_require__(/*! ./parsers/array.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/array.cjs\");\nconst require_bigint = __webpack_require__(/*! ./parsers/bigint.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/bigint.cjs\");\nconst require_boolean = __webpack_require__(/*! ./parsers/boolean.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/boolean.cjs\");\nconst require_branded = __webpack_require__(/*! ./parsers/branded.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/branded.cjs\");\nconst require_catch = __webpack_require__(/*! ./parsers/catch.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/catch.cjs\");\nconst require_date = __webpack_require__(/*! ./parsers/date.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/date.cjs\");\nconst require_default = __webpack_require__(/*! ./parsers/default.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/default.cjs\");\nconst require_effects = __webpack_require__(/*! ./parsers/effects.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/effects.cjs\");\nconst require_enum = __webpack_require__(/*! ./parsers/enum.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/enum.cjs\");\nconst require_intersection = __webpack_require__(/*! ./parsers/intersection.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/intersection.cjs\");\nconst require_literal = __webpack_require__(/*! ./parsers/literal.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/literal.cjs\");\nconst require_string = __webpack_require__(/*! ./parsers/string.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/string.cjs\");\nconst require_record = __webpack_require__(/*! ./parsers/record.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/record.cjs\");\nconst require_map = __webpack_require__(/*! ./parsers/map.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/map.cjs\");\nconst require_nativeEnum = __webpack_require__(/*! ./parsers/nativeEnum.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nativeEnum.cjs\");\nconst require_never = __webpack_require__(/*! ./parsers/never.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/never.cjs\");\nconst require_null = __webpack_require__(/*! ./parsers/null.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/null.cjs\");\nconst require_union = __webpack_require__(/*! ./parsers/union.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/union.cjs\");\nconst require_nullable = __webpack_require__(/*! ./parsers/nullable.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/nullable.cjs\");\nconst require_number = __webpack_require__(/*! ./parsers/number.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/number.cjs\");\nconst require_object = __webpack_require__(/*! ./parsers/object.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/object.cjs\");\nconst require_optional = __webpack_require__(/*! ./parsers/optional.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/optional.cjs\");\nconst require_pipeline = __webpack_require__(/*! ./parsers/pipeline.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/pipeline.cjs\");\nconst require_promise = __webpack_require__(/*! ./parsers/promise.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/promise.cjs\");\nconst require_set = __webpack_require__(/*! ./parsers/set.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/set.cjs\");\nconst require_tuple = __webpack_require__(/*! ./parsers/tuple.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/tuple.cjs\");\nconst require_undefined = __webpack_require__(/*! ./parsers/undefined.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/undefined.cjs\");\nconst require_unknown = __webpack_require__(/*! ./parsers/unknown.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/unknown.cjs\");\nconst require_readonly = __webpack_require__(/*! ./parsers/readonly.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/readonly.cjs\");\nconst zod_v3 = require_rolldown_runtime.__toESM(__webpack_require__(/*! zod/v3 */ \"(action-browser)/./node_modules/zod/v3/index.cjs\"));\n\n//#region src/utils/zod-to-json-schema/selectParser.ts\nconst selectParser = (def, typeName, refs) => {\n\tswitch (typeName) {\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodString: return require_string.parseStringDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNumber: return require_number.parseNumberDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodObject: return require_object.parseObjectDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodBigInt: return require_bigint.parseBigintDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodBoolean: return require_boolean.parseBooleanDef();\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodDate: return require_date.parseDateDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodUndefined: return require_undefined.parseUndefinedDef(refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNull: return require_null.parseNullDef(refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodArray: return require_array.parseArrayDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodUnion:\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodDiscriminatedUnion: return require_union.parseUnionDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodIntersection: return require_intersection.parseIntersectionDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodTuple: return require_tuple.parseTupleDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodRecord: return require_record.parseRecordDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodLiteral: return require_literal.parseLiteralDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodEnum: return require_enum.parseEnumDef(def);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNativeEnum: return require_nativeEnum.parseNativeEnumDef(def);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNullable: return require_nullable.parseNullableDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodOptional: return require_optional.parseOptionalDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodMap: return require_map.parseMapDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodSet: return require_set.parseSetDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodLazy: return () => def.getter()._def;\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodPromise: return require_promise.parsePromiseDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNaN:\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodNever: return require_never.parseNeverDef(refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodEffects: return require_effects.parseEffectsDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodAny: return require_any.parseAnyDef(refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodUnknown: return require_unknown.parseUnknownDef(refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodDefault: return require_default.parseDefaultDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodBranded: return require_branded.parseBrandedDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodReadonly: return require_readonly.parseReadonlyDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodCatch: return require_catch.parseCatchDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodPipeline: return require_pipeline.parsePipelineDef(def, refs);\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodFunction:\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodVoid:\n\t\tcase zod_v3.ZodFirstPartyTypeKind.ZodSymbol: return void 0;\n\t\tdefault:\n /* c8 ignore next */\n\t\treturn ((_) => void 0)(typeName);\n\t}\n};\n\n//#endregion\nexports.selectParser = selectParser;\n//# sourceMappingURL=selectParser.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvc2VsZWN0UGFyc2VyLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUMsbUJBQU8sQ0FBQywrSEFBcUM7QUFDOUUsb0JBQW9CLG1CQUFPLENBQUMsd0hBQW1CO0FBQy9DLHNCQUFzQixtQkFBTyxDQUFDLDRIQUFxQjtBQUNuRCx1QkFBdUIsbUJBQU8sQ0FBQyw4SEFBc0I7QUFDckQsd0JBQXdCLG1CQUFPLENBQUMsZ0lBQXVCO0FBQ3ZELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCxzQkFBc0IsbUJBQU8sQ0FBQyw0SEFBcUI7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMsMEhBQW9CO0FBQ2pELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCx3QkFBd0IsbUJBQU8sQ0FBQyxnSUFBdUI7QUFDdkQscUJBQXFCLG1CQUFPLENBQUMsMEhBQW9CO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLDBJQUE0QjtBQUNqRSx3QkFBd0IsbUJBQU8sQ0FBQyxnSUFBdUI7QUFDdkQsdUJBQXVCLG1CQUFPLENBQUMsOEhBQXNCO0FBQ3JELHVCQUF1QixtQkFBTyxDQUFDLDhIQUFzQjtBQUNyRCxvQkFBb0IsbUJBQU8sQ0FBQyx3SEFBbUI7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMsc0lBQTBCO0FBQzdELHNCQUFzQixtQkFBTyxDQUFDLDRIQUFxQjtBQUNuRCxxQkFBcUIsbUJBQU8sQ0FBQywwSEFBb0I7QUFDakQsc0JBQXNCLG1CQUFPLENBQUMsNEhBQXFCO0FBQ25ELHlCQUF5QixtQkFBTyxDQUFDLGtJQUF3QjtBQUN6RCx1QkFBdUIsbUJBQU8sQ0FBQyw4SEFBc0I7QUFDckQsdUJBQXVCLG1CQUFPLENBQUMsOEhBQXNCO0FBQ3JELHlCQUF5QixtQkFBTyxDQUFDLGtJQUF3QjtBQUN6RCx5QkFBeUIsbUJBQU8sQ0FBQyxrSUFBd0I7QUFDekQsd0JBQXdCLG1CQUFPLENBQUMsZ0lBQXVCO0FBQ3ZELG9CQUFvQixtQkFBTyxDQUFDLHdIQUFtQjtBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQyw0SEFBcUI7QUFDbkQsMEJBQTBCLG1CQUFPLENBQUMsb0lBQXlCO0FBQzNELHdCQUF3QixtQkFBTyxDQUFDLGdJQUF1QjtBQUN2RCx5QkFBeUIsbUJBQU8sQ0FBQyxrSUFBd0I7QUFDekQsZ0RBQWdELG1CQUFPLENBQUMsZ0VBQVE7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmJpdGFsLWFpLWFnZW50Ly4vbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vY29yZS9kaXN0L3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS9zZWxlY3RQYXJzZXIuY2pzPzFjZjQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWlyZV9yb2xsZG93bl9ydW50aW1lID0gcmVxdWlyZSgnLi4vLi4vX3ZpcnR1YWwvcm9sbGRvd25fcnVudGltZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYW55ID0gcmVxdWlyZSgnLi9wYXJzZXJzL2FueS5janMnKTtcbmNvbnN0IHJlcXVpcmVfYXJyYXkgPSByZXF1aXJlKCcuL3BhcnNlcnMvYXJyYXkuY2pzJyk7XG5jb25zdCByZXF1aXJlX2JpZ2ludCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9iaWdpbnQuY2pzJyk7XG5jb25zdCByZXF1aXJlX2Jvb2xlYW4gPSByZXF1aXJlKCcuL3BhcnNlcnMvYm9vbGVhbi5janMnKTtcbmNvbnN0IHJlcXVpcmVfYnJhbmRlZCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9icmFuZGVkLmNqcycpO1xuY29uc3QgcmVxdWlyZV9jYXRjaCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9jYXRjaC5janMnKTtcbmNvbnN0IHJlcXVpcmVfZGF0ZSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9kYXRlLmNqcycpO1xuY29uc3QgcmVxdWlyZV9kZWZhdWx0ID0gcmVxdWlyZSgnLi9wYXJzZXJzL2RlZmF1bHQuY2pzJyk7XG5jb25zdCByZXF1aXJlX2VmZmVjdHMgPSByZXF1aXJlKCcuL3BhcnNlcnMvZWZmZWN0cy5janMnKTtcbmNvbnN0IHJlcXVpcmVfZW51bSA9IHJlcXVpcmUoJy4vcGFyc2Vycy9lbnVtLmNqcycpO1xuY29uc3QgcmVxdWlyZV9pbnRlcnNlY3Rpb24gPSByZXF1aXJlKCcuL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmNqcycpO1xuY29uc3QgcmVxdWlyZV9saXRlcmFsID0gcmVxdWlyZSgnLi9wYXJzZXJzL2xpdGVyYWwuY2pzJyk7XG5jb25zdCByZXF1aXJlX3N0cmluZyA9IHJlcXVpcmUoJy4vcGFyc2Vycy9zdHJpbmcuY2pzJyk7XG5jb25zdCByZXF1aXJlX3JlY29yZCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9yZWNvcmQuY2pzJyk7XG5jb25zdCByZXF1aXJlX21hcCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9tYXAuY2pzJyk7XG5jb25zdCByZXF1aXJlX25hdGl2ZUVudW0gPSByZXF1aXJlKCcuL3BhcnNlcnMvbmF0aXZlRW51bS5janMnKTtcbmNvbnN0IHJlcXVpcmVfbmV2ZXIgPSByZXF1aXJlKCcuL3BhcnNlcnMvbmV2ZXIuY2pzJyk7XG5jb25zdCByZXF1aXJlX251bGwgPSByZXF1aXJlKCcuL3BhcnNlcnMvbnVsbC5janMnKTtcbmNvbnN0IHJlcXVpcmVfdW5pb24gPSByZXF1aXJlKCcuL3BhcnNlcnMvdW5pb24uY2pzJyk7XG5jb25zdCByZXF1aXJlX251bGxhYmxlID0gcmVxdWlyZSgnLi9wYXJzZXJzL251bGxhYmxlLmNqcycpO1xuY29uc3QgcmVxdWlyZV9udW1iZXIgPSByZXF1aXJlKCcuL3BhcnNlcnMvbnVtYmVyLmNqcycpO1xuY29uc3QgcmVxdWlyZV9vYmplY3QgPSByZXF1aXJlKCcuL3BhcnNlcnMvb2JqZWN0LmNqcycpO1xuY29uc3QgcmVxdWlyZV9vcHRpb25hbCA9IHJlcXVpcmUoJy4vcGFyc2Vycy9vcHRpb25hbC5janMnKTtcbmNvbnN0IHJlcXVpcmVfcGlwZWxpbmUgPSByZXF1aXJlKCcuL3BhcnNlcnMvcGlwZWxpbmUuY2pzJyk7XG5jb25zdCByZXF1aXJlX3Byb21pc2UgPSByZXF1aXJlKCcuL3BhcnNlcnMvcHJvbWlzZS5janMnKTtcbmNvbnN0IHJlcXVpcmVfc2V0ID0gcmVxdWlyZSgnLi9wYXJzZXJzL3NldC5janMnKTtcbmNvbnN0IHJlcXVpcmVfdHVwbGUgPSByZXF1aXJlKCcuL3BhcnNlcnMvdHVwbGUuY2pzJyk7XG5jb25zdCByZXF1aXJlX3VuZGVmaW5lZCA9IHJlcXVpcmUoJy4vcGFyc2Vycy91bmRlZmluZWQuY2pzJyk7XG5jb25zdCByZXF1aXJlX3Vua25vd24gPSByZXF1aXJlKCcuL3BhcnNlcnMvdW5rbm93bi5janMnKTtcbmNvbnN0IHJlcXVpcmVfcmVhZG9ubHkgPSByZXF1aXJlKCcuL3BhcnNlcnMvcmVhZG9ubHkuY2pzJyk7XG5jb25zdCB6b2RfdjMgPSByZXF1aXJlX3JvbGxkb3duX3J1bnRpbWUuX190b0VTTShyZXF1aXJlKFwiem9kL3YzXCIpKTtcblxuLy8jcmVnaW9uIHNyYy91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvc2VsZWN0UGFyc2VyLnRzXG5jb25zdCBzZWxlY3RQYXJzZXIgPSAoZGVmLCB0eXBlTmFtZSwgcmVmcykgPT4ge1xuXHRzd2l0Y2ggKHR5cGVOYW1lKSB7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZzogcmV0dXJuIHJlcXVpcmVfc3RyaW5nLnBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjogcmV0dXJuIHJlcXVpcmVfbnVtYmVyLnBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDogcmV0dXJuIHJlcXVpcmVfb2JqZWN0LnBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludDogcmV0dXJuIHJlcXVpcmVfYmlnaW50LnBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46IHJldHVybiByZXF1aXJlX2Jvb2xlYW4ucGFyc2VCb29sZWFuRGVmKCk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6IHJldHVybiByZXF1aXJlX2RhdGUucGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDogcmV0dXJuIHJlcXVpcmVfdW5kZWZpbmVkLnBhcnNlVW5kZWZpbmVkRGVmKHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsOiByZXR1cm4gcmVxdWlyZV9udWxsLnBhcnNlTnVsbERlZihyZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6IHJldHVybiByZXF1aXJlX2FycmF5LnBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjogcmV0dXJuIHJlcXVpcmVfdW5pb24ucGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb246IHJldHVybiByZXF1aXJlX2ludGVyc2VjdGlvbi5wYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTogcmV0dXJuIHJlcXVpcmVfdHVwbGUucGFyc2VUdXBsZURlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQ6IHJldHVybiByZXF1aXJlX3JlY29yZC5wYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOiByZXR1cm4gcmVxdWlyZV9saXRlcmFsLnBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOiByZXR1cm4gcmVxdWlyZV9lbnVtLnBhcnNlRW51bURlZihkZWYpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOiByZXR1cm4gcmVxdWlyZV9uYXRpdmVFbnVtLnBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTogcmV0dXJuIHJlcXVpcmVfbnVsbGFibGUucGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDogcmV0dXJuIHJlcXVpcmVfb3B0aW9uYWwucGFyc2VPcHRpb25hbERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6IHJldHVybiByZXF1aXJlX21hcC5wYXJzZU1hcERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQ6IHJldHVybiByZXF1aXJlX3NldC5wYXJzZVNldERlZihkZWYsIHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OiByZXR1cm4gKCkgPT4gZGVmLmdldHRlcigpLl9kZWY7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2U6IHJldHVybiByZXF1aXJlX3Byb21pc2UucGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXI6IHJldHVybiByZXF1aXJlX25ldmVyLnBhcnNlTmV2ZXJEZWYocmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6IHJldHVybiByZXF1aXJlX2VmZmVjdHMucGFyc2VFZmZlY3RzRGVmKGRlZiwgcmVmcyk7XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTogcmV0dXJuIHJlcXVpcmVfYW55LnBhcnNlQW55RGVmKHJlZnMpO1xuXHRcdGNhc2Ugem9kX3YzLlpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOiByZXR1cm4gcmVxdWlyZV91bmtub3duLnBhcnNlVW5rbm93bkRlZihyZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDogcmV0dXJuIHJlcXVpcmVfZGVmYXVsdC5wYXJzZURlZmF1bHREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDogcmV0dXJuIHJlcXVpcmVfYnJhbmRlZC5wYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHk6IHJldHVybiByZXF1aXJlX3JlYWRvbmx5LnBhcnNlUmVhZG9ubHlEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6IHJldHVybiByZXF1aXJlX2NhdGNoLnBhcnNlQ2F0Y2hEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6IHJldHVybiByZXF1aXJlX3BpcGVsaW5lLnBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcblx0XHRjYXNlIHpvZF92My5ab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQ6XG5cdFx0Y2FzZSB6b2RfdjMuWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDogcmV0dXJuIHZvaWQgMDtcblx0XHRkZWZhdWx0OlxuIC8qIGM4IGlnbm9yZSBuZXh0ICovXG5cdFx0cmV0dXJuICgoXykgPT4gdm9pZCAwKSh0eXBlTmFtZSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0cy5zZWxlY3RQYXJzZXIgPSBzZWxlY3RQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWxlY3RQYXJzZXIuY2pzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/selectParser.cjs\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.cjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.cjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const require_Refs = __webpack_require__(/*! ./Refs.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/Refs.cjs\");\nconst require_any = __webpack_require__(/*! ./parsers/any.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parsers/any.cjs\");\nconst require_parseDef = __webpack_require__(/*! ./parseDef.cjs */ \"(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/parseDef.cjs\");\n\n//#region src/utils/zod-to-json-schema/zodToJsonSchema.ts\nconst zodToJsonSchema = (schema, options) => {\n\tconst refs = require_Refs.getRefs(options);\n\tlet definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name$1, schema$1]) => ({\n\t\t...acc,\n\t\t[name$1]: require_parseDef.parseDef(schema$1._def, {\n\t\t\t...refs,\n\t\t\tcurrentPath: [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\tname$1\n\t\t\t]\n\t\t}, true) ?? require_any.parseAnyDef(refs)\n\t}), {}) : void 0;\n\tconst name = typeof options === \"string\" ? options : options?.nameStrategy === \"title\" ? void 0 : options?.name;\n\tconst main = require_parseDef.parseDef(schema._def, name === void 0 ? refs : {\n\t\t...refs,\n\t\tcurrentPath: [\n\t\t\t...refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t]\n\t}, false) ?? require_any.parseAnyDef(refs);\n\tconst title = typeof options === \"object\" && options.name !== void 0 && options.nameStrategy === \"title\" ? options.name : void 0;\n\tif (title !== void 0) main.title = title;\n\tif (refs.flags.hasReferencedOpenAiAnyType) {\n\t\tif (!definitions) definitions = {};\n\t\tif (!definitions[refs.openAiAnyTypeName]) definitions[refs.openAiAnyTypeName] = {\n\t\t\ttype: [\n\t\t\t\t\"string\",\n\t\t\t\t\"number\",\n\t\t\t\t\"integer\",\n\t\t\t\t\"boolean\",\n\t\t\t\t\"array\",\n\t\t\t\t\"null\"\n\t\t\t],\n\t\t\titems: { $ref: refs.$refStrategy === \"relative\" ? \"1\" : [\n\t\t\t\t...refs.basePath,\n\t\t\t\trefs.definitionPath,\n\t\t\t\trefs.openAiAnyTypeName\n\t\t\t].join(\"/\") }\n\t\t};\n\t}\n\tconst combined = name === void 0 ? definitions ? {\n\t\t...main,\n\t\t[refs.definitionPath]: definitions\n\t} : main : {\n\t\t$ref: [\n\t\t\t...refs.$refStrategy === \"relative\" ? [] : refs.basePath,\n\t\t\trefs.definitionPath,\n\t\t\tname\n\t\t].join(\"/\"),\n\t\t[refs.definitionPath]: {\n\t\t\t...definitions,\n\t\t\t[name]: main\n\t\t}\n\t};\n\tif (refs.target === \"jsonSchema7\") combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n\telse if (refs.target === \"jsonSchema2019-09\" || refs.target === \"openAi\") combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n\tif (refs.target === \"openAi\" && (\"anyOf\" in combined || \"oneOf\" in combined || \"allOf\" in combined || \"type\" in combined && Array.isArray(combined.type))) console.warn(\"Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.\");\n\treturn combined;\n};\n\n//#endregion\nexports.zodToJsonSchema = zodToJsonSchema;\n//# sourceMappingURL=zodToJsonSchema.cjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmNqcyIsIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQywwR0FBWTtBQUN6QyxvQkFBb0IsbUJBQU8sQ0FBQyx3SEFBbUI7QUFDL0MseUJBQXlCLG1CQUFPLENBQUMsa0hBQWdCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxLQUFLO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JiaXRhbC1haS1hZ2VudC8uL25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2NvcmUvZGlzdC91dGlscy96b2QtdG8tanNvbi1zY2hlbWEvem9kVG9Kc29uU2NoZW1hLmNqcz8zZDE4Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlcXVpcmVfUmVmcyA9IHJlcXVpcmUoJy4vUmVmcy5janMnKTtcbmNvbnN0IHJlcXVpcmVfYW55ID0gcmVxdWlyZSgnLi9wYXJzZXJzL2FueS5janMnKTtcbmNvbnN0IHJlcXVpcmVfcGFyc2VEZWYgPSByZXF1aXJlKCcuL3BhcnNlRGVmLmNqcycpO1xuXG4vLyNyZWdpb24gc3JjL3V0aWxzL3pvZC10by1qc29uLXNjaGVtYS96b2RUb0pzb25TY2hlbWEudHNcbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcblx0Y29uc3QgcmVmcyA9IHJlcXVpcmVfUmVmcy5nZXRSZWZzKG9wdGlvbnMpO1xuXHRsZXQgZGVmaW5pdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmRlZmluaXRpb25zID8gT2JqZWN0LmVudHJpZXMob3B0aW9ucy5kZWZpbml0aW9ucykucmVkdWNlKChhY2MsIFtuYW1lJDEsIHNjaGVtYSQxXSkgPT4gKHtcblx0XHQuLi5hY2MsXG5cdFx0W25hbWUkMV06IHJlcXVpcmVfcGFyc2VEZWYucGFyc2VEZWYoc2NoZW1hJDEuX2RlZiwge1xuXHRcdFx0Li4ucmVmcyxcblx0XHRcdGN1cnJlbnRQYXRoOiBbXG5cdFx0XHRcdC4uLnJlZnMuYmFzZVBhdGgsXG5cdFx0XHRcdHJlZnMuZGVmaW5pdGlvblBhdGgsXG5cdFx0XHRcdG5hbWUkMVxuXHRcdFx0XVxuXHRcdH0sIHRydWUpID8/IHJlcXVpcmVfYW55LnBhcnNlQW55RGVmKHJlZnMpXG5cdH0pLCB7fSkgOiB2b2lkIDA7XG5cdGNvbnN0IG5hbWUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMgOiBvcHRpb25zPy5uYW1lU3RyYXRlZ3kgPT09IFwidGl0bGVcIiA/IHZvaWQgMCA6IG9wdGlvbnM/Lm5hbWU7XG5cdGNvbnN0IG1haW4gPSByZXF1aXJlX3BhcnNlRGVmLnBhcnNlRGVmKHNjaGVtYS5fZGVmLCBuYW1lID09PSB2b2lkIDAgPyByZWZzIDoge1xuXHRcdC4uLnJlZnMsXG5cdFx0Y3VycmVudFBhdGg6IFtcblx0XHRcdC4uLnJlZnMuYmFzZVBhdGgsXG5cdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0bmFtZVxuXHRcdF1cblx0fSwgZmFsc2UpID8/IHJlcXVpcmVfYW55LnBhcnNlQW55RGVmKHJlZnMpO1xuXHRjb25zdCB0aXRsZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMubmFtZSAhPT0gdm9pZCAwICYmIG9wdGlvbnMubmFtZVN0cmF0ZWd5ID09PSBcInRpdGxlXCIgPyBvcHRpb25zLm5hbWUgOiB2b2lkIDA7XG5cdGlmICh0aXRsZSAhPT0gdm9pZCAwKSBtYWluLnRpdGxlID0gdGl0bGU7XG5cdGlmIChyZWZzLmZsYWdzLmhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlKSB7XG5cdFx0aWYgKCFkZWZpbml0aW9ucykgZGVmaW5pdGlvbnMgPSB7fTtcblx0XHRpZiAoIWRlZmluaXRpb25zW3JlZnMub3BlbkFpQW55VHlwZU5hbWVdKSBkZWZpbml0aW9uc1tyZWZzLm9wZW5BaUFueVR5cGVOYW1lXSA9IHtcblx0XHRcdHR5cGU6IFtcblx0XHRcdFx0XCJzdHJpbmdcIixcblx0XHRcdFx0XCJudW1iZXJcIixcblx0XHRcdFx0XCJpbnRlZ2VyXCIsXG5cdFx0XHRcdFwiYm9vbGVhblwiLFxuXHRcdFx0XHRcImFycmF5XCIsXG5cdFx0XHRcdFwibnVsbFwiXG5cdFx0XHRdLFxuXHRcdFx0aXRlbXM6IHsgJHJlZjogcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IFwiMVwiIDogW1xuXHRcdFx0XHQuLi5yZWZzLmJhc2VQYXRoLFxuXHRcdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0XHRyZWZzLm9wZW5BaUFueVR5cGVOYW1lXG5cdFx0XHRdLmpvaW4oXCIvXCIpIH1cblx0XHR9O1xuXHR9XG5cdGNvbnN0IGNvbWJpbmVkID0gbmFtZSA9PT0gdm9pZCAwID8gZGVmaW5pdGlvbnMgPyB7XG5cdFx0Li4ubWFpbixcblx0XHRbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zXG5cdH0gOiBtYWluIDoge1xuXHRcdCRyZWY6IFtcblx0XHRcdC4uLnJlZnMuJHJlZlN0cmF0ZWd5ID09PSBcInJlbGF0aXZlXCIgPyBbXSA6IHJlZnMuYmFzZVBhdGgsXG5cdFx0XHRyZWZzLmRlZmluaXRpb25QYXRoLFxuXHRcdFx0bmFtZVxuXHRcdF0uam9pbihcIi9cIiksXG5cdFx0W3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG5cdFx0XHQuLi5kZWZpbml0aW9ucyxcblx0XHRcdFtuYW1lXTogbWFpblxuXHRcdH1cblx0fTtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIGNvbWJpbmVkLiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuXHRlbHNlIGlmIChyZWZzLnRhcmdldCA9PT0gXCJqc29uU2NoZW1hMjAxOS0wOVwiIHx8IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiKSBjb21iaW5lZC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSNcIjtcblx0aWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiICYmIChcImFueU9mXCIgaW4gY29tYmluZWQgfHwgXCJvbmVPZlwiIGluIGNvbWJpbmVkIHx8IFwiYWxsT2ZcIiBpbiBjb21iaW5lZCB8fCBcInR5cGVcIiBpbiBjb21iaW5lZCAmJiBBcnJheS5pc0FycmF5KGNvbWJpbmVkLnR5cGUpKSkgY29uc29sZS53YXJuKFwiV2FybmluZzogT3BlbkFJIG1heSBub3Qgc3VwcG9ydCBzY2hlbWFzIHdpdGggdW5pb25zIGFzIHJvb3RzISBUcnkgd3JhcHBpbmcgaXQgaW4gYW4gb2JqZWN0IHByb3BlcnR5LlwiKTtcblx0cmV0dXJuIGNvbWJpbmVkO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnRzLnpvZFRvSnNvblNjaGVtYSA9IHpvZFRvSnNvblNjaGVtYTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZFRvSnNvblNjaGVtYS5janMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@langchain/core/dist/utils/zod-to-json-schema/zodToJsonSchema.cjs\n");

/***/ })

};
;